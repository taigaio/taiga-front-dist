!function(l){function e(e){for(var t,n,r=e[0],i=e[1],o=e[2],a=0,s=[];a<r.length;a++)n=r[a],Object.prototype.hasOwnProperty.call(u,n)&&u[n]&&s.push(u[n][0]),u[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(l[t]=i[t]);for(d&&d(e);s.length;)s.shift()();return h.push.apply(h,o||[]),c()}function c(){for(var e,t=0;t<h.length;t++){for(var n=h[t],r=!0,i=1;i<n.length;i++)0!==u[n[i]]&&(r=!1);r&&(h.splice(t--,1),e=o(o.s=n[0]))}return e}var n={},u={0:0},h=[];function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=l,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var i=0;i<t.length;i++)e(t[i]);var d=r;c()}([]),function(){function ae(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+2oP":function(e,t,n){"use strict";var r=n("I+eb"),c=n("hh1v"),u=n("6LWA"),h=n("I8vh"),d=n("UMSQ"),f=n("/GqU"),p=n("hBjN"),i=n("tiKp"),o=n("Hd5f"),n=n("rkAj"),o=o("slice"),n=n("slice",{ACCESSORS:!0,0:0,1:2}),g=i("species"),v=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!o||!n},{slice:function(e,t){var n,r,i,o=f(this),a=d(o.length),s=h(e,a),l=h(void 0===t?a:t,a);if(u(o)&&(("function"==typeof(n=o.constructor)&&(n===Array||u(n.prototype))||c(n)&&null===(n=n[g]))&&(n=void 0),n===Array||void 0===n))return v.call(o,s,l);for(r=new(void 0===n?Array:n)(m(l-s,0)),i=0;s<l;s++,i++)s in o&&p(r,i,o[s]);return r.length=i,r}})},"/5zm":function(e,t,n){var r=n("I+eb"),i=n("jrUv"),n=Math.cosh,o=Math.abs,a=Math.E;r({target:"Math",stat:!0,forced:!n||n(710)===1/0},{cosh:function(e){e=i(o(e)-1)+1;return(e+1/(e*a*a))*(a/2)}})},"/GqU":function(e,t,n){var r=n("RK3t"),i=n("HYAF");e.exports=function(e){return r(i(e))}},"/b8u":function(e,t,n){n=n("STAE");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"/byt":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"/qmn":function(e,t,n){n=n("2oRo");e.exports=n.Promise},"07d7":function(e,t,n){var r=n("AO7/"),i=n("busE"),n=n("sEFX");r||i(Object.prototype,"toString",n,{unsafe:!0})},"0BK2":function(e,t){e.exports={}},"0Dky":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"0GbY":function(e,t,n){function r(e){return"function"==typeof e?e:void 0}var i=n("Qo9l"),o=n("2oRo");e.exports=function(e,t){return arguments.length<2?r(i[e])||r(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},"0eef":function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){e=i(this,e);return!!e&&e.enumerable}:r},"0oug":function(e,t,n){n("dG/n")("iterator")},"0rvr":function(e,t,n){var i=n("glrk"),o=n("O741");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(e){}return function(e,t){return i(e),o(t),r?n.call(e,t):e.__proto__=t,e}}():void 0)},"14Sl":function(e,t,n){"use strict";n("rB9j");var c=n("busE"),u=n("0Dky"),h=n("tiKp"),d=n("kmMV"),f=n("kRJp"),p=h("species"),g=!u(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),v="$0"==="a".replace(/./,"$0"),n=h("replace"),m=!!/./[n]&&""===/./[n]("a","$0"),y=!u(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};e="ab".split(e);return 2!==e.length||"a"!==e[0]||"b"!==e[1]});e.exports=function(n,e,t,r){var o,i,a=h(n),s=!u(function(){var e={};return e[a]=function(){return 7},7!=""[n](e)}),l=s&&!u(function(){var e=!1,t=/a/;return"split"===n&&((t={}).constructor={},t.constructor[p]=function(){return t},t.flags="",t[a]=/./[a]),t.exec=function(){return e=!0,null},t[a](""),!e});s&&l&&("replace"!==n||g&&v&&!m)&&("split"!==n||y)||(o=/./[a],t=t(a,""[n],function(e,t,n,r,i){return t.exec===d?s&&!i?{done:!0,value:o.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:v,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),i=t[1],c(String.prototype,n,t[0]),c(RegExp.prototype,a,2==e?function(e,t){return i.call(e,this,t)}:function(e){return i.call(e,this)})),r&&f(RegExp.prototype[a],"sham",!0)}},"1E5z":function(e,t,n){var r=n("m/L8").f,i=n("UTVS"),o=n("tiKp")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},"1Y/n":function(e,t,n){var u=n("HAuM"),h=n("ewvW"),d=n("RK3t"),f=n("UMSQ"),n=function(c){return function(e,t,n,r){u(t);var i=h(e),o=d(i),a=f(i.length),s=c?a-1:0,l=c?-1:1;if(n<2)for(;;){if(s in o){r=o[s],s+=l;break}if(s+=l,c?s<0:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;c?0<=s:s<a;s+=l)s in o&&(r=t(r,o[s],s,i));return r}};e.exports={left:n(!1),right:n(!0)}},2:function(e,t,n){n("mRIq"),n("R0gw"),e.exports=n("hN/g")},"2A+d":function(e,t,n){var r=n("I+eb"),a=n("/GqU"),s=n("UMSQ");r({target:"String",stat:!0},{raw:function(e){for(var t=a(e.raw),n=s(t.length),r=arguments.length,i=[],o=0;o<n;)i.push(String(t[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}})},"2B1R":function(e,t,n){"use strict";var r=n("I+eb"),i=n("tycR").map,o=n("Hd5f"),n=n("rkAj"),o=o("map"),n=n("map");r({target:"Array",proto:!0,forced:!o||!n},{map:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},"2oRo":function(e,t){function n(e){return e&&e.Math==Math&&e}e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||Function("return this")()},"33Wh":function(e,t,n){var r=n("yoRg"),i=n("eDl+");e.exports=Object.keys||function(e){return r(e,i)}},"3I1R":function(e,t,n){n("dG/n")("hasInstance")},"3KgV":function(e,t,n){var r=n("I+eb"),i=n("uy83"),o=n("0Dky"),a=n("hh1v"),s=n("8YOa").onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:o(function(){l(1)}),sham:!i},{freeze:function(e){return l&&a(e)?l(s(e)):e}})},"3bBZ":function(e,t,n){var r,i=n("2oRo"),o=n("/byt"),a=n("4mDm"),s=n("kRJp"),n=n("tiKp"),l=n("iterator"),c=n("toStringTag"),u=a.values;for(r in o){var h=i[r],d=h&&h.prototype;if(d){if(d[l]!==u)try{s(d,l,u)}catch(e){d[l]=u}if(d[c]||s(d,c,r),o[r])for(var f in a)if(d[f]!==a[f])try{s(d,f,a[f])}catch(e){d[f]=a[f]}}}},"4Brf":function(e,t,n){"use strict";var r,i,o,a,s=n("I+eb"),l=n("g6v/"),c=n("2oRo"),u=n("UTVS"),h=n("hh1v"),d=n("m/L8").f,n=n("6JNq"),f=c.Symbol;!l||"function"!=typeof f||"description"in f.prototype&&void 0===f().description||(r={},n(l=function e(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof e?new f(t):void 0===t?f():f(t);return""===t&&(r[n]=!0),n},f),(n=l.prototype=f.prototype).constructor=l,i=n.toString,o="Symbol(test)"==String(f("test")),a=/^Symbol\((.*)\)[^)]+$/,d(n,"description",{configurable:!0,get:function(){var e=h(this)?this.valueOf():this,t=i.call(e);if(u(r,e))return"";t=o?t.slice(7,-1):t.replace(a,"$1");return""===t?void 0:t}}),s({global:!0,forced:!0},{Symbol:l}))},"4WOD":function(e,t,n){var r=n("UTVS"),i=n("ewvW"),o=n("93I0"),n=n("4Xet"),a=o("IE_PROTO"),s=Object.prototype;e.exports=n?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"4Xet":function(e,t,n){n=n("0Dky");e.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},"4h0Y":function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("hh1v"),a=Object.isFrozen;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isFrozen:function(e){return!o(e)||!!a&&a(e)}})},"4l63":function(e,t,n){var r=n("I+eb"),n=n("wg0c");r({global:!0,forced:parseInt!=n},{parseInt:n})},"4mDm":function(e,t,n){"use strict";var r=n("/GqU"),i=n("RNIs"),o=n("P4y1"),a=n("afO8"),n=n("fdAy"),s=a.set,l=a.getterFor("Array Iterator");e.exports=n(Array,"Array",function(e,t){s(this,{type:"Array Iterator",target:r(e),index:0,kind:t})},function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"4oU/":function(e,t,n){var r=n("2oRo").isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},"4syw":function(e,t,n){var i=n("busE");e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},"5D5o":function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("hh1v"),a=Object.isSealed;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isSealed:function(e){return!o(e)||!!a&&a(e)}})},"5DmW":function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("/GqU"),a=n("Bs8V").f,n=n("g6v/"),i=i(function(){a(1)});r({target:"Object",stat:!0,forced:!n||i,sham:!n},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},"5Tg+":function(e,t,n){n=n("tiKp");t.f=n},"5Yz+":function(e,t,n){"use strict";var i=n("/GqU"),o=n("ppGB"),a=n("UMSQ"),r=n("pkCn"),n=n("rkAj"),s=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,r=r("lastIndexOf"),n=n("indexOf",{ACCESSORS:!0,1:0});e.exports=!c&&r&&n?l:function(e){if(c)return l.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(1<arguments.length&&(r=s(r,o(arguments[1]))),r<0&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}},"5mdu":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},"5s+n":function(e,t,n){"use strict";function g(e){var t;return!(!w(e)||"function"!=typeof(t=e.then))&&t}function o(h,d,f){var p;d.notified||(d.notified=!0,p=d.reactions,I(function(){for(var e=d.value,t=1==d.state,n=0;p.length>n;){var r,i,o,a=p[n++],s=t?a.ok:a.fail,l=a.resolve,c=a.reject,u=a.domain;try{s?(t||(2===d.rejection&&ne(h,d),d.rejection=1),!0===s?r=e:(u&&u.enter(),r=s(e),u&&(u.exit(),o=!0)),r===a.promise?c($("Promise-chain cycle")):(i=g(r))?i.call(r,l,c):l(r)):c(e)}catch(e){u&&!o&&u.exit(),c(e)}}d.reactions=[],d.notified=!1,f&&!d.rejection&&ee(h,d)}))}function i(e,t,n){var r;X?((r=K.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),p.dispatchEvent(r)):r={promise:t,reason:n},(t=p["on"+e])?t(r):"unhandledrejection"===e&&M("Unhandled promise rejection",n)}function a(t,n,r,i){return function(e){t(n,r,e,i)}}function s(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,o(e,t,!0))}function l(n,r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(n===e)throw $("Promise can't be resolved itself");var i=g(e);i?I(function(){var t={done:!1};try{i.call(e,a(l,n,t,r),a(s,n,t,r))}catch(e){s(n,t,e,r)}}):(r.value=e,r.state=1,o(n,r,!1))}catch(e){s(n,{done:!1},e,r)}}}var r,c,u,h,d=n("I+eb"),f=n("xDBR"),p=n("2oRo"),v=n("0GbY"),m=n("/qmn"),y=n("busE"),k=n("4syw"),b=n("1E5z"),_=n("JiZb"),w=n("hh1v"),C=n("HAuM"),x=n("GarU"),S=n("xrYK"),E=n("iSVu"),T=n("ImZN"),A=n("HH4o"),P=n("SEBh"),R=n("LPSS").set,I=n("tXUg"),O=n("zfnd"),M=n("RN6c"),N=n("8GlL"),L=n("5mdu"),D=n("afO8"),j=n("lMq5"),F=n("tiKp"),V=n("LQDL"),z=F("species"),B="Promise",H=D.get,U=D.set,q=D.getterFor(B),W=m,$=p.TypeError,K=p.document,G=p.process,Z=v("fetch"),J=N.f,Q=J,Y="process"==S(G),X=!!(K&&K.createEvent&&p.dispatchEvent),j=j(B,function(){if(E(W)===String(W)){if(66===V)return!0;if(!Y&&"function"!=typeof PromiseRejectionEvent)return!0}if(f&&!W.prototype.finally)return!0;if(51<=V&&/native code/.test(W))return!1;function e(e){e(function(){},function(){})}var t=W.resolve(1);return(t.constructor={})[z]=e,!(t.then(function(){})instanceof e)}),A=j||!A(function(e){W.all(e).catch(function(){})}),ee=function(n,r){R.call(p,function(){var e,t=r.value;if(te(r)&&(e=L(function(){Y?G.emit("unhandledRejection",t,n):i("unhandledrejection",n,t)}),r.rejection=Y||te(r)?2:1,e.error))throw e.value})},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e,t){R.call(p,function(){Y?G.emit("rejectionHandled",e):i("rejectionhandled",e,t.value)})};j&&(W=function(e){x(this,W,B),C(e),r.call(this);var t=H(this);try{e(a(l,this,t),a(s,this,t))}catch(e){s(this,t,e)}},(r=function(e){U(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=k(W.prototype,{then:function(e,t){var n=q(this),r=J(P(this,W));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Y?G.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&o(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),c=function(){var e=new r,t=H(e);this.promise=e,this.resolve=a(l,e,t),this.reject=a(s,e,t)},N.f=J=function(e){return e===W||e===u?new c:Q(e)},f||"function"!=typeof m||(h=m.prototype.then,y(m.prototype,"then",function(e,t){var n=this;return new W(function(e,t){h.call(n,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof Z&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return O(W,Z.apply(p,arguments))}}))),d({global:!0,wrap:!0,forced:j},{Promise:W}),b(W,B,!1,!0),_(B),u=v(B),d({target:B,stat:!0,forced:j},{reject:function(e){var t=J(this);return t.reject.call(void 0,e),t.promise}}),d({target:B,stat:!0,forced:f||j},{resolve:function(e){return O(f&&this===u?W:this,e)}}),d({target:B,stat:!0,forced:A},{all:function(e){var s=this,t=J(s),l=t.resolve,c=t.reject,n=L(function(){var r=C(s.resolve),i=[],o=0,a=1;T(e,function(e){var t=o++,n=!1;i.push(void 0),a++,r.call(s,e).then(function(e){n||(n=!0,i[t]=e,--a||l(i))},c)}),--a||l(i)});return n.error&&c(n.value),t.promise},race:function(e){var n=this,r=J(n),i=r.reject,t=L(function(){var t=C(n.resolve);T(e,function(e){t.call(n,e).then(r.resolve,i)})});return t.error&&i(t.value),r.promise}})},"5uH8":function(e,t,n){n("I+eb")({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},"6JNq":function(e,t,n){var s=n("UTVS"),l=n("Vu81"),c=n("Bs8V"),u=n("m/L8");e.exports=function(e,t){for(var n=l(t),r=u.f,i=c.f,o=0;o<n.length;o++){var a=n[o];s(e,a)||r(e,a,i(t,a))}}},"6LWA":function(e,t,n){var r=n("xrYK");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"6VoE":function(e,t,n){var r=n("tiKp"),i=n("P4y1"),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},"6hpn":function(e,t,n){n("Uydy"),n("eajv"),n("n/mU"),n("PqOI"),n("QNnp"),n("/5zm"),n("CsgD"),n("9mRW"),n("QFcT"),n("vAFs"),n("a5NK"),n("yiG3"),n("kNcU"),n("KvGi"),n("AmFO"),n("eJiR"),n("I9xj"),n("tl/u");n=n("Qo9l");e.exports=n.Math},"7+kd":function(e,t,n){n("dG/n")("isConcatSpreadable")},"7+zs":function(e,t,n){var r=n("kRJp"),i=n("UesL"),o=n("tiKp")("toPrimitive"),n=Date.prototype;o in n||r(n,o,i)},"7sbD":function(e,t,n){n("qePV"),n("NbN+"),n("8AyJ"),n("i6QF"),n("kSko"),n("WDsR"),n("r/Vq"),n("5uH8"),n("w1rZ"),n("JevA"),n("toAj"),n("VC3L");n=n("Qo9l");e.exports=n.Number},"8AyJ":function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isFinite:n("4oU/")})},"8GlL":function(e,t,n){"use strict";function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}var i=n("HAuM");e.exports.f=function(e){return new r(e)}},"8YOa":function(e,t,n){function r(e){s(e,u,{value:{objectID:"O"+ ++h,weakData:{}}})}var i=n("0BK2"),o=n("hh1v"),a=n("UTVS"),s=n("m/L8").f,l=n("kOOl"),c=n("uy83"),u=l("meta"),h=0,d=Object.isExtensible||function(){return!0},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,u)){if(!d(e))return"F";if(!t)return"E";r(e)}return e[u].objectID},getWeakData:function(e,t){if(!a(e,u)){if(!d(e))return!0;if(!t)return!1;r(e)}return e[u].weakData},onFreeze:function(e){return c&&f.REQUIRED&&d(e)&&!a(e,u)&&r(e),e}};i[u]=!0},"90hW":function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},"93I0":function(e,t,n){var r=n("VpIT"),i=n("kOOl"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},"9LPj":function(e,t,n){"use strict";var r=n("I+eb"),i=n("0Dky"),o=n("ewvW"),a=n("wE6v");r({target:"Date",proto:!0,forced:i(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(e){var t=o(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},"9N29":function(e,t,n){"use strict";var r=n("I+eb"),i=n("1Y/n").right,o=n("pkCn"),n=n("rkAj"),o=o("reduceRight"),n=n("reduce",{1:0});r({target:"Array",proto:!0,forced:!o||!n},{reduceRight:function(e){return i(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}})},"9bJ7":function(e,t,n){"use strict";var r=n("I+eb"),i=n("ZUd8").codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},"9d/t":function(e,t,n){var r=n("AO7/"),i=n("xrYK"),o=n("tiKp")("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?e:a?i(t):"Object"==(e=i(t))&&"function"==typeof t.callee?"Arguments":e}},"9mRW":function(e,t,n){n("I+eb")({target:"Math",stat:!0},{fround:n("vo4V")})},"9tb/":function(e,t,n){var r=n("I+eb"),o=n("I8vh"),a=String.fromCharCode,n=String.fromCodePoint;r({target:"String",stat:!0,forced:!!n&&1!=n.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;i<r;){if(t=+arguments[i++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},A2ZE:function(e,t,n){var o=n("HAuM");e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 0:return function(){return r.call(i)};case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},"AO7/":function(e,t,n){var r={};r[n("tiKp")("toStringTag")]="z",e.exports="[object z]"===String(r)},AmFO:function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("jrUv"),a=Math.abs,s=Math.exp,l=Math.E;r({target:"Math",stat:!0,forced:i(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function(e){return a(e=+e)<1?(o(e)-o(-e))/2:(s(e-1)-s(-e-1))*(l/2)}})},BNMt:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("blink")},{blink:function(){return i(this,"blink","","")}})},BTho:function(e,t,n){"use strict";var o=n("HAuM"),a=n("hh1v"),s=[].slice,l={};e.exports=Function.bind||function(t){function n(){var e=i.concat(s.call(arguments));return this instanceof n?function(e,t,n){if(!(t in l)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";l[t]=Function("C,a","return new C("+r.join(",")+")")}return l[t](e,n)}(r,e.length,e):r.apply(t,e)}var r=o(this),i=s.call(arguments,1);return a(r.prototype)&&(n.prototype=r.prototype),n}},"BX/b":function(e,t,n){var r=n("/GqU"),i=n("JBy8").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},Bs8V:function(e,t,n){var r=n("g6v/"),i=n("0eef"),o=n("XGwC"),a=n("/GqU"),s=n("wE6v"),l=n("UTVS"),c=n("DPsx"),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},CsgD:function(e,t,n){var r=n("I+eb"),n=n("jrUv");r({target:"Math",stat:!0,forced:n!=Math.expm1},{expm1:n})},DEfu:function(e,t,n){var r=n("2oRo");n("1E5z")(r.JSON,"JSON",!0)},DMt2:function(e,t,n){var o=n("UMSQ"),a=n("EUja"),s=n("HYAF"),l=Math.ceil,n=function(i){return function(e,t,n){var r=String(s(e)),e=r.length,n=void 0===n?" ":String(n),t=o(t);return t<=e||""==n?r:((n=a.call(n,l((e=t-e)/n.length))).length>e&&(n=n.slice(0,e)),i?r+n:n+r)}};e.exports={start:n(!1),end:n(!0)}},DPsx:function(e,t,n){var r=n("g6v/"),i=n("0Dky"),o=n("zBJ4");e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},DQNa:function(e,t,n){var r=n("busE"),n=Date.prototype,i=n.toString,o=n.getTime;new Date(NaN)+""!="Invalid Date"&&r(n,"toString",function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"})},E5NM:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("big")},{big:function(){return i(this,"big","","")}})},E9XD:function(e,t,n){"use strict";var r=n("I+eb"),i=n("1Y/n").left,o=n("pkCn"),n=n("rkAj"),o=o("reduce"),n=n("reduce",{1:0});r({target:"Array",proto:!0,forced:!o||!n},{reduce:function(e){return i(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}})},ENF9:function(e,t,n){"use strict";var r,i,o,a,s,l=n("2oRo"),c=n("4syw"),u=n("8YOa"),h=n("bWFh"),d=n("rKzb"),f=n("hh1v"),p=n("afO8").enforce,g=n("f5p1"),n=!l.ActiveXObject&&"ActiveXObject"in l,v=Object.isExtensible,l=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},h=e.exports=h("WeakMap",l,d);g&&n&&(r=d.getConstructor(l,"WeakMap",!0),u.REQUIRED=!0,h=h.prototype,i=h.delete,o=h.has,a=h.get,s=h.set,c(h,{delete:function(e){if(!f(e)||v(e))return i.call(this,e);var t=p(this);return t.frozen||(t.frozen=new r),i.call(this,e)||t.frozen.delete(e)},has:function(e){if(!f(e)||v(e))return o.call(this,e);var t=p(this);return t.frozen||(t.frozen=new r),o.call(this,e)||t.frozen.has(e)},get:function(e){if(!f(e)||v(e))return a.call(this,e);var t=p(this);return t.frozen||(t.frozen=new r),o.call(this,e)?a.call(this,e):t.frozen.get(e)},set:function(e,t){var n;return f(e)&&!v(e)?((n=p(this)).frozen||(n.frozen=new r),o.call(this,e)?s.call(this,e,t):n.frozen.set(e,t)):s.call(this,e,t),this}}))},EUja:function(e,t,n){"use strict";var i=n("ppGB"),o=n("HYAF");e.exports="".repeat||function(e){var t=String(o(this)),n="",r=i(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},EnZy:function(e,t,n){"use strict";var r=n("14Sl"),u=n("ROdP"),v=n("glrk"),h=n("HYAF"),m=n("SEBh"),y=n("iqWW"),k=n("UMSQ"),b=n("FMNM"),d=n("kmMV"),n=n("0Dky"),_=[].push,w=Math.min,C=!n(function(){return!RegExp(4294967295,"y")});r("split",2,function(i,f,p){var g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,t){var n=String(h(this)),r=void 0===t?4294967295:t>>>0;if(0==r)return[];if(void 0===e)return[n];if(!u(e))return f.call(n,e,r);for(var i,o,a,s=[],l=0,c=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(i=d.call(c,n))&&!((o=c.lastIndex)>l&&(s.push(n.slice(l,i.index)),1<i.length&&i.index<n.length&&_.apply(s,i.slice(1)),a=i[0].length,l=o,s.length>=r));)c.lastIndex===i.index&&c.lastIndex++;return l===n.length?!a&&c.test("")||s.push(""):s.push(n.slice(l)),s.length>r?s.slice(0,r):s}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:f.call(this,e,t)}:f;return[function(e,t){var n=h(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n,t):g.call(String(n),e,t)},function(e,t){var n=p(g,e,this,t,g!==f);if(n.done)return n.value;var n=v(e),r=String(this),e=m(n,RegExp),i=n.unicode,o=new e(C?n:"^(?:"+n.source+")",(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(C?"y":"g")),a=void 0===t?4294967295:t>>>0;if(0==a)return[];if(0===r.length)return null===b(o,r)?[r]:[];for(var s=0,l=0,c=[];l<r.length;){o.lastIndex=C?l:0;var u,h=b(o,C?r:r.slice(l));if(null===h||(u=w(k(o.lastIndex+(C?0:l)),r.length))===s)l=y(r,l,i);else{if(c.push(r.slice(s,l)),c.length===a)return c;for(var d=1;d<=h.length-1;d++)if(c.push(h[d]),c.length===a)return c;l=s=u}}return c.push(r.slice(s)),c}]},!C)},Ep9I:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},ExoC:function(e,t,n){n("I+eb")({target:"Object",stat:!0},{setPrototypeOf:n("0rvr")})},F8JR:function(e,t,n){"use strict";var r=n("tycR").forEach,i=n("pkCn"),n=n("rkAj"),i=i("forEach"),n=n("forEach");e.exports=i&&n?[].forEach:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}},FF6l:function(e,t,n){"use strict";var l=n("ewvW"),c=n("I8vh"),u=n("UMSQ"),h=Math.min;e.exports=[].copyWithin||function(e,t){var n=l(this),r=u(n.length),i=c(e,r),o=c(t,r),t=2<arguments.length?arguments[2]:void 0,a=h((void 0===t?r:c(t,r))-o,r-i),s=1;for(o<i&&i<o+a&&(s=-1,o+=a-1,i+=a-1);0<a--;)o in n?n[i]=n[o]:delete n[i],i+=s,o+=s;return n}},FMNM:function(e,t,n){var r=n("xrYK"),i=n("kmMV");e.exports=function(e,t){var n=e.exec;if("function"==typeof n){n=n.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},FZtP:function(e,t,n){var r,i=n("2oRo"),o=n("/byt"),a=n("F8JR"),s=n("kRJp");for(r in o){var l=i[r],c=l&&l.prototype;if(c&&c.forEach!==a)try{s(c,"forEach",a)}catch(e){c.forEach=a}}},"G+Rx":function(e,t,n){n=n("0GbY");e.exports=n("document","documentElement")},GKVU:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},GRPF:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},GXvd:function(e,t,n){n("dG/n")("species")},GarU:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},H0pb:function(e,t,n){n("ma9I"),n("07d7"),n("pNMO"),n("tjZM"),n("4Brf"),n("3I1R"),n("7+kd"),n("0oug"),n("KhsS"),n("jt2F"),n("gOCb"),n("a57n"),n("GXvd"),n("I1Gw"),n("gXIK"),n("lEou"),n("gbiT"),n("I9xj"),n("DEfu");n=n("Qo9l");e.exports=n.Symbol},HAuM:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},HH4o:function(e,t,n){var i=n("tiKp")("iterator"),o=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},HNyW:function(e,t,n){n=n("NC/Y");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},HRxU:function(e,t,n){var r=n("I+eb"),i=n("g6v/");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n("N+g0")})},HYAF:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},Hd5f:function(e,t,n){var r=n("0Dky"),i=n("tiKp"),o=n("LQDL"),a=i("species");e.exports=function(t){return 51<=o||!r(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},HsHA:function(e,t){var n=Math.log;e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:n(1+e)}},"I+eb":function(e,t,n){var c=n("2oRo"),u=n("Bs8V").f,h=n("kRJp"),d=n("busE"),f=n("zk60"),p=n("6JNq"),g=n("lMq5");e.exports=function(e,t){var n,r,i,o,a=e.target,s=e.global,l=e.stat;if(n=s?c:l?c[a]||f(a,{}):(c[a]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(o=u(n,r))&&o.value:n[r],!g(s?r:a+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;p(i,o)}(e.sham||o&&o.sham)&&h(i,"sham",!0),d(n,r,i,e)}}},I1Gw:function(e,t,n){n("dG/n")("split")},I8vh:function(e,t,n){var r=n("ppGB"),i=Math.max,o=Math.min;e.exports=function(e,t){e=r(e);return e<0?i(e+t,0):o(e,t)}},I9xj:function(e,t,n){n("1E5z")(Math,"Math",!0)},ImZN:function(e,t,n){function d(e,t){this.stopped=e,this.result=t}var f=n("glrk"),p=n("6VoE"),g=n("UMSQ"),v=n("A2ZE"),m=n("NaFW"),y=n("m92n");(e.exports=function(e,t,n,r,i){var o,a,s,l,c,u,h=v(t,n,r?2:1);if(i)o=e;else{if("function"!=typeof(i=m(e)))throw TypeError("Target is not iterable");if(p(i)){for(a=0,s=g(e.length);a<s;a++)if((l=r?h(f(u=e[a])[0],u[1]):h(e[a]))&&l instanceof d)return l;return new d(!1)}o=i.call(e)}for(c=o.next;!(u=c.call(o)).done;)if("object"==typeof(l=y(o,h,u.value,r))&&l&&l instanceof d)return l;return new d(!1)}).stop=function(e){return new d(!0,e)}},IxXR:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("strike")},{strike:function(){return i(this,"strike","","")}})},J30X:function(e,t,n){n("I+eb")({target:"Array",stat:!0},{isArray:n("6LWA")})},JBy8:function(e,t,n){var r=n("yoRg"),i=n("eDl+").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},JTJg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("WjRb"),o=n("HYAF");r({target:"String",proto:!0,forced:!n("qxPZ")("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),1<arguments.length?arguments[1]:void 0)}})},JevA:function(e,t,n){var r=n("I+eb"),n=n("wg0c");r({target:"Number",stat:!0,forced:Number.parseInt!=n},{parseInt:n})},JfAA:function(e,t,n){"use strict";var r=n("busE"),i=n("glrk"),o=n("0Dky"),a=n("rW0t"),s=RegExp.prototype,l=s.toString;!o(function(){return"/a/b"!=l.call({source:"a",flags:"b"})})&&"toString"==l.name||r(RegExp.prototype,"toString",function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)},{unsafe:!0})},JiZb:function(e,t,n){"use strict";var r=n("0GbY"),i=n("m/L8"),o=n("tiKp"),a=n("g6v/"),s=o("species");e.exports=function(e){e=r(e);a&&e&&!e[s]&&(0,i.f)(e,s,{configurable:!0,get:function(){return this}})}},KJ4T:function(e,t){!function(i,e){"use strict";function n(){var e=S.splice(0,S.length);for(Qe=0;e.length;)e.shift().call(null,e.shift())}function u(e,t){for(var n=0,r=e.length;n<r;n++)c(e[n],t)}function h(t){return function(e){De(e)&&(c(e,t),oe.length&&u(e.querySelectorAll(oe),t))}}function o(e){var t=He.call(e,"is"),n=e.nodeName.toUpperCase(),e=se.call(re,t?ee+t.toUpperCase():X+n);return t&&-1<e&&!a(n,t)?-1:e}function a(e,t){return-1<oe.indexOf(e+'[is="'+t+'"]')}function s(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target,o=e[Z]||2,a=e[J]||3;!rt||i&&i!==t||!t[U]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==o&&n!==a)||t[U](r,n===o?null:e.prevValue,n===a?null:e.newValue)}function d(e){var t=h(e);return function(e){S.push(t,e.target),Qe&&clearTimeout(Qe),Qe=setTimeout(n,1)}}function f(e){nt&&(nt=!1,e.currentTarget.removeEventListener(Y,f)),oe.length&&u((e.target||w).querySelectorAll(oe),e.detail===B?B:V),Ne&&function(){for(var e,t=0,n=je.length;t<n;t++)ae.contains(e=je[t])||(n--,je.splice(t--,1),c(e,B))}()}function r(e,t){We.call(this,e,t),E.call(this,{target:this})}function p(e,t,n){t=t.apply(e,n),e=o(t);return-1<e&&O(t,ie[e]),n.pop()&&oe.length&&function(e){for(var t,n=0,r=e.length;n<r;n++)O(t=e[n],ie[o(t)])}(t.querySelectorAll(oe)),t}function l(e,t){Re(e,t),P?P.observe(e,Ze):(tt&&(e.setAttribute=r,e[j]=A(e),e[F]("DOMSubtreeModified",E)),e[F](Q,s)),e[K]&&rt&&(e.created=!0,e[K](),e.created=!1)}function g(e){throw new Error("A "+e+" type is already registered")}function c(e,t){var n,r,i=o(e);-1<i&&!ze.call(e,"TEMPLATE")&&(I(e,ie[i]),i=0,t!==V||e[V]?t!==B||e[B]||(e[V]=!1,e[B]=!0,r="disconnected",i=1):(e[B]=!1,e[V]=!0,r="connected",i=1,Ne&&se.call(je,e)<0&&je.push(e)),i&&(n=e[t+z]||e[r+z])&&n.call(e))}function v(){}function m(e,t,n){var r=n&&n[H]||"",i=t.prototype,o=Pe(i),a=t.observedAttributes||de,n={prototype:o};Le(o,K,{value:function(){var e;xe?xe=!1:this[ye]||(this[ye]=!0,new t(this),i[K]&&i[K].call(this),e=Se[Te.get(t)],(!be||1<e.create.length)&&k(this))}}),Le(o,U,{value:function(e){-1<se.call(a,e)&&i[U]&&i[U].apply(this,arguments)}}),i[W]&&Le(o,q,{value:i[W]}),i[$]&&Le(o,G,{value:i[$]}),r&&(n[H]=r),e=e.toUpperCase(),Se[e]={constructor:t,create:r?[r,Ae(e)]:[e]},Te.set(t,e),w[L](e.toLowerCase(),n),b(e),Ee[e].r()}function t(e){e=Se[e.toUpperCase()];return e&&e.constructor}function y(e){return"string"==typeof e?e:e&&e.is||""}function k(e){for(var t,n=e[U],r=n?e.attributes:de,i=r.length;i--;)n.call(e,(t=r[i]).name||t.nodeName,null,t.value||t.nodeValue)}function b(t){return(t=t.toUpperCase())in Ee||(Ee[t]={},Ee[t].p=new Ce(function(e){Ee[t].r=e})),Ee[t].p}function _(){ke&&delete i.customElements,he(i,"customElements",{configurable:!0,value:new v}),he(i,"CustomElementRegistry",{configurable:!0,value:v});for(var e=x.get(/^HTML[A-Z]*[a-z]/),t=e.length;t--;function(t){var r=i[t];if(r){i[t]=function(e){var t,n;return(e=e||this)[ye]||(xe=!0,t=Se[Te.get(e.constructor)],(e=(n=be&&1===t.create.length)?Reflect.construct(r,de,t.constructor):w.createElement.apply(w,t.create))[ye]=!0,xe=!1,n||k(e)),e},i[t].prototype=r.prototype;try{r.prototype.constructor=i[t]}catch(e){he(r,ye,{value:i[t]})}}}(e[t]));w.createElement=function(e,t){t=y(t);return t?Ge.call(this,e,Ae(t)):Ge.call(this,e)},Ye||(et=!0,w[L](""))}var w=i.document,C=i.Object,x=function(e){function n(e,t){(t=t.toLowerCase())in s||(s[e]=(s[e]||[]).concat(t),s[t]=s[t.toUpperCase()]=e)}var t,r,i,o,a=/^[A-Z]+[a-z]/,s=(C.create||C)(null),l={};for(r in e)for(o in e[r])for(s[o]=i=e[r][o],t=0;t<i.length;t++)s[i[t].toLowerCase()]=s[i[t].toUpperCase()]=o;return l.get=function(e){return"string"==typeof e?s[e]||(a.test(e)?[]:""):function(e){var t,n=[];for(t in s)e.test(t)&&n.push(t);return n}(e)},l.set=function(e,t){return a.test(e)?n(e,t):n(t,e),l},l}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof e&&(e={type:e||"auto"});var S,E,T,A,P,R,I,O,M,N,L="registerElement",D=1e5*i.Math.random()>>0,j="__"+L+D,F="addEventListener",V="attached",z="Callback",B="detached",H="extends",U="attributeChanged"+z,q=V+z,W="connected"+z,$="disconnected"+z,K="created"+z,G=B+z,Z="ADDITION",J="REMOVAL",Q="DOMAttrModified",Y="DOMContentLoaded",X="<",ee="=",te=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,ne=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],re=[],ie=[],oe="",ae=w.documentElement,se=re.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},le=C.prototype,ce=le.hasOwnProperty,ue=le.isPrototypeOf,he=C.defineProperty,de=[],fe=C.getOwnPropertyDescriptor,pe=C.getOwnPropertyNames,ge=C.getPrototypeOf,ve=C.setPrototypeOf,me=!!C.__proto__,ye="__dreCEv1",ke=i.customElements,be=!/^force/.test(e.type)&&!!(ke&&ke.define&&ke.get&&ke.whenDefined),_e=C.create||C,we=i.Map||function(){var n,r=[],i=[];return{get:function(e){return i[se.call(r,e)]},set:function(e,t){(n=se.call(r,e))<0?i[r.push(e)-1]=t:i[n]=t}}},Ce=i.Promise||function(e){function t(e){for(r=!0;n.length;)n.shift()(e)}var n=[],r=!1,i={catch:function(){return i},then:function(e){return n.push(e),r&&setTimeout(t,1),i}};return e(t),i},xe=!1,Se=_e(null),Ee=_e(null),Te=new we,Ae=function(e){return e.toLowerCase()},Pe=C.create||function e(t){return t?(e.prototype=t,new e):this},Re=ve||(me?function(e,t){return e.__proto__=t,e}:pe&&fe?function(e,t){for(;function(e,t){for(var n,r=pe(t),i=0,o=r.length;i<o;i++)ce.call(e,n=r[i])||he(e,n,fe(t,n))}(e,t),(t=ge(t))&&!ue.call(t,e););return e}:function(e,t){for(var n in t)e[n]=t[n];return e}),Ie=i.MutationObserver||i.WebKitMutationObserver,Oe=i.HTMLAnchorElement,Me=(i.HTMLElement||i.Element||i.Node).prototype,Ne=!ue.call(Me,ae),Le=Ne?function(e,t,n){return e[t]=n.value,e}:he,De=Ne?function(e){return 1===e.nodeType}:function(e){return ue.call(Me,e)},je=Ne&&[],Fe=Me.attachShadow,Ve=Me.cloneNode,ze=Me.closest||function(e){for(var t=this;t&&t.nodeName!==e;)t=t.parentNode;return t},Be=Me.dispatchEvent,He=Me.getAttribute,Ue=Me.hasAttribute,qe=Me.removeAttribute,We=Me.setAttribute,$e=w.createElement,Ke=w.importNode,Ge=$e,Ze=Ie&&{attributes:!0,characterData:!0,attributeOldValue:!0},Je=Ie||function(e){tt=!1,ae.removeEventListener(Q,Je)},Qe=0,Ye=L in w&&!/^force-all/.test(e.type),Xe=!0,et=!1,tt=!0,nt=!0,rt=!0;if(Ie&&((M=w.createElement("div")).innerHTML="<div><div></div></div>",new Ie(function(e,t){var n;!e[0]||"childList"!=e[0].type||e[0].removedNodes[0].childNodes.length||(n=(M=fe(Me,"innerHTML"))&&M.set)&&he(Me,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}}),t.disconnect(),M=null}).observe(M,{childList:!0,subtree:!0}),M.innerHTML=""),Ye||(O=ve||me?(I=function(e,t){ue.call(t,e)||l(e,t)},l):I=function(e,t){e[j]||(e[j]=C(!0),l(e,t))},Ne?(tt=!1,me=fe(Me,F),N=me.value,me.value=function(e,t,n){e===Q&&this[U]&&this.setAttribute!==ot&&(this[j]={className:{name:"class",value:this.className}},this.setAttribute=ot,this.removeAttribute=it,N.call(this,"propertychange",at)),N.call(this,e,t,n)},he(Me,F,me)):Ie||(ae[F](Q,Je),ae.setAttribute(j,1),ae.removeAttribute(j),tt&&(E=function(e){var t,n,r,i=this;if(i===e.target){for(r in t=i[j],i[j]=n=A(i),n){if(!(r in t))return T(0,i,r,t[r],n[r],Z);if(n[r]!==t[r])return T(1,i,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return T(2,i,r,t[r],n[r],J)}},T=function(e,t,n,r,i,o){i={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};i[o]=e,s(i)},A=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;o<a;o++)"setAttribute"!==(n=(t=i[o]).name)&&(r[n]=t.value);return r})),w[L]=function(e,t){if(r=e.toUpperCase(),Xe&&(Xe=!1,Ie?(s=h(V),l=h(B),P=new Ie(function(e){for(var t,n,r,i=0,o=e.length;i<o;i++)"childList"===(t=e[i]).type?(a(t.addedNodes,s),a(t.removedNodes,l)):(n=t.target,rt&&n[U]&&"style"!==t.attributeName&&(r=He.call(n,t.attributeName))!==t.oldValue&&n[U](t.attributeName,t.oldValue,r))}),(R=function(e){return P.observe(e,{childList:!0,subtree:!0}),e})(w),Fe&&(Me.attachShadow=function(){return R(Fe.apply(this,arguments))})):(S=[],w[F]("DOMNodeInserted",d(V)),w[F]("DOMNodeRemoved",d(B))),w[F](Y,f),w[F]("readystatechange",f),w.importNode=function(e,t){switch(e.nodeType){case 1:return p(w,Ke,[e,!!t]);case 11:for(var n=w.createDocumentFragment(),r=e.childNodes,i=r.length,o=0;o<i;o++)n.appendChild(w.importNode(r[o],!!t));return n;default:return Ve.call(e,!!t)}},Me.cloneNode=function(e){return p(this,Ve,[!!e])}),et)return et=!1;function a(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}var s,l;if(-2<se.call(re,ee+r)+se.call(re,X+r)&&g(e),!te.test(r)||-1<se.call(ne,r))throw new Error("The type "+e+" is invalid");function n(){return o?w.createElement(c,r):w.createElement(c)}var r,i=t||le,o=ce.call(i,H),c=o?t[H].toUpperCase():r;return o&&-1<se.call(re,X+c)&&g(c),t=re.push((o?ee:X)+r)-1,oe=oe.concat(oe.length?",":"",o?c+'[is="'+e.toLowerCase()+'"]':c),n.prototype=ie[t]=ce.call(i,"prototype")?i.prototype:Pe(Me),oe.length&&u(w.querySelectorAll(oe),V),n},w.createElement=Ge=function(e,t){var n=y(t),r=n?$e.call(w,e,Ae(n)):$e.call(w,e),i=""+e,t=se.call(re,(n?ee:X)+(n||i).toUpperCase()),e=-1<t;return n&&(r.setAttribute("is",n=n.toLowerCase()),e=e&&a(i.toUpperCase(),n)),rt=!w.createElement.innerHTMLHelper,e&&O(r,ie[t]),r}),addEventListener("beforeunload",function(){delete w.createElement,delete w.importNode,delete w[L]},!1),v.prototype={constructor:v,define:be?function(e,t,n){n?m(e,t,n):(n=e.toUpperCase(),Se[n]={constructor:t,create:[n]},Te.set(t,n),ke.define(e,t))}:m,get:be?function(e){return ke.get(e)||t(e)}:t,whenDefined:be?function(e){return Ce.race([ke.whenDefined(e),b(e)])}:b},!ke||/^force/.test(e.type))_();else if(!e.noBuiltIn)try{!function(e,t,n){var r=new RegExp("^<a\\s+is=('|\")"+n+"\\1></a>$");if(t[H]="a",(e.prototype=Pe(Oe.prototype)).constructor=e,i.customElements.define(n,e,t),!r.test(w.createElement("a",{is:n}).outerHTML)||!r.test((new e).outerHTML))throw t}(function e(){return Reflect.construct(Oe,[],e)},{},"document-register-element-a"+D)}catch(e){_()}function it(e){var t=new CustomEvent(Q,{bubbles:!0});t.attrName=e,t.prevValue=He.call(this,e),t.newValue=null,t[J]=t.attrChange=2,qe.call(this,e),Be.call(this,t)}function ot(e,t){var n=Ue.call(this,e),r=n&&He.call(this,e),i=new CustomEvent(Q,{bubbles:!0});We.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i.MODIFICATION=i.attrChange=1:i[Z]=i.attrChange=0,Be.call(this,i)}function at(e){var t=e.currentTarget,n=t[j],r=e.propertyName;n.hasOwnProperty(r)&&(n=n[r],(e=new CustomEvent(Q,{bubbles:!0})).attrName=n.name,e.prevValue=n.value||null,e.newValue=n.value=t[r]||null,null==e.prevValue?e[Z]=e.attrChange=0:e.MODIFICATION=e.attrChange=1,Be.call(t,e))}if(!e.noBuiltIn)try{if($e.call(w,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(e){Ae=function(e){return{is:e.toLowerCase()}}}}(window)},KhsS:function(e,t,n){n("dG/n")("match")},KvGi:function(e,t,n){n("I+eb")({target:"Math",stat:!0},{sign:n("90hW")})},Kxld:function(e,t,n){n("I+eb")({target:"Object",stat:!0},{is:n("Ep9I")})},LKBx:function(e,t,n){"use strict";var r=n("I+eb"),i=n("Bs8V").f,o=n("UMSQ"),a=n("WjRb"),s=n("HYAF"),l=n("qxPZ"),n=n("xDBR"),c="".startsWith,u=Math.min,l=l("startsWith");r({target:"String",proto:!0,forced:!(!n&&!l&&((i=i(String.prototype,"startsWith"))&&!i.writable)||l)},{startsWith:function(e){var t=String(s(this));a(e);var n=o(u(1<arguments.length?arguments[1]:void 0,t.length)),e=String(e);return c?c.call(t,e,n):t.slice(n,n+e.length)===e}})},LPSS:function(e,t,n){function r(e){var t;_.hasOwnProperty(e)&&(t=_[e],delete _[e],t())}function i(e){return function(){r(e)}}function o(e){r(e.data)}var a,s=n("2oRo"),l=n("0Dky"),c=n("xrYK"),u=n("A2ZE"),h=n("G+Rx"),d=n("zBJ4"),f=n("HNyW"),p=s.location,g=s.setImmediate,v=s.clearImmediate,m=s.process,y=s.MessageChannel,k=s.Dispatch,b=0,_={},n=function(e){s.postMessage(e+"",p.protocol+"//"+p.host)};g&&v||(g=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},a(b),b},v=function(e){delete _[e]},"process"==c(m)?a=function(e){m.nextTick(i(e))}:k&&k.now?a=function(e){k.now(i(e))}:y&&!f?(y=(f=new y).port2,f.port1.onmessage=o,a=u(y.postMessage,y,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||l(n)?a="onreadystatechange"in d("script")?function(e){h.appendChild(d("script")).onreadystatechange=function(){h.removeChild(this),r(e)}}:function(e){setTimeout(i(e),0)}:(a=n,s.addEventListener("message",o,!1))),e.exports={set:g,clear:v}},LQDL:function(e,t,n){var r,i,o=n("2oRo"),n=n("NC/Y"),o=o.process,o=o&&o.versions,o=o&&o.v8;o?i=(r=o.split("."))[0]+r[1]:n&&(!(r=n.match(/Edge\/(\d+)/))||74<=r[1])&&(r=n.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},"N+g0":function(e,t,n){var r=n("g6v/"),a=n("m/L8"),s=n("glrk"),l=n("33Wh");e.exports=r?Object.defineProperties:function(e,t){s(e);for(var n,r=l(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},NBAS:function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("ewvW"),a=n("4WOD"),n=n("4Xet");r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!n},{getPrototypeOf:function(e){return a(o(e))}})},"NC/Y":function(e,t,n){n=n("0GbY");e.exports=n("navigator","userAgent")||""},NaFW:function(e,t,n){var r=n("9d/t"),i=n("P4y1"),o=n("tiKp")("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},"NbN+":function(e,t,n){n("I+eb")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},O741:function(e,t,n){var r=n("hh1v");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},OM9Z:function(e,t,n){n("I+eb")({target:"String",proto:!0},{repeat:n("EUja")})},P4y1:function(e,t){e.exports={}},PKPk:function(e,t,n){"use strict";var r=n("ZUd8").charAt,i=n("afO8"),n=n("fdAy"),o=i.set,a=i.getterFor("String Iterator");n(String,"String",function(e){o(this,{type:"String Iterator",string:String(e),index:0})},function(){var e=a(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(n=r(t,n),e.index+=n.length,{value:n,done:!1})})},PqOI:function(e,t,n){var r=n("I+eb"),i=n("90hW"),o=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(e){return i(e=+e)*a(o(e),1/3)}})},QFcT:function(e,t,n){var r=n("I+eb"),n=Math.hypot,l=Math.abs,c=Math.sqrt;r({target:"Math",stat:!0,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=l(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=0<n?(r=n/s)*r:n;return s===1/0?1/0:s*c(i)}})},QIpd:function(e,t,n){var r=n("xrYK");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},QNnp:function(e,t,n){var n=n("I+eb"),r=Math.floor,i=Math.log,o=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-r(i(e+.5)*o):32}})},QWBl:function(e,t,n){"use strict";var r=n("I+eb"),n=n("F8JR");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},Qo9l:function(e,t,n){n=n("2oRo");e.exports=n},R0gw:function(e,t,n){var r;void 0===(r="function"==typeof(r=function(){"use strict";var r,a,i,o,s,t;function l(e,t,n){var r=n.configurable;return h(e,t,n=u(e,t,n),r)}function c(e,t){return e&&e[s]&&e[s][t]}function u(e,t,n){return Object.isFrozen(n)||(n.configurable=!0),n.configurable||(e[s]||Object.isFrozen(e)||a(e,s,{writable:!0,value:{}}),e[s]&&(e[s][t]=!0)),n}function h(t,n,r,i){try{return a(t,n,r)}catch(e){if(!r.configurable)throw e;void 0===i?delete r.configurable:r.configurable=i;try{return a(t,n,r)}catch(e){var o=null;try{o=JSON.stringify(r)}catch(e){o=r.toString()}console.log("Attempting to configure '"+n+"' with descriptor '"+o+"' on object '"+t+"' and got error, giving up: "+e)}}}function d(e,t){var n=e.getGlobalObjects();n.isNode&&!n.isMix||function(e,t){var n=e.getGlobalObjects();if((n.isBrowser||n.isMix)&&!e.ObjectGetOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var r=e.ObjectGetOwnPropertyDescriptor(Element.prototype,"onclick");if(r&&!r.configurable)return;if(r){e.ObjectDefineProperty(Element.prototype,"onclick",{enumerable:!0,configurable:!0,get:function(){return!0}});var i=!!document.createElement("div").onclick;return e.ObjectDefineProperty(Element.prototype,"onclick",r),i}}n=t.XMLHttpRequest;if(n){r=n.prototype,t=e.ObjectGetOwnPropertyDescriptor(r,"onreadystatechange");if(t)return e.ObjectDefineProperty(r,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return!0}}),i=!!(a=new n).onreadystatechange,e.ObjectDefineProperty(r,"onreadystatechange",t||{}),i;var o=e.symbol("fake");e.ObjectDefineProperty(r,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return this[o]},set:function(e){this[o]=e}});var a=new n,n=function(){};return a.onreadystatechange=n,i=a[o]===n,a.onreadystatechange=null,i}}(e,t)||(n="undefined"!=typeof WebSocket,function(o){for(var t=o.getGlobalObjects().eventNames,a=o.symbol("unbound"),e=0;e<t.length;e++)!function(e){var i="on"+(e=t[e]);self.addEventListener(e,function(e){for(var t,n=e.target,r=n?n.constructor.name+"."+i:"unknown."+i;n;)n[i]&&!n[i][a]&&((t=o.wrapWithCurrentZone(n[i],r))[a]=n[i],n[i]=t),n=n.parentElement},!0)}(e)}(e),e.patchClass("XMLHttpRequest"),n&&function(o,e){var t=o.getGlobalObjects(),a=t.ADD_EVENT_LISTENER_STR,s=t.REMOVE_EVENT_LISTENER_STR,l=e.WebSocket;e.EventTarget||o.patchEventTarget(e,[l.prototype]),e.WebSocket=function(e,t){var r,n,i=1<arguments.length?new l(e,t):new l(e),e=o.ObjectGetOwnPropertyDescriptor(i,"onmessage");return e&&!1===e.configurable?(r=o.ObjectCreate(i),n=i,[a,s,"send","close"].forEach(function(n){r[n]=function(){var e,t=o.ArraySlice.call(arguments);return n!==a&&n!==s||(e=0<t.length?t[0]:void 0)&&(e=Zone.__symbol__("ON_PROPERTY"+e),i[e]=r[e]),i[n].apply(i,t)}})):r=i,o.patchOnProperties(r,["close","error","message","open"],n),r};var n,r=e.WebSocket;for(n in l)r[n]=l[n]}(e,t),Zone[e.symbol("patchEvents")]=!0)}(t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})[(t.__Zone_symbol_prefix||"__zone_symbol__")+"legacyPatch"]=function(){var e=t.Zone;e.__load_patch("defineProperty",function(e,t,n){n._redefineProperty=l,r=Zone.__symbol__,a=Object[r("defineProperty")]=Object.defineProperty,i=Object[r("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,o=Object.create,s=r("unconfigurables"),Object.defineProperty=function(e,t,n){if(c(e,t))throw new TypeError("Cannot assign to read only property '"+t+"' of "+e);var r=n.configurable;return"prototype"!==t&&(n=u(e,t,n)),h(e,t,n,r)},Object.defineProperties=function(t,n){return Object.keys(n).forEach(function(e){Object.defineProperty(t,e,n[e])}),t},Object.create=function(t,n){return"object"!=typeof n||Object.isFrozen(n)||Object.keys(n).forEach(function(e){n[e]=u(t,e,n[e])}),o(t,n)},Object.getOwnPropertyDescriptor=function(e,t){var n=i(e,t);return n&&c(e,t)&&(n.configurable=!1),n}}),e.__load_patch("registerElement",function(e,t,n){var r;r=e,((n=(e=n).getGlobalObjects()).isBrowser||n.isMix)&&"registerElement"in r.document&&e.patchCallbacks(e,document,"Document","registerElement",["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"])}),e.__load_patch("EventTargetLegacy",function(e,t,n){(function(e,t){var n=(u=t.getGlobalObjects()).eventNames,r=u.globalSources,i=u.zoneSymbolEventNames,o=u.TRUE_STR,a=u.FALSE_STR,s=u.ZONE_SYMBOL_PREFIX,l="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket".split(","),c=[],u=e.wtf,h="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video".split(",");u?c=h.map(function(e){return"HTML"+e+"Element"}).concat(l):e.EventTarget?c.push("EventTarget"):c=l;for(var d,f=e.__Zone_disable_IE_check||!1,p=e.__Zone_enable_cross_context_check||!1,g=t.isIEOrEdge(),v="function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }",m={MSPointerCancel:"pointercancel",MSPointerDown:"pointerdown",MSPointerEnter:"pointerenter",MSPointerHover:"pointerhover",MSPointerLeave:"pointerleave",MSPointerMove:"pointermove",MSPointerOut:"pointerout",MSPointerOver:"pointerover",MSPointerUp:"pointerup"},y=0;y<n.length;y++){var k=s+((d=n[y])+a),b=s+(d+o);i[d]={},i[d][a]=k,i[d][o]=b}for(y=0;y<h.length;y++)for(var _=h[y],w=r[_]={},C=0;C<n.length;C++)w[d=n[C]]=_+".addEventListener:"+d;for(var x=[],y=0;y<c.length;y++){var S=e[c[y]];x.push(S&&S.prototype)}t.patchEventTarget(e,x,{vh:function(t,e,n,r){if(!f&&g){if(p)try{var i;if("[object FunctionWrapper]"===(i=e.toString())||i==v)return t.apply(n,r),!1}catch(e){return t.apply(n,r),!1}else if("[object FunctionWrapper]"===(i=e.toString())||i==v)return t.apply(n,r),!1}else if(p)try{e.toString()}catch(e){return t.apply(n,r),!1}return!0},transferEventName:function(e){return m[e]||e}}),Zone[t.symbol("patchEventTarget")]=!!e.EventTarget})(e,n),d(n,e)})}})?r.call(t,n,t,e):r)||(e.exports=r)},RK3t:function(e,t,n){var r=n("0Dky"),i=n("xrYK"),o="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},RN6c:function(e,t,n){var r=n("2oRo");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},RNIs:function(e,t,n){var r=n("tiKp"),i=n("fHMY"),n=n("m/L8"),o=r("unscopables"),a=Array.prototype;null==a[o]&&n.f(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},ROdP:function(e,t,n){var r=n("hh1v"),i=n("xrYK"),o=n("tiKp")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},Rfxz:function(e,t,n){"use strict";var r=n("I+eb"),i=n("tycR").some,o=n("pkCn"),n=n("rkAj"),o=o("some"),n=n("some");r({target:"Array",proto:!0,forced:!o||!n},{some:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},Rm1S:function(e,t,n){"use strict";var r=n("14Sl"),u=n("glrk"),h=n("UMSQ"),i=n("HYAF"),d=n("iqWW"),f=n("FMNM");r("match",1,function(r,l,c){return[function(e){var t=i(this),n=null==e?void 0:e[r];return void 0!==n?n.call(e,t):new RegExp(e)[r](String(t))},function(e){var t=c(l,e,this);if(t.done)return t.value;var n=u(e),r=String(this);if(!n.global)return f(n,r);for(var i=n.unicode,o=[],a=n.lastIndex=0;null!==(s=f(n,r));){var s=String(s[0]);""===(o[a]=s)&&(n.lastIndex=d(r,h(n.lastIndex),i)),a++}return 0===a?null:o}]})},SEBh:function(e,t,n){var r=n("glrk"),i=n("HAuM"),o=n("tiKp")("species");e.exports=function(e,t){var n,e=r(e).constructor;return void 0===e||null==(n=r(e)[o])?t:i(n)}},STAE:function(e,t,n){n=n("0Dky");e.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},SYor:function(e,t,n){"use strict";var r=n("I+eb"),i=n("WKiH").trim;r({target:"String",proto:!0,forced:n("yNLB")("trim")},{trim:function(){return i(this)}})},TFPT:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("sub")},{sub:function(){return i(this,"sub","","")}})},TWNs:function(e,t,n){var r=n("g6v/"),i=n("2oRo"),o=n("lMq5"),a=n("cVYH"),s=n("m/L8").f,l=n("JBy8").f,c=n("ROdP"),u=n("rW0t"),h=n("n3/R"),d=n("busE"),f=n("0Dky"),p=n("afO8").set,g=n("JiZb"),v=n("tiKp")("match"),m=i.RegExp,y=m.prototype,k=/a/g,b=/a/g,_=new m(k)!==k,w=h.UNSUPPORTED_Y;if(r&&o("RegExp",!_||w||f(function(){return b[v]=!1,m(k)!=k||m(b)==b||"/a/i"!=m(k,"i")}))){function C(e,t){var n,r=this instanceof C,i=c(e),o=void 0===t;if(!r&&i&&e.constructor===C&&o)return e;_?i&&!o&&(e=e.source):e instanceof C&&(o&&(t=u.call(e)),e=e.source),w&&(n=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,""));r=a(_?new m(e,t):m(e,t),r?this:y,C);return w&&n&&p(r,{sticky:n}),r}for(var x=l(m),S=0;x.length>S;)!function(t){t in C||s(C,t,{configurable:!0,get:function(){return m[t]},set:function(e){m[t]=e}})}(x[S++]);(y.constructor=C).prototype=y,d(i,"RegExp",C)}g("RegExp")},TWQb:function(e,t,n){var l=n("/GqU"),c=n("UMSQ"),u=n("I8vh"),n=function(s){return function(e,t,n){var r,i=l(e),o=c(i.length),a=u(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}};e.exports={includes:n(!0),indexOf:n(!1)}},TeQF:function(e,t,n){"use strict";var r=n("I+eb"),i=n("tycR").filter,o=n("Hd5f"),n=n("rkAj"),o=o("filter"),n=n("filter");r({target:"Array",proto:!0,forced:!o||!n},{filter:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},TfTi:function(e,t,n){"use strict";var f=n("A2ZE"),p=n("ewvW"),g=n("m92n"),v=n("6VoE"),m=n("UMSQ"),y=n("hBjN"),k=n("NaFW");e.exports=function(e){var t,n,r,i,o,a,s=p(e),l="function"==typeof this?this:Array,c=arguments.length,u=1<c?arguments[1]:void 0,h=void 0!==u,e=k(s),d=0;if(h&&(u=f(u,2<c?arguments[2]:void 0,2)),null==e||l==Array&&v(e))for(n=new l(t=m(s.length));d<t;d++)a=h?u(s[d],d):s[d],y(n,d,a);else for(o=(i=e.call(s)).next,n=new l;!(r=o.call(i)).done;d++)a=h?g(i,u,[r.value,d],!0):r.value,y(n,d,a);return n.length=d,n}},ToJy:function(e,t,n){"use strict";var r=n("I+eb"),i=n("HAuM"),o=n("ewvW"),a=n("0Dky"),s=n("pkCn"),l=[],c=l.sort,n=a(function(){l.sort(void 0)}),a=a(function(){l.sort(null)}),s=s("sort");r({target:"Array",proto:!0,forced:n||!a||!s},{sort:function(e){return void 0===e?c.call(o(this)):c.call(o(this),i(e))}})},Tskq:function(e,t,n){"use strict";var r=n("bWFh"),n=n("ZWaQ");e.exports=r("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n)},U3f4:function(e,t,n){var r=n("g6v/"),i=n("m/L8"),o=n("rW0t"),n=n("n3/R").UNSUPPORTED_Y;r&&("g"!=/./g.flags||n)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},UMSQ:function(e,t,n){var r=n("ppGB"),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},UTVS:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},UesL:function(e,t,n){"use strict";var r=n("glrk"),i=n("wE6v");e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!==e)}},UxlC:function(e,t,n){"use strict";var r=n("14Sl"),S=n("glrk"),E=n("ewvW"),T=n("UMSQ"),A=n("ppGB"),o=n("HYAF"),P=n("iqWW"),R=n("FMNM"),I=Math.max,O=Math.min,M=Math.floor,N=/\$([$&'`]|\d\d?|<[^>]*>)/g,L=/\$([$&'`]|\d\d?)/g;r("replace",2,function(i,b,_,e){var w=e.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=e.REPLACE_KEEPS_$0,x=w?"$":"$0";return[function(e,t){var n=o(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n,t):b.call(String(n),e,t)},function(e,t){if(!w&&C||"string"==typeof t&&-1===t.indexOf(x)){var n=_(b,e,this,t);if(n.done)return n.value}var r=S(e),i=String(this),o="function"==typeof t;o||(t=String(t));var a,s=r.global;s&&(a=r.unicode,r.lastIndex=0);for(var l=[];;){var c=R(r,i);if(null===c)break;if(l.push(c),!s)break;""===String(c[0])&&(r.lastIndex=P(i,T(r.lastIndex),a))}for(var u,h="",d=0,f=0;f<l.length;f++){c=l[f];for(var p=String(c[0]),g=I(O(A(c.index),i.length),0),v=[],m=1;m<c.length;m++)v.push(void 0===(u=c[m])?u:String(u));var y,k=c.groups,k=o?(y=[p].concat(v,g,i),void 0!==k&&y.push(k),String(t.apply(void 0,y))):function(o,a,s,l,c,e){var u=s+o.length,h=l.length,t=L;return void 0!==c&&(c=E(c),t=N),b.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,s);case"'":return a.slice(u);case"<":n=c[t.slice(1,-1)];break;default:var r=+t;if(0==r)return e;if(h<r){var i=M(r/10);return 0!==i&&i<=h?void 0===l[i-1]?t.charAt(1):l[i-1]+t.charAt(1):e}n=l[r-1]}return void 0===n?"":n})}(p,i,g,v,k,t);d<=g&&(h+=i.slice(d,g)+k,d=g+p.length)}return h+i.slice(d)}]})},Uydy:function(e,t,n){var r=n("I+eb"),i=n("HsHA"),n=Math.acosh,o=Math.log,a=Math.sqrt,s=Math.LN2;r({target:"Math",stat:!0,forced:!n||710!=Math.floor(n(Number.MAX_VALUE))||n(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?o(e)+s:i(e-1+a(e-1)*a(e+1))}})},VC3L:function(e,t,n){"use strict";var r=n("I+eb"),i=n("0Dky"),o=n("QIpd"),a=1..toPrecision;r({target:"Number",proto:!0,forced:i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})},{toPrecision:function(e){return void 0===e?a.call(o(this)):a.call(o(this),e)}})},VpIT:function(e,t,n){var r=n("xDBR"),i=n("xs3f");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},Vu81:function(e,t,n){var r=n("0GbY"),i=n("JBy8"),o=n("dBg+"),a=n("glrk");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},WDsR:function(e,t,n){var r=n("I+eb"),i=n("Xol8"),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},WJkJ:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},WKiH:function(e,t,n){var r=n("HYAF"),n="["+n("WJkJ")+"]",i=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),n=function(t){return function(e){e=String(r(e));return 1&t&&(e=e.replace(i,"")),2&t&&(e=e.replace(o,"")),e}};e.exports={start:n(1),end:n(2),trim:n(3)}},WjRb:function(e,t,n){var r=n("ROdP");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},XGwC:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},Xe3L:function(e,t,n){"use strict";var r=n("I+eb"),i=n("0Dky"),o=n("hBjN");r({target:"Array",stat:!0,forced:i(function(){function e(){}return!(Array.of.call(e)instanceof e)})},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)o(n,e,arguments[e++]);return n.length=t,n}})},Xol8:function(e,t,n){var r=n("hh1v"),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},YGK4:function(e,t,n){"use strict";var r=n("bWFh"),n=n("ZWaQ");e.exports=r("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n)},YNrV:function(e,t,n){"use strict";var d=n("g6v/"),r=n("0Dky"),f=n("33Wh"),p=n("dBg+"),g=n("0eef"),v=n("ewvW"),m=n("RK3t"),i=Object.assign,o=Object.defineProperty;e.exports=!i||r(function(){if(d&&1!==i({b:1},i(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||"abcdefghijklmnopqrst"!=f(i({},t)).join("")})?function(e,t){for(var n=v(e),r=arguments.length,i=1,o=p.f,a=g.f;i<r;)for(var s,l=m(arguments[i++]),c=o?f(l).concat(o(l)):f(l),u=c.length,h=0;h<u;)s=c[h++],d&&!a.call(l,s)||(n[s]=l[s]);return n}:i},ZOXb:function(e,t,n){"use strict";var r=n("0Dky"),i=n("DMt2").start,o=Math.abs,n=Date.prototype,a=n.getTime,s=n.toISOString;e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-50000000000001))})||!r(function(){s.call(new Date(NaN))})?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":9999<e?"+":"";return n+i(o(e),n?6:4,0)+"-"+i(this.getUTCMonth()+1,2,0)+"-"+i(this.getUTCDate(),2,0)+"T"+i(this.getUTCHours(),2,0)+":"+i(this.getUTCMinutes(),2,0)+":"+i(this.getUTCSeconds(),2,0)+"."+i(t,3,0)+"Z"}:s},ZUd8:function(e,t,n){var a=n("ppGB"),s=n("HYAF"),n=function(o){return function(e,t){var n,r=String(s(e)),i=a(t),e=r.length;return i<0||e<=i?o?"":void 0:(t=r.charCodeAt(i))<55296||56319<t||i+1===e||(n=r.charCodeAt(i+1))<56320||57343<n?o?r.charAt(i):t:o?r.slice(i,i+2):n-56320+(t-55296<<10)+65536}};e.exports={codeAt:n(!1),charAt:n(!0)}},ZWaQ:function(e,t,n){"use strict";var c=n("m/L8").f,u=n("fHMY"),h=n("4syw"),d=n("A2ZE"),f=n("GarU"),p=n("ImZN"),a=n("fdAy"),s=n("JiZb"),g=n("g6v/"),v=n("8YOa").fastKey,n=n("afO8"),m=n.set,y=n.getterFor;e.exports={getConstructor:function(e,n,r,i){function o(e,t,n){var r,i=s(e),o=l(e,t);return o?o.value=n:(i.last=o={index:r=v(t,!0),key:t,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),g?i.size++:e.size++,"F"!==r&&(i.index[r]=o)),e}var a=e(function(e,t){f(e,a,n),m(e,{type:n,index:u(null),first:void 0,last:void 0,size:0}),g||(e.size=0),null!=t&&p(t,e[i],e,r)}),s=y(n),l=function(e,t){var n,r=s(e),e=v(t);if("F"!==e)return r.index[e];for(n=r.first;n;n=n.next)if(n.key==t)return n};return h(a.prototype,{clear:function(){for(var e=s(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,g?e.size=0:this.size=0},delete:function(e){var t,n=s(this),r=l(this,e);return r&&(t=r.next,e=r.previous,delete n.index[r.index],r.removed=!0,e&&(e.next=t),t&&(t.previous=e),n.first==r&&(n.first=t),n.last==r&&(n.last=e),g?n.size--:this.size--),!!r},forEach:function(e){for(var t,n=s(this),r=d(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!l(this,e)}}),h(a.prototype,r?{get:function(e){e=l(this,e);return e&&e.value},set:function(e,t){return o(this,0===e?0:e,t)}}:{add:function(e){return o(this,e=0===e?0:e,e)}}),g&&c(a.prototype,"size",{get:function(){return s(this).size}}),a},setStrong:function(e,t,n){var r=t+" Iterator",i=y(t),o=y(r);a(e,t,function(e,t){m(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}},n?"entries":"values",!n,!0),s(t)}}},ZfDv:function(e,t,n){var r=n("hh1v"),i=n("6LWA"),o=n("tiKp")("species");e.exports=function(e,t){var n;return i(e)&&("function"==typeof(n=e.constructor)&&(n===Array||i(n.prototype))||r(n)&&null===(n=n[o]))&&(n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},Zk8X:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("sup")},{sup:function(){return i(this,"sup","","")}})},a57n:function(e,t,n){n("dG/n")("search")},a5NK:function(e,t,n){var n=n("I+eb"),r=Math.log,i=Math.LOG10E;n({target:"Math",stat:!0},{log10:function(e){return r(e)*i}})},afO8:function(e,t,n){var r,i,o,a,s,l,c,u,h=n("f5p1"),d=n("2oRo"),f=n("hh1v"),p=n("kRJp"),g=n("UTVS"),v=n("93I0"),n=n("0BK2");c=h?(r=new d.WeakMap,i=r.get,o=r.has,a=r.set,s=function(e,t){return a.call(r,e,t),t},l=function(e){return i.call(r,e)||{}},function(e){return o.call(r,e)}):(n[u=v("state")]=!0,s=function(e,t){return p(e,u,t),t},l=function(e){return g(e,u)?e[u]:{}},function(e){return g(e,u)}),e.exports={set:s,get:l,has:c,enforce:function(e){return c(e)?l(e):s(e,{})},getterFor:function(n){return function(e){var t;if(!f(e)||(t=l(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}}},bWFh:function(e,t,n){"use strict";var v=n("I+eb"),m=n("2oRo"),y=n("lMq5"),k=n("busE"),b=n("8YOa"),_=n("ImZN"),w=n("GarU"),C=n("hh1v"),x=n("0Dky"),S=n("HH4o"),E=n("1E5z"),T=n("cVYH");e.exports=function(n,e,t){function r(e){var n=f[e];k(f,e,"add"==e?function(e){return n.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(u&&!C(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return u&&!C(e)?void 0:n.call(this,0===e?0:e)}:"has"==e?function(e){return!(u&&!C(e))&&n.call(this,0===e?0:e)}:function(e,t){return n.call(this,0===e?0:e,t),this})}var i,o,a,s,l,c=-1!==n.indexOf("Map"),u=-1!==n.indexOf("Weak"),h=c?"set":"add",d=m[n],f=d&&d.prototype,p=d,g={};return y(n,"function"!=typeof d||!(u||f.forEach&&!x(function(){(new d).entries().next()})))?(p=t.getConstructor(e,n,c,h),b.REQUIRED=!0):y(n,!0)&&(o=(i=new p)[h](u?{}:-0,1)!=i,a=x(function(){i.has(1)}),s=S(function(e){new d(e)}),l=!u&&x(function(){for(var e=new d,t=5;t--;)e[h](t,t);return!e.has(-0)}),s||(((p=e(function(e,t){w(e,p,n);e=T(new d,e,p);return null!=t&&_(t,e[h],e,c),e})).prototype=f).constructor=p),(a||l)&&(r("delete"),r("has"),c&&r("get")),(l||o)&&r(h),u&&f.clear&&delete f.clear),g[n]=p,v({global:!0,forced:p!=d},g),E(p,n),u||t.setStrong(p,n,c),p}},brp2:function(e,t,n){n("I+eb")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},busE:function(e,t,n){var a=n("2oRo"),s=n("kRJp"),l=n("UTVS"),c=n("zk60"),r=n("iSVu"),n=n("afO8"),i=n.get,u=n.enforce,h=String(String).split("String");(e.exports=function(e,t,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,r=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||l(n,"name")||s(n,"name",t),u(n).source=h.join("string"==typeof t?t:"")),e!==a?(i?!r&&e[t]&&(o=!0):delete e[t],o?e[t]=n:s(e,t,n)):o?e[t]=n:c(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||r(this)})},cDke:function(e,t,n){var r=n("I+eb"),i=n("0Dky"),n=n("BX/b").f;r({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:n})},cVYH:function(e,t,n){var o=n("hh1v"),a=n("0rvr");e.exports=function(e,t,n){var r,i;return a&&"function"==typeof(r=t.constructor)&&r!==n&&o(i=r.prototype)&&i!==n.prototype&&a(e,i),e}},"dBg+":function(e,t){t.f=Object.getOwnPropertySymbols},"dG/n":function(e,t,n){var r=n("Qo9l"),i=n("UTVS"),o=n("5Tg+"),a=n("m/L8").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},"eDl+":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},eJiR:function(e,t,n){var r=n("I+eb"),i=n("jrUv"),o=Math.exp;r({target:"Math",stat:!0},{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},eajv:function(e,t,n){var r=n("I+eb"),n=Math.asinh,i=Math.log,o=Math.sqrt;r({target:"Math",stat:!0,forced:!(n&&0<1/n(0))},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):i(t+o(t*t+1)):t}})},eoL8:function(e,t,n){var r=n("I+eb"),i=n("g6v/");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n("m/L8").f})},ewvW:function(e,t,n){var r=n("HYAF");e.exports=function(e){return Object(r(e))}},f5p1:function(e,t,n){var r=n("2oRo"),n=n("iSVu"),r=r.WeakMap;e.exports="function"==typeof r&&/native code/.test(n(r))},fHMY:function(e,t,n){function r(){}function i(e){return"<script>"+e+"<\/script>"}var o,a=n("glrk"),s=n("N+g0"),l=n("eDl+"),c=n("0BK2"),u=n("G+Rx"),h=n("zBJ4"),d=n("93I0")("IE_PROTO"),f=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e;f=o?function(e){e.write(i("")),e.close();var t=e.parentWindow.Object;return e=null,t}(o):((e=h("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(e=e.contentWindow.document).open(),e.write(i("document.F=Object")),e.close(),e.F);for(var t=l.length;t--;)delete f.prototype[l[t]];return f()};c[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(r.prototype=a(e),n=new r,r.prototype=null,n[d]=e):n=f(),void 0===t?n:s(n,t)}},fbCW:function(e,t,n){"use strict";var r=n("I+eb"),i=n("tycR").find,o=n("RNIs"),n=n("rkAj"),a=!0,n=n("find");"find"in[]&&Array(1).find(function(){a=!1}),r({target:"Array",proto:!0,forced:a||!n},{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),o("find")},fdAy:function(e,t,n){"use strict";function g(){return this}var v=n("I+eb"),m=n("ntOU"),y=n("4WOD"),k=n("0rvr"),b=n("1E5z"),_=n("kRJp"),w=n("busE"),r=n("tiKp"),C=n("xDBR"),x=n("P4y1"),n=n("rpNk"),S=n.IteratorPrototype,E=n.BUGGY_SAFARI_ITERATORS,T=r("iterator");e.exports=function(e,t,n,r,i,o,a){m(n,t,r);function s(e){if(e===i&&p)return p;if(!E&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}}var l,c,u=t+" Iterator",h=!1,d=e.prototype,f=d[T]||d["@@iterator"]||i&&d[i],p=!E&&f||s(i),r="Array"==t&&d.entries||f;if(r&&(e=y(r.call(new e)),S!==Object.prototype&&e.next&&(C||y(e)===S||(k?k(e,S):"function"!=typeof e[T]&&_(e,T,g)),b(e,u,!0,!0),C&&(x[u]=g))),"values"==i&&f&&"values"!==f.name&&(h=!0,p=function(){return f.call(this)}),C&&!a||d[T]===p||_(d,T,p),x[t]=p,i)if(l={values:s("values"),keys:o?p:s("keys"),entries:s("entries")},a)for(c in l)!E&&!h&&c in d||w(d,c,l[c]);else v({target:t,proto:!0,forced:E||h},l);return l}},fhKU:function(e,t,n){var r=n("2oRo"),i=n("WKiH").trim,n=n("WJkJ"),o=r.parseFloat,n=1/o(n+"-0")!=-1/0;e.exports=n?function(e){var t=i(String(e)),e=o(t);return 0===e&&"-"==t.charAt(0)?-0:e}:o},ftKg:function(e,t,n){n("brp2"),n("9LPj"),n("rMz7"),n("DQNa"),n("7+zs");n=n("Qo9l");e.exports=n.Date},"g6v/":function(e,t,n){n=n("0Dky");e.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},gOCb:function(e,t,n){n("dG/n")("replace")},gXIK:function(e,t,n){n("dG/n")("toPrimitive")},gbiT:function(e,t,n){n("dG/n")("unscopables")},gdVl:function(e,t,n){"use strict";var a=n("ewvW"),s=n("I8vh"),l=n("UMSQ");e.exports=function(e){for(var t=a(this),n=l(t.length),r=arguments.length,i=s(1<r?arguments[1]:void 0,n),r=2<r?arguments[2]:void 0,o=void 0===r?n:s(r,n);i<o;)t[i++]=e;return t}},glrk:function(e,t,n){var r=n("hh1v");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},hBjN:function(e,t,n){"use strict";var r=n("wE6v"),i=n("m/L8"),o=n("XGwC");e.exports=function(e,t,n){t=r(t);t in e?i.f(e,t,o(0,n)):e[t]=n}},hByQ:function(e,t,n){"use strict";var r=n("14Sl"),a=n("glrk"),s=n("HYAF"),l=n("Ep9I"),c=n("FMNM");r("search",1,function(r,i,o){return[function(e){var t=s(this),n=null==e?void 0:e[r];return void 0!==n?n.call(e,t):new RegExp(e)[r](String(t))},function(e){var t=o(i,e,this);if(t.done)return t.value;var n=a(e),t=String(this),e=n.lastIndex;l(e,0)||(n.lastIndex=0);t=c(n,t);return l(n.lastIndex,e)||(n.lastIndex=e),null===t?-1:t.index}]})},"hN/g":function(e,t,n){"use strict";n.r(t),n("pDpN"),n("KJ4T")},hXpO:function(e,t,n){var o=n("HYAF"),a=/"/g;e.exports=function(e,t,n,r){var i=String(o(e)),e="<"+t;return""!==n&&(e+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),e+">"+i+"</"+t+">"}},hh1v:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},i6QF:function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isInteger:n("Xol8")})},iSVu:function(e,t,n){var n=n("xs3f"),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return r.call(e)}),e.exports=n.inspectSource},inlA:function(e,t,n){"use strict";var r=n("I+eb"),i=n("Bs8V").f,o=n("UMSQ"),a=n("WjRb"),s=n("HYAF"),l=n("qxPZ"),n=n("xDBR"),c="".endsWith,u=Math.min,l=l("endsWith");r({target:"String",proto:!0,forced:!(!n&&!l&&((i=i(String.prototype,"endsWith"))&&!i.writable)||l)},{endsWith:function(e){var t=String(s(this));a(e);var n=1<arguments.length?arguments[1]:void 0,r=o(t.length),r=void 0===n?r:u(o(n),r),e=String(e);return c?c.call(t,e,r):t.slice(r-e.length,r)===e}})},iqWW:function(e,t,n){"use strict";var r=n("ZUd8").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},jrUv:function(e,t){var n=Math.expm1,r=Math.exp;e.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:r(e)-1}:n},jt2F:function(e,t,n){n("dG/n")("matchAll")},kNcU:function(e,t,n){var n=n("I+eb"),r=Math.log,i=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return r(e)/i}})},kOOl:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},kRJp:function(e,t,n){var r=n("g6v/"),i=n("m/L8"),o=n("XGwC");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},kSko:function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},kmMV:function(e,t,n){"use strict";var r,h=n("rW0t"),i=n("n3/R"),d=RegExp.prototype.exec,f=String.prototype.replace,o=d,p=(r=/b*/g,d.call(n=/a/,"a"),d.call(r,"a"),0!==n.lastIndex||0!==r.lastIndex),g=i.UNSUPPORTED_Y||i.BROKEN_CARET,v=void 0!==/()??/.exec("")[1];(p||v||g)&&(o=function(e){var t,n,r,i,o=this,a=g&&o.sticky,s=h.call(o),l=o.source,c=0,u=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(e).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),n=new RegExp("^(?:"+l+")",s)),v&&(n=new RegExp("^"+l+"$(?!\\s)",s)),p&&(t=o.lastIndex),r=d.call(a?n:o,u),a?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:p&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),v&&r&&1<r.length&&f.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),e.exports=o},l2dK:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},lEou:function(e,t,n){n("dG/n")("toStringTag")},lMq5:function(e,t,n){var r=n("0Dky"),i=/#|\.prototype\./,n=function(e,t){e=a[o(e)];return e==l||e!=s&&("function"==typeof t?r(t):!!t)},o=n.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=n.data={},s=n.NATIVE="N",l=n.POLYFILL="P";e.exports=n},ls82:function(e,t,n){var r=function(a){"use strict";var e=Object.prototype,l=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function s(e,t,n,r){var i,o,a,s,t=Object.create((t&&t.prototype instanceof h?t:h).prototype),r=new k(r||[]);return t._invoke=(i=e,o=n,a=r,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return{value:void 0,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}r=c(r,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,u;var r=r.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}(n,a);if(r){if(r===u)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";r=c(i,o,a);if("normal"===r.type){if(s=a.done?"completed":"suspendedYield",r.arg===u)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(s="completed",a.method="throw",a.arg=r.arg)}}),t}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var u={};function h(){}function o(){}function d(){}var f={};f[r]=function(){return this};t=Object.getPrototypeOf,t=t&&t(t(b([])));t&&t!==e&&l.call(t,r)&&(f=t);var p=d.prototype=h.prototype=Object.create(f);function g(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function v(a,s){var t;this._invoke=function(n,r){function e(){return new s(function(e,t){!function t(e,n,r,i){e=c(a[e],a,n);if("throw"!==e.type){var o=e.arg,n=o.value;return n&&"object"==typeof n&&l.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):s.resolve(n).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)})}i(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function m(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(m,this),this.reset(!0)}function b(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return e.next=e}}return{next:_}}function _(){return{value:void 0,done:!0}}return(o.prototype=p.constructor=d).constructor=o,d[i]=o.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(p),e},a.awrap=function(e){return{__await:e}},g(v.prototype),v.prototype[n]=function(){return this},a.AsyncIterator=v,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new v(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(p),p[i]="Generator",p[r]=function(){return this},p.toString=function(){return"[object Generator]"},a.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=b,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),y(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,i=n.completion;return"throw"===i.type&&(r=i.arg,y(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:b(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},a}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},"m/L8":function(e,t,n){var r=n("g6v/"),i=n("DPsx"),o=n("glrk"),a=n("wE6v"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},m92n:function(e,t,n){var o=n("glrk");e.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},mRH6:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("link")},{link:function(e){return i(this,"a","href",e)}})},mRIq:function(e,t,n){"use strict";n.r(t),n("H0pb"),n("wLYn"),n("sMBO"),n("tW5y"),n("uL8W"),n("eoL8"),n("HRxU"),n("5DmW"),n("NBAS"),n("tkto"),n("cDke"),n("3KgV"),n("r5Og"),n("zuhW"),n("4h0Y"),n("5D5o"),n("yQYn"),n("zKZe"),n("Kxld"),n("ExoC"),n("07d7"),n("ma9I"),n("J30X"),n("pjDv"),n("Xe3L"),n("oVuX"),n("+2oP"),n("pDQq"),n("ToJy"),n("QWBl"),n("2B1R"),n("TeQF"),n("Rfxz"),n("piMb"),n("E9XD"),n("9N29"),n("yXV3"),n("uqXc"),n("qHT+"),n("yyme"),n("fbCW"),n("x0AG"),n("4mDm"),n("9tb/"),n("2A+d"),n("SYor"),n("PKPk"),n("9bJ7"),n("inlA"),n("JTJg"),n("OM9Z"),n("LKBx"),n("GKVU"),n("E5NM"),n("BNMt"),n("zHFu"),n("x83w"),n("l2dK"),n("GRPF"),n("xdBZ"),n("mRH6"),n("yWo2"),n("IxXR"),n("TFPT"),n("Zk8X"),n("Rm1S"),n("UxlC"),n("hByQ"),n("EnZy"),n("4l63"),n("rNhl"),n("7sbD"),n("6hpn"),n("ftKg"),n("TWNs"),n("JfAA"),n("U3f4"),n("Tskq"),n("ENF9"),n("YGK4"),n("FZtP"),n("3bBZ"),n("5s+n"),n("DEfu"),n("ls82")},ma9I:function(e,t,n){"use strict";var r=n("I+eb"),i=n("0Dky"),c=n("6LWA"),u=n("hh1v"),h=n("ewvW"),d=n("UMSQ"),f=n("hBjN"),p=n("ZfDv"),o=n("Hd5f"),a=n("tiKp"),n=n("LQDL"),g=a("isConcatSpreadable"),i=51<=n||!i(function(){var e=[];return e[g]=!1,e.concat()[0]!==e}),o=o("concat");r({target:"Array",proto:!0,forced:!i||!o},{concat:function(e){for(var t,n,r,i=h(this),o=p(i,0),a=0,s=-1,l=arguments.length;s<l;s++)if(function(e){if(!u(e))return!1;var t=e[g];return void 0!==t?!!t:c(e)}(r=-1===s?i:arguments[s])){if(9007199254740991<a+(n=d(r.length)))throw TypeError("Maximum allowed index exceeded");for(t=0;t<n;t++,a++)t in r&&f(o,a,r[t])}else{if(9007199254740991<=a)throw TypeError("Maximum allowed index exceeded");f(o,a++,r)}return o.length=a,o}})},"n/mU":function(e,t,n){var r=n("I+eb"),n=Math.atanh,i=Math.log;r({target:"Math",stat:!0,forced:!(n&&1/n(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:i((1+e)/(1-e))/2}})},"n3/R":function(e,t,n){"use strict";n=n("0Dky");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n(function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),t.BROKEN_CARET=n(function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},ntOU:function(e,t,n){"use strict";function r(){return this}var i=n("rpNk").IteratorPrototype,o=n("fHMY"),a=n("XGwC"),s=n("1E5z"),l=n("P4y1");e.exports=function(e,t,n){t+=" Iterator";return e.prototype=o(i,{next:a(1,n)}),s(e,t,!1,!0),l[t]=r,e}},oVuX:function(e,t,n){"use strict";var r=n("I+eb"),i=n("RK3t"),o=n("/GqU"),n=n("pkCn"),a=[].join,i=i!=Object,n=n("join",",");r({target:"Array",proto:!0,forced:i||!n},{join:function(e){return a.call(o(this),void 0===e?",":e)}})},pDQq:function(e,t,n){"use strict";var r=n("I+eb"),h=n("I8vh"),d=n("ppGB"),f=n("UMSQ"),p=n("ewvW"),g=n("ZfDv"),v=n("hBjN"),i=n("Hd5f"),n=n("rkAj"),i=i("splice"),n=n("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,y=Math.min;r({target:"Array",proto:!0,forced:!i||!n},{splice:function(e,t){var n,r,i,o,a,s,l=p(this),c=f(l.length),u=h(e,c),e=arguments.length;if(0===e?n=r=0:r=1===e?(n=0,c-u):(n=e-2,y(m(d(t),0),c-u)),9007199254740991<c+n-r)throw TypeError("Maximum allowed length exceeded");for(i=g(l,r),o=0;o<r;o++)(a=u+o)in l&&v(i,o,l[a]);if(n<(i.length=r)){for(o=u;o<c-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:delete l[s];for(o=c;c-r+n<o;o--)delete l[o-1]}else if(r<n)for(o=c-r;u<o;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+u]=arguments[o+2];return l.length=c-r+n,i}})},pDpN:function(e,t,n){var r;void 0===(r="function"==typeof(r=function(){"use strict";!function(s){var n=s.performance;function r(e){n&&n.mark&&n.mark(e)}function i(e,t){n&&n.measure&&n.measure(e,t)}r("Zone");var t=s.__Zone_symbol_prefix||"__zone_symbol__";function e(e){return t+e}var o=!0===s[t+"forceDuplicateZoneCheck"];if(s.Zone){if(o||"function"!=typeof s.Zone.__symbol__)throw new Error("Zone already loaded.");return s.Zone}var a=(le(l,[{key:"get",value:function(e){var t=this.getZoneWith(e);if(t)return t._properties[e]}},{key:"getZoneWith",value:function(e){for(var t=this;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}},{key:"fork",value:function(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}},{key:"wrap",value:function(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);var n=this._zoneDelegate.intercept(this,e,t),r=this;return function(){return r.runGuarded(n,this,arguments,t)}}},{key:"run",value:function(e,t,n,r){N={parent:N,zone:this};try{return this._zoneDelegate.invoke(this,e,t,n,r)}finally{N=N.parent}}},{key:"runGuarded",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length?arguments[2]:void 0,r=3<arguments.length?arguments[3]:void 0;N={parent:N,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,n,r)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{N=N.parent}}},{key:"runTask",value:function(e,t,n){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||w).name+"; Execution: "+this.name+")");if(e.state!==C||e.type!==I&&e.type!==R){var r=e.state!=E;r&&e._transitionTo(E,S),e.runCount++;var i=L;L=e,N={parent:N,zone:this};try{e.type==R&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==C&&e.state!==A&&(e.type==I||e.data&&e.data.isPeriodic?r&&e._transitionTo(S,E):(e.runCount=0,this._updateTaskCount(e,-1),r&&e._transitionTo(C,E,C))),N=N.parent,L=i}}}},{key:"scheduleTask",value:function(t){if(t.zone&&t.zone!==this)for(var e=this;e;){if(e===t.zone)throw Error("can not reschedule task to ".concat(this.name," which is descendants of the original zone ").concat(t.zone.name));e=e.parent}t._transitionTo(x,C);var n=[];t._zoneDelegates=n,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(e){throw t._transitionTo(A,x,C),this._zoneDelegate.handleError(this,e),e}return t._zoneDelegates===n&&this._updateTaskCount(t,1),t.state==x&&t._transitionTo(S,x),t}},{key:"scheduleMicroTask",value:function(e,t,n,r){return this.scheduleTask(new d(P,e,t,n,r,void 0))}},{key:"scheduleMacroTask",value:function(e,t,n,r,i){return this.scheduleTask(new d(R,e,t,n,r,i))}},{key:"scheduleEventTask",value:function(e,t,n,r,i){return this.scheduleTask(new d(I,e,t,n,r,i))}},{key:"cancelTask",value:function(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||w).name+"; Execution: "+this.name+")");t._transitionTo(T,S,E);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(A,T),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(C,T),t.runCount=0,t}},{key:"_updateTaskCount",value:function(e,t){var n=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(var r=0;r<n.length;r++)n[r]._updateTaskCount(e.type,t)}},{key:"parent",get:function(){return this._parent}},{key:"name",get:function(){return this._name}}],[{key:"assertZonePatched",value:function(){if(s.Promise!==O.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}},{key:"__load_patch",value:function(e,t){var n;if(O.hasOwnProperty(e)){if(o)throw Error("Already loaded patch: "+e)}else s["__Zone_disable_"+e]||(r(n="Zone:"+e),O[e]=t(s,l,M),i(n,n))}},{key:"root",get:function(){for(var e=l.current;e.parent;)e=e.parent;return e}},{key:"current",get:function(){return N.zone}},{key:"currentTask",get:function(){return L}}]),l);function l(e,t){se(this,l),this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new h(this,this._parent&&this._parent._zoneDelegate,t)}a.__symbol__=e;var c,u={name:"",onHasTask:function(e,t,n,r){return e.hasTask(n,r)},onScheduleTask:function(e,t,n,r){return e.scheduleTask(n,r)},onInvokeTask:function(e,t,n,r,i,o){return e.invokeTask(n,r,i,o)},onCancelTask:function(e,t,n,r){return e.cancelTask(n,r)}},h=(le(k,[{key:"fork",value:function(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new a(e,t)}},{key:"intercept",value:function(e,t,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,n):t}},{key:"invoke",value:function(e,t,n,r,i){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,n,r,i):t.apply(n,r)}},{key:"handleError",value:function(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}},{key:"scheduleTask",value:function(e,t){var n=t;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),(n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t))||(n=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=P)throw new Error("Task is missing scheduleFn.");b(t)}return n}},{key:"invokeTask",value:function(e,t,n,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,n,r):t.callback.apply(n,r)}},{key:"cancelTask",value:function(e,t){var n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");n=t.cancelFn(t)}return n}},{key:"hasTask",value:function(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(e){this.handleError(t,e)}}},{key:"_updateTaskCount",value:function(e,t){var n=this._taskCounts,r=n[e],t=n[e]=r+t;if(t<0)throw new Error("More tasks executed then were scheduled.");0!=r&&0!=t||this.hasTask(this.zone,{microTask:0<n.microTask,macroTask:0<n.macroTask,eventTask:0<n.eventTask,change:e})}}]),k),d=(le(y,[{key:"cancelScheduleRequest",value:function(){this._transitionTo(C,x)}},{key:"_transitionTo",value:function(e,t,n){if(this._state!==t&&this._state!==n)throw new Error("".concat(this.type," '").concat(this.source,"': can not transition to '").concat(e,"', expecting state '").concat(t,"'").concat(n?" or '"+n+"'":"",", was '").concat(this._state,"'."));(this._state=e)==C&&(this._zoneDelegates=null)}},{key:"toString",value:function(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}},{key:"toJSON",value:function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}},{key:"zone",get:function(){return this._zone}},{key:"state",get:function(){return this._state}}],[{key:"invokeTask",value:function(e,t,n){e=e||this,D++;try{return e.runCount++,e.zone.runTask(e,t,n)}finally{1==D&&_(),D--}}}]),y),f=t+"setTimeout",p=t+"Promise",g=t+"then",v=[],m=!1;function y(e,t,n,r,i,o){if(se(this,y),this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=t,this.data=r,this.scheduleFn=i,this.cancelFn=o,!n)throw new Error("callback is not defined");this.callback=n;var a=this;this.invoke=e===I&&r&&r.useG?y.invokeTask:function(){return y.invokeTask.call(s,a,this,arguments)}}function k(e,t,n){se(this,k),this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=n&&(n&&n.onFork?n:t._forkZS),this._forkDlgt=n&&(n.onFork?t:t._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:t._forkCurrZone),this._interceptZS=n&&(n.onIntercept?n:t._interceptZS),this._interceptDlgt=n&&(n.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=n&&(n.onInvoke?n:t._invokeZS),this._invokeDlgt=n&&(n.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=n&&(n.onHandleError?n:t._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:t._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=n&&(n.onInvokeTask?n:t._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=n&&(n.onCancelTask?n:t._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var r=n&&n.onHasTask;(r||t&&t._hasTaskZS)&&(this._hasTaskZS=r?n:u,this._hasTaskDlgt=t,(this._hasTaskDlgtOwner=this)._hasTaskCurrZone=e,n.onScheduleTask||(this._scheduleTaskZS=u,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=u,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=u,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}function b(e){0===D&&0===v.length&&(c||s[p]&&(c=s[p].resolve(0)),c?(c[g]||c.then).call(c,_):s[f](_,0)),e&&v.push(e)}function _(){if(!m){for(m=!0;v.length;){var e=v;v=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.zone.runTask(n,null,null)}catch(e){M.onUnhandledError(e)}}}M.microtaskDrainDone(),m=!1}}var w={name:"NO ZONE"},C="notScheduled",x="scheduling",S="scheduled",E="running",T="canceling",A="unknown",P="microTask",R="macroTask",I="eventTask",O={},M={symbol:e,currentZoneFrame:function(){return N},onUnhandledError:j,microtaskDrainDone:j,scheduleMicroTask:b,showUncaughtError:function(){return!a[t+"ignoreConsoleErrorUncaughtError"]},patchEventTarget:function(){return[]},patchOnProperties:j,patchMethod:function(){return j},bindArguments:function(){return[]},patchThen:function(){return j},patchMacroTask:function(){return j},setNativePromise:function(e){e&&"function"==typeof e.resolve&&(c=e.resolve(0))},patchEventPrototype:function(){return j},isIEOrEdge:function(){return!1},getGlobalObjects:function(){},ObjectDefineProperty:function(){return j},ObjectGetOwnPropertyDescriptor:function(){},ObjectCreate:function(){},ArraySlice:function(){return[]},patchClass:function(){return j},wrapWithCurrentZone:function(){return j},filterProperties:function(){return[]},attachOriginToPatched:function(){return j},_redefineProperty:function(){return j},patchCallbacks:function(){return j}},N={parent:null,zone:new a(null,null)},L=null,D=0;function j(){}i("Zone","Zone"),s.Zone=a}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global),Zone.__load_patch("ZoneAwarePromise",function(t,u,h){var i=Object.getOwnPropertyDescriptor,d=Object.defineProperty,e=h.symbol,f=[],p=!0===t[e("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],n=e("Promise"),o=e("then");h.onUnhandledError=function(e){var t;h.showUncaughtError()&&((t=e&&e.rejection)?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e))},h.microtaskDrainDone=function(){for(var e=function(){var e=f.shift();try{e.zone.runGuarded(function(){throw e})}catch(e){!function(e){h.onUnhandledError(e);try{var t=u[r];"function"==typeof t&&t.call(this,e)}catch(e){}}(e)}};f.length;)e()};var r=e("unhandledPromiseRejectionHandler");function g(e){return e&&e.then}function s(e){return e}function l(e){return E.reject(e)}var v=e("state"),m=e("value"),y=e("finally"),k=e("parentPromiseValue"),b=e("parentPromiseState");function _(t,n){return function(e){try{C(t,n,e)}catch(e){C(t,!1,e)}}}var w=e("currentTaskTrace");function C(t,e,n){var r,i,o=(r=!1,function(e){return function(){r||(r=!0,e.apply(null,arguments))}});if(t===n)throw new TypeError("Promise resolved with itself");if(null===t[v]){var a=null;try{"object"!=typeof n&&"function"!=typeof n||(a=n&&n.then)}catch(e){return o(function(){C(t,!1,e)})(),t}if(!1!==e&&n instanceof E&&n.hasOwnProperty(v)&&n.hasOwnProperty(m)&&null!==n[v])x(n),C(t,n[v],n[m]);else if(!1!==e&&"function"==typeof a)try{a.call(n,o(_(t,e)),o(_(t,!1)))}catch(e){o(function(){C(t,!1,e)})()}else{t[v]=e;var s=t[m];t[m]=n,t[y]===y&&!0===e&&(t[v]=t[b],t[m]=t[k]),!1===e&&n instanceof Error&&(c=u.currentTask&&u.currentTask.data&&u.currentTask.data.__creationTrace__)&&d(n,w,{configurable:!0,enumerable:!1,writable:!0,value:c});for(var l=0;l<s.length;)S(t,s[l++],s[l++],s[l++],s[l++]);if(0==s.length&&0==e){t[v]=0;var c=n;if(!p)try{throw new Error("Uncaught (in promise): "+((i=n)&&i.toString===Object.prototype.toString?(i.constructor&&i.constructor.name||"")+": "+JSON.stringify(i):i?i.toString():Object.prototype.toString.call(i))+(n&&n.stack?"\n"+n.stack:""))}catch(e){c=e}c.rejection=n,c.promise=t,c.zone=u.current,c.task=u.currentTask,f.push(c),h.scheduleMicroTask()}}}return t}var a=e("rejectionHandledHandler");function x(e){if(0===e[v]){try{var t=u[a];t&&"function"==typeof t&&t.call(this,{rejection:e[m],promise:e})}catch(e){}e[v]=!1;for(var n=0;n<f.length;n++)e===f[n].promise&&f.splice(n,1)}}function S(n,r,i,e,t){x(n);var o=n[v],a=o?"function"==typeof e?e:s:"function"==typeof t?t:l;r.scheduleMicroTask("Promise.then",function(){try{var e=n[m],t=!!i&&y===i[y];t&&(i[k]=e,i[b]=o);e=r.run(a,void 0,t&&a!==l&&a!==s?[]:[e]);C(i,!0,e)}catch(e){C(i,!1,e)}},i)}function c(){}var E=(le(T,null,[{key:"toString",value:function(){return"function ZoneAwarePromise() { [native code] }"}},{key:"resolve",value:function(e){return C(new this(null),!0,e)}},{key:"reject",value:function(e){return C(new this(null),!1,e)}},{key:"race",value:function(e){var n,r,t=new this(function(e,t){n=e,r=t});function i(e){n(e)}function o(e){r(e)}var a=ae(e);try{for(a.s();!(s=a.n()).done;){var s=s.value;g(s)||(s=this.resolve(s)),s.then(i,o)}}catch(e){a.e(e)}finally{a.f()}return t}},{key:"all",value:function(e){return T.allWithCallback(e)}},{key:"allSettled",value:function(e){return(this&&this.prototype instanceof T?this:T).allWithCallback(e,{thenCallback:function(e){return{status:"fulfilled",value:e}},errorCallback:function(e){return{status:"rejected",reason:e}}})}},{key:"allWithCallback",value:function(e,n){var r,i,o,a=this,t=new this(function(e,t){r=e,i=t}),s=2,l=0,c=[],u=ae(e);try{for(u.s();!(o=u.n()).done;)!function(){var e=o.value;g(e)||(e=a.resolve(e));var t=l;try{e.then(function(e){c[t]=n?n.thenCallback(e):e,0==--s&&r(c)},function(e){n?(c[t]=n.errorCallback(e),0==--s&&r(c)):i(e)})}catch(e){i(e)}s++,l++}()}catch(e){u.e(e)}finally{u.f()}return 0==(s-=2)&&r(c),t}}]),le(T,[{key:"then",value:function(e,t){var n=this.constructor[Symbol.species];n&&"function"==typeof n||(n=this.constructor||T);var r=new n(c),n=u.current;return null==this[v]?this[m].push(n,r,e,t):S(this,n,r,e,t),r}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(e){var t=this.constructor[Symbol.species];t&&"function"==typeof t||(t=T);var n=new t(c);n[y]=y;t=u.current;return null==this[v]?this[m].push(t,n,e,e):S(this,t,n,e,e),n}},{key:Symbol.toStringTag,get:function(){return"Promise"}},{key:Symbol.species,get:function(){return T}}]),T);function T(e){if(se(this,T),!(this instanceof T))throw new Error("Must be an instanceof Promise.");this[v]=null,this[m]=[];try{e&&e(_(this,!0),_(this,!1))}catch(e){C(this,!1,e)}}E.resolve=E.resolve,E.reject=E.reject,E.race=E.race,E.all=E.all;var A=t[n]=t.Promise,P=u.__symbol__("ZoneAwarePromise"),R=i(t,"Promise");R&&!R.configurable||(R&&delete R.writable,R&&delete R.value,(R=R||{configurable:!0,enumerable:!0}).get=function(){return t[P]||t[n]},R.set=function(e){e===E?t[P]=e:((t[n]=e).prototype[o]||M(e),h.setNativePromise(e))},d(t,"Promise",R)),t.Promise=E;var I,O=e("thenPatched");function M(e){var r,t=e.prototype,n=i(t,"then");(!n||!1!==n.writable&&n.configurable)&&(r=t.then,t[o]=r,e.prototype.then=function(e,t){var n=this;return new E(function(e,t){r.call(n,e,t)}).then(e,t)},e[O]=!0)}return h.patchThen=M,A&&(M(A),"function"==typeof(A=t.fetch)&&(t[h.symbol("fetch")]=A,t.fetch=(I=A,function(){var e=I.apply(this,arguments);if(e instanceof E)return e;var t=e.constructor;return t[O]||M(t),e}))),Promise[u.__symbol__("uncaughtPromiseErrors")]=f,E});var c=Object.getOwnPropertyDescriptor,u=Object.defineProperty,y=Object.getPrototypeOf,o=Object.create,a=Array.prototype.slice,b=Zone.__symbol__("addEventListener"),_=Zone.__symbol__("removeEventListener"),k=Zone.__symbol__("");function s(e,t){return Zone.current.wrap(e,t)}function w(e,t,n,r,i){return Zone.current.scheduleMacroTask(e,t,n,r,i)}var O=Zone.__symbol__,e="undefined"!=typeof window,i=e?window:void 0,h=e&&i||"object"==typeof self&&self||global,d=[null];function l(e,t){for(var n=e.length-1;0<=n;n--)"function"==typeof e[n]&&(e[n]=s(e[n],t+"_"+n));return e}function f(e){return!e||!1!==e.writable&&("function"!=typeof e.get||void 0!==e.set)}var t="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,M=!("nw"in h)&&void 0!==h.process&&"[object process]"==={}.toString.call(h.process),p=!M&&!t&&!(!e||!i.HTMLElement),g=void 0!==h.process&&"[object process]"==={}.toString.call(h.process)&&!t&&!(!e||!i.HTMLElement),v={},m=function(e){if(e=e||h.event){var t,n=(n=v[e.type])||(v[e.type]=O("ON_PROPERTY"+e.type)),r=this||e.target||h,n=r[n];return p&&r===i&&"error"===e.type?!0===(t=n&&n.call(this,e.message,e.filename,e.lineno,e.colno,e.error))&&e.preventDefault():null==(t=n&&n.apply(this,arguments))||t||e.preventDefault(),t}};function C(n,r,e){var i,o,a,s,l=c(n,r);!l&&e&&c(e,r)&&(l={enumerable:!0,configurable:!0}),l&&l.configurable&&(e=O("on"+r+"patched"),n.hasOwnProperty(e)&&n[e]||(delete l.writable,delete l.value,i=l.get,o=l.set,a=r.substr(2),s=(s=v[a])||(v[a]=O("ON_PROPERTY"+a)),l.set=function(e){var t=this;t||n!==h||(t=h),t&&(t[s]&&t.removeEventListener(a,m),o&&o.apply(t,d),"function"==typeof e?(t[s]=e,t.addEventListener(a,m,!1)):t[s]=null)},l.get=function(){var e=this;if(e||n!==h||(e=h),!e)return null;var t=e[s];if(t)return t;if(i){t=i&&i.call(this);if(t)return l.set.call(this,t),"function"==typeof e.removeAttribute&&e.removeAttribute(r),t}return null},u(n,r,l),n[e]=!0))}function x(e,t,n){if(t)for(var r=0;r<t.length;r++)C(e,"on"+t[r],n);else{var i,o=[];for(i in e)"on"==i.substr(0,2)&&o.push(i);for(var a=0;a<o.length;a++)C(e,o[a],n)}}var S=O("originalInstance");function E(n){var t=h[n];if(t){h[O(n)]=t,h[n]=function(){var e=l(arguments,n);switch(e.length){case 0:this[S]=new t;break;case 1:this[S]=new t(e[0]);break;case 2:this[S]=new t(e[0],e[1]);break;case 3:this[S]=new t(e[0],e[1],e[2]);break;case 4:this[S]=new t(e[0],e[1],e[2],e[3]);break;default:throw new Error("Arg list too long.")}},N(h[n],t);var e,r=new t(function(){});for(e in r)"XMLHttpRequest"===n&&"responseBlob"===e||function(t){"function"==typeof r[t]?h[n].prototype[t]=function(){return this[S][t].apply(this[S],arguments)}:u(h[n].prototype,t,{set:function(e){"function"==typeof e?(this[S][t]=s(e,n+"."+t),N(this[S][t],e)):this[S][t]=e},get:function(){return this[S][t]}})}(e);for(e in t)"prototype"!==e&&t.hasOwnProperty(e)&&(h[n][e]=t[e])}}function T(e,t,n){for(var r=e;r&&!r.hasOwnProperty(t);)r=y(r);!r&&e[t]&&(r=e);var i,o=O(t),e=null;return r&&!(e=r[o])&&(e=r[o]=r[t],f(r&&c(r,t)))&&(i=n(e,o,t),r[t]=function(){return i(this,arguments)},N(r[t],e)),e}function A(e,t,i){var n=null;function o(e){var t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},n.apply(t.target,t.args),e}n=T(e,t,function(r){return function(e,t){var n=i(e,t);return 0<=n.cbIdx&&"function"==typeof t[n.cbIdx]?w(n.name,t[n.cbIdx],n,o):r.apply(e,t)}})}function N(e,t){e[O("OriginalDelegate")]=t}var n=!1,r=!1;function P(){if(n)return r;n=!0;try{var e=i.navigator.userAgent;-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(r=!0)}catch(e){}return r}Zone.__load_patch("toString",function(n){function e(){if("function"==typeof this){var e=this[i];if(e)return("function"==typeof e?r:Object.prototype.toString).call(e);if(this===Promise){var t=n[o];if(t)return r.call(t)}if(this===Error){t=n[a];if(t)return r.call(t)}}return r.call(this)}var r=Function.prototype.toString,i=O("OriginalDelegate"),o=O("Promise"),a=O("Error");e[i]=r,Function.prototype.toString=e;var t=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":t.call(this)}});var L=!1;if("undefined"!=typeof window)try{var R=Object.defineProperty({},"passive",{get:function(){L=!0}});window.addEventListener("test",R,R),window.removeEventListener("test",R,R)}catch(e){L=!1}var D={useG:!0},j={},F={},V=new RegExp("^"+k+"(\\w+)(true|false)$"),z=O("propagationStopped");function B(e,t){var n=(t?t(e):e)+"false",t=(t?t(e):e)+"true",n=k+n,t=k+t;j[e]={},j[e].false=n,j[e].true=t}function I(I,e,t){function o(e,t,n){var r,i;e.isRemoved||("object"==typeof(r=e.callback)&&r.handleEvent&&(e.callback=function(e){return r.handleEvent(e)},e.originalDelegate=r),e.invoke(e,t,[n]),(i=e.options)&&"object"==typeof i&&i.once&&t[p].call(t,n.type,e.originalDelegate||e.callback,i))}var l=t&&t.add||"addEventListener",p=t&&t.rm||"removeEventListener",u=t&&t.listeners||"eventListeners",g=t&&t.rmAll||"removeAllListeners",h=O(l),d="."+l+":",v=function(e){if(e=e||I.event){var t=this||e.target||I,n=t[j[e.type].false];if(n)if(1===n.length)o(n[0],t,e);else for(var r=n.slice(),i=0;i<r.length&&(!e||!0!==e[z]);i++)o(r[i],t,e)}},m=function(e){if(e=e||I.event){var t=this||e.target||I,n=t[j[e.type].true];if(n)if(1===n.length)o(n[0],t,e);else for(var r=n.slice(),i=0;i<r.length&&(!e||!0!==e[z]);i++)o(r[i],t,e)}};function n(e,w){if(!e)return!1;var C=!0;w&&void 0!==w.useG&&(C=w.useG);var x=w&&w.vh,S=!0;w&&void 0!==w.chkDup&&(S=w.chkDup);var f=!1;w&&void 0!==w.rt&&(f=w.rt);for(var t=e;t&&!t.hasOwnProperty(l);)t=y(t);if(!t&&e[l]&&(t=e),!t)return!1;if(t[h])return!1;var n,E=w&&w.eventNameToString,T={},r=t[h]=t[l],c=t[O(p)]=t[p],i=t[O(u)]=t[u],o=t[O(g)]=t[g];w&&w.prepend&&(n=t[O(w.prepend)]=t[w.prepend]);var a=C?function(e){if(!T.isExisting)return r.call(T.target,T.eventName,T.capture?m:v,T.options)}:function(e){return r.call(T.target,T.eventName,e.invoke,T.options)},s=C?function(e){if(!e.isRemoved){var t,n=j[e.eventName];n&&(t=n[e.capture?"true":"false"]);var r=t&&e.target[t];if(r)for(var i=0;i<r.length;i++)if(r[i]===e){r.splice(i,1),e.isRemoved=!0,0===r.length&&(e.allRemoved=!0,e.target[t]=null);break}}if(e.allRemoved)return c.call(e.target,e.eventName,e.capture?m:v,e.options)}:function(e){return c.call(e.target,e.eventName,e.invoke,e.options)},A=w&&w.diff?w.diff:function(e,t){var n=typeof t;return"function"==n&&e.callback===t||"object"==n&&e.originalDelegate===t},P=Zone[O("BLACK_LISTED_EVENTS")],R=I[O("PASSIVE_EVENTS")],e=function(v,m,y,k){var b=4<arguments.length&&void 0!==arguments[4]&&arguments[4],_=5<arguments.length&&void 0!==arguments[5]&&arguments[5];return function(){var e=this||I,t=arguments[0];w&&w.transferEventName&&(t=w.transferEventName(t));var n=arguments[1];if(!n)return v.apply(this,arguments);if(M&&"uncaughtException"===t)return v.apply(this,arguments);var r=!1;if("function"!=typeof n){if(!n.handleEvent)return v.apply(this,arguments);r=!0}if(!x||x(v,n,e,arguments)){var i=L&&!!R&&-1!==R.indexOf(t),o=(f=arguments[2],h=i,!L&&"object"==typeof f&&f?!!f.capture:L&&h?"boolean"==typeof f?{capture:f,passive:!0}:f?"object"==typeof f&&!1!==f.passive?Object.assign(Object.assign({},f),{passive:!0}):f:{passive:!0}:f);if(P)for(var a=0;a<P.length;a++)if(t===P[a])return i?v.call(e,t,n,o):v.apply(this,arguments);var s=!!o&&("boolean"==typeof o||o.capture),l=!(!o||"object"!=typeof o)&&o.once,c=Zone.current,u=j[t];u||(B(t,E),u=j[t]);var h=u[s?"true":"false"],d=e[h],f=!1;if(d){if(f=!0,S)for(var p=0;p<d.length;p++)if(A(d[p],n))return}else d=e[h]=[];u=e.constructor.name,h=F[u];h&&(g=h[t]),g=g||u+m+(E?E(t):t),T.options=o,l&&(T.options.once=!1),T.target=e,T.capture=s,T.eventName=t,T.isExisting=f;f=C?D:void 0;f&&(f.taskData=T);var g=c.scheduleEventTask(g,n,f,y,k);return T.target=null,f&&(f.taskData=null),l&&(o.once=!0),!L&&"boolean"==typeof g.options||(g.options=o),g.target=e,g.capture=s,g.eventName=t,r&&(g.originalDelegate=n),_?d.unshift(g):d.push(g),b?e:void 0}}};return t[l]=e(r,d,a,s,f),n&&(t.prependListener=e(n,".prependListener:",function(e){return n.call(T.target,T.eventName,e.invoke,T.options)},s,f,!0)),t[p]=function(){var e=this||I,t=arguments[0];w&&w.transferEventName&&(t=w.transferEventName(t));var n=arguments[2],r=!!n&&("boolean"==typeof n||n.capture),i=arguments[1];if(!i)return c.apply(this,arguments);if(!x||x(c,i,e,arguments)){var o,n=j[t];n&&(o=n[r?"true":"false"]);var a=o&&e[o];if(a)for(var s=0;s<a.length;s++){var l=a[s];if(A(l,i))return a.splice(s,1),l.isRemoved=!0,0===a.length&&(l.allRemoved=!0,e[o]=null,"string"==typeof t)&&(e[k+"ON_PROPERTY"+t]=null),l.zone.cancelTask(l),f?e:void 0}return c.apply(this,arguments)}},t[u]=function(){var e=this||I,t=arguments[0];w&&w.transferEventName&&(t=w.transferEventName(t));for(var n=[],r=H(e,E?E(t):t),i=0;i<r.length;i++){var o=r[i];n.push(o.originalDelegate||o.callback)}return n},t[g]=function(){var e=this||I,t=arguments[0];if(t){w&&w.transferEventName&&(t=w.transferEventName(t));var n=j[t];if(n){var r=e[n.false],n=e[n.true];if(r)for(var i=r.slice(),o=0;o<i.length;o++){var a=i[o];this[p].call(this,t,a.originalDelegate||a.callback,a.options)}if(n)for(var s=n.slice(),l=0;l<s.length;l++){var c=s[l];this[p].call(this,t,c.originalDelegate||c.callback,c.options)}}}else{for(var u=Object.keys(e),h=0;h<u.length;h++){var d=V.exec(u[h]),d=d&&d[1];d&&"removeListener"!==d&&this[g].call(this,d)}this[g].call(this,"removeListener")}if(f)return this},N(t[l],r),N(t[p],c),o&&N(t[g],o),i&&N(t[u],i),!0}for(var r=[],i=0;i<e.length;i++)r[i]=n(e[i],t);return r}function H(e,t){if(!t){var n,r=[];for(n in e){var i=V.exec(n),i=i&&i[1];if(i&&(!t||i===t)){var o=e[n];if(o)for(var a=0;a<o.length;a++)r.push(o[a])}}return r}var s=j[t];s||(B(t),s=j[t]);var l=e[s.false],s=e[s.true];return l?s?l.concat(s):l.slice():s?s.slice():[]}function U(e,t){e=e.Event;e&&e.prototype&&t.patchMethod(e.prototype,"stopImmediatePropagation",function(n){return function(e,t){e[z]=!0,n&&n.apply(e,t)}})}function q(o,n,a,s,r){var l,e=Zone.__symbol__(s);n[e]||(l=n[e]=n[s],n[s]=function(e,i,t){return i&&i.prototype&&r.forEach(function(e){var t,n="".concat(a,".").concat(s,"::")+e,r=i.prototype;r.hasOwnProperty(e)&&(t=o.ObjectGetOwnPropertyDescriptor(r,e))&&t.value?(t.value=o.wrapWithCurrentZone(t.value,n),o._redefineProperty(i.prototype,e,t)):r[e]&&(r[e]=o.wrapWithCurrentZone(r[e],n))}),l.call(n,e,i,t)},o.attachOriginToPatched(n[s],l))}var W=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],$=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],K=["load"],G=["blur","error","focus","load","resize","scroll","messageerror"],Z=["bounce","finish","start"],J=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],Q=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],Y=["close","error","open","message"],X=["error","message"],ee=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],W,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function te(t,e,n){if(!n||0===n.length)return e;n=n.filter(function(e){return e.target===t});if(!n||0===n.length)return e;var r=n[0].ignoreProperties;return e.filter(function(e){return-1===r.indexOf(e)})}function ne(e,t,n,r){e&&x(e,te(e,t,n),r)}function re(e,t){var n,r,i;M&&!g||Zone[e.symbol("patchEvents")]||(n="undefined"!=typeof WebSocket,r=t.__Zone_ignore_on_properties,p&&(e=[{target:i=window,ignoreProperties:["error"]}],ne(i,ee.concat(["messageerror"]),r&&r.concat(e),y(i)),ne(Document.prototype,ee,r),void 0!==i.SVGElement&&ne(i.SVGElement.prototype,ee,r),ne(Element.prototype,ee,r),ne(HTMLElement.prototype,ee,r),ne(HTMLMediaElement.prototype,$,r),ne(HTMLFrameSetElement.prototype,W.concat(G),r),ne(HTMLBodyElement.prototype,W.concat(G),r),ne(HTMLFrameElement.prototype,K,r),ne(HTMLIFrameElement.prototype,K,r),(e=i.HTMLMarqueeElement)&&ne(e.prototype,Z,r),(i=i.Worker)&&ne(i.prototype,X,r)),(i=t.XMLHttpRequest)&&ne(i.prototype,J,r),(t=t.XMLHttpRequestEventTarget)&&ne(t&&t.prototype,J,r),"undefined"!=typeof IDBIndex&&(ne(IDBIndex.prototype,Q,r),ne(IDBRequest.prototype,Q,r),ne(IDBOpenDBRequest.prototype,Q,r),ne(IDBDatabase.prototype,Q,r),ne(IDBTransaction.prototype,Q,r),ne(IDBCursor.prototype,Q,r)),n&&ne(WebSocket.prototype,Y,r))}Zone.__load_patch("util",function(e,t,n){n.patchOnProperties=x,n.patchMethod=T,n.bindArguments=l,n.patchMacroTask=A;var r=t.__symbol__("BLACK_LISTED_EVENTS"),i=t.__symbol__("UNPATCHED_EVENTS");e[i]&&(e[r]=e[i]),e[r]&&(t[r]=t[i]=e[r]),n.patchEventPrototype=U,n.patchEventTarget=I,n.isIEOrEdge=P,n.ObjectDefineProperty=u,n.ObjectGetOwnPropertyDescriptor=c,n.ObjectCreate=o,n.ArraySlice=a,n.patchClass=E,n.wrapWithCurrentZone=s,n.filterProperties=te,n.attachOriginToPatched=N,n._redefineProperty=Object.defineProperty,n.patchCallbacks=q,n.getGlobalObjects=function(){return{globalSources:F,zoneSymbolEventNames:j,eventNames:ee,isBrowser:p,isMix:g,isNode:M,TRUE_STR:"true",FALSE_STR:"false",ZONE_SYMBOL_PREFIX:k,ADD_EVENT_LISTENER_STR:"addEventListener",REMOVE_EVENT_LISTENER_STR:"removeEventListener"}}});var ie=O("zoneTask");function oe(o,i,e,a){var n=null,t=null;e+=a;var s={};function l(e){var t=e.data;return t.args[0]=function(){try{e.invoke.apply(this,arguments)}finally{e.data&&e.data.isPeriodic||("number"==typeof t.handleId?delete s[t.handleId]:t.handleId&&(t.handleId[ie]=null))}},t.handleId=n.apply(o,t.args),e}function c(e){return t(e.data.handleId)}n=T(o,i+=a,function(r){return function(e,t){if("function"!=typeof t[0])return r.apply(o,t);var n=w(i,t[0],{isPeriodic:"Interval"===a,delay:"Timeout"===a||"Interval"===a?t[1]||0:void 0,args:t},l,c);if(!n)return n;t=n.data.handleId;return"number"==typeof t?s[t]=n:t&&(t[ie]=n),t&&t.ref&&t.unref&&"function"==typeof t.ref&&"function"==typeof t.unref&&(n.ref=t.ref.bind(t),n.unref=t.unref.bind(t)),"number"==typeof t||t?t:n}}),t=T(o,e,function(i){return function(e,t){var n,r=t[0];"number"==typeof r?n=s[r]:(n=r&&r[ie])||(n=r),n&&"string"==typeof n.type?"notScheduled"!==n.state&&(n.cancelFn&&n.data.isPeriodic||0===n.runCount)&&("number"==typeof r?delete s[r]:r&&(r[ie]=null),n.zone.cancelTask(n)):i.apply(o,t)}})}Zone.__load_patch("legacy",function(e){e=e[Zone.__symbol__("legacyPatch")];e&&e()}),Zone.__load_patch("timers",function(e){oe(e,"set","clear","Timeout"),oe(e,"set","clear","Interval"),oe(e,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",function(e){oe(e,"request","cancel","AnimationFrame"),oe(e,"mozRequest","mozCancel","AnimationFrame"),oe(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",function(i,o){for(var e=["alert","prompt","confirm"],t=0;t<e.length;t++)T(i,e[t],function(n,e,r){return function(e,t){return o.current.run(n,i,t,r)}})}),Zone.__load_patch("EventTarget",function(e,t,n){n.patchEventPrototype(e,n),function(e,t){if(!Zone[t.symbol("patchEventTarget")]){for(var n=t.getGlobalObjects(),r=n.eventNames,i=n.zoneSymbolEventNames,o=n.TRUE_STR,a=n.FALSE_STR,s=n.ZONE_SYMBOL_PREFIX,l=0;l<r.length;l++){var c=r[l],u=s+(c+a),h=s+(c+o);i[c]={},i[c][a]=u,i[c][o]=h}n=e.EventTarget;n&&n.prototype&&t.patchEventTarget(e,[n&&n.prototype])}}(e,n);var r=e.XMLHttpRequestEventTarget;r&&r.prototype&&n.patchEventTarget(e,[r.prototype]),E("MutationObserver"),E("WebKitMutationObserver"),E("IntersectionObserver"),E("FileReader")}),Zone.__load_patch("on_property",function(e,t,n){re(n,e)}),Zone.__load_patch("customElements",function(e,t,n){var r,i;r=e,e=(i=n).getGlobalObjects(),n=e.isBrowser,e=e.isMix,(n||e)&&r.customElements&&"customElements"in r&&i.patchCallbacks(i,r.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}),Zone.__load_patch("XHR",function(e,a){function r(r){var i=r.data,o=i.target;o[m]=!1,o[k]=!1;var e=o[v];n||(n=o[b],s=o[_]),e&&s.call(o,"readystatechange",e);e=o[v]=function(){var e,n;o.readyState===o.DONE&&(!i.aborted&&o[m]&&"scheduled"===r.state?(e=o[a.__symbol__("loadfalse")])&&0<e.length?(n=r.invoke,r.invoke=function(){for(var e=o[a.__symbol__("loadfalse")],t=0;t<e.length;t++)e[t]===r&&e.splice(t,1);i.aborted||"scheduled"!==r.state||n.call(r)},e.push(r)):r.invoke():i.aborted||!1!==o[m]||(o[k]=!0))};return n.call(o,"readystatechange",e),o[p]||(o[p]=r),h.apply(o,i.args),o[m]=!0,r}function i(){}function o(e){e=e.data;return e.aborted=!0,d.apply(e.target,e.args)}var t,n,s,l,c,u,h,d,f;(f=e.XMLHttpRequest)&&(t=f.prototype,n=t[b],s=t[_],n||(f=e.XMLHttpRequestEventTarget)&&(f=f.prototype,n=f[b],s=f[_]),l=T(t,"open",function(){return function(e,t){return e[g]=0==t[2],e[y]=t[1],l.apply(e,t)}}),c=O("fetchTaskAborting"),u=O("fetchTaskScheduling"),h=T(t,"send",function(){return function(e,t){if(!0===a.current[u])return h.apply(e,t);if(e[g])return h.apply(e,t);var n={target:e,url:e[y],isPeriodic:!1,args:t,aborted:!1},t=w("XMLHttpRequest.send",i,n,r,o);e&&!0===e[k]&&!n.aborted&&"scheduled"===t.state&&t.invoke()}}),d=T(t,"abort",function(){return function(e,t){var n=e[p];if(n&&"string"==typeof n.type)null==n.cancelFn||n.data&&n.data.aborted||n.zone.cancelTask(n);else if(!0===a.current[c])return d.apply(e,t)}}));var p=O("xhrTask"),g=O("xhrSync"),v=O("xhrListener"),m=O("xhrScheduled"),y=O("xhrURL"),k=O("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",function(e){e.navigator&&e.navigator.geolocation&&function(i,o){for(var a=i.constructor.name,e=0;e<o.length;e++)!function(e){var t,n=o[e];if(e=i[n]){if(!f(c(i,n)))return;i[n]=(N(r,t=e),r)}function r(){return t.apply(this,l(arguments,a+"."+n))}}(e)}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",function(i,e){function t(r){return function(n){H(i,r).forEach(function(e){var t=i.PromiseRejectionEvent;t&&(t=new t(r,{promise:n.promise,reason:n.rejection}),e.invoke(t))})}}i.PromiseRejectionEvent&&(e[O("unhandledPromiseRejectionHandler")]=t("unhandledrejection"),e[O("rejectionHandledHandler")]=t("rejectionhandled"))})})?r.call(t,n,t,e):r)||(e.exports=r)},pNMO:function(e,t,n){"use strict";function r(e,t){var n=Y[e]=w($.prototype);return U(n,{type:"Symbol",tag:e,description:t}),u||(n.description=t),n}function i(e,t,n){return e===W&&i(X,t,n),m(e),t=b(t,!0),m(n),p(Y,t)?(n.enumerable?(p(e,H)&&e[H][t]&&(e[H][t]=!1),n=w(n,{enumerable:_(0,!1)})):(p(e,H)||Z(e,H,_(1,{})),e[H][t]=!0),re(e,t,n)):Z(e,t,n)}function o(t,e){m(t);var n=k(e),e=C(n).concat(ae(n));return B(e,function(e){u&&!oe.call(n,e)||i(t,e,n[e])}),t}var a=n("I+eb"),s=n("2oRo"),l=n("0GbY"),c=n("xDBR"),u=n("g6v/"),h=n("STAE"),d=n("/b8u"),f=n("0Dky"),p=n("UTVS"),g=n("6LWA"),v=n("hh1v"),m=n("glrk"),y=n("ewvW"),k=n("/GqU"),b=n("wE6v"),_=n("XGwC"),w=n("fHMY"),C=n("33Wh"),x=n("JBy8"),S=n("BX/b"),E=n("dBg+"),T=n("Bs8V"),A=n("m/L8"),P=n("0eef"),R=n("kRJp"),I=n("busE"),O=n("VpIT"),M=n("93I0"),N=n("0BK2"),L=n("kOOl"),D=n("tiKp"),j=n("5Tg+"),F=n("dG/n"),V=n("1E5z"),z=n("afO8"),B=n("tycR").forEach,H=M("hidden"),M=D("toPrimitive"),U=z.set,q=z.getterFor("Symbol"),W=Object.prototype,$=s.Symbol,K=l("JSON","stringify"),G=T.f,Z=A.f,J=S.f,Q=P.f,Y=O("symbols"),X=O("op-symbols"),ee=O("string-to-symbol-registry"),te=O("symbol-to-string-registry"),O=O("wks"),s=s.QObject,ne=!s||!s.prototype||!s.prototype.findChild,re=u&&f(function(){return 7!=w(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=G(W,t);r&&delete W[t],Z(e,t,n),r&&e!==W&&Z(W,t,r)}:Z,ie=d?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof $},oe=function(e){var t=b(e,!0),e=Q.call(this,t);return!(this===W&&p(Y,t)&&!p(X,t))&&(!(e||!p(this,t)||!p(Y,t)||p(this,H)&&this[H][t])||e)},s=function(e,t){var n=k(e),e=b(t,!0);if(n!==W||!p(Y,e)||p(X,e)){t=G(n,e);return!t||!p(Y,e)||p(n,H)&&n[H][e]||(t.enumerable=!0),t}},d=function(e){var e=J(k(e)),t=[];return B(e,function(e){p(Y,e)||p(N,e)||t.push(e)}),t},ae=function(e){var t=e===W,e=J(t?X:k(e)),n=[];return B(e,function(e){!p(Y,e)||t&&!p(W,e)||n.push(Y[e])}),n};h||(I(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");function t(e){this===W&&t.call(X,e),p(this,H)&&p(this[H],n)&&(this[H][n]=!1),re(this,n,_(1,e))}var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=L(e);return u&&ne&&re(W,n,{configurable:!0,set:t}),r(n,e)}).prototype,"toString",function(){return q(this).tag}),I($,"withoutSetter",function(e){return r(L(e),e)}),P.f=oe,A.f=i,T.f=s,x.f=S.f=d,E.f=ae,j.f=function(e){return r(D(e),e)},u&&(Z($.prototype,"description",{configurable:!0,get:function(){return q(this).description}}),c||I(W,"propertyIsEnumerable",oe,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:$}),B(C(O),function(e){F(e)}),a({target:"Symbol",stat:!0,forced:!h},{for:function(e){var t=String(e);if(p(ee,t))return ee[t];e=$(t);return ee[t]=e,te[e]=t,e},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(p(te,e))return te[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!u},{create:function(e,t){return void 0===t?w(e):o(w(e),t)},defineProperty:i,defineProperties:o,getOwnPropertyDescriptor:s}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:d,getOwnPropertySymbols:ae}),a({target:"Object",stat:!0,forced:f(function(){E.f(1)})},{getOwnPropertySymbols:function(e){return E.f(y(e))}}),K&&a({target:"JSON",stat:!0,forced:!h||f(function(){var e=$();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))})},{stringify:function(e,t,n){for(var r,i=[e],o=1;o<arguments.length;)i.push(arguments[o++]);if((v(r=t)||void 0!==e)&&!ie(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ie(t))return t}),i[1]=t,K.apply(null,i)}}),$.prototype[M]||R($.prototype,M,$.prototype.valueOf),V($,"Symbol"),N[H]=!0},piMb:function(e,t,n){"use strict";var r=n("I+eb"),i=n("tycR").every,o=n("pkCn"),n=n("rkAj"),o=o("every"),n=n("every");r({target:"Array",proto:!0,forced:!o||!n},{every:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},pjDv:function(e,t,n){var r=n("I+eb"),i=n("TfTi");r({target:"Array",stat:!0,forced:!n("HH4o")(function(e){Array.from(e)})},{from:i})},pkCn:function(e,t,n){"use strict";var r=n("0Dky");e.exports=function(e,t){var n=[][e];return!!n&&r(function(){n.call(null,t||function(){throw 1},1)})}},ppGB:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},"qHT+":function(e,t,n){var r=n("I+eb"),i=n("FF6l"),n=n("RNIs");r({target:"Array",proto:!0},{copyWithin:i}),n("copyWithin")},qePV:function(e,t,n){"use strict";function r(e){var t,n,r,i,o,a,s,l=h(e,!1);if("string"==typeof l&&2<l.length)if(43===(t=(l=m(l)).charCodeAt(0))||45===t){if(88===(e=l.charCodeAt(2))||120===e)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(o=(i=l.slice(2)).length,a=0;a<o;a++)if((s=i.charCodeAt(a))<48||r<s)return NaN;return parseInt(i,n)}return+l}var i=n("g6v/"),o=n("2oRo"),a=n("lMq5"),s=n("busE"),l=n("UTVS"),c=n("xrYK"),u=n("cVYH"),h=n("wE6v"),d=n("0Dky"),f=n("fHMY"),p=n("JBy8").f,g=n("Bs8V").f,v=n("m/L8").f,m=n("WKiH").trim,y=o.Number,k=y.prototype,b="Number"==c(f(k));if(a("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var _,w=function e(t){var t=arguments.length<1?0:t,n=this;return n instanceof e&&(b?d(function(){k.valueOf.call(n)}):"Number"!=c(n))?u(new y(r(t)),n,e):r(t)},C=i?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;C.length>x;x++)l(y,_=C[x])&&!l(w,_)&&v(w,_,g(y,_));s(o,"Number",(w.prototype=k).constructor=w)}},qxPZ:function(e,t,n){var r=n("tiKp")("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,"/./"[t](n)}catch(e){}}return!1}},"r/Vq":function(e,t,n){n("I+eb")({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},r5Og:function(e,t,n){var r=n("I+eb"),i=n("hh1v"),o=n("8YOa").onFreeze,a=n("uy83"),n=n("0Dky"),s=Object.seal;r({target:"Object",stat:!0,forced:n(function(){s(1)}),sham:!a},{seal:function(e){return s&&i(e)?s(o(e)):e}})},rB9j:function(e,t,n){"use strict";var r=n("I+eb"),n=n("kmMV");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},rKzb:function(e,t,n){"use strict";function l(e){return e.frozen||(e.frozen=new s)}function r(e,t){return o(e.entries,function(e){return e[0]===t})}var c=n("4syw"),u=n("8YOa").getWeakData,h=n("glrk"),d=n("hh1v"),f=n("GarU"),p=n("ImZN"),i=n("tycR"),g=n("UTVS"),n=n("afO8"),v=n.set,m=n.getterFor,o=i.find,a=i.findIndex,y=0,s=function(){this.entries=[]};s.prototype={get:function(e){e=r(this,e);if(e)return e[1]},has:function(e){return!!r(this,e)},set:function(e,t){var n=r(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(t){var e=a(this.entries,function(e){return e[0]===t});return~e&&this.entries.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,r,i){function o(e,t,n){var r=s(e),i=u(h(t),!0);return!0===i?l(r).set(t,n):i[r.id]=n,e}var a=e(function(e,t){f(e,a,n),v(e,{type:n,id:y++,frozen:void 0}),null!=t&&p(t,e[i],e,r)}),s=m(n);return c(a.prototype,{delete:function(e){var t=s(this);if(!d(e))return!1;var n=u(e);return!0===n?l(t).delete(e):n&&g(n,t.id)&&delete n[t.id]},has:function(e){var t=s(this);if(!d(e))return!1;var n=u(e);return!0===n?l(t).has(e):n&&g(n,t.id)}}),c(a.prototype,r?{get:function(e){var t=s(this);if(d(e)){var n=u(e);return!0===n?l(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return o(this,e,t)}}:{add:function(e){return o(this,e,!0)}}),a}}},rMz7:function(e,t,n){var r=n("I+eb"),n=n("ZOXb");r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==n},{toISOString:n})},rNhl:function(e,t,n){var r=n("I+eb"),n=n("fhKU");r({global:!0,forced:parseFloat!=n},{parseFloat:n})},rW0t:function(e,t,n){"use strict";var r=n("glrk");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},rkAj:function(e,t,n){function a(e){throw e}var s=n("g6v/"),l=n("0Dky"),c=n("UTVS"),u=Object.defineProperty,h={};e.exports=function(e,t){if(c(h,e))return h[e];var n=[][e],r=!!c(t=t||{},"ACCESSORS")&&t.ACCESSORS,i=c(t,0)?t[0]:a,o=c(t,1)?t[1]:void 0;return h[e]=!!n&&!l(function(){if(r&&!s)return!0;var e={length:-1};r?u(e,1,{enumerable:!0,get:a}):e[1]=1,n.call(e,i,o)})}},rpNk:function(e,t,n){"use strict";var r,i=n("4WOD"),o=n("kRJp"),a=n("UTVS"),s=n("tiKp"),l=n("xDBR"),c=s("iterator"),n=!1;[].keys&&("next"in(s=[].keys())?(s=i(i(s)))!==Object.prototype&&(r=s):n=!0),null==r&&(r={}),l||a(r,c)||o(r,c,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:n}},rwPt:function(e,t,n){var r=n("0Dky");e.exports=function(t){return r(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length})}},sEFX:function(e,t,n){"use strict";var r=n("AO7/"),i=n("9d/t");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},sMBO:function(e,t,n){var r=n("g6v/"),i=n("m/L8").f,n=Function.prototype,o=n.toString,a=/^\s*function ([^ (]*)/;!r||"name"in n||i(n,"name",{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(e){return""}}})},tW5y:function(e,t,n){"use strict";var r=n("hh1v"),i=n("m/L8"),o=n("4WOD"),a=n("tiKp")("hasInstance"),n=Function.prototype;a in n||i.f(n,a,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},tXUg:function(e,t,n){var r,i,o,a,s,l,c,u,h=n("2oRo"),d=n("Bs8V").f,f=n("xrYK"),p=n("LPSS").set,g=n("HNyW"),v=h.MutationObserver||h.WebKitMutationObserver,m=h.process,n=h.Promise,y="process"==f(m),d=d(h,"queueMicrotask"),d=d&&d.value;d||(r=function(){var e,t;for(y&&(e=m.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},a=y?function(){m.nextTick(r)}:v&&!g?(s=!0,l=document.createTextNode(""),new v(r).observe(l,{characterData:!0}),function(){l.data=s=!s}):n&&n.resolve?(c=n.resolve(void 0),u=c.then,function(){u.call(c,r)}):function(){p.call(h,r)}),e.exports=d||function(e){e={fn:e,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},tiKp:function(e,t,n){var r=n("2oRo"),i=n("VpIT"),o=n("UTVS"),a=n("kOOl"),s=n("STAE"),n=n("/b8u"),l=i("wks"),c=r.Symbol,u=n?c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(l[e]=s&&o(c,e)?c[e]:u("Symbol."+e)),l[e]}},tjZM:function(e,t,n){n("dG/n")("asyncIterator")},tkto:function(e,t,n){var r=n("I+eb"),i=n("ewvW"),o=n("33Wh");r({target:"Object",stat:!0,forced:n("0Dky")(function(){o(1)})},{keys:function(e){return o(i(e))}})},"tl/u":function(e,t,n){var n=n("I+eb"),r=Math.ceil,i=Math.floor;n({target:"Math",stat:!0},{trunc:function(e){return(0<e?i:r)(e)}})},toAj:function(e,t,n){"use strict";function h(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)}var r=n("I+eb"),d=n("ppGB"),f=n("QIpd"),p=n("EUja"),n=n("0Dky"),i=1..toFixed,g=Math.floor;r({target:"Number",proto:!0,forced:i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!n(function(){i.call({})})},{toFixed:function(e){function t(e,t){for(var n=-1,r=t;++n<6;)s[n]=(r+=e*s[n])%1e7,r=g(r/1e7)}function n(e){for(var t=6,n=0;0<=--t;)s[t]=g((n+=s[t])/e),n=n%e*1e7}var r,i,o=f(this),a=d(e),s=[0,0,0,0,0,0],l="",c="0",u=function(){for(var e,t=6,n="";0<=--t;)""===n&&0!==t&&0===s[t]||(e=String(s[t]),n=""===n?e:n+p.call("0",7-e.length)+e);return n};if(a<0||20<a)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return String(o);if(o<0&&(l="-",o=-o),1e-21<o)if(e=(r=function(){for(var e=0,t=o*h(2,69,1);4096<=t;)e+=12,t/=4096;for(;2<=t;)e+=1,t/=2;return e}()-69)<0?o*h(2,-r,1):o/h(2,r,1),e*=4503599627370496,0<(r=52-r)){for(t(0,e),i=a;7<=i;)t(1e7,0),i-=7;for(t(h(10,i,1),0),i=r-1;23<=i;)n(1<<23),i-=23;n(1<<i),t(1,1),n(2),c=u()}else t(0,e),t(1<<-r,0),c=u()+p.call("0",a);return 0<a?l+((u=c.length)<=a?"0."+p.call("0",a-u)+c:c.slice(0,u-a)+"."+c.slice(u-a)):l+c}})},tycR:function(e,t,n){var k=n("A2ZE"),b=n("RK3t"),_=n("ewvW"),w=n("UMSQ"),C=n("ZfDv"),x=[].push,n=function(d){var f=1==d,p=2==d,g=3==d,v=4==d,m=6==d,y=5==d||m;return function(e,t,n,r){for(var i,o,a=_(e),s=b(a),l=k(t,n,3),c=w(s.length),u=0,r=r||C,h=f?r(e,c):p?r(e,0):void 0;u<c;u++)if((y||u in s)&&(o=l(i=s[u],u,a),d))if(f)h[u]=o;else if(o)switch(d){case 3:return!0;case 5:return i;case 6:return u;case 2:x.call(h,i)}else if(v)return!1;return m?-1:g||v?v:h}};e.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6)}},uL8W:function(e,t,n){n("I+eb")({target:"Object",stat:!0,sham:!n("g6v/")},{create:n("fHMY")})},uqXc:function(e,t,n){var r=n("I+eb"),n=n("5Yz+");r({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},uy83:function(e,t,n){n=n("0Dky");e.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},vAFs:function(e,t,n){var r=n("I+eb"),n=n("0Dky"),i=Math.imul;r({target:"Math",stat:!0,forced:n(function(){return-5!=i(4294967295,5)||2!=i.length})},{imul:function(e,t){var n=+e,r=+t,e=65535&n,t=65535&r;return 0|e*t+((65535&n>>>16)*t+e*(65535&r>>>16)<<16>>>0)}})},vo4V:function(e,t,n){var r=n("90hW"),i=Math.abs,n=Math.pow,o=n(2,-52),a=n(2,-23),s=n(2,127)*(2-a),l=n(2,-126);e.exports=Math.fround||function(e){var t=i(e),n=r(e);return t<l?n*(t/l/a+1/o-1/o)*l*a:(t=(e=(1+a/o)*t)-(e-t))>s||t!=t?n*(1/0):n*t}},w1rZ:function(e,t,n){var r=n("I+eb"),n=n("fhKU");r({target:"Number",stat:!0,forced:Number.parseFloat!=n},{parseFloat:n})},wE6v:function(e,t,n){var i=n("hh1v");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},wLYn:function(e,t,n){n("I+eb")({target:"Function",proto:!0},{bind:n("BTho")})},wg0c:function(e,t,n){var r=n("2oRo"),i=n("WKiH").trim,n=n("WJkJ"),o=r.parseInt,a=/^[+-]?0[Xx]/,n=8!==o(n+"08")||22!==o(n+"0x16");e.exports=n?function(e,t){e=i(String(e));return o(e,t>>>0||(a.test(e)?16:10))}:o},x0AG:function(e,t,n){"use strict";var r=n("I+eb"),i=n("tycR").findIndex,o=n("RNIs"),n=n("rkAj"),a=!0,n=n("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),r({target:"Array",proto:!0,forced:a||!n},{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),o("findIndex")},x83w:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("fixed")},{fixed:function(){return i(this,"tt","","")}})},xDBR:function(e,t){e.exports=!1},xdBZ:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("italics")},{italics:function(){return i(this,"i","","")}})},xrYK:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},xs3f:function(e,t,n){var r=n("2oRo"),n=n("zk60"),n=r["__core-js_shared__"]||n("__core-js_shared__",{});e.exports=n},yNLB:function(e,t,n){var r=n("0Dky"),i=n("WJkJ");e.exports=function(e){return r(function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e})}},yQYn:function(e,t,n){var r=n("I+eb"),i=n("0Dky"),o=n("hh1v"),a=Object.isExtensible;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isExtensible:function(e){return!!o(e)&&(!a||a(e))}})},yWo2:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("small")},{small:function(){return i(this,"small","","")}})},yXV3:function(e,t,n){"use strict";var r=n("I+eb"),i=n("TWQb").indexOf,o=n("pkCn"),n=n("rkAj"),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,o=o("indexOf"),n=n("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:s||!o||!n},{indexOf:function(e){return s?a.apply(this,arguments)||0:i(this,e,1<arguments.length?arguments[1]:void 0)}})},yiG3:function(e,t,n){n("I+eb")({target:"Math",stat:!0},{log1p:n("HsHA")})},yoRg:function(e,t,n){var a=n("UTVS"),s=n("/GqU"),l=n("TWQb").indexOf,c=n("0BK2");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)!a(c,n)&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~l(o,n)||o.push(n));return o}},yyme:function(e,t,n){var r=n("I+eb"),i=n("gdVl"),n=n("RNIs");r({target:"Array",proto:!0},{fill:i}),n("fill")},zBJ4:function(e,t,n){var r=n("2oRo"),n=n("hh1v"),i=r.document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},zHFu:function(e,t,n){"use strict";var r=n("I+eb"),i=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("bold")},{bold:function(){return i(this,"b","","")}})},zKZe:function(e,t,n){var r=n("I+eb"),n=n("YNrV");r({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},zfnd:function(e,t,n){var r=n("glrk"),i=n("hh1v"),o=n("8GlL");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;e=o.f(e);return(0,e.resolve)(t),e.promise}},zk60:function(e,t,n){var r=n("2oRo"),i=n("kRJp");e.exports=function(t,n){try{i(r,t,n)}catch(e){r[t]=n}return n}},zuhW:function(e,t,n){var r=n("I+eb"),i=n("hh1v"),o=n("8YOa").onFreeze,a=n("uy83"),n=n("0Dky"),s=Object.preventExtensions;r({target:"Object",stat:!0,forced:n(function(){s(1)}),sham:!a},{preventExtensions:function(e){return s&&i(e)?s(o(e)):e}})}},[[2,0]]])}(),function(){function VS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zS(e,t,n){return(zS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=YS(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function BS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HS(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function US(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WS(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function $S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function KS(n){var r=o();return function(){var e,t=YS(n);return GS(this,r?(e=YS(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function GS(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ZS(e):t}function ZS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JS(e){var n="function"==typeof Map?new Map:void 0;return(JS=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return QS(e,arguments,YS(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)})(e)}function QS(e,t,n){return(QS=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);r=new(Function.bind.apply(e,r));return n&&a(r,n.prototype),r}).apply(null,arguments)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YS(e){return(YS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("BSTl")},1:function(e,t){},"2u/s":function(e,s,t){var n,r,i;function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}(n=(n=window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})).en=n.en||{}).dictionary=Object.assign(n.dictionary||{},{"%0 of %1":"%0 of %1","Align center":"Align center","Align left":"Align left","Align right":"Align right",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading","Choose language":"Choose language",Code:"Code",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Horizontal line":"Horizontal line","Image toolbar":"Image toolbar","image widget":"image widget","Increase indent":"Increase indent",Insert:"Insert","Insert code block":"Insert code block","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic",Justify:"Justify",Language:"Language","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Paragraph:"Paragraph","Plain text":"Plain text",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove Format":"Remove Format","Remove language":"Remove language","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Strikethrough:"Strikethrough","Table toolbar":"Table toolbar","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","This link has no URL":"This link has no URL","To-do List":"To-do List",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar",Yellow:"Yellow"}),window,e.exports=(i={},o.m=r=[function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(){$S(i,JS(Error));var r=KS(i);function i(e,t,n){return qS(this,i),(e=r.call(this,"".concat(e).concat(n?" "+JSON.stringify(n):"").concat(o(e)))).name="CKEditorError",e.context=t,e.data=n,e}return WS(i,[{key:"is",value:function(e){return"CKEditorError"===e}}],[{key:"rethrowUnexpectedError",value:function(e,t){if(e.is&&e.is("CKEditorError"))throw e;t=new i(e.message,t);throw t.stack=e.stack,t}}]),i}();function i(e,t){var n;(n=console).warn.apply(n,US((n=o(e),t?[e,t,n]:[e,n])))}function o(e){return"\nRead more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-"+e}},function(e,t,i){"use strict";var n,r,o=(r={},function(e){if(void 0===r[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}r[e]=t}return r[e]}),c=[];function u(e){for(var t=-1,n=0;n<c.length;n++)if(c[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s=n[a]||0,l="".concat(a," ").concat(s);n[a]=s+1;s=u(l),o={css:o[1],media:o[2],sourceMap:o[3]};-1!==s?(c[s].references++,c[s].updater(o)):c.push({identifier:l,updater:function(t,e){var n,r,i;{var o;i=e.singleton?(o=p++,n=f=f||h(e),r=d.bind(null,n,o,!1),d.bind(null,n,o,!0)):(n=h(e),r=function(e,t,n){var r=n.css,i=n.media,n=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,n,e),function(){null!==n.parentNode&&n.parentNode.removeChild(n)})}return r(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||r(t=e):i()}}(o,t),references:1}),r.push(l)}return r}function h(e){var t,n=document.createElement("style"),r=e.attributes||{};if(void 0!==r.nonce||(t=i.nc)&&(r.nonce=t),Object.keys(r).forEach(function(e){n.setAttribute(e,r[e])}),"function"==typeof e.insert)e.insert(n);else{e=o(e.insert||"head");if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(n)}return n}var a,l=(a=[],function(e,t){return a[e]=t,a.filter(Boolean).join("\n")});function d(e,t,n,r){n=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;e.styleSheet?e.styleSheet.cssText=l(t,n):(r=document.createTextNode(n),(n=e.childNodes)[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r))}var f=null,p=0;e.exports=function(e,o){(o=o||{}).singleton||"boolean"==typeof o.singleton||(o.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var a=s(e=e||[],o);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var n=u(a[t]);c[n].references--}for(var e=s(e,o),r=0;r<a.length;r++){var i=u(a[r]);0===c[i].references&&(c[i].updater(),c.splice(i,1))}a=e}}}},,function(e,t,n){"use strict";var r=n(7),n="object"==typeof self&&self&&self.Object===Object&&self,n=r.a||n||Function("return this")();t.a=n},function(e,i,o){"use strict";(function(e){var t=o(3),n=o(14),r=s&&!s.nodeType&&s,e=r&&"object"==typeof e&&e&&!e.nodeType&&e,t=e&&e.exports===r?t.a.Buffer:void 0;i.a=(t?t.isBuffer:void 0)||n.a}).call(this,o(9)(e))},function(e,o,a){"use strict";(function(e){var t=a(7),n=s&&!s.nodeType&&s,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,i=r&&r.exports===n&&t.a.process,t=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();o.a=t}).call(this,a(9)(e))},function(e,t,n){"use strict";(function(e){var t=n(0),e="object"==typeof window?window:e;if(e.CKEDITOR_VERSION)throw new t.a("ckeditor-duplicated-modules",null);e.CKEDITOR_VERSION="28.0.0"}).call(this,n(11))},function(e,t,n){"use strict";(function(e){t.a="object"==typeof e&&e&&e.Object===Object&&e}).call(this,n(11))},function(e,i,o){"use strict";(function(e){var t=o(3),n=s&&!s.nodeType&&s,e=n&&"object"==typeof e&&e&&!e.nodeType&&e,t=e&&e.exports===n?t.a.Buffer:void 0,r=t?t.allocUnsafe:void 0;i.a=function(e,t){if(t)return e.slice();t=e.length,t=r?r(t):new e.constructor(t);return e.copy(t),t}}).call(this,o(9)(e))},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,t,n){var r=n(1),n=n(76);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(1),n=n(71);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t,n){var r=n(1),n=n(117);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){var r=n(1),n=n(16);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(e,t,n){var r=n(1),n=n(18);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(e,t,n){var r=n(1),n=n(20);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{right:auto;left:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{right:auto;left:0;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{left:calc(var(--ck-tooltip-arrow-size)*-1);top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:transparent;border-bottom-color:transparent;border-right-color:var(--ck-color-tooltip-background);border-top-color:transparent;border-left-width:0;border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_w{right:calc(100% + var(--ck-tooltip-arrow-size));left:auto;top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{left:100%;top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:var(--ck-color-tooltip-background);border-bottom-color:transparent;border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:0;border-top-width:var(--ck-tooltip-arrow-size)}'},function(e,t,n){var r=n(1),n=n(22);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(var(--ck-spacing-small)*-1);margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(e,t,n){var r=n(1),n=n(24);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*0.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var(--ck-switch-button-translation)*-1))}"},function(e,t,n){var r=n(1),n=n(26);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"},function(e,t,n){var r=n(1),n=n(28);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"},function(e,t,n){var r=n(1),n=n(30);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);max-width:var(--ck-dropdown-max-width);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(e,t,n){var r=n(1),n=n(32);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(e,t,n){var r=n(1),n=n(34);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(e,t,n){var r=n(1),n=n(36);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{width:max-content;max-width:var(--ck-toolbar-dropdown-max-width)}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(e,t,n){var r=n(1),n=n(38);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var r=n(1),n=n(40);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(e,t,n){var r=n(1),n=n(42);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(e,t,n){var r=n(1),n=n(44);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}"},function(e,t,n){var r=n(1),n=n(46);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(e,t,n){var r=n(1),n=n(48);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{pointer-events:none;transform-origin:0 0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);background:var(--ck-color-labeled-field-label-background);padding:0 calc(var(--ck-font-size-tiny)*0.5);line-height:normal;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(var(--ck-font-size-base)*0.6)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-spacing-medium)*-1),calc(var(--ck-font-size-base)*0.6)) scale(1)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));background:transparent;padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}"},function(e,t,n){var r=n(1),n=n(50);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}'},function(e,t,n){var r=n(1),n=n(52);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(e,t,n){var r=n(1),n=n(54);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(e,t,n){var r=n(1),n=n(56);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var r=n(1),n=n(58);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}"},function(e,t,n){var r=n(1),n=n(60);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-placeholder,.ck .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{position:absolute;left:0;right:0;content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(e,t,n){var r=n(1),n=n(62);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(e,t,n){var r=n(1),n=n(64);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(var(--ck-widget-outline-thickness)*-0.5);left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-0.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}'},function(e,t,n){var r=n(1),n=n(66);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness));top:0}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(e,t,n){var r=n(1),n=n(68);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;position:relative;pointer-events:none}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-left:-1px}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{content:"";width:0;height:0;display:block;position:absolute;left:50%;top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);transform:translateX(-50%);border-left:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-bottom:0 solid transparent;border-right:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-top:calc(var(--ck-clipboard-drop-target-dot-height)) solid var(--ck-clipboard-drop-target-color)}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}'},function(e,t,n){var r=n(1),n=n(70);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(e,t){e.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(e,t,n){var r=n(1),n=n(73);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}"},function(e,t,n){var r=n(1),n=n(75);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}"},function(e,t){e.exports='.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-text-width)*0.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-large);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}'},function(e,t,n){var r=n(1),n=n(78);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:50px}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{position:static}"},function(e,t,n){var r=n(1),n=n(80);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(e,t,n){var r=n(1),n=n(82);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(e,t,n){var r=n(1),n=n(84);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(e,t,n){var r=n(1),n=n(86);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(e,t,n){var r=n(1),n=n(88);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}"},function(e,t,n){var r=n(1),n=n(90);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(e,t,n){var r=n(1),n=n(92);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}"},function(e,t,n){var r=n(1),n=n(94);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(e,t,n){var r=n(1),n=n(96);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(e,t,n){var r=n(1),n=n(98);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(e,t,n){var r=n(1),n=n(100);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}"},function(e,t,n){var r=n(1),n=n(102);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content pre{padding:1em;color:#353535;background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;text-align:left;direction:ltr;tab-size:4;white-space:pre-wrap;font-style:normal;min-width:200px}.ck-content pre code{background:unset;padding:0;border-radius:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{top:-1px;right:10px;background:var(--ck-color-code-block-label-background);font-size:10px;font-family:var(--ck-font-face);line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);color:#fff;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-y:auto;overflow-x:hidden}"},function(e,t,n){var r=n(1),n=n(104);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-mention-list-max-height:300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-y:auto;overflow-x:hidden;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{overflow:hidden;flex-shrink:0}"},function(e,t,n){var r=n(1),n=n(106);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-color-mention-background:rgba(153,0,48,0.1);--ck-color-mention-text:#990030}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}"},function(e,t,n){var r=n(1),n=n(108);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{margin:15px 0;height:4px;background:#dedede;border:0}"},function(e,t,n){var r=n(1),n=n(110);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;display:inline-block;position:relative;width:var(--ck-todo-list-checkmark-size);height:var(--ck-todo-list-checkmark-size);vertical-align:middle;border:0;left:-25px;margin-right:-15px;right:0;margin-left:0}.ck-content .todo-list .todo-list__label>input:before{display:block;position:absolute;box-sizing:border-box;content:"";width:100%;height:100%;border:1px solid #333;border-radius:2px;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out}.ck-content .todo-list .todo-list__label>input:after{display:block;position:absolute;box-sizing:content-box;pointer-events:none;content:"";left:calc(var(--ck-todo-list-checkmark-size)/3);top:calc(var(--ck-todo-list-checkmark-size)/5.3);width:calc(var(--ck-todo-list-checkmark-size)/5.3);height:calc(var(--ck-todo-list-checkmark-size)/2.6);border-left:0 solid transparent;border-bottom:calc(var(--ck-todo-list-checkmark-size)/8) solid transparent;border-right:calc(var(--ck-todo-list-checkmark-size)/8) solid transparent;border-top:0 solid transparent;transform:rotate(45deg)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-right:0;right:-25px;margin-left:-15px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}'},function(e,t,n){var r=n(1),n=n(112);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}"},function(e,t,n){var r=n(1),n=n(114);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{display:block;width:100%;margin:var(--ck-spacing-standard) auto;border:1px solid #ccc;border-radius:var(--ck-border-radius)}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{padding:0;margin:0;border:none}"},function(e,t,n){var r=n(1),n=n(116);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-link-image_icon{position:absolute;top:var(--ck-spacing-medium);right:var(--ck-spacing-medium);width:28px;height:28px;padding:4px;box-sizing:border-box;border-radius:var(--ck-border-radius)}.ck.ck-link-image_icon svg{fill:currentColor}.ck.ck-link-image_icon{color:#fff;background:rgba(0,0,0,.4)}"},function(e,t){e.exports=".ck-content code{background-color:hsla(0,0%,78%,.3);padding:.15em;border-radius:2px}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}"},function(e,t,n){var r=n(1),n=n(119);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]),r(n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content span[lang]{font-style:italic}"},function(e,t,n){"use strict";var a=regeneratorRuntime.mark(gs),s=regeneratorRuntime.mark(vs),o=regeneratorRuntime.mark(Pu);n.r(t),n.d(t,"default",function(){return qm});var h=function e(t,n){qS(this,e),this.source=t,this.name=n,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}},i=new Array(256).fill().map(function(e,t){return("0"+t.toString(16)).slice(-2)});function u(){var e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+i[e>>0&255]+i[e>>8&255]+i[e>>16&255]+i[e>>24&255]+i[t>>0&255]+i[t>>8&255]+i[t>>16&255]+i[t>>24&255]+i[n>>0&255]+i[n>>8&255]+i[n>>16&255]+i[n>>24&255]+i[r>>0&255]+i[r>>8&255]+i[r>>16&255]+i[r>>24&255]}var d={get:function(e){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},C=(n(6),n(0)),l=Symbol("listeningTo"),r=Symbol("emitterId"),c={on:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.listenTo(this,e,t,n)},once:function(e,i,t){var o=!1;this.listenTo(this,e,function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o||(o=!0,e.off(),i.call.apply(i,[this,e].concat(n)))},t)},off:function(e,t){this.stopListening(this,e,t)},listenTo:function(e,t,n){var r,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};this[l]||(this[l]={});var o=this[l];p(e)||f(e);var a=p(e);(r=o[a])||(r=o[a]={emitter:e,callbacks:{}}),(a=r.callbacks[t])||(a=r.callbacks[t]=[]),a.push(n),a=this,t=t,n=n,i=i,(e=e)._addEventListener?e._addEventListener(t,n,i):a._addEventListener.call(e,t,n,i)},stopListening:function(e,t,n){var r=this[l],i=e&&p(e),o=r&&i&&r[i],a=o&&t&&o.callbacks[t];if(!(!r||e&&!o||t&&!a))if(n)y(this,e,t,n),-1!==a.indexOf(n)&&(1===a.length?delete o.callbacks[t]:y(this,e,t,n));else if(a){for(;n=a.pop();)y(this,e,t,n);delete o.callbacks[t]}else if(o){for(t in o.callbacks)this.stopListening(e,t);delete r[i]}else{for(i in r)this.stopListening(r[i].emitter);delete this[l]}},fire:function(e){try{for(var t,n,r=e instanceof h?e:new h(this,e),i=r.name,o=function e(t,n){var r;return t._events&&(r=t._events[n])&&r.callbacks.length?r.callbacks:-1<n.indexOf(":")?e(t,n.substr(0,n.lastIndexOf(":"))):null}(this,i),a=arguments.length,s=new Array(1<a?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];if(r.path.push(this),o)for(var c=[r].concat(s),o=Array.from(o),u=0;u<o.length&&(o[u].callback.apply(this,c),r.off.called&&(delete r.off.called,this._removeEventListener(i,o[u].callback)),!r.stop.called);u++);return this._delegations&&(t=this._delegations.get(i),n=this._delegations.get("*"),t&&m(t,r,s),n&&m(n,r,s)),r.return}catch(e){C.a.rethrowUnexpectedError(e,this)}},delegate:function(){for(var i=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{to:function(n,r){i._delegations||(i._delegations=new Map),t.forEach(function(e){var t=i._delegations.get(e);t?t.set(n,r):i._delegations.set(e,new Map([[n,r]]))})}}},stopDelegating:function(e,t){var n;this._delegations&&(e?t?(n=this._delegations.get(e))&&n.delete(t):this._delegations.delete(e):this._delegations.clear())},_addEventListener:function(e,t,n){!function(e,t){var n=g(e);if(!n[t]){for(var r=t,i=null,o=[];""!==r&&!n[r];)n[r]={callbacks:[],childEvents:[]},o.push(n[r]),i&&n[r].childEvents.push(i),r=(i=r).substr(0,r.lastIndexOf(":"));if(""!==r){var a,s=HS(o);try{for(s.s();!(a=s.n()).done;)a.value.callbacks=n[r].callbacks.slice()}catch(e){s.e(e)}finally{s.f()}n[r].childEvents.push(i)}}}(this,e);var r,e=v(this,e),i=d.get(n.priority),o={callback:t,priority:i},a=HS(e);try{for(a.s();!(r=a.n()).done;){for(var s=r.value,l=!1,c=0;c<s.length;c++)if(s[c].priority<i){s.splice(c,0,o),l=!0;break}l||s.push(o)}}catch(e){a.e(e)}finally{a.f()}},_removeEventListener:function(e,t){var n,r=HS(v(this,e));try{for(r.s();!(n=r.n()).done;)for(var i=n.value,o=0;o<i.length;o++)i[o].callback==t&&(i.splice(o,1),o--)}catch(e){r.e(e)}finally{r.f()}}};function f(e,t){e[r]||(e[r]=t||u())}function p(e){return e[r]}function g(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function v(e,t){var n=g(e)[t];if(!n)return[];for(var r=[n.callbacks],i=0;i<n.childEvents.length;i++)var o=v(e,n.childEvents[i]),r=r.concat(o);return r}function m(e,t,n){var r=HS(e);try{for(r.s();!(o=r.n()).done;){var i=BS(o.value,2),o=i[0],i=i[1];i?"function"==typeof i&&(i=i(t.name)):i=t.name;i=new h(t.source,i);i.path=US(t.path),o.fire.apply(o,[i].concat(US(n)))}}catch(e){r.e(e)}finally{r.f()}}function y(e,t,n,r){t._removeEventListener?t._removeEventListener(n,r):e._removeEventListener.call(t,n,r)}function k(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function b(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":U&&U in Object(e)?function(e){var t=V.call(e,B),n=e[B];try{var r=!(e[B]=void 0)}catch(e){}var i=z.call(e);return r&&(t?e[B]=n:delete e[B]),i}(e):H.call(e)}function _(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function w(e,t){return e=null==e?void 0:e[t],!k(t=e)||$&&$ in t||!(q(t)?Z:G).test(_(t))?void 0:e}function x(e,t,n){"__proto__"==t&&J?J(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function S(e,t){return e===t||e!=e&&t!=t}function E(e,t,n){var r=e[t];Q.call(e,t)&&S(r,n)&&(void 0!==n||t in e)||x(e,t,n)}function T(e,t,n,r){var i=!n;n=n||{};for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),(i?x:E)(n,s,l)}return n}function A(e){return e}function P(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}function R(e){return null!=e&&P(e.length)&&!q(e)}function I(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&te.test(e))&&-1<e&&e%1==0&&e<t}function O(e){return null!=e&&"object"==typeof e}var M,N,L,D=n(3),j=D.a.Symbol,F=Object.prototype,V=F.hasOwnProperty,z=F.toString,B=j?j.toStringTag:void 0,H=Object.prototype.toString,U=j?j.toStringTag:void 0,q=function(e){if(!k(e))return!1;e=b(e);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},W=D.a["__core-js_shared__"],$=(Be=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+Be:"",K=Function.prototype.toString,G=/^\[object .+?Constructor\]$/,Z=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=function(){try{var e=w(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Q=Object.prototype.hasOwnProperty,Y=Math.max,X=Date.now,ee=(M=J?function(e,t){return J(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:A,L=N=0,function(){var e=X(),t=16-(e-L);if(L=e,0<t){if(800<=++N)return arguments[0]}else N=0;return M.apply(void 0,arguments)}),te=/^(?:0|[1-9]\d*)$/,ne=function(s){return ee((o=e=function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:void 0,o=2<r?t[2]:void 0,i=3<s.length&&"function"==typeof i?(r--,i):void 0;for(o&&function(e,t,n){if(k(n)){var r=typeof t;return("number"==r?R(n)&&I(t,n.length):"string"==r&&t in n)&&S(n[t],e)}}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&s(e,a,n,i)}return e},l=A,a=Y((a=void 0)===a?o.length-1:a,0),function(){for(var e=arguments,t=-1,n=Y(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];t=-1;for(var i=Array(a+1);++t<a;)i[t]=e[t];return i[a]=l(r),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(o,this,i)}),e+"");var e,o,a,l},re=function(e){return O(e)&&"[object Arguments]"==b(e)},ie=Object.prototype,oe=ie.hasOwnProperty,ae=ie.propertyIsEnumerable,se=re(function(){return arguments}())?re:function(e){return O(e)&&oe.call(e,"callee")&&!ae.call(e,"callee")},le=Array.isArray,ce=n(4),ue={};ue["[object Float32Array]"]=ue["[object Float64Array]"]=ue["[object Int8Array]"]=ue["[object Int16Array]"]=ue["[object Int32Array]"]=ue["[object Uint8Array]"]=ue["[object Uint8ClampedArray]"]=ue["[object Uint16Array]"]=ue["[object Uint32Array]"]=!0,ue["[object Arguments]"]=ue["[object Array]"]=ue["[object ArrayBuffer]"]=ue["[object Boolean]"]=ue["[object DataView]"]=ue["[object Date]"]=ue["[object Error]"]=ue["[object Function]"]=ue["[object Map]"]=ue["[object Number]"]=ue["[object Object]"]=ue["[object RegExp]"]=ue["[object Set]"]=ue["[object String]"]=ue["[object WeakMap]"]=!1;function he(e,t){var n,r=le(e),i=!r&&se(e),o=!r&&!i&&Object(ce.a)(e),a=!r&&!i&&!o&&ge(e),s=r||i||o||a,l=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=l.length;for(n in e)!t&&!ve.call(e,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||I(n,c))||l.push(n);return l}function de(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||me)}function fe(e){return R(e)?he(e,!0):function(n){if(!k(n))return function(){var e=[];if(null!=n)for(var t in Object(n))e.push(t);return e}();var e,t=de(n),r=[];for(e in n)("constructor"!=e||!t&&ye.call(n,e))&&r.push(e);return r}(e)}var pe=function(t){return function(e){return t(e)}},t=n(5),F=t.a&&t.a.isTypedArray,ge=F?pe(F):function(e){return O(e)&&P(e.length)&&!!ue[b(e)]},ve=Object.prototype.hasOwnProperty,me=Object.prototype,ye=Object.prototype.hasOwnProperty,ke=ne(function(e,t){T(t,fe(t),e)}),be=Symbol("observableProperties"),_e=Symbol("boundObservables"),we=Symbol("boundProperties"),Ce=Symbol("decoratedMethods"),xe=Symbol("decoratedOriginal"),W={set:function(r,e){var t=this;if(k(r))Object.keys(r).forEach(function(e){t.set(e,r[e])},this);else{Ee(this);var i=this[be];if(r in this&&!i.has(r))throw new C.a("observable-set-cannot-override",this);Object.defineProperty(this,r,{enumerable:!0,configurable:!0,get:function(){return i.get(r)},set:function(e){var t=i.get(r),n=this.fire("set:"+r,r,e,t);void 0===n&&(n=e),t===n&&i.has(r)||(i.set(r,n),this.fire("change:"+r,r,n,t))}}),this[r]=e}},bind:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length||!Pe(n))throw new C.a("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new C.a("observable-bind-duplicate-properties",this);Ee(this);var i=this[we];n.forEach(function(e){if(i.has(e))throw new C.a("observable-bind-rebind",t)});var o=new Map;return n.forEach(function(e){var t={property:e,to:[]};i.set(e,t),o.set(e,t)}),{to:Te,toMany:Ae,_observable:this,_bindProperties:n,_to:[],_bindings:o}},unbind:function(){var a=this;if(this[be]){for(var s=this[we],l=this[_e],e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length){if(!Pe(t))throw new C.a("observable-unbind-wrong-properties",this);t.forEach(function(e){var t,n,r,i,o=s.get(e);o&&(o.to.forEach(function(e){t=e[0],n=e[1],r=l.get(t),(i=r[n]).delete(o),i.size||delete r[n],Object.keys(r).length||(l.delete(t),a.stopListening(t,"change"))}),s.delete(e))})}else l.forEach(function(e,t){a.stopListening(t,"change")}),l.clear(),s.clear()}},decorate:function(r){var n=this,i=this[r];if(!i)throw new C.a("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:r});this.on(r,function(e,t){e.return=i.apply(n,t)}),this[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.fire(r,t)},this[r][xe]=i,this[Ce]||(this[Ce]=[]),this[Ce].push(r)}};ke(W,c),W.stopListening=function(e,t,n){if(!e&&this[Ce]){var r=HS(this[Ce]);try{for(r.s();!(i=r.n()).done;){var i=i.value;this[i]=this[i][xe]}}catch(e){r.e(e)}finally{r.f()}delete this[Ce]}c.stopListening.call(this,e,t,n)};var Se=W;function Ee(e){e[be]||(Object.defineProperty(e,be,{value:new Map}),Object.defineProperty(e,_e,{value:new Map}),Object.defineProperty(e,we,{value:new Map}))}function Te(){var o,l,c,t=this,e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new C.a("observable-bind-to-parse-error",null);var r,i={to:[]};return"function"==typeof t[t.length-1]&&(i.callback=t.pop()),t.forEach(function(e){if("string"==typeof e)r.properties.push(e);else{if("object"!=typeof e)throw new C.a("observable-bind-to-parse-error",null);r={observable:e,properties:[]},i.to.push(r)}}),i}.apply(void 0,arguments),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&1<e.to.length)throw new C.a("observable-bind-to-no-callback",this);if(1<r&&e.callback)throw new C.a("observable-bind-to-extra-callback",this);e.to.forEach(function(e){if(e.properties.length&&e.properties.length!==r)throw new C.a("observable-bind-to-properties-length",t);e.properties.length||(e.properties=t._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),o=this._observable,this._to.forEach(function(n){var r,i=o[_e];i.get(n.observable)||o.listenTo(n.observable,"change",function(e,t){(r=i.get(n.observable)[t])&&r.forEach(function(e){Re(o,e.property)})})}),(l=this)._bindings.forEach(function(a,s){l._to.forEach(function(e){var t,n,r,i,o;c=e.properties[a.callback?0:l._bindProperties.indexOf(s)],a.to.push([e.observable,c]),t=l._observable,n=a,r=e.observable,i=c,o=t[_e],e=o.get(r),(t=e||{})[i]||(t[i]=new Set),t[i].add(n),e||o.set(r,t)})}),this._bindProperties.forEach(function(e){Re(t._observable,e)})}function Ae(e,t,n){if(1<this._bindings.size)throw new C.a("observable-bind-to-many-not-one-binding",this);var r;this.to.apply(this,US((r=t,e=e.map(function(e){return[e,r]}),Array.prototype.concat.apply([],e))).concat([n]))}function Pe(e){return e.every(function(e){return"string"==typeof e})}function Re(e,t){var n=e[we].get(t),r=n.callback?n.callback.apply(e,n.to.map(function(e){return e[0][e[1]]})):(r=n.to[0])[0][r[1]];Object.prototype.hasOwnProperty.call(e,t)?e[t]=r:e.set(t,r)}function Ie(r){for(var e=arguments.length,t=new Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];t.forEach(function(n){Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n)).forEach(function(e){var t;e in r.prototype||((t=Object.getOwnPropertyDescriptor(n,e)).enumerable=!1,Object.defineProperty(r.prototype,e,t))})})}var Oe=(WS(Me,[{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",Ne,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",Ne),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]),Me);function Me(e){qS(this,Me),this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}function Ne(e){e.return=!1,e.stop()}Ie(Oe,Se);var Le=(WS(De,[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",je,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",je),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]),De);function De(e){var r=this;qS(this,De),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",function(){r.refresh()}),this.on("execute",function(e){r.isEnabled||e.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",function(e,t,n){n?r.forceDisabled("readOnlyMode"):r.clearForceDisabled("readOnlyMode")})}function je(e){e.return=!1,e.stop()}Ie(Le,Se);function Fe(e){return O(e)&&"[object Object]"==b(e)&&(null===(e=He(e))||"function"==typeof(e=qe.call(e,"constructor")&&e.constructor)&&e instanceof e&&Ue.call(e)==We)}function Ve(e,t){for(var n=e.length;n--;)if(S(e[n][0],t))return n;return-1}var ze=function(){$S(n,Le);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e))._childCommands=[],e}return WS(n,[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var e=this._getFirstEnabledCommand(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=e&&e.execute(n)}},{key:"registerChildCommand",value:function(e){var t=this;this._childCommands.push(e),e.on("change:isEnabled",function(){return t._checkEnabled()}),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find(function(e){return e.isEnabled})}}]),n}(),Be=function(t,n){return function(e){return t(n(e))}},He=Be(Object.getPrototypeOf,Object),Ue=Function.prototype.toString,qe=Object.prototype.hasOwnProperty,We=Ue.call(Object),$e=Array.prototype.splice;function Ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ke.prototype.clear=function(){this.__data__=[],this.size=0},Ke.prototype.delete=function(e){var t=this.__data__,e=Ve(t,e);return!(e<0||(e==t.length-1?t.pop():$e.call(t,e,1),--this.size,0))},Ke.prototype.get=function(e){var t=this.__data__,e=Ve(t,e);return e<0?void 0:t[e][1]},Ke.prototype.has=function(e){return-1<Ve(this.__data__,e)},Ke.prototype.set=function(e,t){var n=this.__data__,r=Ve(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Ge=Ke,Ze=w(D.a,"Map"),Je=w(Object,"create"),Qe=Object.prototype.hasOwnProperty,Ye=Object.prototype.hasOwnProperty;function Xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xe.prototype.clear=function(){this.__data__=Je?Je(null):{},this.size=0},Xe.prototype.delete=function(e){e=this.has(e)&&delete this.__data__[e];return this.size-=e?1:0,e},Xe.prototype.get=function(e){var t=this.__data__;if(Je){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Qe.call(t,e)?t[e]:void 0},Xe.prototype.has=function(e){var t=this.__data__;return Je?void 0!==t[e]:Ye.call(t,e)},Xe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Je&&void 0===t?"__lodash_hash_undefined__":t,this};function et(e,t){var n=e.__data__;return("string"==(e=typeof t)||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}var tt=Xe;function nt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}nt.prototype.clear=function(){this.size=0,this.__data__={hash:new tt,map:new(Ze||Ge),string:new tt}},nt.prototype.delete=function(e){e=et(this,e).delete(e);return this.size-=e?1:0,e},nt.prototype.get=function(e){return et(this,e).get(e)},nt.prototype.has=function(e){return et(this,e).has(e)},nt.prototype.set=function(e,t){var n=et(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var rt=nt;function it(e){e=this.__data__=new Ge(e);this.size=e.size}it.prototype.clear=function(){this.__data__=new Ge,this.size=0},it.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},it.prototype.get=function(e){return this.__data__.get(e)},it.prototype.has=function(e){return this.__data__.has(e)},it.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ge){var r=n.__data__;if(!Ze||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new rt(r)}return n.set(e,t),this.size=n.size,this};function ot(e){return(R(e)?he:function(e){if(!de(e))return ht(e);var t,n=[];for(t in Object(e))dt.call(e,t)&&"constructor"!=t&&n.push(t);return n})(e)}function at(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}function st(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function lt(e,t,n){return t=t(e),le(e)?t:st(t,n(e))}function ct(e){return lt(e,ot,vt)}var ut=it,ht=Be(Object.keys,Object),dt=Object.prototype.hasOwnProperty,ft=n(8),ie=function(){return[]},pt=Object.prototype.propertyIsEnumerable,gt=Object.getOwnPropertySymbols,vt=gt?function(s){return null==s?[]:(s=Object(s),function(e){for(var t,n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t=a,pt.call(s,t)&&(o[i++]=a)}return o}(gt(s)))}:ie,mt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)st(t,vt(e)),e=He(e);return t}:ie,re=w(D.a,"DataView"),F=w(D.a,"Promise"),W=w(D.a,"Set"),Be=w(D.a,"WeakMap"),yt=_(re),kt=_(Ze),bt=_(F),_t=_(W),wt=_(Be),ie=b;(re&&"[object DataView]"!=ie(new re(new ArrayBuffer(1)))||Ze&&"[object Map]"!=ie(new Ze)||F&&"[object Promise]"!=ie(F.resolve())||W&&"[object Set]"!=ie(new W)||Be&&"[object WeakMap]"!=ie(new Be))&&(ie=function(e){var t=b(e),e="[object Object]"==t?e.constructor:void 0,e=e?_(e):"";if(e)switch(e){case yt:return"[object DataView]";case kt:return"[object Map]";case bt:return"[object Promise]";case _t:return"[object Set]";case wt:return"[object WeakMap]"}return t});function Ct(e){var t=new e.constructor(e.byteLength);return new At(t).set(new At(e)),t}function xt(e,t){return t=t?Ct(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)}function St(e){return"function"!=typeof e.constructor||de(e)?{}:Ot(He(e))}var Et=ie,Tt=Object.prototype.hasOwnProperty,At=D.a.Uint8Array,Pt=/\w*$/,Be=j?j.prototype:void 0,Rt=Be?Be.valueOf:void 0,It=Object.create,Ot=function(e){if(!k(e))return{};if(It)return It(e);Dt.prototype=e;e=new Dt;return Dt.prototype=void 0,e},ie=t.a&&t.a.isMap,Mt=ie?pe(ie):function(e){return O(e)&&"[object Map]"==Et(e)},Be=t.a&&t.a.isSet,Nt=Be?pe(Be):function(e){return O(e)&&"[object Set]"==Et(e)},Lt={};function Dt(){}Lt["[object Arguments]"]=Lt["[object Array]"]=Lt["[object ArrayBuffer]"]=Lt["[object DataView]"]=Lt["[object Boolean]"]=Lt["[object Date]"]=Lt["[object Float32Array]"]=Lt["[object Float64Array]"]=Lt["[object Int8Array]"]=Lt["[object Int16Array]"]=Lt["[object Int32Array]"]=Lt["[object Map]"]=Lt["[object Number]"]=Lt["[object Object]"]=Lt["[object RegExp]"]=Lt["[object Set]"]=Lt["[object String]"]=Lt["[object Symbol]"]=Lt["[object Uint8Array]"]=Lt["[object Uint8ClampedArray]"]=Lt["[object Uint16Array]"]=Lt["[object Uint32Array]"]=!0,Lt["[object Error]"]=Lt["[object Function]"]=Lt["[object WeakMap]"]=!1;function jt(o,a,s,e,t,l){var c,n=1&a,r=2&a,i=4&a;if(s&&(c=t?s(o,e,t,l):s(o)),void 0!==c)return c;if(!k(o))return o;var u,h,d,f=le(o);if(f){if(e=(d=o).length,g=new d.constructor(e),e&&"string"==typeof d[0]&&Tt.call(d,"index")&&(g.index=d.index,g.input=d.input),c=g,!n)return at(o,c)}else{var p=Et(o),g="[object Function]"==p||"[object GeneratorFunction]"==p;if(Object(ce.a)(o))return Object(ft.a)(o,n);if("[object Object]"==p||"[object Arguments]"==p||g&&!t){if(c=r||g?{}:St(o),!n)return r?(u=o,h=(h=c)&&T(o,fe(o),h),T(u,mt(u),h)):(u=o,h=(h=c)&&T(o,ot(o),h),T(u,vt(u),h))}else{if(!Lt[p])return t?o:{};c=function(e,t){var n,r,i=e.constructor;switch(p){case"[object ArrayBuffer]":return Ct(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return n=e,r=t?Ct(n.buffer):n.buffer,new n.constructor(r,n.byteOffset,n.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return xt(e,t);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return(n=new(r=e).constructor(r.source,Pt.exec(r))).lastIndex=r.lastIndex,n;case"[object Set]":return new i;case"[object Symbol]":return Rt?Object(Rt.call(e)):{}}}(o,n)}}if(n=(l=l||new ut).get(o))return n;l.set(o,c),Nt(o)?o.forEach(function(e){c.add(jt(e,a,s,e,o,l))}):Mt(o)&&o.forEach(function(e,t){c.set(t,jt(e,a,s,t,o,l))});var v=f?void 0:(i?r?function(e){return lt(e,fe,mt)}:ct:r?fe:ot)(o);return function(e){for(var t,n,r=-1,i=null==e?0:e.length;++r<i&&!1!==(t=e[r],n=r,v&&(t=o[n=t]),void E(c,n,jt(t,a,s,n,o,l))););}(v||o),c}var Ft=function(e,t){return jt(e,5,t="function"==typeof t?t:void 0)},Vt=function(e){return O(e)&&1===e.nodeType&&!Fe(e)},zt=(WS(Bt,[{key:"set",value:function(e,t){this._setToTarget(this._config,e,t)}},{key:"define",value:function(e,t){this._setToTarget(this._config,e,t,!0)}},{key:"get",value:function(e){return this._getFromSource(this._config,e)}},{key:"names",value:regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=Object.keys(this._config);case 1:if(t<n.length)return r=n[t],e.next=5,r;e.next=8;break;case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},e,this)})},{key:"_setToTarget",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(Fe(t))this._setObjectToTarget(e,t,r);else{var i=t.split(".");t=i.pop();var o=HS(i);try{for(o.s();!(a=o.n()).done;){var a=a.value;Fe(e[a])||(e[a]={}),e=e[a]}}catch(e){o.e(e)}finally{o.f()}if(Fe(n))return Fe(e[t])||(e[t]={}),void this._setObjectToTarget(e=e[t],n,r);r&&void 0!==e[t]||(e[t]=n)}}},{key:"_getFromSource",value:function(e,t){var n=t.split(".");t=n.pop();var r=HS(n);try{for(r.s();!(i=r.n()).done;){var i=i.value;if(!Fe(e[i])){e=null;break}e=e[i]}}catch(e){r.e(e)}finally{r.f()}return e?Ht(e[t]):void 0}},{key:"_setObjectToTarget",value:function(t,n,r){var i=this;Object.keys(n).forEach(function(e){i._setToTarget(t,e,n[e],r)})}}]),Bt);function Bt(e,t){qS(this,Bt),this._config={},t&&this.define(Ht(t)),e&&this._setObjectToTarget(this._config,e)}function Ht(e){return Ft(e,Ut)}function Ut(e){return Vt(e)?e:void 0}function qt(e){return!(!e||!e[Symbol.iterator])}var Wt=(WS($t,[{key:"add",value:function(e,t){return this.addMany([e],t)}},{key:"addMany",value:function(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new C.a("collection-add-item-invalid-index",this);for(var n=0;n<e.length;n++){var r=e[n],i=this._getItemIdBeforeAdding(r),o=t+n;this._items.splice(o,0,r),this._itemMap.set(i,r),this.fire("add",r,o)}return this.fire("change",{added:e,removed:[],index:t}),this}},{key:"get",value:function(e){var t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new C.a("collection-get-invalid-arg",this);t=this._items[e]}return t||null}},{key:"has",value:function(e){return this._itemMap.has("string"==typeof e?e:e[this._idProperty])}},{key:"getIndex",value:function(e){e="string"==typeof e?this._itemMap.get(e):e;return this._items.indexOf(e)}},{key:"remove",value:function(e){var t=BS(this._remove(e),2),e=t[0],t=t[1];return this.fire("change",{added:[],removed:[e],index:t}),e}},{key:"map",value:function(e,t){return this._items.map(e,t)}},{key:"find",value:function(e,t){return this._items.find(e,t)}},{key:"filter",value:function(e,t){return this._items.filter(e,t)}},{key:"clear",value:function(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);for(var e=Array.from(this._items);this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}},{key:"bindTo",value:function(e){var n=this;if(this._bindToCollection)throw new C.a("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:function(t){n._setUpBindToBinding(function(e){return new t(e)})},using:function(t){n._setUpBindToBinding("function"==typeof t?function(e){return t(e)}:function(e){return e[t]})}}}},{key:"_setUpBindToBinding",value:function(h){function e(e,t,n){var r=f._bindToCollection==d,i=f._bindToInternalToExternalMap.get(t);if(r&&i)d._bindToExternalToInternalMap.set(t,i),d._bindToInternalToExternalMap.set(i,t);else{i=h(t);if(i){var o,a=n,s=HS(d._skippedIndexesFromExternal);try{for(s.s();!(o=s.n()).done;)n>o.value&&a--}catch(e){s.e(e)}finally{s.f()}var l,c=HS(f._skippedIndexesFromExternal);try{for(c.s();!(l=c.n()).done;)a>=l.value&&a++}catch(e){c.e(e)}finally{c.f()}d._bindToExternalToInternalMap.set(t,i),d._bindToInternalToExternalMap.set(i,t),d.add(i,a);for(var u=0;u<f._skippedIndexesFromExternal.length;u++)a<=f._skippedIndexesFromExternal[u]&&f._skippedIndexesFromExternal[u]++}else d._skippedIndexesFromExternal.push(n)}}var d=this,f=this._bindToCollection,t=HS(f);try{for(t.s();!(n=t.n()).done;){var n=n.value;e(0,n,f.getIndex(n))}}catch(e){t.e(e)}finally{t.f()}this.listenTo(f,"add",e),this.listenTo(f,"remove",function(e,t,n){t=d._bindToExternalToInternalMap.get(t);t&&d.remove(t),d._skippedIndexesFromExternal=d._skippedIndexesFromExternal.reduce(function(e,t){return n<t&&e.push(t-1),t<n&&e.push(t),e},[])})}},{key:"_getItemIdBeforeAdding",value:function(e){var t,n=this._idProperty;if(n in e){if("string"!=typeof(t=e[n]))throw new C.a("collection-add-invalid-id",this);if(this.get(t))throw new C.a("collection-add-item-already-exists",this)}else e[n]=t=u();return t}},{key:"_remove",value:function(e){var t,n,r=!1,i=this._idProperty;if("string"==typeof e?(o=e,r=!(n=this._itemMap.get(o)),n&&(t=this._items.indexOf(n))):"number"==typeof e?(t=e,r=!(n=this._items[t]),n&&(o=n[i])):(o=(n=e)[i],r=-1==(t=this._items.indexOf(n))||!this._itemMap.get(o)),r)throw new C.a("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(o);var o=this._bindToInternalToExternalMap.get(n);return this._bindToInternalToExternalMap.delete(n),this._bindToExternalToInternalMap.delete(o),this.fire("remove",n,t),[n,t]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}}]),$t);function $t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};qS(this,$t);var n=qt(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n){var r=HS(e);try{for(r.s();!(i=r.n()).done;){var i=i.value;this._items.push(i),this._itemMap.set(this._getItemIdBeforeAdding(i),i)}}catch(e){r.e(e)}finally{r.f()}}}Ie(Wt,c);var Kt=(WS(Gt,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=HS(this._plugins),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(n=n.value,e.t0="function"==typeof n[0],e.t0)return e.next=9,n;e.next=9;break;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[1,13,16,19]])})},{key:"get",value:function(e){var t=this._plugins.get(e);if(t)return t;t=e;throw"function"==typeof e&&(t=e.pluginName||e.name),new C.a("plugincollection-plugin-not-loaded",this._context,{plugin:t})}},{key:"has",value:function(e){return this._plugins.has(e)}},{key:"init",value:function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],s=this,i=this._context;!function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Set;e.forEach(function(e){o(e)&&(n.has(e)||(n.add(e),e.pluginName&&!s._availablePlugins.has(e.pluginName)&&s._availablePlugins.set(e.pluginName,e),e.requires&&t(e.requires,n)))})}(e),h(e);e=US(function n(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Set;return e.map(function(e){return o(e)?e:s._availablePlugins.get(e)}).reduce(function(t,e){return r.has(e)?t:(r.add(e),e.requires&&(h(e.requires,e),n(e.requires,r).forEach(function(e){return t.add(e)})),t.add(e))},new Set)}(e.filter(function(e){return!c(e,r)})));!function(e){var t=HS(a);try{for(t.s();!(o=t.n()).done;){var n=o.value;if("function"!=typeof n)throw new C.a("plugincollection-replace-plugin-invalid-type",null,{pluginItem:n});var r=n.pluginName;if(!r)throw new C.a("plugincollection-replace-plugin-missing-name",null,{pluginItem:n});if(n.requires&&n.requires.length)throw new C.a("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:r});var i=s._availablePlugins.get(r);if(!i)throw new C.a("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:r});var o=e.indexOf(i);if(-1===o){if(s._contextPlugins.has(i))return;throw new C.a("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:r})}if(i.requires&&i.requires.length)throw new C.a("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:r});e.splice(o,1,n),s._availablePlugins.set(r,n)}}catch(e){t.e(e)}finally{t.f()}}(e);var t=e.map(function(e){var t=s._contextPlugins.get(e)||new e(i);return s._add(e,t),t});return n(t,"init").then(function(){return n(t,"afterInit")}).then(function(){return t});function o(e){return"function"==typeof e}function l(e){return o(e)&&e.isContextPlugin}function c(t,e){return e.some(function(e){return e===t||u(t)===e||u(e)===t})}function u(e){return o(e)?e.pluginName||e.name:e}function h(e,t){var n=1<arguments.length&&void 0!==t?t:null;e.map(function(e){return!o(e)&&s._availablePlugins.get(e)||e}).forEach(function(e){!function(e){if(!o(e)){if(n)throw new C.a("plugincollection-soft-required",i,{missingPlugin:e,requiredBy:u(n)});throw new C.a("plugincollection-plugin-not-found",i,{plugin:e})}}(e),function(){if(l(n)&&!l(e))throw new C.a("plugincollection-context-required",i,{plugin:u(e),requiredBy:u(n)})}(),function(e,t){if(t&&c(e,r))throw new C.a("plugincollection-required",i,{plugin:u(e),requiredBy:u(t)})}(e,n)})}function n(e,n){return e.reduce(function(e,t){return!t[n]||s._contextPlugins.has(t)?e:e.then(t[n].bind(t))},Promise.resolve())}}},{key:"destroy",value:function(){var e=[],t=HS(this);try{for(t.s();!(n=t.n()).done;){var n=BS(n.value,2)[1];"function"!=typeof n.destroy||this._contextPlugins.has(n)||e.push(n.destroy())}}catch(e){t.e(e)}finally{t.f()}return Promise.all(e)}},{key:"_add",value:function(e,t){this._plugins.set(e,t);var n=e.pluginName;if(n){if(this._plugins.has(n))throw new C.a("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}]),Gt);function Gt(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];qS(this,Gt),this._context=e,this._plugins=new Map,this._availablePlugins=new Map;var r=HS(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;i.pluginName&&this._availablePlugins.set(i.pluginName,i)}}catch(e){r.e(e)}finally{r.f()}this._contextPlugins=new Map;var o=HS(n);try{for(o.s();!(s=o.n()).done;){var a=BS(s.value,2),s=a[0],a=a[1];this._contextPlugins.set(s,a),this._contextPlugins.set(a,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}}catch(e){o.e(e)}finally{o.f()}}function Zt(e){return Array.isArray(e)?e:[e]}Ie(Kt,c),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var Jt=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Qt(e){return Jt.includes(e)?"rtl":"ltr"}var Yt=(WS(rn,[{key:"_t",value:function(e){var n,t=Zt(t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]);return"string"==typeof e&&(e={string:e}),e=function(e,t,n){var r=2<arguments.length&&void 0!==n?n:1;if("number"!=typeof r)throw new C.a("translation-service-quantity-not-a-number",null,{quantity:r});var i=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===i&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);n=t.id||t.string;if(0===i||!window.CKEDITOR_TRANSLATIONS[e]||!window.CKEDITOR_TRANSLATIONS[e].dictionary[n])return 1!==r?t.plural:t.string;t=window.CKEDITOR_TRANSLATIONS[e].dictionary,e=window.CKEDITOR_TRANSLATIONS[e].getPluralForm||function(e){return 1===e?0:1};if("string"==typeof t[n])return t[n];r=Number(e(r));return t[n][r]}(this.uiLanguage,e,e.plural?t[0]:1),n=t,e.replace(/%(\d+)/g,function(e,t){return t<n.length?n[t]:e})}},{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}}]),rn),Xt=(WS(nn,[{key:"initPlugins",value:function(){var e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[],n=HS(e.concat(t));try{for(n.s();!(r=n.n()).done;){var r=r.value;if("function"!=typeof r)throw new C.a("context-initplugins-constructor-only",null,{Plugin:r});if(!0!==r.isContextPlugin)throw new C.a("context-initplugins-invalid-plugin",null,{Plugin:r})}}catch(e){n.e(e)}finally{n.f()}return this.plugins.init(e,[],t)}},{key:"destroy",value:function(){var e=this;return Promise.all(Array.from(this.editors,function(e){return e.destroy()})).then(function(){return e.plugins.destroy()})}},{key:"_addEditor",value:function(e,t){if(this._contextOwner)throw new C.a("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}},{key:"_removeEditor",value:function(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var e={},t=HS(this.config.names());try{for(t.s();!(n=t.n()).done;){var n=n.value;["plugins","removePlugins","extraPlugins"].includes(n)||(e[n]=this.config.get(n))}}catch(e){t.e(e)}finally{t.f()}return e}}],[{key:"create",value:function(n){var r=this;return new Promise(function(e){var t=new r(n);e(t.initPlugins().then(function(){return t}))})}}]),nn),en=(WS(tn,[{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!0}}]),tn);function tn(e){qS(this,tn),this.context=e}function nn(e){qS(this,nn),this.config=new zt(e,this.constructor.defaultConfig);e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new Kt(this,e);e=this.config.get("language")||{};this.locale=new Yt({uiLanguage:"string"==typeof e?e:e.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Wt,this._contextOwner=null}function rn(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};qS(this,rn),this.uiLanguage=e.uiLanguage||"en",this.contentLanguage=e.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Qt(this.uiLanguage),this.contentLanguageDirection=Qt(this.contentLanguage),this.t=function(e,t){return n._t(e,t)}}function on(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e[r]!=t[r])return r;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}Ie(en,Se);function an(e){return jt(e,4)}var sn=(WS(ln,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.index),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),r=e.getAncestors(t),i=0;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),r=on(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t),this.parent&&this.parent._fireChange(e,t)}},{key:"toJSON",value:function(){var e=an(this);return delete e.parent,e}},{key:"is",value:function(e){return"node"===e||"view:node"===e}},{key:"index",get:function(){var e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new C.a("view-node-not-found-in-parent",this);return e}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]),ln);function ln(e){qS(this,ln),this.document=e,this.parent=null}Ie(sn,c);var cn=function(){$S(r,sn);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e))._textData=t,e}return WS(r,[{key:"is",value:function(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e}},{key:"isSimilar",value:function(e){return e instanceof r&&(this===e||this.data===e.data)}},{key:"_clone",value:function(){return new r(this.document,this.data)}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(e){this._fireChange("text",this),this._textData=e}}]),r}(),un=(WS(hn,[{key:"is",value:function(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e}},{key:"getAncestors",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this.textNode:this.parent;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}}]),hn);function hn(e,t,n){if(qS(this,hn),this.textNode=e,t<0||t>e.data.length)throw new C.a("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new C.a("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}function dn(e){return qt(e)?new Map(e):function(e){var t,n=new Map;for(t in e)n.set(t,e[t]);return n}(e)}var fn=(WS(pn,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];("string"==typeof o||o instanceof RegExp)&&(o={name:o}),o.classes&&("string"==typeof o.classes||o.classes instanceof RegExp)&&(o.classes=[o.classes]),this._patterns.push(o)}}},{key:"match",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r],a=HS(this._patterns);try{for(a.s();!(l=a.n()).done;){var s=l.value,l=gn(o,s);if(l)return{element:o,pattern:s,match:l}}}catch(e){a.e(e)}finally{a.f()}}return null}},{key:"matchAll",value:function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i],s=HS(this._patterns);try{for(s.s();!(c=s.n()).done;){var l=c.value,c=gn(a,l);c&&e.push({element:a,pattern:l,match:c})}}catch(e){s.e(e)}finally{s.f()}}return 0<e.length?e:null}},{key:"getElementName",value:function(){if(1!==this._patterns.length)return null;var e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}]),pn);function pn(){qS(this,pn),this._patterns=[],this.add.apply(this,arguments)}function gn(e,t){if("function"==typeof t)return t(e);var n,r,i={};return t.name&&(i.name=(n=t.name,r=e.name,n instanceof RegExp?n.test(r):n===r),!i.name)||t.attributes&&(i.attributes=function(e,t){var n,r=[];for(n in e){var i=e[n];if(!t.hasAttribute(n))return null;var o=t.getAttribute(n);if(!0===i)r.push(n);else if(i instanceof RegExp){if(!i.test(o))return null;r.push(n)}else{if(o!==i)return null;r.push(n)}}return r}(t.attributes,e),!i.attributes)?null:!(t.classes&&(i.classes=function(e,t){var n,r=[],i=HS(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o instanceof RegExp){var a=HS(t.getClassNames());try{for(a.s();!(s=a.n()).done;){var s=s.value;o.test(s)&&r.push(s)}}catch(e){a.e(e)}finally{a.f()}if(0===r.length)return null}else{if(!t.hasClass(o))return null;r.push(o)}}}catch(e){i.e(e)}finally{i.f()}return r}(t.classes,e),!i.classes))&&!(t.styles&&(i.styles=function(e,t){var n,r=[];for(n in e){var i=e[n];if(!t.hasStyle(n))return null;var o=t.getStyle(n);if(i instanceof RegExp){if(!i.test(o))return null;r.push(n)}else{if(o!==i)return null;r.push(n)}}return r}(t.styles,e),!i.styles))&&i}function vn(e){return"symbol"==typeof e||O(e)&&"[object Symbol]"==b(e)}var mn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yn=/^\w*$/;function kn(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");function o(){var e=arguments,t=i?i.apply(this,e):e[0],n=o.cache;return n.has(t)?n.get(t):(e=r.apply(this,e),o.cache=n.set(t,e)||n,e)}return o.cache=new(kn.Cache||rt),o}kn.Cache=rt;function bn(e){return null==e?"":function e(t){if("string"==typeof t)return t;if(le(t))return function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,e)+"";if(vn(t))return On?On.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}(e)}function _n(e,t){return le(e)?e:function(e,t){if(!le(e)){var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||vn(e)||yn.test(e)||!mn.test(e)||null!=t&&e in Object(t)}}(e,t)?[e]:In(bn(e))}function wn(e){if("string"==typeof e||vn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Cn(e,t){for(var n=0,r=(t=_n(t,e)).length;null!=e&&n<r;)e=e[wn(t[n++])];return n&&n==r?e:void 0}function xn(e,t,n){var r=-1,i=e.length;t<0&&(t=i<-t?0:i+t),(n=i<n?i:n)<0&&(n+=i),i=n<t?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function Sn(e,t,n){return void 0===(t=null==e?void 0:Cn(e,t))?n:t}function En(e,t,n){(void 0===n||S(e[t],n))&&(void 0!==n||t in e)||x(e,t,n)}function Tn(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var An,Pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rn=/\\(\\)?/g,In=(An=(ie=kn(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(Pn,function(e,t,n,r){i.push(n?r.replace(Rn,"$1"):t||e)}),i},function(e){return 500===An.size&&An.clear(),e})).cache,ie),t=j?j.prototype:void 0,On=t?t.toString:void 0,Mn=ne(function(e,t,n){!function s(l,c,u,h,d){l!==c&&function(e,t){for(var n=-1,r=Object(e),i=t(e),o=i.length;o--;){var a=i[++n];!1===function(e,t){if(d||(d=new ut),k(e))!function(e,t,n,r,i,o,a){var s=Tn(e,n),l=Tn(t,n),c=a.get(l);if(c)En(e,n,c);else{var u=o?o(s,l,n+"",e,t,a):void 0,h=void 0===u;if(h){var d=le(l),f=!d&&Object(ce.a)(l),p=!d&&!f&&ge(l);u=l,d||f||p?le(s)?u=s:function(e){return O(e)&&R(e)}(s)?u=at(s):f?(h=!1,u=Object(ft.a)(l,!0)):p?(h=!1,u=xt(l,!0)):u=[]:Fe(l)||se(l)?(u=s,se(s)?u=function(e){return T(e,fe(e))}(s):k(s)&&!q(s)||(u=St(l))):h=!1}h&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),En(e,n,u)}}(l,c,t,u,s,h,d);else{var n=h?h(Tn(l,t),e,t+"",l,c,d):void 0;void 0===n&&(n=e),En(l,t,n)}}(r[a],a)}}(c,fe)}(e,t,n)}),Nn=(WS(jn,[{key:"setTo",value:function(e){this.clear();for(var t=0,n=Array.from(function(e){var t=null,n=0,r=0,i=null,o=new Map;if(""===e)return o;";"!=e.charAt(e.length-1)&&(e+=";");for(var a=0;a<e.length;a++){var s=e.charAt(a);if(null===t)switch(s){case":":i||(i=e.substr(n,a-n),r=a+1);break;case'"':case"'":t=s;break;case";":var l=e.substr(r,a-r);i&&o.set(i.trim(),l.trim()),i=null,n=a+1}else s===t&&(t=null)}return o}(e).entries());t<n.length;t++){var r=BS(n[t],2),i=r[0],r=r[1];this._styleProcessor.toNormalizedForm(i,r,this._styles)}}},{key:"has",value:function(t){if(this.isEmpty)return!1;var e=this._styleProcessor.getReducedForm(t,this._styles).find(function(e){return BS(e,1)[0]===t});return Array.isArray(e)}},{key:"set",value:function(e,t){if(k(e))for(var n=0,r=Object.entries(e);n<r.length;n++){var i=BS(r[n],2),o=i[0],i=i[1];this._styleProcessor.toNormalizedForm(o,i,this._styles)}else this._styleProcessor.toNormalizedForm(e,t,this._styles)}},{key:"remove",value:function(e){var t,n,r,i,o=Fn(e);null==(t=this._styles)||(null==(n=(t=r=_n(r=o,i=n=t)).length<2?i:Cn(i,xn(t,0,-1)))||delete n[wn((n=null==r?0:r.length)?r[n-1]:void 0)]),delete this._styles[e],this._cleanEmptyObjectsOnPath(o)}},{key:"getNormalized",value:function(e){return this._styleProcessor.getNormalized(e,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map(function(e){return e.join(":")}).sort().join(";")+";"}},{key:"getAsString",value:function(t){if(!this.isEmpty){if(this._styles[t]&&!k(this._styles[t]))return this._styles[t];var e=this._styleProcessor.getReducedForm(t,this._styles).find(function(e){return BS(e,1)[0]===t});return Array.isArray(e)?e[1]:void 0}}},{key:"getStyleNames",value:function(){return this.isEmpty?[]:this._getStylesEntries().map(function(e){return BS(e,1)[0]})}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var e=[],t=0,n=Object.keys(this._styles);t<n.length;t++){var r=n[t];e.push.apply(e,US(this._styleProcessor.getReducedForm(r,this._styles)))}return e}},{key:"_cleanEmptyObjectsOnPath",value:function(e){var t=e.split(".");1<t.length&&(e=t.splice(0,t.length-1).join("."),(t=Sn(this._styles,e))&&!Array.from(Object.keys(t)).length&&this.remove(e))}},{key:"isEmpty",get:function(){var e=Object.entries(this._styles);return!Array.from(e).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}}]),jn),Ln=(WS(Dn,[{key:"toNormalizedForm",value:function(e,t,n){var r;k(t)?Vn(n,Fn(e),t):this._normalizers.has(e)?Vn(n,(r=this._normalizers.get(e)(t)).path,r.value):Vn(n,e,t)}},{key:"getNormalized",value:function(e,t){if(!e)return Mn({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){var n=this._extractors.get(e);if("string"==typeof n)return Sn(t,n);n=n(e,t);if(n)return n}return Sn(t,Fn(e))}},{key:"getReducedForm",value:function(e,t){t=this.getNormalized(e,t);return void 0===t?[]:this._reducers.has(e)?this._reducers.get(e)(t):[[e,t]]}},{key:"getRelatedStyles",value:function(e){return this._consumables.get(e)||[]}},{key:"setNormalizer",value:function(e,t){this._normalizers.set(e,t)}},{key:"setExtractor",value:function(e,t){this._extractors.set(e,t)}},{key:"setReducer",value:function(e,t){this._reducers.set(e,t)}},{key:"setStyleRelation",value:function(e,t){this._mapStyleNames(e,t);var n=HS(t);try{for(n.s();!(r=n.n()).done;){var r=r.value;this._mapStyleNames(r,[e])}}catch(e){n.e(e)}finally{n.f()}}},{key:"_mapStyleNames",value:function(e,t){this._consumables.has(e)||this._consumables.set(e,[]),(e=this._consumables.get(e)).push.apply(e,US(t))}}]),Dn);function Dn(){qS(this,Dn),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}function jn(e){qS(this,jn),this._styles={},this._styleProcessor=e}function Fn(e){return e.replace("-",".")}function Vn(e,t,n){var r=n;k(n)&&(r=Mn({},Sn(e,t),n)),null==e||function(e,t,n){if(k(e))for(var r=-1,i=(t=_n(t,e)).length,o=i-1,a=e;null!=a&&++r<i;){var s,l=wn(t[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return;r!=o&&(s=a[l],c=void 0,c=k(s)?s:I(t[r+1])?[]:{}),E(a,l,c),a=a[l]}}(e,t,r)}var zn=function(){$S(l,sn);var i=KS(l);function l(e,t,n,r){return qS(this,l),(e=i.call(this,e)).name=t,e._attrs=function(e){var t=HS(e=dn(e));try{for(t.s();!(r=t.n()).done;){var n=BS(r.value,2),r=n[0],n=n[1];null===n?e.delete(r):"string"!=typeof n&&e.set(r,String(n))}}catch(e){t.e(e)}finally{t.f()}return e}(n),e._children=[],r&&e._insertChild(0,r),e._classes=new Set,e._attrs.has("class")&&(r=e._attrs.get("class"),Bn(e._classes,r),e._attrs.delete("class")),e._styles=new Nn(e.document.stylesProcessor),e._attrs.has("style")&&(e._styles.setTo(e._attrs.get("style")),e._attrs.delete("style")),e._customProperties=new Map,e._isAllowedInsideAttributeElement=!1,GS(e)}return WS(l,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=0<this._classes.size,e.t0)return e.next=4,"class";e.next=4;break;case 4:if(e.t1=this._styles.isEmpty,e.t1){e.next=8;break}return e.next=8,"style";case 8:return e.delegateYield(this._attrs.keys(),"t2",9);case 9:case"end":return e.stop()}},e,this)})},{key:"getAttributes",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._attrs.entries(),"t0",1);case 1:if(e.t1=0<this._classes.size,e.t1)return e.next=5,["class",this.getAttribute("class")];e.next=5;break;case 5:if(e.t2=this._styles.isEmpty,e.t2){e.next=9;break}return e.next=9,["style",this.getAttribute("style")];case 9:case"end":return e.stop()}},e,this)})},{key:"getAttribute",value:function(e){if("class"==e)return 0<this._classes.size?US(this._classes).join(" "):void 0;if("style"!=e)return this._attrs.get(e);e=this._styles.toString();return""==e?void 0:e}},{key:"hasAttribute",value:function(e){return"class"==e?0<this._classes.size:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}},{key:"isSimilar",value:function(e){if(!(e instanceof l))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this.isAllowedInsideAttributeElement!=e.isAllowedInsideAttributeElement)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;var t=HS(this._attrs);try{for(t.s();!(r=t.n()).done;){var n=BS(r.value,2),r=n[0],n=n[1];if(!e._attrs.has(r)||e._attrs.get(r)!==n)return!1}}catch(e){t.e(e)}finally{t.f()}var i=HS(this._classes);try{for(i.s();!(o=i.n()).done;){var o=o.value;if(!e._classes.has(o))return!1}}catch(e){i.e(e)}finally{i.f()}var a=HS(this._styles.getStyleNames());try{for(a.s();!(s=a.n()).done;){var s=s.value;if(!e._styles.has(s)||e._styles.getAsString(s)!==this._styles.getAsString(s))return!1}}catch(e){a.e(e)}finally{a.f()}return!0}},{key:"hasClass",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];if(!this._classes.has(o))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(e){return this._styles.getAsString(e)}},{key:"getNormalizedStyle",value:function(e){return this._styles.getNormalized(e)}},{key:"getStyleNames",value:function(){return this._styles.getStyleNames()}},{key:"hasStyle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];if(!this._styles.has(o))return!1}return!0}},{key:"findAncestor",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=QS(fn,t),i=this.parent;i;){if(r.match(i))return i;i=i.parent}return null}},{key:"getCustomProperty",value:function(e){return this._customProperties.get(e)}},{key:"getCustomProperties",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"getIdentity",value:function(){var e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(function(e){return"".concat(e[0],'="').concat(e[1],'"')}).sort().join(" ");return this.name+(""==e?"":' class="'.concat(e,'"'))+(t?' style="'.concat(t,'"'):"")+(""==n?"":" "+n)}},{key:"_clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=[];if(e){var n=HS(this.getChildren());try{for(n.s();!(r=n.n()).done;){var r=r.value;t.push(r._clone(e))}}catch(e){n.e(e)}finally{n.f()}}var i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._isAllowedInsideAttributeElement=this.isAllowedInsideAttributeElement,i}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,r=0,i=HS((n=this.document,"string"==typeof(t=t)?[new cn(n,t)]:(qt(t)||(t=[t]),Array.from(t).map(function(e){return"string"==typeof e?new cn(n,e):e instanceof un?new cn(n,e.data):e}))));try{for(i.s();!(o=i.n()).done;){var o=o.value;null!==o.parent&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(e,0,o),e++,r++}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"_removeChildren",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_setAttribute",value:function(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?Bn(this._classes,t):"style"==e?this._styles.setTo(t):this._attrs.set(e,t)}},{key:"_removeAttribute",value:function(e){return this._fireChange("attributes",this),"class"==e?0<this._classes.size&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}},{key:"_addClass",value:function(e){this._fireChange("attributes",this);var t=HS(Zt(e));try{for(t.s();!(n=t.n()).done;){var n=n.value;this._classes.add(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"_removeClass",value:function(e){this._fireChange("attributes",this);var t=HS(Zt(e));try{for(t.s();!(n=t.n()).done;){var n=n.value;this._classes.delete(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"_setStyle",value:function(e,t){this._fireChange("attributes",this),this._styles.set(e,t)}},{key:"_removeStyle",value:function(e){this._fireChange("attributes",this);var t=HS(Zt(e));try{for(t.s();!(n=t.n()).done;){var n=n.value;this._styles.remove(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"_setCustomProperty",value:function(e,t){this._customProperties.set(e,t)}},{key:"_removeCustomProperty",value:function(e){return this._customProperties.delete(e)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}},{key:"isAllowedInsideAttributeElement",get:function(){return this._isAllowedInsideAttributeElement}}]),l}();function Bn(t,e){e=e.split(/\s+/);t.clear(),e.forEach(function(e){return t.add(e)})}var Hn=function(){$S(o,zn);var i=KS(o);function o(e,t,n,r){return qS(this,o),(r=i.call(this,e,t,n,r)).getFillerOffset=Un,r}return WS(o,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}}]),o}();function Un(){var e=US(this.getChildren()),t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;var n,r=HS(e);try{for(r.s();!(n=r.n()).done;)if(!n.value.is("uiElement"))return null}catch(e){r.e(e)}finally{r.f()}return this.childCount}var qn=function(){$S(a,Hn);var o=KS(a);function a(t,e,n,r){var i;return qS(this,a),(i=o.call(this,t,e,n,r)).set("isReadOnly",!1),i.set("isFocused",!1),i.bind("isReadOnly").to(t),i.bind("isFocused").to(t,"isFocused",function(e){return e&&t.selection.editableElement==ZS(i)}),i.listenTo(t.selection,"change",function(){i.isFocused=t.isFocused&&t.selection.editableElement==ZS(i)}),i}return WS(a,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"destroy",value:function(){this.stopListening()}}]),a}();Ie(qn,Se);var Wn=Symbol("rootName"),$n=function(){$S(r,qn);var n=KS(r);function r(e,t){return qS(this,r),(t=n.call(this,e,t)).rootName="main",t}return WS(r,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"rootName",get:function(){return this.getCustomProperty(Wn)},set:function(e){this._setCustomProperty(Wn,e)}},{key:"_name",set:function(e){this.name=e}}]),r}(),Kn=(WS(Yn,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){do{var t=this.position,n=(r=this.next()).done,r=r.value}while(!n&&e(r));n||(this.position=t)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position.clone(),t=this.position,n=e.parent;if(null===n.parent&&e.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};if(n instanceof cn){if(e.isAtEnd)return this.position=Gn._createAfter(n),this._next();o=n.data[e.offset]}else o=n.getChild(e.offset);if(o instanceof zn)return this.shallow?e.offset++:e=new Gn(o,0),this.position=e,this._formatReturnValue("elementStart",o,t,e,1);if(o instanceof cn){if(this.singleCharacters)return e=new Gn(o,0),this.position=e,this._next();var r,i=o.data.length;return o==this._boundaryEndParent?(i=this.boundaries.end.offset,r=new un(o,0,i),e=Gn._createAfter(r)):(r=new un(o,0,o.data.length),e.offset++),this.position=e,this._formatReturnValue("text",r,t,e,i)}if("string"!=typeof o)return e=Gn._createAfter(n),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e);var o=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset,n=new un(n,e.offset,o);return e.offset+=o,this.position=e,this._formatReturnValue("text",n,t,e,o)}},{key:"_previous",value:function(){var e=this.position.clone(),t=this.position,n=e.parent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};if(n instanceof cn){if(e.isAtStart)return this.position=Gn._createBefore(n),this._previous();o=n.data[e.offset-1]}else o=n.getChild(e.offset-1);if(o instanceof zn)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",o,t,e,1)):(e=new Gn(o,o.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,t,e));if(o instanceof cn){if(this.singleCharacters)return e=new Gn(o,o.data.length),this.position=e,this._previous();var r,i=o.data.length;return o==this._boundaryStartParent?(r=this.boundaries.start.offset,i=(r=new un(o,r,o.data.length-r)).data.length,e=Gn._createBefore(r)):(r=new un(o,0,o.data.length),e.offset--),this.position=e,this._formatReturnValue("text",r,t,e,i)}if("string"!=typeof o)return e=Gn._createBefore(n),this.position=e,this._formatReturnValue("elementStart",n,t,e,1);var o=this.singleCharacters?1:e.offset-(n===this._boundaryStartParent?this.boundaries.start.offset:0);e.offset-=o;n=new un(n,e.offset,o);return this.position=e,this._formatReturnValue("text",n,t,e,o)}},{key:"_formatReturnValue",value:function(e,t,n,r,i){return t instanceof un&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Gn._createAfter(t.textNode):(r=Gn._createAfter(t.textNode),this.position=r)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Gn._createBefore(t.textNode):(r=Gn._createBefore(t.textNode),this.position=r))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}}]),Yn),Gn=(WS(Qn,[{key:"getShiftedBy",value:function(e){var t=Qn._createAt(this),e=t.offset+e;return t.offset=e<0?0:e,t}},{key:"getLastMatchingPosition",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;t=new Kn(t);return t.skip(e),t.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),r=0;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}},{key:"is",value:function(e){return"position"===e||"view:position"===e}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"compareWith",value:function(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";var t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);var r=on(t,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<n[r]?"before":"after"}}},{key:"getWalker",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.startPosition=this,new Kn(e)}},{key:"clone",value:function(){return new Qn(this.parent,this.offset)}},{key:"nodeAfter",get:function(){return!this.parent.is("$text")&&this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return!this.parent.is("$text")&&this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof qn);){if(!e.parent)return null;e=e.parent}return e}}],[{key:"_createAt",value:function(e,t){if(e instanceof Qn)return new this(e.parent,e.offset);if("end"==t)t=e.is("$text")?e.data.length:e.childCount;else{if("before"==t)return this._createBefore(e);if("after"==t)return this._createAfter(e);if(0!==t&&!t)throw new C.a("view-createpositionat-offset-required",e)}return new Qn(e,t)}},{key:"_createAfter",value:function(e){if(e.is("$textProxy"))return new Qn(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new C.a("view-position-after-root",e,{root:e});return new Qn(e.parent,e.index+1)}},{key:"_createBefore",value:function(e){if(e.is("$textProxy"))return new Qn(e.textNode,e.offsetInText);if(!e.parent)throw new C.a("view-position-before-root",e,{root:e});return new Qn(e.parent,e.index)}}]),Qn),Zn=(WS(Jn,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new Kn({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"getEnlarged",value:function(){var e=this.start.getLastMatchingPosition(Xn,{direction:"backward"}),t=this.end.getLastMatchingPosition(Xn);return e.parent.is("$text")&&e.isAtStart&&(e=Gn._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Gn._createAfter(t.parent)),new Jn(e,t)}},{key:"getTrimmed",value:function(){var e=this.start.getLastMatchingPosition(Xn);if(e.isAfter(this.end)||e.isEqual(this.end))return new Jn(e,e);var t=this.end.getLastMatchingPosition(Xn,{direction:"backward"}),n=e.nodeAfter,r=t.nodeBefore;return n&&n.is("$text")&&(e=new Gn(n,0)),r&&r.is("$text")&&(t=new Gn(r,r.data.length)),new Jn(e,t)}},{key:"isEqual",value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),e=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&e}},{key:"getDifference",value:function(e){var t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Jn(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Jn(e.end,this.end))):t.push(this.clone()),t}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Jn(t,n)}return null}},{key:"getWalker",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Kn(e)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}},{key:"clone",value:function(){return new Jn(this.start,this.end)}},{key:"getItems",value:regeneratorRuntime.mark(function e(){var t,n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=0<r.length&&void 0!==r[0]?r[0]:{}).boundaries=this,t.ignoreElementEnd=!0,n=new Kn(t),t=HS(n),e.prev=4,t.s();case 6:if((n=t.n()).done){e.next=12;break}return n=n.value,e.next=10,n.item;case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[4,14,17,20]])})},{key:"getPositions",value:regeneratorRuntime.mark(function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=0<i.length&&void 0!==i[0]?i[0]:{}).boundaries=this,t=new Kn(r),e.next=5,t.position;case 5:n=HS(t),e.prev=6,n.s();case 8:if((r=n.n()).done){e.next=14;break}return r=r.value,e.next=12,r.nextPosition;case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[6,16,19,22]])})},{key:"is",value:function(e){return"range"===e||"view:range"===e}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromParentsAndOffsets",value:function(e,t,n,r){return new this(new Gn(e,t),new Gn(n,r))}},{key:"_createFromPositionAndShift",value:function(e,t){var n=e,e=e.getShiftedBy(t);return 0<t?new this(n,e):new this(e,n)}},{key:"_createIn",value:function(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:"_createOn",value:function(e){var t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Gn._createBefore(e),t)}}]),Jn);function Jn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;qS(this,Jn),this.start=e.clone(),this.end=(t||e).clone()}function Qn(e,t){qS(this,Qn),this.parent=e,this.offset=t}function Yn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(qS(this,Yn),!e.boundaries&&!e.startPosition)throw new C.a("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new C.a("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,this.position=Gn._createAt(e.startPosition||e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}function Xn(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}function er(e){var t,n=0,r=HS(e);try{for(r.s();!(t=r.n()).done;)t.value,n++}catch(e){r.e(e)}finally{r.f()}return n}var tr=(WS(nr,[{key:"getRanges",value:regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=HS(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return n=n.value,e.next=7,n.clone();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e=null,t=HS(this._ranges);try{for(t.s();!(n=t.n()).done;){var n=n.value;e&&!n.start.isBefore(e.start)||(e=n)}}catch(e){t.e(e)}finally{t.f()}return e?e.clone():null}},{key:"getLastRange",value:function(){var e=null,t=HS(this._ranges);try{for(t.s();!(n=t.n()).done;){var n=n.value;e&&!n.end.isAfter(e.end)||(e=n)}}catch(e){t.e(e)}finally{t.f()}return e?e.clone():null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=HS(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=!1,o=HS(e._ranges);try{for(o.s();!(a=o.n()).done;){var a=a.value;if(r.isEqual(a)){i=!0;break}}}catch(e){o.e(e)}finally{o.f()}if(!i)return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"isSimilar",value:function(e){if(this.isBackward!=e.isBackward)return!1;var t=er(this.getRanges());if(t!=er(e.getRanges()))return!1;if(0==t)return!0;var n,r=HS(this.getRanges());try{for(r.s();!(n=r.n()).done;){var i=(i=n.value).getTrimmed(),o=!1,a=HS(e.getRanges());try{for(a.s();!(s=a.n()).done;){var s=(s=s.value).getTrimmed();if(i.start.isEqual(s.start)&&i.end.isEqual(s.end)){o=!0;break}}}catch(e){a.e(e)}finally{a.f()}if(!o)return!1}}catch(e){r.e(e)}finally{r.f()}return!0}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(e,t,n){if(null===e)this._setRanges([]),this._setFakeOptions(t);else if(e instanceof nr||e instanceof rr)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof Zn)this._setRanges([e],t&&t.backward),this._setFakeOptions(t);else if(e instanceof Gn)this._setRanges([new Zn(e)]),this._setFakeOptions(t);else if(e instanceof sn){var r,i=!!n&&!!n.backward;if(void 0===t)throw new C.a("view-selection-setto-required-second-parameter",this);r="in"==t?Zn._createIn(e):"on"==t?Zn._createOn(e):new Zn(Gn._createAt(e,t)),this._setRanges([r],i),this._setFakeOptions(n)}else{if(!qt(e))throw new C.a("view-selection-setto-not-selectable",this);this._setRanges(e,t&&t.backward),this._setFakeOptions(t)}this.fire("change")}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new C.a("view-selection-setfocus-no-ranges",this);e=Gn._createAt(e,t);"same"!=e.compareWith(this.focus)&&(t=this.anchor,this._ranges.pop(),"before"==e.compareWith(t)?this._addRange(new Zn(e,t),!0):this._addRange(new Zn(t,e)),this.fire("change"))}},{key:"is",value:function(e){return"selection"===e||"view:selection"===e}},{key:"_setRanges",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e=Array.from(e),this._ranges=[];var n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;this._addRange(r)}}catch(e){n.e(e)}finally{n.f()}this._lastRangeBackward=!!t}},{key:"_setFakeOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}},{key:"_addRange",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof Zn))throw new C.a("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}},{key:"_pushRange",value:function(e){var t=HS(this._ranges);try{for(t.s();!(n=t.n()).done;){var n=n.value;if(e.isIntersecting(n))throw new C.a("view-selection-range-intersects",this,{addedRange:e,intersectingRange:n})}}catch(e){t.e(e)}finally{t.f()}this._ranges.push(new Zn(e.start,e.end))}},{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}}]),nr);function nr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;qS(this,nr),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(e,t,n)}Ie(tr,c);var rr=(WS(ir,[{key:"getRanges",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(e){return this._selection.isEqual(e)}},{key:"isSimilar",value:function(e){return this._selection.isSimilar(e)}},{key:"is",value:function(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}}]),ir);function ir(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;qS(this,ir),this._selection=new tr,this._selection.delegate("change").to(this),this._selection.setTo(e,t,n)}Ie(rr,c);var or=function(){$S(i,h);var r=KS(i);function i(e,t,n){return qS(this,i),(t=r.call(this,e,t)).startRange=n,t._eventPhase="none",t._currentTarget=null,t}return WS(i,[{key:"eventPhase",get:function(){return this._eventPhase}},{key:"currentTarget",get:function(){return this._currentTarget}}]),i}(),ar=Symbol("bubbling contexts"),pe={fire:function(e){try{var t=e instanceof h?e:new h(this,e),n=ur(this);if(!n.size)return;for(var r=arguments.length,i=new Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(sr(t,"capturing",this),lr.apply(void 0,[n,"$capture",t].concat(i)))return t.return;var a=t.startRange||this.selection.getFirstRange(),s=a?a.getContainedElement():null,l=!!s&&Boolean(cr(n,s)),c=s||function(){if(!a)return null;var e=a.start.parent,t=a.end.parent,n=e.getPath(),r=t.getPath();return n.length>r.length?e:t}();if(sr(t,"atTarget",c),!l){if(lr.apply(void 0,[n,"$text",t].concat(i)))return t.return;sr(t,"bubbling",c)}for(;c;){if(c.is("rootElement")){if(lr.apply(void 0,[n,"$root",t].concat(i)))return t.return}else if(c.is("element")&&lr.apply(void 0,[n,c.name,t].concat(i)))return t.return;if(lr.apply(void 0,[n,c,t].concat(i)))return t.return;sr(t,"bubbling",c=c.parent)}return sr(t,"bubbling",this),lr.apply(void 0,[n,"$document",t].concat(i)),t.return}catch(e){C.a.rethrowUnexpectedError(e,this)}},_addEventListener:function(e,t,n){var r=Zt(n.context||"$document"),i=ur(this),o=HS(r);try{for(o.s();!(s=o.n()).done;){var a=s.value,s=i.get(a);s||(s=Object.create(c),i.set(a,s)),this.listenTo(s,e,t,n)}}catch(e){o.e(e)}finally{o.f()}},_removeEventListener:function(e,t){var n=HS(ur(this).values());try{for(n.s();!(r=n.n()).done;){var r=r.value;this.stopListening(r,e,t)}}catch(e){n.e(e)}finally{n.f()}}};function sr(e,t,n){e instanceof or&&(e._eventPhase=t,e._currentTarget=n)}function lr(e,t,n){for(var t="string"==typeof t?e.get(t):cr(e,t),r=arguments.length,i=new Array(3<r?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return!!t&&(t.fire.apply(t,[n].concat(i)),n.stop.called)}function cr(e,t){var n=HS(e);try{for(n.s();!(i=n.n()).done;){var r=BS(i.value,2),i=r[0],r=r[1];if("function"==typeof i&&i(t))return r}}catch(e){n.e(e)}finally{n.f()}return null}function ur(e){return e[ar]||(e[ar]=new Map),e[ar]}var hr=(WS(dr,[{key:"getRoot",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"destroy",value:function(){this.roots.map(function(e){return e.destroy()}),this.stopListening()}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n,r=HS(this._postFixers);try{for(r.s();!(n=r.n()).done&&!(t=(0,n.value)(e)););}catch(e){r.e(e)}finally{r.f()}}while(t)}}]),dr);function dr(e){qS(this,dr),this.selection=new rr,this.roots=new Wt({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}Ie(hr,pe),Ie(hr,Se);var fr=function(){$S(o,zn);var i=KS(o);function o(e,t,n,r){return qS(this,o),(r=i.call(this,e,t,n,r)).getFillerOffset=pr,r._priority=10,r._id=null,r._clonesGroup=null,r}return WS(o,[{key:"getElementsWithSameId",value:function(){if(null===this.id)throw new C.a("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}},{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"isSimilar",value:function(e){return null!==this.id||null!==e.id?this.id===e.id:zS(YS(o.prototype),"isSimilar",this).call(this,e)&&this.priority==e.priority}},{key:"_clone",value:function(e){e=zS(YS(o.prototype),"_clone",this).call(this,e);return e._priority=this._priority,e._id=this._id,e}},{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}}]),o}();function pr(){if(gr(this))return null;for(var e=this.parent;e&&e.is("attributeElement");){if(1<gr(e))return null;e=e.parent}return!e||1<gr(e)?null:this.childCount}function gr(e){return Array.from(e.getChildren()).filter(function(e){return!e.is("uiElement")}).length}fr.DEFAULT_PRIORITY=10;var vr=function(){$S(o,zn);var i=KS(o);function o(e,t,n,r){return qS(this,o),(r=i.call(this,e,t,n,r))._isAllowedInsideAttributeElement=!0,r.getFillerOffset=mr,r}return WS(o,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof sn||0<Array.from(t).length))throw new C.a("view-emptyelement-cannot-add",[this,t])}}]),o}();function mr(){return null}var Be=navigator.userAgent.toLowerCase(),yr=-1<Be.indexOf("macintosh"),kr=!!Be.match(/gecko\/\d+/),br=-1<(ie=Be).indexOf(" applewebkit/")&&-1===ie.indexOf("chrome"),_r=-1<Be.indexOf("android"),wr=-1<(t=Be).indexOf("chrome/")&&t.indexOf("edge/")<0,Cr=function(){var e=!1;try{e=0==="ć".search(new RegExp("[\\p{L}]","u"))}catch(e){}return e}(),xr={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},Sr={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Er=function(){for(var e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896},t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(var n=48;n<=57;n++)e[n-48]=n;for(var r=112;r<=123;r++)e["f"+(r-111)]=r;return e}(),Tr=Object.fromEntries(Object.entries(Er).map(function(e){var t=BS(e,2),e=t[0];return[t[1],e.charAt(0).toUpperCase()+e.slice(1)]}));function Ar(e){var t;if("string"==typeof e){if(!(t=Er[e.toLowerCase()]))throw new C.a("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?Er.alt:0)+(e.ctrlKey?Er.ctrl:0)+(e.shiftKey?Er.shift:0)+(e.metaKey?Er.cmd:0);return t}function Pr(e){return"string"==typeof e&&(e=e.split("+").map(function(e){return e.trim()})),e.map(function(e){return"string"==typeof e?function(e){if(e.endsWith("!"))return Ar(e.slice(0,-1));e=Ar(e);return yr&&e==Er.ctrl?Er.cmd:e}(e):e}).reduce(function(e,t){return t+e},0)}function Rr(e){var r=Pr(e);return Object.entries(yr?xr:Sr).reduce(function(e,t){var n=BS(t,2),t=n[0],n=n[1];return 0!=(r&Er[t])&&(r&=~Er[t],e+=n),e},"")+(r?Tr[r]:"")}function Ir(e,t){var n="ltr"===t;switch(e){case Er.arrowleft:return n?"left":"right";case Er.arrowright:return n?"right":"left";case Er.arrowup:return"up";case Er.arrowdown:return"down"}}function Or(e,t){t=Ir(e,t);return"down"===t||"right"===t}var Mr=function(){$S(o,zn);var i=KS(o);function o(e,t,n,r){return qS(this,o),(r=i.call(this,e,t,n,r))._isAllowedInsideAttributeElement=!0,r.getFillerOffset=Nr,r}return WS(o,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof sn||0<Array.from(t).length))throw new C.a("view-uielement-cannot-add",this)}},{key:"render",value:function(e){return this.toDomElement(e)}},{key:"toDomElement",value:function(e){var t=e.createElement(this.name),n=HS(this.getAttributeKeys());try{for(n.s();!(r=n.n()).done;){var r=r.value;t.setAttribute(r,this.getAttribute(r))}}catch(e){n.e(e)}finally{n.f()}return t}}]),o}();function Nr(){return null}var Lr=function(){$S(o,zn);var i=KS(o);function o(e,t,n,r){return qS(this,o),(r=i.call(this,e,t,n,r))._isAllowedInsideAttributeElement=!0,r.getFillerOffset=Dr,r}return WS(o,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof sn||0<Array.from(t).length))throw new C.a("view-rawelement-cannot-add",[this,t])}}]),o}();function Dr(){return null}var jr=(WS(Fr,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"is",value:function(e){return"documentFragment"===e||"view:documentFragment"===e}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,r=0,i=HS((n=this.document,"string"==typeof(t=t)?[new cn(n,t)]:(qt(t)||(t=[t]),Array.from(t).map(function(e){return"string"==typeof e?new cn(n,e):e instanceof un?new cn(n,e.data):e}))));try{for(i.s();!(o=i.n()).done;){var o=o.value;null!==o.parent&&o._remove(),(o.parent=this)._children.splice(e,0,o),e++,r++}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"_removeChildren",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}]),Fr);function Fr(e,t){qS(this,Fr),this.document=e,this._children=[],t&&this._insertChild(0,t)}Ie(jr,c);var Vr=(WS(zr,[{key:"setSelection",value:function(e,t,n){this.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this.document.selection._setFocus(e,t)}},{key:"createDocumentFragment",value:function(e){return new jr(this.document,e)}},{key:"createText",value:function(e){return new cn(this.document,e)}},{key:"createAttributeElement",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=new fr(this.document,e,t);return"number"==typeof n.priority&&(t._priority=n.priority),n.id&&(t._id=n.id),t}},{key:"createContainerElement",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=new Hn(this.document,e,t);return void 0!==n.isAllowedInsideAttributeElement&&(t._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),t}},{key:"createEditableElement",value:function(e,t){t=new qn(this.document,e,t);return t._document=this.document,t}},{key:"createEmptyElement",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=new vr(this.document,e,t);return void 0!==n.isAllowedInsideAttributeElement&&(t._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),t}},{key:"createUIElement",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},t=new Mr(this.document,e,t);return n&&(t.render=n),void 0!==r.isAllowedInsideAttributeElement&&(t._isAllowedInsideAttributeElement=r.isAllowedInsideAttributeElement),t}},{key:"createRawElement",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},t=new Lr(this.document,e,t);return t.render=n||function(){},void 0!==r.isAllowedInsideAttributeElement&&(t._isAllowedInsideAttributeElement=r.isAllowedInsideAttributeElement),t}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){Fe(e)&&void 0===n&&(n=t),n._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"breakAttributes",value:function(e){return e instanceof Gn?this._breakAttributes(e):this._breakAttributesRange(e)}},{key:"breakContainer",value:function(e){var t,n=e.parent;if(!n.is("containerElement"))throw new C.a("view-writer-break-non-container-element",this.document);if(!n.parent)throw new C.a("view-writer-break-root",this.document);return e.isAtStart?Gn._createBefore(n):(e.isAtEnd||(t=n._clone(!1),this.insert(Gn._createAfter(n),t),e=new Zn(e,Gn._createAt(n,"end")),t=new Gn(t,0),this.move(e,t)),Gn._createAfter(n))}},{key:"mergeAttributes",value:function(e){var t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&0===n.childCount){var r=n.parent,i=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Gn(r,i))}i=n.getChild(t-1),n=n.getChild(t);if(!i||!n)return e;if(i.is("$text")&&n.is("$text"))return qr(i,n);if(i.is("attributeElement")&&n.is("attributeElement")&&i.isSimilar(n)){t=i.childCount;return i._appendChild(n.getChildren()),n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Gn(i,t))}return e}},{key:"mergeContainers",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new C.a("view-writer-merge-containers-invalid-position",this.document);e=t.getChild(t.childCount-1),e=Gn._createAt(e instanceof cn?e:t,"end");return this.move(Zn._createIn(n),Gn._createAt(t,"end")),this.remove(Zn._createOn(n)),e}},{key:"insert",value:function(e,t){!function e(t,n){var r,i=HS(t);try{for(i.s();!(r=i.n()).done;)!function(){var t=r.value;if(!Wr.some(function(e){return t instanceof e}))throw new C.a("view-writer-insert-invalid-node-type",n);t.is("$text")||e(t.getChildren(),n)}()}catch(e){i.e(e)}finally{i.f()}}(t=qt(t)?US(t):[t],this.document);var n=null,r=e,i=HS(t.reduce(function(e,t){var n=e[e.length-1],r=!(t.is("uiElement")&&t.isAllowedInsideAttributeElement);return n&&n.breakAttributes==r?n.nodes.push(t):e.push({breakAttributes:r,nodes:[t]}),e},[]));try{for(i.s();!(a=i.n()).done;)var o=a.value,a=o.nodes,o=o.breakAttributes,o=this._insertNodes(r,a,o),n=n||o.start,r=o.end}catch(e){i.e(e)}finally{i.f()}return n?new Zn(n,r):new Zn(e)}},{key:"remove",value:function(e){var t=e instanceof Zn?e:Zn._createOn(e);if(Kr(t,this.document),t.isCollapsed)return new jr(this.document);var n=this._breakAttributesRange(t,!0),e=n.start,n=n.end,n=e.parent._removeChildren(e.offset,n.offset-e.offset),r=HS(n);try{for(r.s();!(i=r.n()).done;){var i=i.value;this._removeFromClonedElementsGroup(i)}}catch(e){r.e(e)}finally{r.f()}e=this.mergeAttributes(e);return t.start=e,t.end=e.clone(),new jr(this.document,n)}},{key:"clear",value:function(e,t){Kr(e,this.document);var n=HS(e.getWalker({direction:"backward",ignoreElementEnd:!0}));try{for(n.s();!(o=n.n()).done;){var r=o.value,i=r.item,o=void 0;i.is("element")&&t.isSimilar(i)?o=Zn._createOn(i):r.nextPosition.isAfter(e.start)||!i.is("$textProxy")||(i=i.getAncestors().find(function(e){return e.is("element")&&t.isSimilar(e)}))&&(o=Zn._createIn(i)),o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}catch(e){n.e(e)}finally{n.f()}}},{key:"move",value:function(e,t){var n,r,i;return t.isAfter(e.end)?(i=(r=(t=this._breakAttributes(t,!0)).parent).childCount,e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=r.childCount-i):n=this.remove(e),this.insert(t,n)}},{key:"wrap",value:function(e,t){if(!(t instanceof fr))throw new C.a("view-writer-wrap-invalid-attribute",this.document);if(Kr(e,this.document),e.isCollapsed){var n=e.start;n.parent.is("element")&&!Array.from(n.parent.getChildren()).some(function(e){return!e.is("uiElement")})&&(n=n.getLastMatchingPosition(function(e){return e.item.is("uiElement")})),n=this._wrapPosition(n,t);var r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new Zn(n)}return this._wrapRange(e,t)}},{key:"unwrap",value:function(e,t){if(!(t instanceof fr))throw new C.a("view-writer-unwrap-invalid-attribute",this.document);if(Kr(e,this.document),e.isCollapsed)return e;var n=this._breakAttributesRange(e,!0),e=n.start,n=n.end,n=this._unwrapChildren(e.parent,e.offset,n.offset,t),t=this.mergeAttributes(n.start);t.isEqual(n.start)||n.end.offset--;n=this.mergeAttributes(n.end);return new Zn(t,n)}},{key:"rename",value:function(e,t){e=new Hn(this.document,e,t.getAttributes());return this.insert(Gn._createAfter(t),e),this.move(Zn._createIn(t),Gn._createAt(e,0)),this.remove(Zn._createOn(t)),e}},{key:"clearClonedElementsGroup",value:function(e){this._cloneGroups.delete(e)}},{key:"createPositionAt",value:function(e,t){return Gn._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return Gn._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Gn._createBefore(e)}},{key:"createRange",value:function(e,t){return new Zn(e,t)}},{key:"createRangeOn",value:function(e){return Zn._createOn(e)}},{key:"createRangeIn",value:function(e){return Zn._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new tr(e,t,n)}},{key:"_insertNodes",value:function(e,t,n){if(!(r=n?Br(e):(e.parent.is("$text")?e.parent:e).parent))throw new C.a("view-writer-invalid-position-container",this.document);e=n?this._breakAttributes(e,!0):e.parent.is("$text")?Ur(e):e;var r=r._insertChild(e.offset,t),i=HS(t);try{for(i.s();!(o=i.n()).done;){var o=o.value;this._addToClonedElementsGroup(o)}}catch(e){i.e(e)}finally{i.f()}t=e.getShiftedBy(r),r=this.mergeAttributes(e);r.isEqual(e)||t.offset--;t=this.mergeAttributes(t);return new Zn(r,t)}},{key:"_wrapChildren",value:function(e,t,n,r){for(var i=t,o=[];i<n;){var a,s=e.getChild(i),l=s.is("$text"),c=s.is("attributeElement"),u=s.isAllowedInsideAttributeElement;c&&this._wrapAttributeElement(r,s)?o.push(new Gn(e,i)):l||u||c&&(a=s,(u=r).priority<a.priority||!(u.priority>a.priority)&&u.getIdentity()<a.getIdentity())?(a=r._clone(),s._remove(),a._appendChild(s),e._insertChild(i,a),this._addToClonedElementsGroup(a),o.push(new Gn(e,i))):c&&this._wrapChildren(s,0,s.childCount,r),i++}for(var h=0,d=0,f=o;d<f.length;d++){var p=f[d];p.offset-=h,p.offset!=t&&(this.mergeAttributes(p).isEqual(p)||(h++,n--))}return Zn._createFromParentsAndOffsets(e,t,e,n)}},{key:"_unwrapChildren",value:function(e,t,n,r){for(var i=t,o=[];i<n;){var a,s,l=e.getChild(i);l.is("attributeElement")?l.isSimilar(r)?(a=l.getChildren(),s=l.childCount,l._remove(),e._insertChild(i,a),this._removeFromClonedElementsGroup(l),o.push(new Gn(e,i),new Gn(e,i+s)),i+=s,n+=s-1):(this._unwrapAttributeElement(r,l)?o.push(new Gn(e,i),new Gn(e,i+1)):this._unwrapChildren(l,0,l.childCount,r),i++):i++}for(var c=0,u=0,h=o;u<h.length;u++){var d=h[u];d.offset-=c,d.offset!=t&&d.offset!=n&&(this.mergeAttributes(d).isEqual(d)||(c++,n--))}return Zn._createFromParentsAndOffsets(e,t,e,n)}},{key:"_wrapRange",value:function(e,t){var n=this._breakAttributesRange(e,!0),e=n.start,n=n.end,n=this._wrapChildren(e.parent,e.offset,n.offset,t),t=this.mergeAttributes(n.start);t.isEqual(n.start)||n.end.offset--;n=this.mergeAttributes(n.end);return new Zn(t,n)}},{key:"_wrapPosition",value:function(e,t){if(t.isSimilar(e.parent))return Hr(e.clone());e.parent.is("$text")&&(e=Ur(e));var n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},e.parent._insertChild(e.offset,n);e=new Zn(e,e.getShiftedBy(1));this.wrap(e,t);e=new Gn(n.parent,n.index);n._remove();t=e.nodeBefore,n=e.nodeAfter;return t instanceof cn&&n instanceof cn?qr(t,n):Hr(e)}},{key:"_wrapAttributeElement",value:function(e,t){if(!Gr(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n=HS(e.getAttributeKeys());try{for(n.s();!(r=n.n()).done;){var r=r.value;if("class"!==r&&"style"!==r&&t.hasAttribute(r)&&t.getAttribute(r)!==e.getAttribute(r))return!1}}catch(e){n.e(e)}finally{n.f()}var i=HS(e.getStyleNames());try{for(i.s();!(o=i.n()).done;){var o=o.value;if(t.hasStyle(o)&&t.getStyle(o)!==e.getStyle(o))return!1}}catch(e){i.e(e)}finally{i.f()}var a=HS(e.getAttributeKeys());try{for(a.s();!(s=a.n()).done;){var s=s.value;"class"!==s&&"style"!==s&&(t.hasAttribute(s)||this.setAttribute(s,e.getAttribute(s),t))}}catch(e){a.e(e)}finally{a.f()}var l=HS(e.getStyleNames());try{for(l.s();!(c=l.n()).done;){var c=c.value;t.hasStyle(c)||this.setStyle(c,e.getStyle(c),t)}}catch(e){l.e(e)}finally{l.f()}var u=HS(e.getClassNames());try{for(u.s();!(h=u.n()).done;){var h=h.value;t.hasClass(h)||this.addClass(h,t)}}catch(e){u.e(e)}finally{u.f()}return!0}},{key:"_unwrapAttributeElement",value:function(e,t){if(!Gr(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n=HS(e.getAttributeKeys());try{for(n.s();!(r=n.n()).done;){var r=r.value;if("class"!==r&&"style"!==r&&(!t.hasAttribute(r)||t.getAttribute(r)!==e.getAttribute(r)))return!1}}catch(e){n.e(e)}finally{n.f()}if(!t.hasClass.apply(t,US(e.getClassNames())))return!1;var i=HS(e.getStyleNames());try{for(i.s();!(o=i.n()).done;){var o=o.value;if(!t.hasStyle(o)||t.getStyle(o)!==e.getStyle(o))return!1}}catch(e){i.e(e)}finally{i.f()}var a=HS(e.getAttributeKeys());try{for(a.s();!(s=a.n()).done;){var s=s.value;"class"!==s&&"style"!==s&&this.removeAttribute(s,t)}}catch(e){a.e(e)}finally{a.f()}return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}},{key:"_breakAttributesRange",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.start,r=e.end;if(Kr(e,this.document),e.isCollapsed){var i=this._breakAttributes(e.start,t);return new Zn(i,i)}i=this._breakAttributes(r,t),r=i.parent.childCount,t=this._breakAttributes(n,t);return i.offset+=i.parent.childCount-r,new Zn(t,i)}},{key:"_breakAttributes",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new C.a("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new C.a("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new C.a("view-writer-cannot-break-raw-element",this.document);if(!t&&r.is("$text")&&$r(r.parent))return e.clone();if($r(r))return e.clone();if(r.is("$text"))return this._breakAttributes(Ur(e),t);if(n==r.childCount){var i=new Gn(r.parent,r.index+1);return this._breakAttributes(i,t)}if(0===n){var o=new Gn(r.parent,r.index);return this._breakAttributes(o,t)}i=r.index+1,o=r._clone();r.parent._insertChild(i,o),this._addToClonedElementsGroup(o);n=r._removeChildren(n,r.childCount-n);o._appendChild(n);i=new Gn(r.parent,i);return this._breakAttributes(i,t)}},{key:"_addToClonedElementsGroup",value:function(e){if(e.root.is("rootElement")){if(e.is("element")){var t=HS(e.getChildren());try{for(t.s();!(n=t.n()).done;){var n=n.value;this._addToClonedElementsGroup(n)}}catch(e){t.e(e)}finally{t.f()}}var r,i=e.id;i&&((r=this._cloneGroups.get(i))||(r=new Set,this._cloneGroups.set(i,r)),r.add(e),e._clonesGroup=r)}}},{key:"_removeFromClonedElementsGroup",value:function(e){if(e.is("element")){var t=HS(e.getChildren());try{for(t.s();!(n=t.n()).done;){var n=n.value;this._removeFromClonedElementsGroup(n)}}catch(e){t.e(e)}finally{t.f()}}var r=e.id;!r||(r=this._cloneGroups.get(r))&&r.delete(e)}}]),zr);function zr(e){qS(this,zr),this.document=e,this._cloneGroups=new Map}function Br(e){for(var t=e.parent;!$r(t);){if(!t)return;t=t.parent}return t}function Hr(e){var t=e.nodeBefore;if(t&&t.is("$text"))return new Gn(t,t.data.length);t=e.nodeAfter;return t&&t.is("$text")?new Gn(t,0):e}function Ur(e){if(e.offset==e.parent.data.length)return new Gn(e.parent.parent,e.parent.index+1);if(0===e.offset)return new Gn(e.parent.parent,e.parent.index);var t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new cn(e.root.document,t)),new Gn(e.parent.parent,e.parent.index+1)}function qr(e,t){var n=e.data.length;return e._data+=t.data,t._remove(),new Gn(e,n)}var Wr=[cn,fr,Hn,vr,Lr,Mr];function $r(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function Kr(e,t){var n=Br(e.start),e=Br(e.end);if(!n||!e||n!==e)throw new C.a("view-writer-invalid-range-container",t)}function Gr(e,t){return null===e.id&&null===t.id}function Zr(e){return"[object Text]"==Object.prototype.toString.call(e)}function Jr(e){return e.createTextNode(" ")}function Qr(e){return(e=e.createElement("span")).dataset.ckeFiller=!0,e.innerHTML=" ",e}function Yr(e){return(e=e.createElement("br")).dataset.ckeFiller=!0,e}var Xr="⁠".repeat(7);function ei(e){return Zr(e)&&e.data.substr(0,7)===Xr}function ti(e){return 7==e.data.length&&ei(e)}function ni(e){return ei(e)?e.data.slice(7):e.data}function ri(e,t){var n,r;t.keyCode!=Er.arrowleft||1==(n=t.domTarget.ownerDocument.defaultView.getSelection()).rangeCount&&n.getRangeAt(0).collapsed&&(r=n.getRangeAt(0).startContainer,t=n.getRangeAt(0).startOffset,ei(r)&&t<=7&&n.collapse(r,0))}function ii(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];n=n||function(e,t){return e===t},Array.isArray(e)||(e=Array.prototype.slice.call(e)),Array.isArray(t)||(t=Array.prototype.slice.call(t));var i,o=function(e,t,n){var r=oi(e,t,n);if(-1===r)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};n=oi(ai(e,r),ai(t,r),n);return{firstIndex:r,lastIndexOld:e.length-n,lastIndexNew:t.length-n}}(e,t,n);return r?function(e){var t=o.firstIndex,n=o.lastIndexOld,r=o.lastIndexNew;if(-1===t)return Array(e).fill("equal");var i=[];return 0<t&&(i=i.concat(Array(t).fill("equal"))),0<r-t&&(i=i.concat(Array(r-t).fill("insert"))),0<n-t&&(i=i.concat(Array(n-t).fill("delete"))),r<e&&(i=i.concat(Array(e-r).fill("equal"))),i}(t.length):(i=[],e=o.firstIndex,n=o.lastIndexOld,0<(r=o.lastIndexNew)-e&&i.push({index:e,type:"insert",values:t.slice(e,r)}),0<n-e&&i.push({index:e+(r-e),type:"delete",howMany:n-e}),i)}function oi(e,t,n){for(var r=0;r<Math.max(e.length,t.length);r++)if(void 0===e[r]||void 0===t[r]||!n(e[r],t[r]))return r;return-1}function ai(e,t){return e.slice(t).reverse()}function si(a,s,l){l=l||function(e,t){return e===t};var c,u,e=a.length,t=s.length;if(200<e||200<t||300<e+t)return si.fastDiff(a,s,l,!0);u=t<e?(e=a,a=s,s=e,c="delete","insert"):(c="insert","delete");var h=a.length,d=s.length,n=d-h,f={},p={};function r(e){var t=(void 0!==p[e-1]?p[e-1]:-1)+1,n=void 0!==p[e+1]?p[e+1]:-1,r=n<t?-1:1;f[e+r]&&(f[e]=f[e+r].slice(0)),f[e]||(f[e]=[]),f[e].push(n<t?c:u);for(var i=Math.max(t,n),o=i-e;o<h&&i<d&&l(a[o],s[i]);)o++,i++,f[e].push("equal");return i}var i,o=0;do{for(i=-o;i<n;i++)p[i]=r(i);for(i=n+o;n<i;i--)p[i]=r(i)}while(p[n]=r(n),o++,p[n]!==d);return f[n].slice(1)}function li(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function ci(e){var t=e.parentNode;t&&t.removeChild(e)}function ui(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}si.fastDiff=ii;var hi=(WS(di,[{key:"markToSync",value:function(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else if(this.domConverter.mapViewToDom(t))if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new C.a("view-renderer-unknown-type",this);this.markedChildren.add(t)}}},{key:"render",value:function(){var e,t=HS(this.markedChildren);try{for(t.s();!(n=t.n()).done;){var n=n.value;this._updateChildrenMappings(n)}}catch(e){t.e(e)}finally{t.f()}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var r=HS(this.markedAttributes);try{for(r.s();!(i=r.n()).done;){var i=i.value;this._updateAttrs(i)}}catch(e){r.e(e)}finally{r.f()}var o=HS(this.markedChildren);try{for(o.s();!(a=o.n()).done;){var a=a.value;this._updateChildren(a,{inlineFillerPosition:e})}}catch(e){o.e(e)}finally{o.f()}var s,l,c=HS(this.markedTexts);try{for(c.s();!(u=c.n()).done;){var u=u.value;!this.markedChildren.has(u.parent)&&this.domConverter.mapViewToDom(u.parent)&&this._updateText(u,{inlineFillerPosition:e})}}catch(e){c.e(e)}finally{c.f()}e?(l=(s=this.domConverter.viewPositionToDom(e)).parent.ownerDocument,this._inlineFiller=ei(s.parent)?s.parent:fi(l,s.parent,s.offset)):this._inlineFiller=null,this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n=Array.from(this.domConverter.mapViewToDom(e).childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{withChildren:!1})),t=this._diffNodeLists(n,r),t=this._findReplaceActions(t,n,r);if(-1!==t.indexOf("replace")){var i={equal:0,insert:0,delete:0},o=HS(t);try{for(o.s();!(l=o.n()).done;){var a,s,l,c=l.value;"replace"===c?(a=i.equal+i.insert,s=i.equal+i.delete,!(l=e.getChild(a))||l.is("uiElement")||l.is("rawElement")||this._updateElementMappings(l,n[s]),ci(r[a]),i.equal++):i[c]++}}catch(e){o.e(e)}finally{o.f()}}}}},{key:"_updateElementMappings",value:function(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("$text")?Gn._createBefore(this.selection.getFirstPosition().parent):e}},{key:"_isSelectionInInlineFiller",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(e);return!!(e&&Zr(e.parent)&&ei(e.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!ei(e))throw new C.a("view-renderer-filler-was-lost",this);ti(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;return!(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(e){if("false"!=e.getAttribute("contenteditable")){e=e.findAncestor(function(e){return e.hasAttribute("contenteditable")});return!e||"true"==e.getAttribute("contenteditable")}}(t)||n===t.getFillerOffset()||e.nodeBefore instanceof cn||e.nodeAfter instanceof cn)}},{key:"_updateText",value:function(e,t){var n=this.domConverter.findCorrespondingDomText(e),r=this.domConverter.viewToDom(e,n.ownerDocument),i=n.data,r=r.data,t=t.inlineFillerPosition;if(t&&t.parent==e.parent&&t.offset==e.index&&(r=Xr+r),i!=r){var o=HS(ii(i,r));try{for(o.s();!(a=o.n()).done;){var a=a.value;"insert"===a.type?n.insertData(a.index,a.values.join("")):n.deleteData(a.index,a.howMany)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"_updateAttrs",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n=Array.from(t.attributes).map(function(e){return e.name}),r=HS(e.getAttributeKeys());try{for(r.s();!(i=r.n()).done;){var i=i.value;t.setAttribute(i,e.getAttribute(i))}}catch(e){r.e(e)}finally{r.f()}var o=HS(n);try{for(o.s();!(a=o.n()).done;){var a=a.value;e.hasAttribute(a)||t.removeAttribute(a)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"_updateChildren",value:function(e,t){var n=this.domConverter.mapViewToDom(e);if(n){var t=t.inlineFillerPosition,r=this.domConverter.mapViewToDom(e).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(e,n.ownerDocument,{bind:!0,inlineFillerPosition:t}));t&&t.parent===e&&fi(n.ownerDocument,i,t.offset);var t=this._diffNodeLists(r,i),o=0,a=new Set,s=HS(t);try{for(s.s();!(l=s.n()).done;){var l=l.value;"delete"===l?(a.add(r[o]),ci(r[o])):"equal"===l&&o++}}catch(e){s.e(e)}finally{s.f()}o=0;var c=HS(t);try{for(c.s();!(u=c.n()).done;){var u=u.value;"insert"===u?(li(n,o,i[o]),o++):"equal"===u&&(this._markDescendantTextToSync(this.domConverter.domToView(i[o])),o++)}}catch(e){c.e(e)}finally{c.f()}var h=HS(a);try{for(h.s();!(d=h.n()).done;){var d=d.value;d.parentNode||this.domConverter.unbindDomElement(d)}}catch(e){h.e(e)}finally{h.f()}}}},{key:"_diffNodeLists",value:function(e,t){return si((n=this._fakeSelectionContainer,0!=(r=Array.from(e)).length&&n&&r[r.length-1]==n&&r.pop(),e=r),t,function(e,t,n){return t===n||(Zr(t)&&Zr(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}.bind(null,this.domConverter));var n,r}},{key:"_findReplaceActions",value:function(e,t,n){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;var r=[],i=[],o=[],a={equal:0,insert:0,delete:0},s=HS(e);try{for(s.s();!(l=s.n()).done;){var l=l.value;"insert"===l?o.push(n[a.equal+a.insert]):"delete"===l?i.push(t[a.equal+a.delete]):((r=r.concat(si(i,o,pi).map(function(e){return"equal"===e?"replace":e}))).push("equal"),i=[],o=[]),a[l]++}}catch(e){s.e(e)}finally{s.f()}return r.concat(si(i,o,pi).map(function(e){return"equal"===e?"replace":e}))}},{key:"_markDescendantTextToSync",value:function(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element")){var t=HS(e.getChildren());try{for(t.s();!(n=t.n()).done;){var n=n.value;this._markDescendantTextToSync(n)}}catch(e){t.e(e)}finally{t.f()}}}},{key:"_updateSelection",value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}},{key:"_updateFakeSelection",value:function(e){var t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=((n=t.createElement("div")).className="ck-fake-selection-container",Object.assign(n.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),n.textContent=" ",n));var n=this._fakeSelectionContainer;this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(e)&&(n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ",e=t.getSelection(),t=t.createRange(),e.removeAllRanges(),t.selectNodeContents(n),e.addRange(t))}},{key:"_updateDomSelection",value:function(e){var t,n=e.ownerDocument.defaultView.getSelection();this._domSelectionNeedsUpdate(n)&&(t=this.domConverter.viewPositionToDom(this.selection.anchor),e=this.domConverter.viewPositionToDom(this.selection.focus),n.collapse(t.parent,t.offset),n.extend(e.parent,e.offset),kr&&((t=e.parent).nodeType!=Node.ELEMENT_NODE||e.offset!=t.childNodes.length-1||(t=t.childNodes[e.offset])&&"BR"==t.tagName&&n.addRange(n.getRangeAt(0))))}},{key:"_domSelectionNeedsUpdate",value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;e=e&&this.domConverter.domSelectionToView(e);return!(e&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}},{key:"_fakeSelectionNeedsUpdate",value:function(e){var t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var t=HS(this.domDocuments);try{for(t.s();!(n=t.n()).done;){var e,n,r=n.value;r.getSelection().rangeCount&&(e=r.activeElement,n=this.domConverter.mapDomToView(e),e&&n&&r.getSelection().removeAllRanges())}}catch(e){t.e(e)}finally{t.f()}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){var e;!this.isFocused||(e=this.selection.editableElement)&&this.domConverter.focus(e)}}]),di);function di(e,t){qS(this,di),this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=t,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}function fi(e,t,n){var r=t instanceof Array?t:t.childNodes,i=r[n];if(Zr(i))return i.data=Xr+i.data,i;e=e.createTextNode(Xr);return Array.isArray(t)?r.splice(n,0,e):li(t,n,e),e}function pi(e,t){return ui(e)&&ui(t)&&!Zr(e)&&!Zr(t)&&e.nodeType!==Node.COMMENT_NODE&&t.nodeType!==Node.COMMENT_NODE&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}Ie(hi,Se);var gi={window:window,document:document};function vi(e){for(var t=0;e.previousSibling;)e=e.previousSibling,t++;return t}function mi(e){for(var t=[];e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}var yi=Yr(document),ki=Jr(document),bi=Qr(document),_i=(WS(wi,[{key:"bindFakeSelection",value:function(e,t){this._fakeSelectionMapping.set(e,new tr(t))}},{key:"fakeSelectionToView",value:function(e){return this._fakeSelectionMapping.get(e)}},{key:"bindElements",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"unbindDomElement",value:function(e){var t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);var n=HS(e.childNodes);try{for(n.s();!(r=n.n()).done;){var r=r.value;this.unbindDomElement(r)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"bindDocumentFragments",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"viewToDom",value:function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(e.is("$text")){var i=this._processDataFromViewText(e);return t.createTextNode(i)}if(this.mapViewToDom(e))return this.mapViewToDom(e);if(e.is("documentFragment"))n=t.createDocumentFragment(),r.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return n=e.render(t),r.bind&&this.bindElements(n,e),n;n=e.hasAttribute("xmlns")?t.createElementNS(e.getAttribute("xmlns"),e.name):t.createElement(e.name),e.is("rawElement")&&e.render(n),r.bind&&this.bindElements(n,e);var o=HS(e.getAttributeKeys());try{for(o.s();!(a=o.n()).done;){var a=a.value;n.setAttribute(a,e.getAttribute(a))}}catch(e){o.e(e)}finally{o.f()}}if(!1!==r.withChildren){var s=HS(this.viewChildrenToDom(e,t,r));try{for(s.s();!(l=s.n()).done;){var l=l.value;n.appendChild(l)}}catch(e){s.e(e)}finally{s.f()}}return n}},{key:"viewChildrenToDom",value:regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,l,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=2<c.length&&void 0!==c[2]?c[2]:{},i=t.getFillerOffset&&t.getFillerOffset(),o=0,a=HS(t.getChildren()),e.prev=4,a.s();case 6:if((s=a.n()).done){e.next=17;break}if(l=s.value,e.t0=i===o,e.t0)return e.next=12,this._getBlockFiller(n);e.next=12;break;case 12:return e.next=14,this.viewToDom(l,n,r);case 14:o++;case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(4),a.e(e.t1);case 22:return e.prev=22,a.f(),e.finish(22);case 25:if(e.t2=i===o,e.t2)return e.next=29,this._getBlockFiller(n);e.next=29;break;case 29:case"end":return e.stop()}},e,this,[[4,19,22,25]])})},{key:"viewRangeToDom",value:function(e){var t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),e=document.createRange();return e.setStart(t.parent,t.offset),e.setEnd(n.parent,n.offset),e}},{key:"viewPositionToDom",value:function(e){var t,n,r=e.parent;if(r.is("$text")){var i=this.findCorrespondingDomText(r);if(!i)return null;var o=e.offset;return ei(i)&&(o+=7),{parent:i,offset:o}}if(0===e.offset){if(!(t=this.mapViewToDom(r)))return null;n=t.childNodes[0]}else{var a=e.nodeBefore;if(!(a=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(e.nodeBefore)))return null;t=a.parentNode,n=a.nextSibling}return Zr(n)&&ei(n)?{parent:n,offset:7}:{parent:t,offset:a?vi(a)+1:0}}},{key:"domToView",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.isBlockFiller(e))return null;var n=this.getHostViewElement(e);if(n)return n;if(Zr(e)){if(ti(e))return null;var r=this._processDataFromDomText(e);return""===r?null:new cn(this.document,r)}if(this.isComment(e))return null;if(this.mapDomToView(e))return this.mapDomToView(e);if(this.isDocumentFragment(e))i=new jr(this.document),t.bind&&this.bindDocumentFragments(e,i);else{var r=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase(),i=new zn(this.document,r);t.bind&&this.bindElements(e,i);for(var o=e.attributes,a=o.length-1;0<=a;a--)i._setAttribute(o[a].name,o[a].value);if(!1!==t.withChildren&&this._rawContentElementMatcher.match(i))return i._setCustomProperty("$rawContent",e.innerHTML),this._encounteredRawContentDomNodes.add(e),i}if(!1!==t.withChildren){var s=HS(this.domChildrenToView(e,t));try{for(s.s();!(l=s.n()).done;){var l=l.value;i._appendChild(l)}}catch(e){s.e(e)}finally{s.f()}}return i}},{key:"domChildrenToView",value:regeneratorRuntime.mark(function e(t){var n,r,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=1<o.length&&void 0!==o[1]?o[1]:{},r=0;case 2:if(!(r<t.childNodes.length)){e.next=11;break}if(i=this.domToView(t.childNodes[r],n),e.t0=null!==i,e.t0)return e.next=8,i;e.next=8;break;case 8:r++,e.next=2;break;case 11:case"end":return e.stop()}},e,this)})},{key:"domSelectionToView",value:function(e){if(1===e.rangeCount){var t=e.getRangeAt(0).startContainer;Zr(t)&&(t=t.parentNode);t=this.fakeSelectionToView(t);if(t)return t}for(var t=this.isDomSelectionBackward(e),n=[],r=0;r<e.rangeCount;r++){var i=e.getRangeAt(r),i=this.domRangeToView(i);i&&n.push(i)}return new tr(n,{backward:t})}},{key:"domRangeToView",value:function(e){var t=this.domPositionToView(e.startContainer,e.startOffset),e=this.domPositionToView(e.endContainer,e.endOffset);return t&&e?new Zn(t,e):null}},{key:"domPositionToView",value:function(e,t){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,vi(e));var n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return Gn._createBefore(n);if(Zr(e)){if(ti(e))return this.domPositionToView(e.parentNode,vi(e));var n=this.findCorrespondingViewText(e),r=t;return n?(ei(e)&&(r=(r-=7)<0?0:r),new Gn(n,r)):null}if(0===t){r=this.mapDomToView(e);if(r)return new Gn(r,0)}else{t=e.childNodes[t-1],t=Zr(t)?this.findCorrespondingViewText(t):this.mapDomToView(t);if(t&&t.parent)return new Gn(t.parent,t.index+1)}return null}},{key:"mapDomToView",value:function(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}},{key:"findCorrespondingViewText",value:function(e){if(ti(e))return null;var t=this.getHostViewElement(e);if(t)return t;t=e.previousSibling;if(t){if(!this.isElement(t))return null;t=this.mapDomToView(t);if(t)return t.nextSibling instanceof cn?t.nextSibling:null}else{e=this.mapDomToView(e.parentNode);if(e){e=e.getChild(0);return e instanceof cn?e:null}}return null}},{key:"mapViewToDom",value:function(e){return this._viewToDomMapping.get(e)}},{key:"findCorrespondingDomText",value:function(e){var t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:"focus",value:function(e){var t,r,n=this.mapViewToDom(e);n&&n.ownerDocument.activeElement!==n&&(e=(t=gi.window).scrollX,t=t.scrollY,r=[],xi(n,function(e){var t=e.scrollLeft,e=e.scrollTop;r.push([t,e])}),n.focus(),xi(n,function(e){var t=BS(r.shift(),2),n=t[0],t=t[1];e.scrollLeft=n,e.scrollTop=t}),gi.window.scrollTo(e,t))}},{key:"isElement",value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(e){return e&&e.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(e){return"br"==this.blockFillerMode?e.isEqualNode(yi):!("BR"!==e.tagName||!Si(e,this.blockElements)||1!==e.parentNode.childNodes.length)||e.isEqualNode(bi)||(t=e,e=this.blockElements,t.isEqualNode(ki)&&Si(t,e)&&1===t.parentNode.childNodes.length);var t}},{key:"isDomSelectionBackward",value:function(e){if(e.isCollapsed)return!1;var t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);e=t.collapsed;return t.detach(),e}},{key:"getHostViewElement",value:function(e){var t=mi(e);for(t.pop();t.length;){var n=t.pop(),n=this._domToViewMapping.get(n);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}},{key:"isDomSelectionCorrect",value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:"registerRawContentMatcher",value:function(e){this._rawContentElementMatcher.add(e)}},{key:"_getBlockFiller",value:function(e){switch(this.blockFillerMode){case"nbsp":return Jr(e);case"markedNbsp":return Qr(e);case"br":return Yr(e)}}},{key:"_isDomSelectionPositionCorrect",value:function(e,t){if(Zr(e)&&ei(e)&&t<7)return!1;if(this.isElement(e)&&ei(e.childNodes[t]))return!1;e=this.mapDomToView(e);return!e||!e.is("uiElement")&&!e.is("rawElement")}},{key:"_processDataFromViewText",value:function(e){var t,n=this,r=e.data;return e.getAncestors().some(function(e){return n.preElements.includes(e.name)})?r:(" "!=r.charAt(0)||((t=this._getTouchingViewTextNode(e,!1))&&this._nodeEndsWithSpace(t)||!t)&&(r=" "+r.substr(1))," "==r.charAt(r.length-1)&&(e=this._getTouchingViewTextNode(e,!0)," "!=r.charAt(r.length-2)&&e&&" "!=e.data.charAt(0)||(r=r.substr(0,r.length-1)+" ")),r.replace(/ {2}/g,"  "))}},{key:"_nodeEndsWithSpace",value:function(e){var t=this;if(e.getAncestors().some(function(e){return t.preElements.includes(e.name)}))return!1;e=this._processDataFromViewText(e);return" "==e.charAt(e.length-1)}},{key:"_processDataFromDomText",value:function(e){var t=e.data;if(Ci(e,this.preElements))return ni(e);t=t.replace(/[ \n\t\r]{1,}/g," ");var n=this._getTouchingInlineDomNode(e,!1),r=this._getTouchingInlineDomNode(e,!0),n=this._checkShouldLeftTrimDomText(e,n),e=this._checkShouldRightTrimDomText(e,r);return n&&(t=t.replace(/^ /,"")),e&&(t=t.replace(/ $/,"")),t=(t=ni(new Text(t))).replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(t)||!r||r.data&&" "==r.data.charAt(0))&&(t=t.replace(/\u00A0$/," ")),n&&(t=t.replace(/^\u00A0/," ")),t}},{key:"_checkShouldLeftTrimDomText",value:function(e,t){return!t||!!Vt(t)||!this._encounteredRawContentDomNodes.has(e.previousSibling)&&/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1))}},{key:"_checkShouldRightTrimDomText",value:function(e,t){return!t&&!ei(e)}},{key:"_getTouchingViewTextNode",value:function(e,t){var n=HS(new Kn({startPosition:t?Gn._createAfter(e):Gn._createBefore(e),direction:t?"forward":"backward"}));try{for(n.s();!(r=n.n()).done;){var r=r.value;if(r.item.is("containerElement"))return null;if(r.item.is("element","br"))return null;if(r.item.is("$textProxy"))return r.item}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(i,e){if(!i.parentNode)return null;var t=e?"nextNode":"previousNode",n=i.ownerDocument,e=mi(i)[0],e=n.createTreeWalker(e,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return Zr(e)||"BR"==e.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});e.currentNode=i;e=e[t]();if(null!==e){t=function(e){for(var t=mi(i),n=mi(e),r=0;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}(e);if(t&&!Ci(i,this.blockElements,t)&&!Ci(e,this.blockElements,t))return e}return null}}]),wi);function wi(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};qS(this,wi),this.document=e,this.blockFillerMode=t.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption","td","th"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new fn,this._encounteredRawContentDomNodes=new WeakSet}function Ci(e,t,n){e=mi(e);return n&&(e=e.slice(e.indexOf(n)+1)),e.some(function(e){return e.tagName&&t.includes(e.tagName.toLowerCase())})}function xi(e,t){for(;e&&e!=gi.document;)t(e),e=e.parentNode}function Si(e,t){e=e.parentNode;return e&&e.tagName&&t.includes(e.tagName.toLowerCase())}function Ei(e){e=Object.prototype.toString.apply(e);return"[object Window]"==e||"[object global]"==e}var Ti=ke({},c,{listenTo:function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(ui(e)||Ei(e))&&((t=this._getProxyEmitter(e)||new Ai(e)).attach.apply(t,r),e=t),(t=c.listenTo).call.apply(t,[this,e].concat(r))},stopListening:function(e,t,n){if(ui(e)||Ei(e)){var r=this._getProxyEmitter(e);if(!r)return;e=r}c.stopListening.call(this,e,t,n),e instanceof Ai&&e.detach(t)},_getProxyEmitter:function(e){return e=Pi(e),this[l]&&this[l][e]?this[l][e].emitter:null}}),Ai=function e(t){qS(this,e),f(this,Pi(t)),this._domNode=t};function Pi(e){return e["data-ck-expando"]||(e["data-ck-expando"]=u())}ke(Ai.prototype,c,{attach:function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this._domListeners&&this._domListeners[e]||(n={capture:!!r.useCapture,passive:!!r.usePassive},r=this._createDomListener(e,n),this._domNode.addEventListener(e,r,n),this._domListeners||(this._domListeners={}),this._domListeners[e]=r)},detach:function(e){var t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener:function(t,e){function n(e){r.fire(t,e)}var r=this;return n.removeListener=function(){r._domNode.removeEventListener(t,n,e),delete r._domListeners[t]},n}});var Ri=(WS(Ii,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}},{key:"checkShouldIgnoreEventFromTarget",value:function(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}]),Ii);function Ii(e){qS(this,Ii),this.view=e,this.document=e.document,this.isEnabled=!1}function Oi(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new rt;++t<n;)this.add(e[t])}Ie(Ri,Ti),Oi.prototype.add=Oi.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Oi.prototype.has=function(e){return this.__data__.has(e)};function Mi(e,t,r,i,o,a){var n=1&r,s=e.length,l=t.length;if(s!=l&&!(n&&s<l))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var u=-1,h=!0,d=2&r?new Vi:void 0;for(a.set(e,t),a.set(t,e);++u<s;){var f,p=e[u],g=t[u];if(i&&(f=n?i(g,p,u,t,e,a):i(p,g,u,e,t,a)),void 0!==f){if(f)continue;h=!1;break}if(d){if(!function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}(t,function(e,t){return n=t,!d.has(n)&&(p===e||o(p,e,r,i,a))&&d.push(t);var n})){h=!1;break}}else if(p!==g&&!o(p,g,r,i,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Ni(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function Li(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Di(e,t,n,r,i){return e===t||(null==e||null==t||!O(e)&&!O(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=le(e),s=le(t),l=a?"[object Array]":Et(e),c=s?"[object Array]":Et(t),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),s="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),c=l==c;if(c&&Object(ce.a)(e)){if(!Object(ce.a)(t))return!1;u=!(a=!0)}if(c&&!u)return o=o||new ut,(a||ge(e)?Mi:function(e,t,n,r,i,o){switch(l){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new At(e),new At(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return S(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Ni;case"[object Set]":if(a=a||Li,e.size!=t.size&&!(1&n))return!1;var s=o.get(e);if(s)return s==t;n|=2,o.set(e,t);a=Mi(a(e),a(t),n,r,i,o);return o.delete(e),a;case"[object Symbol]":if(zi)return zi.call(e)==zi.call(t)}return!1})(e,t,n,r,i,o);if(!(1&n)){u=u&&Hi.call(e,"__wrapped__"),s=s&&Hi.call(t,"__wrapped__");if(u||s)return i(u?e.value():e,s?t.value():t,n,r,o=o||new ut)}return!!c&&function(e,t,n,r,i,o){var a=1&n,s=ct(e),l=s.length;if(l!=ct(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:Bi.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<l;){var g,v=e[u=s[c]],m=t[u];if(r&&(g=a?r(m,v,u,t,e,o):r(v,m,u,e,t,o)),!(void 0===g?v===m||i(v,m,n,r,o):g)){f=!1;break}p=p||"constructor"==u}return!f||p||(h=e.constructor)!=(d=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof h&&h instanceof h&&"function"==typeof d&&d instanceof d)&&(f=!1),o.delete(e),o.delete(t),f}(e,t,n,r,i,o=o||new ut)}(e,t,n,r,Di,i))}function ji(){return D.a.Date.now()}function Fi(e){if("number"==typeof e)return e;if(vn(e))return NaN;if(k(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=k(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=(t=e)&&t.slice(0,function(e){for(var t=e.length;t--&&Ki.test(e.charAt(t)););return t}(t)+1).replace(Gi,"");var t=Ji.test(e);return t||Qi.test(e)?Yi(e.slice(2),t?2:8):Zi.test(e)?NaN:+e}var Vi=Oi,ne=j?j.prototype:void 0,zi=ne?ne.valueOf:void 0,Bi=Object.prototype.hasOwnProperty,Hi=Object.prototype.hasOwnProperty,Ui=function(){$S(r,Ri);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e))._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},t.domConverter=e.domConverter,t.renderer=e._renderer,t._domElements=[],t._mutationObserver=new window.MutationObserver(t._onMutations.bind(ZS(t))),t}return WS(r,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}},{key:"enable",value:function(){zS(YS(r.prototype),"enable",this).call(this);var t=HS(this._domElements);try{for(t.s();!(e=t.n()).done;){var e=e.value;this._mutationObserver.observe(e,this._config)}}catch(e){t.e(e)}finally{t.f()}}},{key:"disable",value:function(){zS(YS(r.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){zS(YS(r.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(e){if(0!==e.length){var t=this.domConverter,n=new Map,r=new Set,i=HS(e);try{for(i.s();!(o=i.n()).done;){var o,a=o.value;"childList"===a.type&&((o=t.mapDomToView(a.target))&&(o.is("uiElement")||o.is("rawElement"))||o&&!this._isBogusBrMutation(a)&&r.add(o))}}catch(e){i.e(e)}finally{i.f()}var s=HS(e);try{for(s.s();!(c=s.n()).done;){var l=c.value,c=t.mapDomToView(l.target);c&&(c.is("uiElement")||c.is("rawElement"))||"characterData"!==l.type||((c=t.findCorrespondingViewText(l.target))&&!r.has(c.parent)?n.set(c,{type:"text",oldText:c.data,newText:ni(l.target),node:c}):!c&&ei(l.target)&&r.add(t.mapDomToView(l.target.parentNode)))}}catch(e){s.e(e)}finally{s.f()}var u=[],h=HS(n.values());try{for(h.s();!(d=h.n()).done;){var d=d.value;this.renderer.markToSync("text",d.node),u.push(d)}}catch(e){h.e(e)}finally{h.f()}var f=HS(r);try{for(f.s();!(w=f.n()).done;){var p=w.value,g=t.mapViewToDom(p),v=Array.from(p.getChildren()),m=Array.from(t.domChildrenToView(g,{withChildren:!1}));b=v,_=m,((w=void 0)===(w=(g="function"==typeof(g=C)?g:void 0)?g(b,_):void 0)?Di(b,_,void 0,g):!!w)||(this.renderer.markToSync("children",p),u.push({type:"children",oldChildren:v,newChildren:m,node:p}))}}catch(e){f.e(e)}finally{f.f()}var y=e[0].target.ownerDocument.getSelection(),k=null;y&&y.anchorNode&&(e=t.domPositionToView(y.anchorNode,y.anchorOffset),y=t.domPositionToView(y.focusNode,y.focusOffset),e&&y&&(k=new tr(e)).setFocus(y)),u.length&&(this.document.fire("mutations",u,k),this.view.forceRender())}var b,_,w;function C(e,t){if(!Array.isArray(e))return e===t||!(!e.is("$text")||!t.is("$text"))&&e.data===t.data}}},{key:"_isBogusBrMutation",value:function(e){var t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}]),r}(),qi=(WS(uo,[{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}},{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}}]),uo),Wi=function(){$S(n,Ri);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).useCapture=!1,e}return WS(n,[{key:"observe",value:function(t){var n=this;("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(function(e){n.listenTo(t,e,function(e,t){n.isEnabled&&!n.checkShouldIgnoreEventFromTarget(t.target)&&n.onDomEvent(t)},{useCapture:n.useCapture})})}},{key:"fire",value:function(e,t,n){this.isEnabled&&this.document.fire(e,new qi(this.view,t,n))}}]),n}(),$i=function(){$S(n,Wi);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).domEventType=["keydown","keyup"],e}return WS(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Ar(this)}})}}]),n}(),Ki=/\s/,Gi=/^\s+/,Zi=/^[-+]0x[0-9a-f]+$/i,Ji=/^0b[01]+$/i,Qi=/^0o[0-7]+$/i,Yi=parseInt,Xi=Math.max,eo=Math.min,to=function(r,n,e){var i,o,a,s,l,c,u=0,h=!1,d=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function f(e){var t=i,n=o;return i=o=void 0,u=e,s=r.apply(n,t)}function p(e){var t=e-c;return void 0===c||n<=t||t<0||d&&a<=e-u}function g(){var e,t=ji();if(p(t))return v(t);l=setTimeout(g,(e=n-(t-c),d?eo(e,a-(t-u)):e))}function v(e){return l=void 0,t&&i?f(e):(i=o=void 0,s)}function m(){var e=ji(),t=p(e);if(i=arguments,o=this,c=e,t){if(void 0===l)return u=t=c,l=setTimeout(g,n),h?f(t):s;if(d)return clearTimeout(l),l=setTimeout(g,n),f(c)}return void 0===l&&(l=setTimeout(g,n)),s}return n=Fi(n)||0,k(e)&&(h=!!e.leading,a=(d="maxWait"in e)?Xi(Fi(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),m.cancel=function(){void 0!==l&&clearTimeout(l),i=c=o=l=void(u=0)},m.flush=function(){return void 0===l?s:v(ji())},m},no=function(){$S(r,Ri);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e))._fireSelectionChangeDoneDebounced=to(function(e){return t.document.fire("selectionChangeDone",e)},200),t}return WS(r,[{key:"observe",value:function(){var n=this,r=this.document;r.on("arrowKey",function(e,t){r.selection.isFake&&n.isEnabled&&t.preventDefault()},{context:"$capture"}),r.on("arrowKey",function(e,t){r.selection.isFake&&n.isEnabled&&n._handleSelectionMove(t.keyCode)},{priority:"lowest"})}},{key:"destroy",value:function(){zS(YS(r.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(e){var t=this.document.selection,n=new tr(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Er.arrowleft&&e!=Er.arrowup||n.setTo(n.getFirstPosition()),e!=Er.arrowright&&e!=Er.arrowdown||n.setTo(n.getLastPosition());n={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",n),this._fireSelectionChangeDoneDebounced(n)}}]),r}(),ro=function(){$S(r,Ri);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e)).mutationObserver=e.getObserver(Ui),t.selection=t.document.selection,t.domConverter=e.domConverter,t._documents=new WeakSet,t._fireSelectionChangeDoneDebounced=to(function(e){return t.document.fire("selectionChangeDone",e)},200),t._clearInfiniteLoopInterval=setInterval(function(){return t._clearInfiniteLoop()},1e3),t._loopbackCounter=0,t}return WS(r,[{key:"observe",value:function(e){var n=this,r=e.ownerDocument;this._documents.has(r)||(this.listenTo(r,"selectionchange",function(e,t){n._handleSelectionChange(t,r)}),this._documents.add(r))}},{key:"destroy",value:function(){zS(YS(r.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(e,t){var n;this.isEnabled&&(n=t.defaultView.getSelection(),this.checkShouldIgnoreEventFromTarget(n.anchorNode)||(this.mutationObserver.flush(),0!=(t=this.domConverter.domSelectionToView(n)).rangeCount?(this.view.hasDomSelection=!0,this.selection.isEqual(t)&&this.domConverter.isDomSelectionCorrect(n)||60<++this._loopbackCounter||(this.selection.isSimilar(t)?this.view.forceRender():(n={oldSelection:this.selection,newSelection:t,domSelection:n},this.document.fire("selectionChange",n),this._fireSelectionChangeDoneDebounced(n)))):this.view.hasDomSelection=!1))}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),r}(),io=function(){$S(n,Wi);var t=KS(n);function n(r){var e;qS(this,n),(e=t.call(this,r)).domEventType=["focus","blur"],e.useCapture=!0;var i=e.document;return i.on("focus",function(){i.isFocused=!0,e._renderTimeoutId=setTimeout(function(){return r.forceRender()},50)}),i.on("blur",function(e,t){var n=i.selection.editableElement;null!==n&&n!==t.target||(i.isFocused=!1,r.forceRender())}),e}return WS(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),zS(YS(n.prototype),"destroy",this).call(this)}}]),n}(),oo=function(){$S(r,Wi);var n=KS(r);function r(e){qS(this,r),(e=n.call(this,e)).domEventType=["compositionstart","compositionupdate","compositionend"];var t=e.document;return t.on("compositionstart",function(){t.isComposing=!0}),t.on("compositionend",function(){t.isComposing=!1}),e}return WS(r,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),r}(),ao=function(){$S(n,Wi);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).domEventType=["beforeinput"],e}return WS(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(),so=(WS(co,[{key:"replace",value:function(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach(function(e){var t=e.element,e=e.newElement;t.style.display="",e&&e.remove()}),this._replacedElements=[]}}]),co),lo=function(e){return"string"==typeof e||!le(e)&&O(e)&&"[object String]"==b(e)};function co(){qS(this,co),this._replacedElements=[]}function uo(e,t,n){qS(this,uo),this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,ke(this,n)}function ho(e,t,n,r){var i,o=2<arguments.length&&void 0!==n?n:{},n=3<arguments.length&&void 0!==r?r:[],r=o&&o.xmlns,a=r?e.createElementNS(r,t):e.createElement(t);for(i in o)a.setAttribute(i,o[i]);!lo(n)&&qt(n)||(n=[n]);var s=HS(n);try{for(s.s();!(l=s.n()).done;){var l=l.value;lo(l)&&(l=e.createTextNode(l)),a.appendChild(l)}}catch(e){s.e(e)}finally{s.f()}return a}function fo(e){return"[object Range]"==Object.prototype.toString.apply(e)}function po(e){e=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}var go=["top","right","bottom","left","width","height"],vo=(WS(mo,[{key:"clone",value:function(){return new mo(this)}},{key:"moveTo",value:function(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}},{key:"moveBy",value:function(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}},{key:"getIntersection",value:function(e){e={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new mo(e)}},{key:"getIntersectionArea",value:function(e){e=this.getIntersection(e);return e?e.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var e=this._source,t=this.clone();if(!ko(e))for(var n=e.parentNode||e.commonAncestorContainer;n&&!ko(n);){var r=new mo(n),r=t.getIntersection(r);if(!r)return null;r.getArea()<t.getArea()&&(t=r),n=n.parentNode}return t}},{key:"isEqual",value:function(e){var t=HS(go);try{for(t.s();!(n=t.n()).done;){var n=n.value;if(this[n]!==e[n])return!1}}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"contains",value:function(e){var t=this.getIntersection(e);return!(!t||!t.isEqual(e))}},{key:"excludeScrollbarsAndBorders",value:function(){var e,t,n,r,i=this._source;return Ei(i)?(t=i.innerWidth-i.document.documentElement.clientWidth,n=i.innerHeight-i.document.documentElement.clientHeight,r=i.getComputedStyle(i.document.documentElement).direction):(e=po(this._source),t=i.offsetWidth-i.clientWidth-e.left-e.right,n=i.offsetHeight-i.clientHeight-e.top-e.bottom,r=i.ownerDocument.defaultView.getComputedStyle(i).direction,this.left+=e.left,this.top+=e.top,this.right-=e.right,this.bottom-=e.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top),this.width-=t,"ltr"===r?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}}],[{key:"getDomRangeRects",value:function(e){var t=[],n=Array.from(e.getClientRects());if(n.length){var r=HS(n);try{for(r.s();!(i=r.n()).done;){var i=i.value;t.push(new mo(i))}}catch(e){r.e(e)}finally{r.f()}}else{e=e.startContainer;Zr(e)&&(e=e.parentNode);e=new mo(e.getBoundingClientRect());e.right=e.left,e.width=0,t.push(e)}return t}},{key:"getBoundingRect",value:function(e){var t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY},n=0,r=HS(e);try{for(r.s();!(i=r.n()).done;){var i=i.value;n++,t.left=Math.min(t.left,i.left),t.top=Math.min(t.top,i.top),t.right=Math.max(t.right,i.right),t.bottom=Math.max(t.bottom,i.bottom)}}catch(e){r.e(e)}finally{r.f()}return 0==n?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new mo(t))}}]),mo);function mo(e){qS(this,mo);var t,n=fo(e);Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Vt(e)||n?n?(t=mo.getDomRangeRects(e),yo(this,mo.getBoundingRect(t))):yo(this,e.getBoundingClientRect()):Ei(e)?yo(this,{top:0,right:n=e.innerWidth,bottom:t=e.innerHeight,left:0,width:n,height:t}):yo(this,e)}function yo(e,t){var n=HS(go);try{for(n.s();!(r=n.n()).done;){var r=r.value;e[r]=t[r]}}catch(e){n.e(e)}finally{n.f()}}function ko(e){return Vt(e)&&e===e.ownerDocument.body}var bo=(WS(_o,[{key:"destroy",value:function(){_o._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(e,t){_o._elementCallbacks||(_o._elementCallbacks=new Map);var n=_o._elementCallbacks.get(e);n||(n=new Set,_o._elementCallbacks.set(e,n)),n.add(t)}},{key:"_deleteElementCallback",value:function(e,t){var n=_o._getElementCallbacks(e);n&&(n.delete(t),n.size||(_o._elementCallbacks.delete(e),_o._observerInstance.unobserve(e))),_o._elementCallbacks&&!_o._elementCallbacks.size&&(_o._observerInstance=null,_o._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(e){return _o._elementCallbacks?_o._elementCallbacks.get(e):null}},{key:"_createObserver",value:function(){var e="function"==typeof gi.window.ResizeObserver?gi.window.ResizeObserver:wo;_o._observerInstance=new e(function(e){var t=HS(e);try{for(t.s();!(r=t.n()).done;){var n=r.value,r=_o._getElementCallbacks(n.target);if(r){var i,o=HS(r);try{for(o.s();!(i=o.n()).done;)(0,i.value)(n)}catch(e){o.e(e)}finally{o.f()}}}}catch(e){t.e(e)}finally{t.f()}})}}]),_o);function _o(e,t){qS(this,_o),_o._observerInstance||_o._createObserver(),this._element=e,this._callback=t,_o._addElementCallback(e,t),_o._observerInstance.observe(e)}bo._observerInstance=null,bo._elementCallbacks=null;var wo=(WS(Co,[{key:"observe",value:function(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}},{key:"unobserve",value:function(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var t=this;this.listenTo(gi.window,"resize",function(){t._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(function e(){t._checkElementRectsAndExecuteCallback(),t._periodicCheckTimeout=setTimeout(e,100)},100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var e=[],t=HS(this._elements);try{for(t.s();!(n=t.n()).done;){var n=n.value;this._hasRectChanged(n)&&e.push({target:n,contentRect:this._previousRects.get(n)})}}catch(e){t.e(e)}finally{t.f()}e.length&&this._callback(e)}},{key:"_hasRectChanged",value:function(e){if(!e.ownerDocument.body.contains(e))return!1;var t=new vo(e),n=this._previousRects.get(e),n=!n||!n.isEqual(t);return this._previousRects.set(e,t),n}}]),Co);function Co(e){qS(this,Co),this._callback=e,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}function xo(t){return function(e){return e+t}}function So(e){e=e.next();return e.done?null:e.value}Ie(wo,Ti);var Eo=(WS(To,[{key:"add",value:function(e){var t=this;if(this._elements.has(e))throw new C.a("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",function(){return t._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",function(){return t._blur()},{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(function(){e.focusedElement=null,e.isFocused=!1},0)}}]),To);function To(){qS(this,To),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}Ie(Eo,Ti),Ie(Eo,Se);var Ao=(WS(Ro,[{key:"listenTo",value:function(e){var n=this;this._listener.listenTo(e,"keydown",function(e,t){n._listener.fire("_keydown:"+Ar(t),t)})}},{key:"set",value:function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=Pr(e);this._listener.listenTo(this._listener,"_keydown:"+e,function(e,t){n(t,function(){t.preventDefault(),t.stopPropagation(),e.stop()}),e.return=!0},{priority:t.priority})}},{key:"press",value:function(e){return!!this._listener.fire("_keydown:"+Ar(e),e)}},{key:"destroy",value:function(){this._listener.stopListening()}}]),Ro),Po=function(){$S(n,Ri);var t=KS(n);function n(e){var r;return qS(this,n),(r=t.call(this,e)).document.on("keydown",function(e,t){var n;!r.isEnabled||(n=t.keyCode)!=Er.arrowright&&n!=Er.arrowleft&&n!=Er.arrowup&&n!=Er.arrowdown||(n=new or(r.document,"arrowKey",r.document.selection.getFirstRange()),r.document.fire(n,t),n.stop.called&&e.stop())}),r}return WS(n,[{key:"observe",value:function(){}}]),n}();function Ro(){qS(this,Ro),this._listener=Object.create(Ti)}function Io(e){for(var t=e.target,e=e.viewportOffset,n=void 0===e?0:e,r=jo(t),i=r,o=null;i;){Oo(Fo(i==r?t:o),function(){return Vo(t,i)});var a=Vo(t,i);if(function(e,t,n){var r=t.clone().moveBy(0,n),i=t.clone().moveBy(0,-n),o=new vo(e).excludeScrollbarsAndBorders();{var a,s;[i,r].every(function(e){return o.contains(e)})||(a=e.scrollX,s=e.scrollY,No(i,o)?s-=o.top-t.top+n:Mo(r,o)&&(s+=t.bottom-o.bottom+n),Lo(t,o)?a-=o.left-t.left+n:Do(t,o)&&(a+=t.right-o.right+n),e.scrollTo(a,s))}}(i,a,n),i.parent!=i){if(o=i.frameElement,i=i.parent,!o)return}else i=null}}function Oo(e,t){for(var n,r,i=jo(e);e!=i.document.body;)r=t(),(n=new vo(e).excludeScrollbarsAndBorders()).contains(r)||(No(r,n)?e.scrollTop-=n.top-r.top:Mo(r,n)&&(e.scrollTop+=r.bottom-n.bottom),Lo(r,n)?e.scrollLeft-=n.left-r.left:Do(r,n)&&(e.scrollLeft+=r.right-n.right)),e=e.parentNode}function Mo(e,t){return e.bottom>t.bottom}function No(e,t){return e.top<t.top}function Lo(e,t){return e.left<t.left}function Do(e,t){return e.right>t.right}function jo(e){return(fo(e)?e.startContainer:e).ownerDocument.defaultView}function Fo(e){if(fo(e)){var t=e.commonAncestorContainer;return Zr(t)&&(t=t.parentNode),t}return e.parentNode}function Vo(e,t){var n=jo(e),r=new vo(e);if(n===t)return r;for(var i=n;i!=t;){var o=new vo(i.frameElement).excludeScrollbarsAndBorders();r.moveBy(o.left,o.top),i=i.parent}return r}Object.assign({},{scrollViewportToShowTarget:Io,scrollAncestorsToShowTarget:function(e){Oo(Fo(e),function(){return new vo(e)})}});var zo=(WS(Bo,[{key:"attachDomRoot",value:function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"main",r=this.document.getRoot(t);r._name=e.tagName.toLowerCase();for(var i={},o=0,a=Array.from(e.attributes);o<a.length;o++){var s=a[o],l=s.name,s=s.value;i[l]=s,"class"===l?this._writer.addClass(s.split(" "),r):this._writer.setAttribute(l,s,r)}this._initialDomRootAttributes.set(e,i);function c(){n._writer.setAttribute("contenteditable",!r.isReadOnly,r),r.isReadOnly?n._writer.addClass("ck-read-only",r):n._writer.removeClass("ck-read-only",r)}c(),this.domRoots.set(t,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",function(e,t){return n._renderer.markToSync("children",t)}),r.on("change:attributes",function(e,t){return n._renderer.markToSync("attributes",t)}),r.on("change:text",function(e,t){return n._renderer.markToSync("text",t)}),r.on("change:isReadOnly",function(){return n.change(c)}),r.on("change",function(){n._hasChangedSinceTheLastRendering=!0});var u,h=HS(this._observers.values());try{for(h.s();!(u=h.n()).done;)u.value.observe(e,t)}catch(e){h.e(e)}finally{h.f()}}},{key:"detachDomRoot",value:function(e){var t=this.domRoots.get(e);Array.from(t.attributes).forEach(function(e){e=e.name;return t.removeAttribute(e)});var n,r=this._initialDomRootAttributes.get(t);for(n in r)t.setAttribute(n,r[n]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}},{key:"getDomRoot",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(e)}},{key:"addObserver",value:function(e){var t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);var n=HS(this.domRoots);try{for(n.s();!(i=n.n()).done;){var r=BS(i.value,2),i=r[0],r=r[1];t.observe(r,i)}}catch(e){n.e(e)}finally{n.f()}return t.enable(),t}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"disableObservers",value:function(){var e,t=HS(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.disable()}catch(e){t.e(e)}finally{t.f()}}},{key:"enableObservers",value:function(){var e,t=HS(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.enable()}catch(e){t.e(e)}finally{t.f()}}},{key:"scrollToTheSelection",value:function(){var e=this.document.selection.getFirstRange();e&&Io({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:"focus",value:function(){var e;this.document.isFocused||(e=this.document.selection.editableElement)&&(this.domConverter.focus(e),this.forceRender())}},{key:"change",value:function(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new C.a("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){C.a.rethrowUnexpectedError(e,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change(function(){})}},{key:"destroy",value:function(){var e,t=HS(this._observers.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(e,t){return Gn._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return Gn._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Gn._createBefore(e)}},{key:"createRange",value:function(e,t){return new Zn(e,t)}},{key:"createRangeOn",value:function(e){return Zn._createOn(e)}},{key:"createRangeIn",value:function(e){return Zn._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new tr(e,t,n)}},{key:"_disableRendering",value:function(e){0==(this._renderingDisabled=e)&&this.change(function(){})}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),Bo);function Bo(e){var a,t=this;qS(this,Bo),this.document=new hr(e),this.domConverter=new _i(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new hi(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Vr(this.document),this.addObserver(Ui),this.addObserver(ro),this.addObserver(io),this.addObserver($i),this.addObserver(no),this.addObserver(oo),this.addObserver(Po),_r&&this.addObserver(ao),this.document.on("arrowKey",ri,{priority:"low"}),(a=this).document.on("arrowKey",function(e,t){return n=t,r=a.domConverter,void(n.keyCode==Er.arrowright&&(!(t=1==(i=n.domTarget.ownerDocument.defaultView.getSelection()).rangeCount&&i.getRangeAt(0).collapsed)&&!n.shiftKey||null!==(n=r.domPositionToView(i.focusNode,i.focusOffset))&&(o=!1,n=n.getLastMatchingPosition(function(e){return e.item.is("uiElement")&&(o=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement"))}),o&&(n=r.viewPositionToDom(n),t?i.collapse(n.parent,n.offset):i.extend(n.parent,n.offset)))));var n,r,i,o},{priority:"low"}),this.on("render",function(){t._render(),t.document.fire("layoutChanged"),t._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",function(){t._hasChangedSinceTheLastRendering=!0})}Ie(zo,Se);var Ho=(WS(Qo,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),r=e.getAncestors(t),i=0;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),r=on(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce(function(e,t){return e[t[0]]=t[1],e},{})),e}},{key:"is",value:function(e){return"node"===e||"model:node"===e}},{key:"_clone",value:function(){return new Qo(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,t){this._attrs.set(e,t)}},{key:"_setAttributesTo",value:function(e){this._attrs=dn(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}},{key:"index",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new C.a("model-node-not-found-in-parent",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new C.a("model-node-not-found-in-parent",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]),Qo),Uo=function(){$S(r,Ho);var n=KS(r);function r(e,t){return qS(this,r),(t=n.call(this,t))._data=e||"",t}return WS(r,[{key:"is",value:function(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){var e=zS(YS(r.prototype),"toJSON",this).call(this);return e.data=this.data,e}},{key:"_clone",value:function(){return new r(this.data,this.getAttributes())}},{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}}],[{key:"fromJSON",value:function(e){return new r(e.data,e.attributes)}}]),r}(),qo=(WS(Jo,[{key:"is",value:function(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e}},{key:"getPath",value:function(){var e=this.textNode.getPath();return 0<e.length&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}},{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}}]),Jo),Wo=(WS(Zo,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){e=this._nodes.indexOf(e);return-1==e?null:e}},{key:"getNodeStartOffset",value:function(e){e=this.getNodeIndex(e);return null===e?null:this._nodes.slice(0,e).reduce(function(e,t){return e+t.offsetSize},0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;e=this._nodes[e];if(!e)throw new C.a("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(e){var t=0,n=HS(this._nodes);try{for(n.s();!(r=n.n()).done;){var r=r.value;if(t<=e&&e<t+r.offsetSize)return this.getNodeIndex(r);t+=r.offsetSize}}catch(e){n.e(e)}finally{n.f()}if(t!=e)throw new C.a("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}},{key:"_insertNodes",value:function(e,t){var n,r,i=HS(t);try{for(i.s();!(r=i.n()).done;)if(!(r.value instanceof Ho))throw new C.a("model-nodelist-insertnodes-not-node",this)}catch(e){i.e(e)}finally{i.f()}(n=this._nodes).splice.apply(n,[e,0].concat(US(t)))}},{key:"_removeNodes",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}},{key:"toJSON",value:function(){return this._nodes.map(function(e){return e.toJSON()})}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce(function(e,t){return e+t.offsetSize},0)}}]),Zo),$o=function(){$S(i,Ho);var r=KS(i);function i(e,t,n){return qS(this,i),(t=r.call(this,t)).name=e,t._children=new Wo,n&&t._insertChild(0,n),t}return WS(i,[{key:"is",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"getNodeByPath",value:function(e){var t=this,n=HS(e);try{for(n.s();!(r=n.n()).done;)var r=r.value,t=t.getChild(t.offsetToIndex(r))}catch(e){n.e(e)}finally{n.f()}return t}},{key:"findAncestor",value:function(e){for(var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{includeSelf:!1}).includeSelf?this:this.parent;t;){if(t.name===e)return t;t=t.parent}return null}},{key:"toJSON",value:function(){var e=zS(YS(i.prototype),"toJSON",this).call(this);if(e.name=this.name,0<this._children.length){e.children=[];var t=HS(this._children);try{for(t.s();!(n=t.n()).done;){var n=n.value;e.children.push(n.toJSON())}}catch(e){t.e(e)}finally{t.f()}}return e}},{key:"_clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?Array.from(this._children).map(function(e){return e._clone(!0)}):null;return new i(this.name,this.getAttributes(),e)}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var t="string"==typeof(t=t)?[new Uo(t)]:(qt(t)||(t=[t]),Array.from(t).map(function(e){return"string"==typeof e?new Uo(e):e instanceof qo?new Uo(e.data,e.getAttributes()):e})),n=HS(t);try{for(n.s();!(r=n.n()).done;){var r=r.value;null!==r.parent&&r._remove(),r.parent=this}}catch(e){n.e(e)}finally{n.f()}this._children._insertNodes(e,t)}},{key:"_removeChildren",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=this._children._removeNodes(e,n),r=HS(n);try{for(r.s();!(t=r.n()).done;)t.value.parent=null}catch(e){r.e(e)}finally{r.f()}return n}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}}],[{key:"fromJSON",value:function(e){var t=null;if(e.children){t=[];var n=HS(e.children);try{for(n.s();!(r=n.n()).done;){var r=r.value;t.push((r.name?i:Uo).fromJSON(r))}}catch(e){n.e(e)}finally{n.f()}}return new i(e.name,e.attributes,t)}}]),i}(),Ko=(WS(Go,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){do{var t=this.position,n=this._visitedParent,r=(i=this.next()).done,i=i.value}while(!r&&e(i));r||(this.position=t,this._visitedParent=n)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};var r=t.parent,i=ta(t,r),i=i||na(t,r,i);if(i instanceof $o)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=i),Yo("elementStart",i,e,this.position=t,1);if(i instanceof Uo){var o=this.singleCharacters?1:(o=i.endOffset,this._boundaryEndParent==n&&this.boundaries.end.offset<o&&(o=this.boundaries.end.offset),o-t.offset),i=new qo(i,t.offset-i.startOffset,o);return t.offset+=o,Yo("text",i,e,this.position=t,o)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Yo("elementEnd",n,e,t)}},{key:"_previous",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};var r=t.parent,i=ta(t,r),i=i||ra(t,r,i);if(i instanceof $o)return t.offset--,this.shallow?Yo("elementStart",i,e,this.position=t,1):(t.path.push(i.maxOffset),this.position=t,this._visitedParent=i,this.ignoreElementEnd?this._previous():Yo("elementEnd",i,e,t));if(i instanceof Uo){var o=this.singleCharacters?1:(o=i.startOffset,this._boundaryStartParent==n&&this.boundaries.start.offset>o&&(o=this.boundaries.start.offset),t.offset-o),i=new qo(i,t.offset-i.startOffset-o,o);return t.offset-=o,Yo("text",i,e,this.position=t,o)}return t.path.pop(),this.position=t,this._visitedParent=n.parent,Yo("elementStart",n,e,t,1)}}]),Go);function Go(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(qS(this,Go),!e.boundaries&&!e.startPosition)throw new C.a("model-tree-walker-no-start-position",null);var t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new C.a("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,this.position=e.startPosition?e.startPosition.clone():Xo._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}function Zo(e){qS(this,Zo),this._nodes=[],e&&this._insertNodes(0,e)}function Jo(e,t,n){if(qS(this,Jo),this.textNode=e,t<0||t>e.offsetSize)throw new C.a("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new C.a("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}function Qo(e){qS(this,Qo),this.parent=null,this._attrs=dn(e)}function Yo(e,t,n,r,i){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}var Xo=(WS(ea,[{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var t=on(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;t=new Ko(t);return t.skip(e),t.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}},{key:"findAncestor",value:function(e){var t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var t=on(this.path,e.path),t="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,t)}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),r=0;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}},{key:"getShiftedBy",value:function(e){var t=this.clone(),e=t.offset+e;return t.offset=e<0?0:e,t}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isEqual",value:function(e){return"same"==this.compareWith(e)}},{key:"isTouching",value:function(e){var t=null,n=null;switch(this.compareWith(e)){case"same":return!0;case"before":t=ea._createAt(this),n=ea._createAt(e);break;case"after":t=ea._createAt(e),n=ea._createAt(this);break;default:return!1}for(var r=t.parent;t.path.length+n.path.length;){if(t.isEqual(n))return!0;if(t.path.length>n.path.length){if(t.offset!==r.maxOffset)return!1;t.path=t.path.slice(0,-1),r=r.parent,t.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}},{key:"is",value:function(e){return"position"===e||"model:position"===e}},{key:"hasSameParentAs",value:function(e){return this.root===e.root&&"same"==on(this.getParentPath(),e.getParentPath())}},{key:"getTransformedByOperation",value:function(e){var t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=ea._createAt(this)}return t}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(e){var t,n=e.movedRange;return n.containsPosition(this)||n.start.isEqual(this)?(t=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(t=t._getTransformedByDeletion(e.deletionPosition,1))):t=this.isEqual(e.deletionPosition)?ea._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),t}},{key:"_getTransformedByDeletion",value:function(e,t){var n=ea._createAt(this);if(this.root!=e.root)return n;if("same"==on(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if("prefix"==on(e.getParentPath(),this.getParentPath())){var r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+t>this.path[r])return null;n.path[r]-=t}}return n}},{key:"_getTransformedByInsertion",value:function(e,t){var n,r=ea._createAt(this);return this.root!=e.root||("same"==on(e.getParentPath(),this.getParentPath())?(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(r.offset+=t):"prefix"==on(e.getParentPath(),this.getParentPath())&&(n=e.path.length-1,e.offset<=this.path[n]&&(r.path[n]+=t))),r}},{key:"_getTransformedByMove",value:function(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return ea._createAt(this);var r=this._getTransformedByDeletion(e,n);return null===r||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):r._getTransformedByInsertion(t,n)}},{key:"_getCombined",value:function(e,t){var n=e.path.length-1,t=ea._createAt(t);return t.stickiness=this.stickiness,t.offset=t.offset+this.path[n]-e.offset,t.path=[].concat(US(t.path),US(this.path.slice(1+n))),t}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}},{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,t=0;t<this.path.length-1;t++)if(!(e=e.getChild(e.offsetToIndex(this.path[t]))))throw new C.a("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new C.a("model-position-path-incorrect",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return ta(this,this.parent)}},{key:"nodeAfter",get:function(){var e=this.parent;return na(this,e,ta(this,e))}},{key:"nodeBefore",get:function(){var e=this.parent;return ra(this,e,ta(this,e))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}}],[{key:"_createAt",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"toNone";if(e instanceof ea)return new ea(e.root,e.path,e.stickiness);var r=e;if("end"==t)t=r.maxOffset;else{if("before"==t)return this._createBefore(r,n);if("after"==t)return this._createAfter(r,n);if(0!==t&&!t)throw new C.a("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new C.a("model-position-parent-incorrect",[this,e]);e=r.getPath();return e.push(t),new this(r.root,e,n)}},{key:"_createAfter",value:function(e,t){if(!e.parent)throw new C.a("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}},{key:"_createBefore",value:function(e,t){if(!e.parent)throw new C.a("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}},{key:"fromJSON",value:function(e,t){if("$graveyard"===e.root){var n=new ea(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new C.a("model-position-fromjson-no-root",t,{rootName:e.root});return new ea(t.getRoot(e.root),e.path,e.stickiness)}}]),ea);function ea(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"toNone";if(qS(this,ea),!e.is("element")&&!e.is("documentFragment"))throw new C.a("model-position-root-invalid",e);if(!(t instanceof Array)||0===t.length)throw new C.a("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[].concat(US(e.getPath()),US(t)),e=e.root),this.root=e,this.path=t,this.stickiness=n}function ta(e,t){t=t.getChild(t.offsetToIndex(e.offset));return t&&t.is("$text")&&t.startOffset<e.offset?t:null}function na(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset))}function ra(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}var ia=(WS(sa,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new Ko({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),e=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&e}},{key:"containsItem",value:function(e){e=Xo._createBefore(e);return this.containsPosition(e)||this.start.isEqual(e)}},{key:"is",value:function(e){return"range"===e||"model:range"===e}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(e){var t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new sa(this.start,e.start)),this.containsPosition(e.end)&&t.push(new sa(e.end,this.end))):t.push(new sa(this.start,this.end)),t}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new sa(t,n)}return null}},{key:"getJoined",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!(this.isIntersecting(e)||(this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start))))return null;var n=this.start,t=this.end;return e.start.isBefore(n)&&(n=e.start),e.end.isAfter(t)&&(t=e.end),new sa(n,t)}},{key:"getMinimalFlatRanges",value:function(){for(var e=[],t=this.start.getCommonPath(this.end).length,n=Xo._createAt(this.start),r=n.parent;n.path.length>t+1;){var i=r.maxOffset-n.offset;0!=i&&e.push(new sa(n,n.getShiftedBy(i))),n.path=n.path.slice(0,-1),n.offset++,r=r.parent}for(;n.path.length<=this.end.path.length;){var o=this.end.path[n.path.length-1],a=o-n.offset;0!=a&&e.push(new sa(n,n.getShiftedBy(a))),n.offset=o,n.path.push(0)}return e}},{key:"getWalker",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Ko(e)}},{key:"getItems",value:regeneratorRuntime.mark(function e(){var t,n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=0<r.length&&void 0!==r[0]?r[0]:{}).boundaries=this,t.ignoreElementEnd=!0,n=new Ko(t),t=HS(n),e.prev=4,t.s();case 6:if((n=t.n()).done){e.next=12;break}return n=n.value,e.next=10,n.item;case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[4,14,17,20]])})},{key:"getPositions",value:regeneratorRuntime.mark(function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=0<i.length&&void 0!==i[0]?i[0]:{}).boundaries=this,t=new Ko(r),e.next=5,t.position;case 5:n=HS(t),e.prev=6,n.s();case 8:if((r=n.n()).done){e.next=14;break}return r=r.value,e.next=12,r.nextPosition;case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[6,16,19,22]])})},{key:"getTransformedByOperation",value:function(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new sa(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(e){var t,n=[new sa(this.start,this.end)],r=HS(e);try{for(r.s();!(t=r.n()).done;)for(var i=t.value,o=0;o<n.length;o++){var a=n[o].getTransformedByOperation(i);n.splice.apply(n,[o,1].concat(US(a))),o+=a.length-1}}catch(e){r.e(e)}finally{r.f()}for(var s=0;s<n.length;s++)for(var l=n[s],c=s+1;c<n.length;c++){var u=n[c];(l.containsRange(u)||u.containsRange(l)||l.isEqual(u))&&n.splice(c,1)}return n}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(e.position,e.howMany,t)}},{key:"_getTransformedByMoveOperation",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,t)}},{key:"_getTransformedBySplitOperation",value:function(e){var t=this.start._getTransformedBySplitOperation(e),n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new sa(t,n)}},{key:"_getTransformedByMergeOperation",value:function(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new sa(this.start);var t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)&&(e.sourcePosition.isBefore(e.targetPosition)?(t=Xo._createAt(n)).offset=0:(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition)),new sa(t,n)}},{key:"_getTransformedByInsertion",value:function(e,t){if(2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&this.containsPosition(e))return[new sa(this.start,e),new sa(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];var n=new sa(this.start,this.end);return n.start=n.start._getTransformedByInsertion(e,t),n.end=n.end._getTransformedByInsertion(e,t),[n]}},{key:"_getTransformedByMove",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed)return[new sa(this.start._getTransformedByMove(e,t,n))];var i=sa._createFromPositionAndShift(e,n),o=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!r&&(i.containsPosition(this.start)||i.containsPosition(this.end)))return[new sa(this.start._getTransformedByMove(e,t,n),this.end._getTransformedByMove(e,t,n))];var a=this.getDifference(i),s=null,t=this.getIntersection(i);return 1==a.length?s=new sa(a[0].start._getTransformedByDeletion(e,n),a[0].end._getTransformedByDeletion(e,n)):2==a.length&&(s=new sa(this.start,this.end._getTransformedByDeletion(e,n))),r=s?s._getTransformedByInsertion(o,n,null!==t||r):[],t&&(o=new sa(t.start._getCombined(i.start,o),t.end._getCombined(i.start,o)),2==r.length?r.splice(1,0,o):r.push(o)),r}},{key:"_getTransformedByDeletion",value:function(e,t){var n=this.start._getTransformedByDeletion(e,t),t=this.end._getTransformedByDeletion(e,t);return null==n&&null==t?null:(null==n&&(n=e),null==t&&(t=e),new sa(n,t))}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return"same"==on(this.start.getParentPath(),this.end.getParentPath())}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromPositionAndShift",value:function(e,t){var n=e,e=e.getShiftedBy(t);return 0<t?new this(n,e):new this(e,n)}},{key:"_createIn",value:function(e){return new this(Xo._createAt(e,0),Xo._createAt(e,e.maxOffset))}},{key:"_createOn",value:function(e){return this._createFromPositionAndShift(Xo._createBefore(e),e.offsetSize)}},{key:"_createFromRanges",value:function(e){if(0===e.length)throw new C.a("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();var t=e[0];e.sort(function(e,t){return e.start.isAfter(t.start)?1:-1});var n=e.indexOf(t),r=new this(t.start,t.end);if(0<n)for(var i=n-1;e[i].end.isEqual(r.start);i++)r.start=Xo._createAt(e[i].start);for(var o=n+1;o<e.length&&e[o].start.isEqual(r.end);o++)r.end=Xo._createAt(e[o].end);return r}},{key:"fromJSON",value:function(e,t){return new this(Xo.fromJSON(e.start,t),Xo.fromJSON(e.end,t))}}]),sa),oa=(WS(aa,[{key:"bindElements",value:function(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}},{key:"unbindViewElement",value:function(e){var t=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e)){var n=HS(this._elementToMarkerNames.get(e));try{for(n.s();!(r=n.n()).done;){var r=r.value;this._unboundMarkerNames.add(r)}}catch(e){n.e(e)}finally{n.f()}}this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}},{key:"unbindModelElement",value:function(e){var t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}},{key:"bindElementToMarker",value:function(e,t){var n=this._markerNameToElements.get(t)||new Set;n.add(e);var r=this._elementToMarkerNames.get(e)||new Set;r.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,r)}},{key:"unbindElementFromMarkerName",value:function(e,t){var n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));n=this._elementToMarkerNames.get(e);n&&(n.delete(t),0==n.size&&this._elementToMarkerNames.delete(e))}},{key:"flushUnboundMarkerNames",value:function(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new ia(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new Zn(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){e={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}},{key:"toViewPosition",value:function(e){e={modelPosition:e,mapper:this,isPhantom:(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{isPhantom:!1}).isPhantom};return this.fire("modelToViewPosition",e),e.viewPosition}},{key:"markerNameToElements",value:function(e){e=this._markerNameToElements.get(e);if(!e)return null;var t=new Set,n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;if(r.is("attributeElement")){var i=HS(r.getElementsWithSameId());try{for(i.s();!(o=i.n()).done;){var o=o.value;t.add(o)}}catch(e){i.e(e)}finally{i.f()}}else t.add(r)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"registerViewToModelLength",value:function(e,t){this._viewToModelLengthCallbacks.set(e,t)}},{key:"findMappedViewAncestor",value:function(e){for(var t=e.parent;!this._viewToModelMapping.has(t);)t=t.parent;return t}},{key:"_toModelOffset",value:function(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;for(var r=0,i=0;i<t;i++)r+=this.getModelLength(e.getChild(i));return r}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;var t=0,n=HS(e.getChildren());try{for(n.s();!(r=n.n()).done;){var r=r.value;t+=this.getModelLength(r)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"findPositionIn",value:function(e,t){var n,r=0,i=0,o=0;if(e.is("$text"))return new Gn(e,t);for(;i<t;)n=e.getChild(o),i+=r=this.getModelLength(n),o++;return i==t?this._moveViewPositionToTextNode(new Gn(e,o)):this.findPositionIn(n,t-(i-r))}},{key:"_moveViewPositionToTextNode",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;return t instanceof cn?new Gn(t,t.data.length):n instanceof cn?new Gn(n,0):e}}]),aa);function aa(){var i=this;qS(this,aa),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",function(e,t){var n;t.viewPosition||(n=i._modelToViewMapping.get(t.modelPosition.parent),t.viewPosition=i.findPositionIn(n,t.modelPosition.offset))},{priority:"low"}),this.on("viewToModelPosition",function(e,t){var n,r;t.modelPosition||(r=i.findMappedViewAncestor(t.viewPosition),n=i._viewToModelMapping.get(r),r=i._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,r),t.modelPosition=Xo._createAt(n,r))},{priority:"low"})}function sa(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;qS(this,sa),this.start=Xo._createAt(e),this.end=Xo._createAt(t||e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}Ie(oa,c);var la=(WS(ca,[{key:"add",value:function(e,t){t=ua(t),e instanceof qo&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}},{key:"consume",value:function(e,t){return t=ua(t),e instanceof qo&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}},{key:"test",value:function(e,t){t=ua(t),e instanceof qo&&(e=this._getSymbolForTextProxy(e));e=this._consumable.get(e);if(void 0===e)return null;t=e.get(t);return void 0===t?null:t}},{key:"revert",value:function(e,t){t=ua(t),e instanceof qo&&(e=this._getSymbolForTextProxy(e));var n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}},{key:"_getSymbolForTextProxy",value:function(e){var t=null,n=this._textProxyRegistry.get(e.startOffset);return!n||(n=n.get(e.endOffset))&&(t=n.get(e.parent)),t=t||this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)}},{key:"_addSymbolForTextProxy",value:function(e,t,n){var r,i=Symbol("textProxySymbol");return(r=this._textProxyRegistry.get(e))||(r=new Map,this._textProxyRegistry.set(e,r)),(e=r.get(t))||(e=new Map,r.set(t,e)),e.set(n,i),i}}]),ca);function ca(){qS(this,ca),this._consumable=new Map,this._textProxyRegistry=new Map}function ua(e){e=e.split(":");return 1<e.length?e[0]+":"+e[1]:e[0]}var ha=(WS(da,[{key:"convertChanges",value:function(e,t,n){var r=HS(e.getMarkersToRemove());try{for(r.s();!(i=r.n()).done;){var i=i.value;this.convertMarkerRemove(i.name,i.range,n)}}catch(e){r.e(e)}finally{r.f()}var o=HS(this._mapChangesWithAutomaticReconversion(e));try{for(o.s();!(a=o.n()).done;){var a=a.value;"insert"===a.type?this.convertInsert(ia._createFromPositionAndShift(a.position,a.length),n):"remove"===a.type?this.convertRemove(a.position,a.length,a.name,n):"reconvert"===a.type?this.reconvertElement(a.element,n):this.convertAttribute(a.range,a.attributeKey,a.attributeOldValue,a.attributeNewValue,n)}}catch(e){o.e(e)}finally{o.f()}var s=HS(this.conversionApi.mapper.flushUnboundMarkerNames());try{for(s.s();!(c=s.n()).done;){var l=c.value,c=t.get(l).getRange();this.convertMarkerRemove(l,c,n),this.convertMarkerAdd(l,c,n)}}catch(e){s.e(e)}finally{s.f()}var u=HS(e.getMarkersToAdd());try{for(u.s();!(h=u.n()).done;){var h=h.value;this.convertMarkerAdd(h.name,h.range,n)}}catch(e){u.e(e)}finally{u.f()}}},{key:"convertInsert",value:function(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);var n=HS(Array.from(e).map(fa));try{for(n.s();!(r=n.n()).done;){var r=r.value;this._convertInsertWithAttributes(r)}}catch(e){n.e(e)}finally{n.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(e,t,n,r){this.conversionApi.writer=r,this.fire("remove:"+n,{position:e,length:t},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(e,t,n,r,i){this.conversionApi.writer=i,this.conversionApi.consumable=this._createConsumableForRange(e,"attribute:"+t);var o=HS(e);try{for(o.s();!(a=o.n()).done;){var a=a.value,a={item:a.item,range:ia._createFromPositionAndShift(a.previousPosition,a.length),attributeKey:t,attributeOldValue:n,attributeNewValue:r};this._testAndFire("attribute:"+t,a)}}catch(e){o.e(e)}finally{o.f()}this._clearConversionApi()}},{key:"reconvertElement",value:function(e,t){var n=ia._createOn(e);this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(n);var r=this.conversionApi.mapper,i=r.toViewElement(e);t.remove(i),this._convertInsertWithAttributes({item:e,range:n});var o=r.toViewElement(e),a=HS(ia._createIn(e));try{for(a.s();!(c=a.n()).done;){var s=c.value,l=s.item,c=function(e,t){if(e.is("textProxy")){var n=t.toViewPosition(Xo._createBefore(e)).parent;return n.is("$text")?n:null}return t.toViewElement(e)}(l,r);c?c.root!==o.root&&t.move(t.createRangeOn(c),r.toViewPosition(Xo._createBefore(l))):this._convertInsertWithAttributes(fa(s))}}catch(e){a.e(e)}finally{a.f()}r.unbindViewElement(i),this._clearConversionApi()}},{key:"convertSelection",value:function(e,t,n){t=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(e,t),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){var r=HS(t);try{for(r.s();!(o=r.n()).done;){var i=o.value,o=i.getRange();!function(e,t,n){var r=t.getRange(),e=Array.from(e.getAncestors());return e.shift(),e.reverse(),!e.some(function(e){if(r.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")})}(e.getFirstPosition(),i,this.conversionApi.mapper)||(o={item:e,markerName:i.name,markerRange:o},this.conversionApi.consumable.test(e,"addMarker:"+i.name)&&this.fire("addMarker:"+i.name,o,this.conversionApi))}}catch(e){r.e(e)}finally{r.f()}var a=HS(e.getAttributeKeys());try{for(a.s();!(s=a.n()).done;){var s=s.value,s={item:e,range:e.getFirstRange(),attributeKey:s,attributeOldValue:null,attributeNewValue:e.getAttribute(s)};this.conversionApi.consumable.test(e,"attribute:"+s.attributeKey)&&this.fire("attribute:"+s.attributeKey+":$text",s,this.conversionApi)}}catch(e){a.e(e)}finally{a.f()}this._clearConversionApi()}}},{key:"convertMarkerAdd",value:function(e,t,n){if("$graveyard"!=t.root.rootName){this.conversionApi.writer=n;var r="addMarker:"+e,n=new la;if(n.add(t,r),this.conversionApi.consumable=n,this.fire(r,{markerName:e,markerRange:t},this.conversionApi),n.test(t,r)){this.conversionApi.consumable=this._createConsumableForRange(t,r);var i=HS(t.getItems());try{for(i.s();!(o=i.n()).done;){var o=o.value;this.conversionApi.consumable.test(o,r)&&(o={item:o,range:ia._createOn(o),markerName:e,markerRange:t},this.fire(r,o,this.conversionApi))}}catch(e){i.e(e)}finally{i.f()}this._clearConversionApi()}}}},{key:"convertMarkerRemove",value:function(e,t,n){"$graveyard"!=t.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}},{key:"_mapReconversionTriggerEvent",value:function(e,t){this._reconversionEventsMapping.set(t,e)}},{key:"_createInsertConsumable",value:function(e){var t,n=new la,r=HS(e);try{for(r.s();!(t=r.n()).done;){var i=t.value.item;n.add(i,"insert");var o=HS(i.getAttributeKeys());try{for(o.s();!(a=o.n()).done;){var a=a.value;n.add(i,"attribute:"+a)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"_createConsumableForRange",value:function(e,t){var n=new la,r=HS(e.getItems());try{for(r.s();!(i=r.n()).done;){var i=i.value;n.add(i,t)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"_createSelectionConsumable",value:function(e,t){var n=new la;n.add(e,"selection");var r=HS(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;n.add(e,"addMarker:"+i.name)}}catch(e){r.e(e)}finally{r.f()}var o=HS(e.getAttributeKeys());try{for(o.s();!(a=o.n()).done;){var a=a.value;n.add(e,"attribute:"+a)}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"_testAndFire",value:function(e,t){var n;this.conversionApi.consumable.test(t.item,e)&&this.fire((n=t,"".concat(e,":").concat(n.item.name||"$text")),t,this.conversionApi)}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}},{key:"_convertInsertWithAttributes",value:function(e){this._testAndFire("insert",e);var t=HS(e.item.getAttributeKeys());try{for(t.s();!(n=t.n()).done;){var n=n.value;e.attributeKey=n,e.attributeOldValue=null,e.attributeNewValue=e.item.getAttribute(n),this._testAndFire("attribute:"+n,e)}}catch(e){t.e(e)}finally{t.f()}}},{key:"_mapChangesWithAutomaticReconversion",value:function(e){var t=new Set,n=[],r=HS(e.getChanges());try{for(r.s();!(s=r.n()).done;){var i,o=s.value,a=o.position||o.range.start,s=a.parent;ta(a,s)||(i="attribute"===o.type?na(a,s,null):s).is("$text")?n.push(o):(s="attribute"===o.type?"attribute:".concat(o.attributeKey,":").concat(i.name):"".concat(o.type,":").concat(o.name),this._isReconvertTriggerEvent(s,i.name)?t.has(i)||(t.add(i),n.push({type:"reconvert",element:i})):n.push(o))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"_isReconvertTriggerEvent",value:function(e,t){return this._reconversionEventsMapping.get(e)===t}}]),da);function da(e){qS(this,da),this.conversionApi=Object.assign({dispatcher:this},e),this._reconversionEventsMapping=new Map}function fa(e){return{item:e.item,range:ia._createFromPositionAndShift(e.previousPosition,e.length)}}Ie(ha,c);var pa=(WS(ga,[{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=HS(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=!1,o=HS(e._ranges);try{for(o.s();!(a=o.n()).done;){var a=a.value;if(r.isEqual(a)){i=!0;break}}}catch(e){o.e(e)}finally{o.f()}if(!i)return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"getRanges",value:regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=HS(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return n=n.value,e.next=7,new ia(n.start,n.end);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e=null,t=HS(this._ranges);try{for(t.s();!(n=t.n()).done;){var n=n.value;e&&!n.start.isBefore(e.start)||(e=n)}}catch(e){t.e(e)}finally{t.f()}return e?new ia(e.start,e.end):null}},{key:"getLastRange",value:function(){var e=null,t=HS(this._ranges);try{for(t.s();!(n=t.n()).done;){var n=n.value;e&&!n.end.isAfter(e.end)||(e=n)}}catch(e){t.e(e)}finally{t.f()}return e?new ia(e.start,e.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(e,t,n){if(null===e)this._setRanges([]);else if(e instanceof ga)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof ia)this._setRanges([e],!!t&&!!t.backward);else if(e instanceof Xo)this._setRanges([new ia(e)]);else if(e instanceof Ho){var r,n=!!n&&!!n.backward;if("in"==t)r=ia._createIn(e);else if("on"==t)r=ia._createOn(e);else{if(void 0===t)throw new C.a("model-selection-setto-required-second-parameter",[this,e]);r=new ia(Xo._createAt(e,t))}this._setRanges([r],n)}else{if(!qt(e))throw new C.a("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,t&&!!t.backward)}}},{key:"_setRanges",value:function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=(e=Array.from(e)).some(function(t){if(!(t instanceof ia))throw new C.a("model-selection-set-ranges-not-range",[n,e]);return n._ranges.every(function(e){return!e.isEqual(t)})});if(e.length!==this._ranges.length||r){this._removeAllRanges();var i=HS(e);try{for(i.s();!(o=i.n()).done;){var o=o.value;this._pushRange(o)}}catch(e){i.e(e)}finally{i.f()}this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new C.a("model-selection-setfocus-no-ranges",[this,e]);e=Xo._createAt(e,t);"same"!=e.compareWith(this.focus)&&(t=this.anchor,this._ranges.length&&this._popRange(),"before"==e.compareWith(t)?(this._pushRange(new ia(e,t)),this._lastRangeBackward=!0):(this._pushRange(new ia(t,e)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0}))}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(e){return"selection"===e||"model:selection"===e}},{key:"getSelectedBlocks",value:regeneratorRuntime.mark(function e(){var r,i,o,a,s,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=new WeakSet,i=HS(this.getRanges()),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=38;break}if(a=o.value,l=ma(a.start,r),e.t0=l&&ya(l,a),e.t0)return e.next=11,l;e.next=11;break;case 11:s=HS(a.getWalker()),e.prev=12,s.s();case 14:if((l=s.n()).done){e.next=23;break}if(l=l.value,c=l.item,e.t1="elementEnd"==l.type&&(n=a,va(t=c,r)&&ya(t,n)),e.t1)return e.next=21,c;e.next=21;break;case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t2=e.catch(12),s.e(e.t2);case 28:return e.prev=28,s.f(),e.finish(28);case 31:if(c=ma(a.end,r),e.t3=c&&!a.end.isTouching(Xo._createAt(c,0))&&ya(c,a),e.t3)return e.next=36,c;e.next=36;break;case 36:e.next=4;break;case 38:e.next=43;break;case 40:e.prev=40,e.t4=e.catch(2),i.e(e.t4);case 43:return e.prev=43,i.f(),e.finish(43);case 46:case"end":return e.stop()}var t,n},e,this,[[2,40,43,46],[12,25,28,31]])})},{key:"containsEntireContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.anchor.root,t=Xo._createAt(e,0),e=Xo._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&e.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new ia(e.start,e.end))}},{key:"_checkRange",value:function(e){for(var t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new C.a("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}},{key:"_removeAllRanges",value:function(){for(;0<this._ranges.length;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}},{key:"anchor",get:function(){if(0<this._ranges.length){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(0<this._ranges.length){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}}]),ga);function ga(e,t,n){qS(this,ga),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e&&this.setTo(e,t,n)}function va(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&e.parent)}function ma(e,t){var n=e.parent.root.document.model.schema,r=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),i=!1,e=r.find(function(e){return!i&&!(i=n.isLimit(e))&&va(e,t)});return r.forEach(function(e){return t.add(e)}),e}function ya(n,e){var t=function(){for(var e=n.root.document.model.schema,t=n.parent;t;){if(e.isBlock(t))return t;t=t.parent}}();return!t||!e.containsRange(ia._createOn(t),!0)}Ie(pa,c);var ka=function(){$S(r,ia);var n=KS(r);function r(e,t){return qS(this,r),t=n.call(this,e,t),function(){var n=this;this.listenTo(this.root.document.model,"applyOperation",function(e,t){t=t[0];t.isDocumentOperation&&function(e){var t=this.getTransformedByOperation(e),n=ia._createFromRanges(t),r=!n.isEqual(this),i=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e),t=null;r?("$graveyard"==n.root.rootName&&(t="remove"==e.type?e.sourcePosition:e.deletionPosition),e=this.toRange(),this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:t})):i&&this.fire("change:content",this.toRange(),{deletionPosition:t})}.call(n,t)},{priority:"low"})}.call(ZS(t)),t}return WS(r,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e}},{key:"toRange",value:function(){return new ia(this.start,this.end)}}],[{key:"fromRange",value:function(e){return new r(e.start,e.end)}}]),r}();Ie(ka,c);var ba=(WS(_a,[{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(e){return this._selection.containsEntireContent(e)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(e){return this._selection.getAttribute(e)}},{key:"hasAttribute",value:function(e){return this._selection.hasAttribute(e)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"observeMarkers",value:function(e){this._selection.observeMarkers(e)}},{key:"is",value:function(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setAttribute",value:function(e,t){this._selection.setAttribute(e,t)}},{key:"_removeAttribute",value:function(e){this._selection.removeAttribute(e)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(e){this._selection.restoreGravity(e)}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}}],[{key:"_getStoreAttributeKey",value:function(e){return"selection:"+e}},{key:"_isStoreAttributeKey",value:function(e){return e.startsWith("selection:")}}]),_a);function _a(e){qS(this,_a),this._selection=new wa(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}Ie(ba,c);var wa=function(){$S(r,pa);var t=KS(r);function r(e){var i;return qS(this,r),(i=t.call(this)).markers=new Wt({idProperty:"name"}),i._model=e.model,i._document=e,i._attributePriority=new Map,i._selectionRestorePosition=null,i._hasChangedRange=!1,i._overriddenGravityRegister=new Set,i._observedMarkers=new Set,i.listenTo(i._model,"applyOperation",function(e,t){t=t[0];t.isDocumentOperation&&"marker"!=t.type&&"rename"!=t.type&&"noop"!=t.type&&(0==i._ranges.length&&i._selectionRestorePosition&&i._fixGraveyardSelection(i._selectionRestorePosition),i._selectionRestorePosition=null,i._hasChangedRange&&(i._hasChangedRange=!1,i.fire("change:range",{directChange:!1})))},{priority:"lowest"}),i.on("change:range",function(){var t=HS(i.getRanges());try{for(t.s();!(e=t.n()).done;){var e=e.value;if(!i._document._validateSelectionRange(e))throw new C.a("document-selection-wrong-position",ZS(i),{range:e})}}catch(e){t.e(e)}finally{t.f()}}),i.listenTo(i._model.markers,"update",function(e,t,n,r){i._updateMarker(t,r)}),i.listenTo(i._document,"change",function(e,t){!function(t,n){var i,r=HS(t.document.differ.getChanges());try{for(r.s();!(i=r.n()).done;)!function(){var r,e=i.value;"insert"==e.type&&(r=e.position.parent,e.length===r.maxOffset&&t.enqueueChange(n,function(e){var t=HS(Array.from(r.getAttributeKeys()).filter(function(e){return e.startsWith("selection:")}));try{for(t.s();!(n=t.n()).done;){var n=n.value;e.removeAttribute(n,r)}}catch(e){t.e(e)}finally{t.f()}}))}()}catch(e){r.e(e)}finally{r.f()}}(i._model,t)}),i}return WS(r,[{key:"destroy",value:function(){for(var e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}},{key:"getRanges",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._ranges.length)return e.delegateYield(zS(YS(r.prototype),"getRanges",this).call(this),"t0",2);e.next=4;break;case 2:e.next=6;break;case 4:return e.next=6,this._document._getDefaultRange();case 6:case"end":return e.stop()}},e,this)})},{key:"getFirstRange",value:function(){return zS(YS(r.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return zS(YS(r.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(e,t,n){zS(YS(r.prototype),"setTo",this).call(this,e,t,n),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(e,t){zS(YS(r.prototype),"setFocus",this).call(this,e,t),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(e,t){this._setAttribute(e,t)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}},{key:"removeAttribute",value:function(e){this._removeAttribute(e)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}},{key:"overrideGravity",value:function(){var e=u();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}},{key:"restoreGravity",value:function(e){if(!this._overriddenGravityRegister.has(e))throw new C.a("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"observeMarkers",value:function(e){this._observedMarkers.add(e),this._updateMarkers()}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(e){e=this._prepareRange(e);e&&this._ranges.push(e)}},{key:"_prepareRange",value:function(e){var r=this;if(this._checkRange(e),e.root!=this._document.graveyard){var i=ka.fromRange(e);return i.on("change:range",function(e,t,n){r._hasChangedRange=!0,i.root==r._document.graveyard&&(r._selectionRestorePosition=n.deletionPosition,n=r._ranges.indexOf(i),r._ranges.splice(n,1),i.detach())}),i}}},{key:"_updateMarkers",value:function(){if(this._observedMarkers.size){var e=[],t=!1,n=HS(this._model.markers);try{for(n.s();!(i=n.n()).done;){var r=i.value,i=r.name.split(":",1)[0];if(this._observedMarkers.has(i)){var o=r.getRange(),a=HS(this.getRanges());try{for(a.s();!(s=a.n()).done;){var s=s.value;o.containsRange(s,!s.isCollapsed)&&e.push(r)}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){n.e(e)}finally{n.f()}for(var l=Array.from(this.markers),c=0,u=e;c<u.length;c++){var h=u[c];this.markers.has(h)||(this.markers.add(h),t=!0)}for(var d=0,f=Array.from(this.markers);d<f.length;d++){var p=f[d];e.includes(p)||(this.markers.remove(p),t=!0)}t&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}}},{key:"_updateMarker",value:function(e,t){var n=e.name.split(":",1)[0];if(this._observedMarkers.has(n)){var r=!1,i=Array.from(this.markers),n=this.markers.has(e);if(t){var o=!1,a=HS(this.getRanges());try{for(a.s();!(s=a.n()).done;){var s=s.value;if(t.containsRange(s,!s.isCollapsed)){o=!0;break}}}catch(e){a.e(e)}finally{a.f()}o&&!n?(this.markers.add(e),r=!0):!o&&n&&(this.markers.remove(e),r=!0)}else n&&(this.markers.remove(e),r=!0);r&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}}},{key:"_updateAttributes",value:function(e){var t=dn(this._getSurroundingAttributes()),n=dn(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else{var r=HS(this._attributePriority);try{for(r.s();!(o=r.n()).done;){var i=BS(o.value,2),o=i[0];"low"==i[1]&&(this._attrs.delete(o),this._attributePriority.delete(o))}}catch(e){r.e(e)}finally{r.f()}}this._setAttributesTo(t);var a=[],s=HS(this.getAttributes());try{for(s.s();!(c=s.n()).done;){var l=BS(c.value,2),c=l[0],l=l[1];n.has(c)&&n.get(c)===l||a.push(c)}}catch(e){s.e(e)}finally{s.f()}var u=HS(n);try{for(u.s();!(h=u.n()).done;){var h=BS(h.value,1)[0];this.hasAttribute(h)||a.push(h)}}catch(e){u.e(e)}finally{u.f()}0<a.length&&this.fire("change:attribute",{attributeKeys:a,directChange:!1})}},{key:"_setAttribute",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?"normal":"low";return("low"!=n||"normal"!=this._attributePriority.get(e))&&zS(YS(r.prototype),"getAttribute",this).call(this,e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,n),!0)}},{key:"_removeAttribute",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1]?"normal":"low";return!("low"==t&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,t),!zS(YS(r.prototype),"hasAttribute",this).call(this,e)||(this._attrs.delete(e),0)))}},{key:"_setAttributesTo",value:function(e){var t=new Set,n=HS(this.getAttributes());try{for(n.s();!(i=n.n()).done;){var r=BS(i.value,2),i=r[0],r=r[1];e.get(i)!==r&&this._removeAttribute(i,!1)}}catch(e){n.e(e)}finally{n.f()}var o=HS(e);try{for(o.s();!(s=o.n()).done;){var a=BS(s.value,2),s=a[0],a=a[1];this._setAttribute(s,a,!1)&&t.add(s)}}catch(e){o.e(e)}finally{o.f()}return t}},{key:"_getStoredAttributes",value:regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getFirstPosition().parent,!this.isCollapsed||!t.isEmpty){e.next=21;break}n=HS(t.getAttributeKeys()),e.prev=3,n.s();case 5:if((i=n.n()).done){e.next=13;break}if((r=i.value).startsWith("selection:"))return i=r.substr("selection:".length),e.next=11,[i,t.getAttribute(r)];e.next=11;break;case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[3,15,18,21]])})},{key:"_getSurroundingAttributes",value:function(){var e=this.getFirstPosition(),t=this._model.schema,n=null;if(this.isCollapsed){var r=e.textNode||e.nodeBefore,e=e.textNode||e.nodeAfter;if(this.isGravityOverridden||(n=Ca(r)),n=n||Ca(e),!this.isGravityOverridden&&!n)for(var i=r;i&&!t.isInline(i)&&!n;)n=Ca(i=i.previousSibling);if(!n)for(var o=e;o&&!t.isInline(o)&&!n;)n=Ca(o=o.nextSibling);n=n||this._getStoredAttributes()}else{var a=HS(this.getFirstRange());try{for(a.s();!(s=a.n()).done;){var s=s.value;if(s.item.is("element")&&t.isObject(s.item))break;if("text"==s.type){n=s.item.getAttributes();break}}}catch(e){a.e(e)}finally{a.f()}}return n}},{key:"_fixGraveyardSelection",value:function(e){e=this._model.schema.getNearestSelectionRange(e);e&&this._pushRange(e)}},{key:"isCollapsed",get:function(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:zS(YS(r.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return zS(YS(r.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return zS(YS(r.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length||1}},{key:"hasOwnRange",get:function(){return 0<this._ranges.length}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}}]),r}();function Ca(e){return e instanceof qo||e instanceof Uo?e.getAttributes():null}function xa(e){return jt(e,5)}var Sa=(WS(Ta,[{key:"add",value:function(e){var t,n=HS(this._dispatchers);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(e){n.e(e)}finally{n.f()}return this}}]),Ta),Ea=function(){$S(t,Sa);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"elementToElement",value:function(e){return this.add(((a=xa(a=e)).view=Ra(a.view,"container"),function(e){var o;if(e.on("insert:"+a.model,(o=a.view,function(e,t,n){var r,i=o(t.item,n);i&&n.consumable.consume(t.item,"insert")&&(r=n.mapper.toViewPosition(t.range.start),n.mapper.bindElements(t.item,i),n.writer.insert(r,i))}),{priority:a.converterPriority||"normal"}),a.triggerBy){if(a.triggerBy.attributes){var t=HS(a.triggerBy.attributes);try{for(t.s();!(n=t.n()).done;){var n=n.value;e._mapReconversionTriggerEvent(a.model,"attribute:".concat(n,":").concat(a.model))}}catch(e){t.e(e)}finally{t.f()}}if(a.triggerBy.children){var r=HS(a.triggerBy.children);try{for(r.s();!(i=r.n()).done;){var i=i.value;e._mapReconversionTriggerEvent(a.model,"insert:"+i),e._mapReconversionTriggerEvent(a.model,"remove:"+i)}}catch(e){r.e(e)}finally{r.f()}}}}));var a}},{key:"attributeToElement",value:function(e){return this.add(function(t){var n="attribute:"+((t=xa(t)).model.key?t.model.key:t.model);if(t.model.name&&(n+=":"+t.model.name),t.model.values){var r=HS(t.model.values);try{for(r.s();!(e=r.n()).done;){var e=e.value;t.view[e]=Ra(t.view[e],"attribute")}}catch(e){r.e(e)}finally{r.f()}}else t.view=Ra(t.view,"attribute");var i=Ia(t);return function(e){var o;e.on(n,(o=i,function(e,t,n){var r=o(t.attributeOldValue,n),i=o(t.attributeNewValue,n);(r||i)&&n.consumable.consume(t.item,e.name)&&(e=n.writer,t.item instanceof pa||t.item instanceof ba?e.wrap(e.document.selection.getFirstRange(),i):(n=n.mapper.toViewRange(t.range),null!==t.attributeOldValue&&r&&(n=e.unwrap(n,r)),null!==t.attributeNewValue&&i&&e.wrap(n,i)))}),{priority:t.converterPriority||"normal"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(t){var n="attribute:"+((t=xa(t)).model.key?t.model.key:t.model);if(t.model.name&&(n+=":"+t.model.name),t.model.values){var r=HS(t.model.values);try{for(r.s();!(e=r.n()).done;){var e=e.value;t.view[e]=Oa(t.view[e])}}catch(e){r.e(e)}finally{r.f()}}else t.view=Oa(t.view);var i=Ia(t);return function(e){var m;e.on(n,(m=i,function(e,t,n){var r=m(t.attributeOldValue,n),i=m(t.attributeNewValue,n);if((r||i)&&n.consumable.consume(t.item,e.name)){var o=n.mapper.toViewElement(t.item),a=n.writer;if(!o)throw new C.a("conversion-attribute-to-attribute-on-text",[t,n]);if(null!==t.attributeOldValue&&r)if("class"==r.key){var s=HS(Zt(r.value));try{for(s.s();!(l=s.n()).done;){var l=l.value;a.removeClass(l,o)}}catch(e){s.e(e)}finally{s.f()}}else if("style"==r.key)for(var c=0,u=Object.keys(r.value);c<u.length;c++){var h=u[c];a.removeStyle(h,o)}else a.removeAttribute(r.key,o);if(null!==t.attributeNewValue&&i)if("class"==i.key){var d=HS(Zt(i.value));try{for(d.s();!(f=d.n()).done;){var f=f.value;a.addClass(f,o)}}catch(e){d.e(e)}finally{d.f()}}else if("style"==i.key)for(var p=0,g=Object.keys(i.value);p<g.length;p++){var v=g[p];a.setStyle(v,i.value[v],o)}else a.setAttribute(i.key,i.value,o)}}),{priority:t.converterPriority||"normal"})}}(e))}},{key:"markerToElement",value:function(e){return this.add(((t=xa(t=e)).view=Ra(t.view,"ui"),function(e){var u;e.on("addMarker:"+t.model,(u=t.view,function(e,t,n){t.isOpening=!0;var r=u(t,n);t.isOpening=!1;var i=u(t,n);if(r&&i){var o=t.markerRange;if(!o.isCollapsed||n.consumable.consume(o,e.name)){var a=HS(o);try{for(a.s();!(s=a.n()).done;){var s=s.value;if(!n.consumable.consume(s.item,e.name))return}}catch(e){a.e(e)}finally{a.f()}var l=n.mapper,c=n.writer;c.insert(l.toViewPosition(o.start),r),n.mapper.bindElementToMarker(r,t.markerName),o.isCollapsed||(c.insert(l.toViewPosition(o.end),i),n.mapper.bindElementToMarker(i,t.markerName)),e.stop()}}}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(e,t,n){var r=n.mapper.markerNameToElements(t.markerName);if(r){var i=HS(r);try{for(i.s();!(o=i.n()).done;){var o=o.value;n.mapper.unbindElementFromMarkerName(o,t.markerName),n.writer.clear(n.writer.createRangeOn(o),o)}}catch(e){i.e(e)}finally{i.f()}n.writer.clearClonedElementsGroup(t.markerName),e.stop()}},{priority:t.converterPriority||"normal"})}));var t}},{key:"markerToHighlight",value:function(e){return this.add((t=e,function(e){var s,l,c;e.on("addMarker:"+t.model,(s=t.view,function(e,t,n){if(t.item&&(t.item instanceof pa||t.item instanceof ba||t.item.is("$textProxy"))){var r=Ma(s,t,n);if(r&&n.consumable.consume(t.item,e.name)){var e=n.writer,i=Aa(e,r),r=e.document.selection;if(t.item instanceof pa||t.item instanceof ba)e.wrap(r.getFirstRange(),i,r);else{var r=n.mapper.toViewRange(t.range),o=HS(e.wrap(r,i).getItems());try{for(o.s();!(a=o.n()).done;){var a=a.value;if(a.is("attributeElement")&&a.isSimilar(i)){n.mapper.bindElementToMarker(a,t.markerName);break}}}catch(e){o.e(e)}finally{o.f()}}}}}),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,(c=t.view,function(e,t,n){if(t.item&&t.item instanceof $o){var r=Ma(c,t,n);if(r&&n.consumable.test(t.item,e.name)){var i=n.mapper.toViewElement(t.item);if(i&&i.getCustomProperty("addHighlight")){n.consumable.consume(t.item,e.name);var o=HS(ia._createIn(t.item));try{for(o.s();!(a=o.n()).done;){var a=a.value;n.consumable.consume(a.item,e.name)}}catch(e){o.e(e)}finally{o.f()}i.getCustomProperty("addHighlight")(i,r,n.writer),n.mapper.bindElementToMarker(i,t.markerName)}}}}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(l=t.view,function(e,t,n){if(!t.markerRange.isCollapsed){var r=Ma(l,t,n);if(r){var i=Aa(n.writer,r),o=n.mapper.markerNameToElements(t.markerName);if(o){var a=HS(o);try{for(a.s();!(s=a.n()).done;){var s=s.value;n.mapper.unbindElementFromMarkerName(s,t.markerName),s.is("attributeElement")?n.writer.unwrap(n.writer.createRangeOn(s),i):s.getCustomProperty("removeHighlight")(s,r.id,n.writer)}}catch(e){a.e(e)}finally{a.f()}n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}}),{priority:t.converterPriority||"normal"})}));var t}},{key:"markerToData",value:function(e){return this.add((n=(t=xa(t=e)).model,t.view||(t.view=function(e){return{group:n,name:e.substr(t.model.length+1)}}),function(e){var o,l;e.on("addMarker:"+n,(o=t.view,function(e,t,n){var r,i=o(t.markerName,n);i&&(r=t.markerRange,n.consumable.consume(r,e.name)&&(Pa(r,!1,n,t,i),Pa(r,!0,n,t,i),e.stop()))}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+n,(l=t.view,function(e,t,r){var i=l(t.markerName,r);if(i){var n=r.mapper.markerNameToElements(t.markerName);if(n){var o=HS(n);try{for(o.s();!(a=o.n()).done;){var a=a.value;r.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("containerElement")?(s("data-".concat(i.group,"-start-before"),a),s("data-".concat(i.group,"-start-after"),a),s("data-".concat(i.group,"-end-before"),a),s("data-".concat(i.group,"-end-after"),a)):r.writer.clear(r.writer.createRangeOn(a),a)}}catch(e){o.e(e)}finally{o.f()}r.writer.clearClonedElementsGroup(t.markerName),e.stop()}}function s(e,t){var n;t.hasAttribute(e)&&((n=new Set(t.getAttribute(e).split(","))).delete(i.name),0==n.size?r.writer.removeAttribute(e,t):r.writer.setAttribute(e,Array.from(n).join(","),t))}}),{priority:t.converterPriority||"normal"})}));var t,n}}]),t}();function Ta(e){qS(this,Ta),this._dispatchers=e}function Aa(e,t){e=e.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),"number"==typeof t.priority&&(e._priority=t.priority),e._id=t.id,e}function Pa(e,t,n,r,i){var o=t?e.start:e.end,a=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,e=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(a||e){var e=t&&a||!t&&!e?(s=a,!0):(s=e,!1),s=n.mapper.toViewElement(s);if(s)return function(e,t,n,r,i,o){t="data-".concat(o.group,"-").concat(t?"start":"end","-").concat(n?"before":"after"),n=e.hasAttribute(t)?e.getAttribute(t).split(","):[];n.unshift(o.name),r.writer.setAttribute(t,n.join(","),e),r.mapper.bindElementToMarker(e,i.markerName)}(s,t,e,n,r,i),0}o=n.mapper.toViewPosition(o),t=t,r=r,i=i,i=(n=n).writer.createUIElement("".concat(i.group,"-").concat(t?"start":"end"),i.name?{name:i.name}:null),n.writer.insert(o,i),n.mapper.bindElementToMarker(i,r.markerName)}function Ra(t,n){return"function"==typeof t?t:function(e,u){return function(e,t){"string"==typeof e&&(e={name:e});var n=u.writer,r=Object.assign({},e.attributes),i="container"==t?n.createContainerElement(e.name,r):"attribute"==t?n.createAttributeElement(e.name,r,{priority:e.priority||fr.DEFAULT_PRIORITY}):n.createUIElement(e.name,r);if(e.styles)for(var o=0,a=Object.keys(e.styles);o<a.length;o++){var s=a[o];n.setStyle(s,e.styles[s],i)}if(e.classes){r=e.classes;if("string"==typeof r)n.addClass(r,i);else{var l=HS(r);try{for(l.s();!(c=l.n()).done;){var c=c.value;n.addClass(c,i)}}catch(e){l.e(e)}finally{l.f()}}}return i}(t,n)}}function Ia(r){return r.model.values?function(e,t){var n=r.view[e];return n?n(e,t):null}:r.view}function Oa(t){return"string"==typeof t?function(e){return{key:t,value:e}}:"object"==typeof t?t.value?function(){return t}:function(e){return{key:t.key,value:e}}:t}function Ma(e,t,n){e="function"==typeof e?e(t,n):e;return e?(e.priority||(e.priority=10),e.id||(e.id=t.markerName),e):null}function Na(e){var t=e.model,n=t.schema,r=t.document,i=HS(r.getRootNames());try{for(i.s();!(o=i.n()).done;){var o=o.value,o=r.getRoot(o);if(o.isEmpty&&!n.checkChild(o,"$text")&&n.checkChild(o,"paragraph"))return e.insertElement("paragraph",o),!0}}catch(e){i.e(e)}finally{i.f()}return!1}function La(e,t,n){e=n.createContext(e);return n.checkChild(e,"paragraph")&&n.checkChild(e.push("paragraph"),t)}function Da(e,t){var n=t.createElement("paragraph");return t.insert(n,e),t.createPositionAt(n,0)}var ja=function(){$S(t,Sa);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"elementToElement",value:function(e){return this.add(Fa(e))}},{key:"elementToAttribute",value:function(e){return this.add(function(t){Ba(t=xa(t));var n=Ha(t,!1),e=Va(t.view),r=e?"element:"+e:"element";return function(e){e.on(r,n,{priority:t.converterPriority||"low"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(t){var e=null;"string"!=typeof(t=xa(t)).view&&!t.view.key||(e=function(e){"string"==typeof e.view&&(e.view={key:e.view});var t=e.view.key,n="class"==t||"style"==t?VS({},"class"==t?"classes":"styles",e.view.value):{attributes:VS({},t,void 0===e.view.value?/[\s\S]*/:e.view.value)};return e.view.name&&(n.name=e.view.name),e.view=n,t}(t)),Ba(t,e);var n=Ha(t,!0);return function(e){e.on("element",n,{priority:t.converterPriority||"low"})}}(e))}},{key:"elementToMarker",value:function(e){return Object(C.b)("upcast-helpers-element-to-marker-deprecated"),this.add((e=t=xa(t=e),n=e.model,e.model=function(e,t){e="string"==typeof n?n:n(e,t);return t.writer.createElement("$marker",{"data-name":e})},Fa(t)));var t,n}},{key:"dataToMarker",value:function(e){return this.add(function(r){(r=xa(r)).model||(r.model=function(e){return e?r.view+":"+e:r.view});var i=za(Ua(r,"start")),o=za(Ua(r,"end"));return function(e){e.on("element:"+r.view+"-start",i,{priority:r.converterPriority||"normal"}),e.on("element:"+r.view+"-end",o,{priority:r.converterPriority||"normal"});var a,t=d.get("low"),n=d.get("highest"),n=d.get(r.converterPriority)/n;e.on("element",(a=r,function(e,i,o){var t="data-"+a.view;function n(e,t){var n=HS(t);try{for(n.s();!(r=n.n()).done;){var r=r.value,r=a.model(r,o),r=o.writer.createElement("$marker",{"data-name":r});o.writer.insert(r,e),i.modelCursor=i.modelCursor.isEqual(e)?i.modelCursor.getShiftedBy(1):i.modelCursor._getTransformedByInsertion(e,1),i.modelRange=i.modelRange._getTransformedByInsertion(e,1)[0]}}catch(e){n.e(e)}finally{n.f()}}(o.consumable.test(i.viewItem,{attributes:t+"-end-after"})||o.consumable.test(i.viewItem,{attributes:t+"-start-after"})||o.consumable.test(i.viewItem,{attributes:t+"-end-before"})||o.consumable.test(i.viewItem,{attributes:t+"-start-before"}))&&(i.modelRange||Object.assign(i,o.convertChildren(i.viewItem,i.modelCursor)),o.consumable.consume(i.viewItem,{attributes:t+"-end-after"})&&n(i.modelRange.end,i.viewItem.getAttribute(t+"-end-after").split(",")),o.consumable.consume(i.viewItem,{attributes:t+"-start-after"})&&n(i.modelRange.end,i.viewItem.getAttribute(t+"-start-after").split(",")),o.consumable.consume(i.viewItem,{attributes:t+"-end-before"})&&n(i.modelRange.start,i.viewItem.getAttribute(t+"-end-before").split(",")),o.consumable.consume(i.viewItem,{attributes:t+"-start-before"})&&n(i.modelRange.start,i.viewItem.getAttribute(t+"-start-before").split(",")))}),{priority:t+n})}}(e))}}]),t}();function Fa(t){var n=za(t=xa(t)),e=Va(t.view),r=e?"element:"+e:"element";return function(e){e.on(r,n,{priority:t.converterPriority||"normal"})}}function Va(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function za(s){var l=new fn(s.view);return function(e,t,n){var r,i,o,a=l.match(t.viewItem);a&&((r=a.match).name=!0,n.consumable.test(t.viewItem,r)&&(i=s.model,o=t.viewItem,a=n,(i=i instanceof Function?i(o,a):a.writer.createElement(i))&&n.safeInsert(i,t.modelCursor)&&(n.consumable.consume(t.viewItem,r),n.convertChildren(t.viewItem,i),n.updateConversionResult(i,t))))}}function Ba(e,t){var n=1<arguments.length&&void 0!==t?t:null,t=null===n||function(e){return e.getAttribute(n)};e.model={key:"object"!=typeof e.model?e.model:e.model.key,value:"object"!=typeof e.model||void 0===e.model.value?t:e.model.value}}function Ha(a,s){var l=new fn(a.view);return function(e,t,n){var r,i,o=l.match(t.viewItem);o&&(function(e,t){e="function"==typeof e?e(t):e;return!("object"==typeof e&&!Va(e)||e.classes||e.attributes||e.styles)}(a.view,t.viewItem)?o.match.name=!0:delete o.match.name,n.consumable.test(t.viewItem,o.match))&&(r=a.model.key,null!==(i="function"==typeof a.model.value?a.model.value(t.viewItem,n):a.model.value)&&(t.modelRange||Object.assign(t,n.convertChildren(t.viewItem,t.modelCursor)),function(e,t,n){for(var r=!1,i=0,o=Array.from(e.getItems({shallow:s}));i<o.length;i++){var a=o[i];n.schema.checkAttribute(a,t.key)&&(r=!0,a.hasAttribute(t.key)||n.writer.setAttribute(t.key,t.value,a))}return r}(t.modelRange,{key:r,value:i},n)&&n.consumable.consume(t.viewItem,o.match)))}}function Ua(n,e){var t={};return t.view=n.view+"-"+e,t.model=function(e,t){e=e.getAttribute("name"),e=n.model(e,t);return t.writer.createElement("$marker",{"data-name":e})},t}var qa=(WS(Wa,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]),Wa);function Wa(e,t){var n=this;qS(this,Wa),this.model=e,this.view=new zo(t),this.mapper=new oa,this.downcastDispatcher=new ha({mapper:this.mapper,schema:e.schema});var a,s,r=this.model.document,i=r.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",function(){n.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",function(){n.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",function(){n.view.change(function(e){n.downcastDispatcher.convertChanges(r.differ,o,e),n.downcastDispatcher.convertSelection(i,o,e)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(a=this.model,s=this.mapper,function(e,t){var t=t.newSelection,n=[],r=HS(t.getRanges());try{for(r.s();!(i=r.n()).done;){var i=i.value;n.push(s.toModelRange(i))}}catch(e){r.e(e)}finally{r.f()}var o=a.createSelection(n,{backward:t.isBackward});o.isEqual(a.document.selection)||a.change(function(e){e.setSelection(o)})})),this.downcastDispatcher.on("insert:$text",function(e,t,n){var r;n.consumable.consume(t.item,"insert")&&(r=n.writer,n=n.mapper.toViewPosition(t.range.start),t=r.createText(t.item.data),r.insert(n,t))},{priority:"lowest"}),this.downcastDispatcher.on("remove",function(e,t,n){var r=n.mapper.toViewPosition(t.position),t=t.position.getShiftedBy(t.length),t=n.mapper.toViewPosition(t,{isPhantom:!0}),t=n.writer.createRange(r,t),t=n.writer.remove(t.getTrimmed()),i=HS(n.writer.createRangeIn(t).getItems());try{for(i.s();!(o=i.n()).done;){var o=o.value;n.mapper.unbindViewElement(o)}}catch(e){i.e(e)}finally{i.f()}},{priority:"low"}),this.downcastDispatcher.on("selection",function(e,t,n){var r=n.writer,i=HS(r.document.selection.getRanges());try{for(i.s();!(o=i.n()).done;){var o=o.value;o.isCollapsed&&o.end.parent.isAttached()&&n.writer.mergeAttributes(o.start)}}catch(e){i.e(e)}finally{i.f()}r.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",function(e,t,n){t=t.selection;if(!t.isCollapsed&&n.consumable.consume(t,"selection")){var r=[],i=HS(t.getRanges());try{for(i.s();!(o=i.n()).done;){var o=o.value,o=n.mapper.toViewRange(o);r.push(o)}}catch(e){i.e(e)}finally{i.f()}n.writer.setSelection(r,{backward:t.isBackward})}},{priority:"low"}),this.downcastDispatcher.on("selection",function(e,t,n){var r=t.selection;r.isCollapsed&&n.consumable.consume(r,"selection")&&(t=n.writer,r=r.getFirstPosition(),r=n.mapper.toViewPosition(r),r=t.breakAttributes(r),t.setSelection(r))},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(function(e){if("$graveyard"==e.rootName)return null;var t=new $n(n.view.document,e.name);return t.rootName=e.rootName,n.mapper.bindElements(e,t),t})}Ie(qa,Se);var $a=(WS(Xa,[{key:"add",value:function(e,t){this._commands.set(e,t)}},{key:"get",value:function(e){return this._commands.get(e)}},{key:"execute",value:function(e){var t=this.get(e);if(!t)throw new C.a("commandcollection-command-not-found",this,{commandName:e});for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.execute.apply(t,r)}},{key:"names",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"commands",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var e,t=HS(this.commands());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}}}]),Xa),Ka=(WS(Ya,[{key:"add",value:function(e,t){var n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new Ga(e),this._consumables.set(e,n)),n.add(t))}},{key:"test",value:function(e,t){var n=this._consumables.get(e);return void 0===n?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}},{key:"consume",value:function(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}},{key:"revert",value:function(e,t){var n=this._consumables.get(e);void 0!==n&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}}],[{key:"consumablesFromElement",value:function(e){var t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=HS(e.getAttributeKeys());try{for(n.s();!(r=n.n()).done;){var r=r.value;"style"!=r&&"class"!=r&&t.attributes.push(r)}}catch(e){n.e(e)}finally{n.f()}var i=HS(e.getClassNames());try{for(i.s();!(o=i.n()).done;){var o=o.value;t.classes.push(o)}}catch(e){i.e(e)}finally{i.f()}var a=HS(e.getStyleNames());try{for(a.s();!(s=a.n()).done;){var s=s.value;t.styles.push(s)}}catch(e){a.e(e)}finally{a.f()}return t}},{key:"createFrom",value:function(e,t){if(t=t||new Ya,e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,Ya.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);var n=HS(e.getChildren());try{for(n.s();!(r=n.n()).done;){var r=r.value;t=Ya.createFrom(r,t)}}catch(e){n.e(e)}finally{n.f()}return t}}]),Ya),Ga=(WS(Qa,[{key:"add",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._add(t,e[t])}},{key:"test",value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var t in this._consumables)if(t in e){var n=this._test(t,e[t]);if(!0!==n)return n}return!0}},{key:"consume",value:function(e){for(var t in e.name&&(this._canConsumeName=!1),this._consumables)t in e&&this._consume(t,e[t])}},{key:"revert",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._revert(t,e[t])}},{key:"_add",value:function(e,t){var t=le(t)?t:[t],n=this._consumables[e],r=HS(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;if("attributes"===e&&("class"===i||"style"===i))throw new C.a("viewconsumable-invalid-attribute",this);if(n.set(i,!0),"styles"===e){var o=HS(this.element.document.stylesProcessor.getRelatedStyles(i));try{for(o.s();!(a=o.n()).done;){var a=a.value;n.set(a,!0)}}catch(e){o.e(e)}finally{o.f()}}}}catch(e){r.e(e)}finally{r.f()}}},{key:"_test",value:function(e,t){var t=le(t)?t:[t],n=this._consumables[e],r=HS(t);try{for(r.s();!(o=r.n()).done;){var i=o.value;if("attributes"!==e||"class"!==i&&"style"!==i){var o=n.get(i);if(void 0===o)return null;if(!o)return!1}else{i="class"==i?"classes":"styles",i=this._test(i,US(this._consumables[i].keys()));if(!0!==i)return i}}}catch(e){r.e(e)}finally{r.f()}return!0}},{key:"_consume",value:function(e,t){var t=le(t)?t:[t],n=this._consumables[e],r=HS(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;if("attributes"!==e||"class"!==i&&"style"!==i){if(n.set(i,!1),"styles"==e){var o=HS(this.element.document.stylesProcessor.getRelatedStyles(i));try{for(o.s();!(a=o.n()).done;){var a=a.value;n.set(a,!1)}}catch(e){o.e(e)}finally{o.f()}}}else{i="class"==i?"classes":"styles";this._consume(i,US(this._consumables[i].keys()))}}}catch(e){r.e(e)}finally{r.f()}}},{key:"_revert",value:function(e,t){var t=le(t)?t:[t],n=this._consumables[e],r=HS(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;"attributes"!==e||"class"!==i&&"style"!==i?!1===n.get(i)&&n.set(i,!0):(i="class"==i?"classes":"styles",this._revert(i,US(this._consumables[i].keys())))}}catch(e){r.e(e)}finally{r.f()}}}]),Qa),Za=(WS(Ja,[{key:"register",value:function(e,t){if(this._sourceDefinitions[e])throw new C.a("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}},{key:"extend",value:function(e,t){if(!this._sourceDefinitions[e])throw new C.a("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(e){e="string"==typeof e?e:e.is&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name;return this.getDefinitions()[e]}},{key:"isRegistered",value:function(e){return!!this.getDefinition(e)}},{key:"isBlock",value:function(e){e=this.getDefinition(e);return!(!e||!e.isBlock)}},{key:"isLimit",value:function(e){e=this.getDefinition(e);return!(!e||!e.isLimit&&!e.isObject)}},{key:"isObject",value:function(e){e=this.getDefinition(e);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}},{key:"isInline",value:function(e){e=this.getDefinition(e);return!(!e||!e.isInline)}},{key:"isSelectable",value:function(e){e=this.getDefinition(e);return!(!e||!e.isSelectable&&!e.isObject)}},{key:"isContent",value:function(e){e=this.getDefinition(e);return!(!e||!e.isContent&&!e.isObject)}},{key:"checkChild",value:function(e,t){return!!t&&this._checkContextMatch(t,e)}},{key:"checkAttribute",value:function(e,t){e=this.getDefinition(e.last);return!!e&&e.allowAttributes.includes(t)}},{key:"checkMerge",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(e instanceof Xo){var n=e.nodeBefore,r=e.nodeAfter;if(!(n instanceof $o))throw new C.a("schema-check-merge-no-element-before",this);if(!(r instanceof $o))throw new C.a("schema-check-merge-no-element-after",this);return this.checkMerge(n,r)}var i=HS(t.getChildren());try{for(i.s();!(o=i.n()).done;){var o=o.value;if(!this.checkChild(e,o))return!1}}catch(e){i.e(e)}finally{i.f()}return!0}},{key:"addChildCheck",value:function(r){this.on("checkChild",function(e,t){var n=BS(t,2),t=n[0],n=n[1];!n||"boolean"==typeof(n=r(t,n))&&(e.stop(),e.return=n)},{priority:"high"})}},{key:"addAttributeCheck",value:function(r){this.on("checkAttribute",function(e,t){var n=BS(t,2),t=n[0],n=n[1],n=r(t,n);"boolean"==typeof n&&(e.stop(),e.return=n)},{priority:"high"})}},{key:"setAttributeProperties",value:function(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}},{key:"getAttributeProperties",value:function(e){return this._attributeProperties[e]||{}}},{key:"getLimitElement",value:function(e){for(var t=e instanceof Xo?e.parent:(e instanceof ia?[e]:Array.from(e.getRanges())).reduce(function(e,t){t=t.getCommonAncestor();return e?e.getCommonAncestor(t,{includeSelf:!0}):t},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}},{key:"checkAttributeInSelection",value:function(e,t){if(e.isCollapsed){var n=[].concat(US(e.getFirstPosition().getAncestors()),[new Uo("",e.getAttributes())]);return this.checkAttribute(n,t)}var r,i=HS(e.getRanges());try{for(i.s();!(r=i.n()).done;){var o=HS(r.value);try{for(o.s();!(a=o.n()).done;){var a=a.value;if(this.checkAttribute(a.item,t))return!0}}catch(e){o.e(e)}finally{o.f()}}}catch(e){i.e(e)}finally{i.f()}return!1}},{key:"getValidRanges",value:regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=HS(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=8;break}return r=r.value,e.delegateYield(r.getMinimalFlatRanges(),"t0",6);case 6:e.next=3;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])})(t),r=HS(t),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=9;break}return i=i.value,e.delegateYield(this._getValidRangesForRange(i,n),"t0",7);case 7:e.next=4;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),r.e(e.t1);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[2,11,14,17]])})},{key:"getNearestSelectionRange",value:function(e){var t,n,r=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(e,"$text"))return new ia(e);var o=e.getAncestors().reverse().find(function(e){return r.isLimit(e)})||e.root;"both"!=i&&"backward"!=i||(t=new Ko({boundaries:ia._createIn(o),startPosition:e,direction:"backward"})),"both"!=i&&"forward"!=i||(n=new Ko({boundaries:ia._createIn(o),startPosition:e}));var a=HS(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=!1;case 1:if(r){e.next=18;break}if(r=!0,!t){e.next=9;break}if(i=t.next(),e.t0=i.done,e.t0){e.next=9;break}return r=!1,e.next=9,{walker:t,value:i.value};case 9:if(!n){e.next=16;break}if(o=n.next(),e.t1=o.done,e.t1){e.next=16;break}return r=!1,e.next=16,{walker:n,value:o.value};case 16:e.next=1;break;case 18:case"end":return e.stop()}},e)})(t,n));try{for(a.s();!(l=a.n()).done;){var s=l.value,l=s.value;if(l.type==(s.walker==t?"elementEnd":"elementStart")&&this.isObject(l.item))return ia._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new ia(l.nextPosition)}}catch(e){a.e(e)}finally{a.f()}return null}},{key:"findAllowedParent",value:function(e,t){for(var n=e.parent;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"removeDisallowedAttributes",value:function(e,t){var n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;if(r.is("$text"))is(this,r,t);else{var i=HS(ia._createIn(r).getPositions());try{for(i.s();!(o=i.n()).done;){var o=o.value;is(this,o.nodeBefore||o.parent,t)}}catch(e){i.e(e)}finally{i.f()}}}}catch(e){n.e(e)}finally{n.f()}}},{key:"createContext",value:function(e){return new es(e)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var e={},t=this._sourceDefinitions,n=Object.keys(t),r=0,i=n;r<i.length;r++){var o=i[r];e[o]=function(a,e){e={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(e){var t,n=HS(a);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=HS(Object.keys(r).filter(function(e){return e.startsWith("is")}));try{for(i.s();!(o=i.n()).done;){var o=o.value;e[o]=r[o]}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}}(e),ns(a,e,"allowIn"),ns(a,e,"allowContentOf"),ns(a,e,"allowWhere"),ns(a,e,"allowAttributes"),ns(a,e,"allowAttributesOf"),ns(a,e,"allowChildren"),ns(a,e,"inheritTypesFrom"),function(e){var t=HS(a);try{for(t.s();!(n=t.n()).done;){var n=n.value.inheritAllFrom;n&&(e.allowContentOf.push(n),e.allowWhere.push(n),e.allowAttributesOf.push(n),e.inheritTypesFrom.push(n))}}catch(e){t.e(e)}finally{t.f()}}(e),e}(t[o],o)}for(var a=0,s=n;a<s.length;a++)!function(e,t){var n=e[t],r=HS(n.allowChildren);try{for(r.s();!(i=r.n()).done;){var i=e[i.value];i&&i.allowIn.push(t)}}catch(e){r.e(e)}finally{r.f()}n.allowChildren.length=0}(e,s[a]);for(var l=0,c=n;l<c.length;l++)!function(e,t){var n=HS(e[t].allowContentOf);try{for(n.s();!(r=n.n()).done;){var r=r.value;e[r]&&function(e,t){var n,r=e[t];return n=e,Object.keys(n).map(function(e){return n[e]}).filter(function(e){return e.allowIn.includes(r.name)})}(e,r).forEach(function(e){e.allowIn.push(t)})}}catch(e){n.e(e)}finally{n.f()}delete e[t].allowContentOf}(e,c[l]);for(var u=0,h=n;u<h.length;u++)!function(e,t){var n=HS(e[t].allowWhere);try{for(n.s();!(r=n.n()).done;){var r,i=e[r.value];i&&(r=e[t].allowIn).push.apply(r,US(i.allowIn))}}catch(e){n.e(e)}finally{n.f()}delete e[t].allowWhere}(e,h[u]);for(var d=0,f=n;d<f.length;d++){var p=f[d];(function(e,t){var n=HS(e[t].allowAttributesOf);try{for(n.s();!(r=n.n()).done;){var r,i=e[r.value];i&&(r=e[t].allowAttributes).push.apply(r,US(i.allowAttributes))}}catch(e){n.e(e)}finally{n.f()}delete e[t].allowAttributesOf})(e,p),function(e){var t,n=e[p],r=HS(n.inheritTypesFrom);try{for(r.s();!(t=r.n()).done;){var i=e[t.value];if(i){var o=HS(Object.keys(i).filter(function(e){return e.startsWith("is")}));try{for(o.s();!(a=o.n()).done;){var a=a.value;a in n||(n[a]=i[a])}}catch(e){o.e(e)}finally{o.f()}}}}catch(e){r.e(e)}finally{r.f()}delete n.inheritTypesFrom}(e)}for(var g=0,v=n;g<v.length;g++){var m=v[g];(function(t,e){var n=t[e],e=n.allowIn.filter(function(e){return t[e]});n.allowIn=Array.from(new Set(e))})(e,m),function(e,t){var n,r=HS(e[t].allowIn);try{for(r.s();!(n=r.n()).done;)e[n.value].allowChildren.push(t)}catch(e){r.e(e)}finally{r.f()}}(e,m),void((m=e[m=m]).allowAttributes=Array.from(new Set(m.allowAttributes)))}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t.length-1,r=t.getItem(n);if(e.allowIn.includes(r.name)){if(0==n)return!0;r=this.getDefinition(r);return this._checkContextMatch(r,t,n-1)}return!1}},{key:"_getValidRangesForRange",value:regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.start,i=t.start,o=HS(t.getItems({shallow:!0})),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=19;break}if(s=a.value,e.t0=s.is("element"),e.t0)return e.delegateYield(this._getValidRangesForRange(ia._createIn(s),n),"t1",9);e.next=9;break;case 9:if(e.t2=this.checkAttribute(s,n),e.t2){e.next=16;break}if(e.t3=r.isEqual(i),e.t3){e.next=15;break}return e.next=15,new ia(r,i);case 15:r=Xo._createAfter(s);case 16:i=Xo._createAfter(s);case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t4=e.catch(2),o.e(e.t4);case 24:return e.prev=24,o.f(),e.finish(24);case 27:if(e.t5=r.isEqual(i),e.t5){e.next=31;break}return e.next=31,new ia(r,i);case 31:case"end":return e.stop()}},e,this,[[2,21,24,27]])})}]),Ja);function Ja(){var n=this;qS(this,Ja),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",function(e,t){t[0]=new es(t[0])},{priority:"highest"}),this.on("checkChild",function(e,t){t[0]=new es(t[0]),t[1]=n.getDefinition(t[1])},{priority:"highest"})}function Qa(e){qS(this,Qa),this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}function Ya(){qS(this,Ya),this._consumables=new Map}function Xa(){qS(this,Xa),this._commands=new Map}Ie(Za,Se);var es=(WS(ts,[{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(e){e=new ts([e]);return e._items=[].concat(US(this._items),US(e._items)),e}},{key:"getItem",value:function(e){return this._items[e]}},{key:"getNames",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._items.map(function(e){return e.name}),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"endsWith",value:function(e){return Array.from(this.getNames()).join(" ").endsWith(e)}},{key:"startsWith",value:function(e){return Array.from(this.getNames()).join(" ").startsWith(e)}},{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}}]),ts);function ts(e){if(qS(this,ts),e instanceof ts)return e;"string"==typeof e?e=[e]:Array.isArray(e)||(e=e.getAncestors({includeSelf:!0})),this._items=e.map(rs)}function ns(e,t,n){var r=HS(e);try{for(r.s();!(i=r.n()).done;){var i,o=i.value;"string"==typeof o[n]?t[n].push(o[n]):Array.isArray(o[n])&&(i=t[n]).push.apply(i,US(o[n]))}}catch(e){r.e(e)}finally{r.f()}}function rs(t){return"string"==typeof t||t.is("documentFragment")?{name:"string"==typeof t?t:"$documentFragment",getAttributeKeys:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}),getAttribute:function(){}}:{name:t.is("element")?t.name:"$text",getAttributeKeys:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t.getAttributeKeys(),"t0",1);case 1:case"end":return e.stop()}},e)}),getAttribute:function(e){return t.getAttribute(e)}}}function is(e,t,n){var r=HS(t.getAttributeKeys());try{for(r.s();!(i=r.n()).done;){var i=i.value;e.checkAttribute(t,i)||n.removeAttribute(i,t)}}catch(e){r.e(e)}finally{r.f()}}var os=(WS(as,[{key:"convert",value:function(e,t){var l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(e){var t,n=HS(new es(l));try{for(n.s();!(s=n.n()).done;){var r=s.value,i={},o=HS(r.getAttributeKeys());try{for(o.s();!(a=o.n()).done;){var a=a.value;i[a]=r.getAttribute(a)}}catch(e){o.e(e)}finally{o.f()}var s=e.createElement(r.name,i);t&&e.append(s,t),t=Xo._createAt(s,0)}}catch(e){n.e(e)}finally{n.f()}return t}(t),this.conversionApi.writer=t,this.conversionApi.consumable=Ka.createFrom(e),this.conversionApi.store={};var e=this._convertItem(e,this._modelCursor).modelRange,n=t.createDocumentFragment();if(e){this._removeEmptyElements();for(var r=0,i=Array.from(this._modelCursor.parent.getChildren());r<i.length;r++){var o=i[r];t.append(o,n)}n.markers=function(e,t){var n=new Set,r=new Map,i=HS(ia._createIn(e).getItems());try{for(i.s();!(o=i.n()).done;){var o=o.value;"$marker"==o.name&&n.add(o)}}catch(e){i.e(e)}finally{i.f()}var a=HS(n);try{for(a.s();!(c=a.n()).done;){var s=c.value,l=s.getAttribute("data-name"),c=t.createPositionBefore(s);r.has(l)?r.get(l).end=c.clone():r.set(l,new ia(c.clone())),t.remove(s)}}catch(e){a.e(e)}finally{a.f()}return r}(n,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,n}},{key:"_convertItem",value:function(e,t){t=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,t,this.conversionApi):e.is("$text")?this.fire("text",t,this.conversionApi):this.fire("documentFragment",t,this.conversionApi),t.modelRange&&!(t.modelRange instanceof ia))throw new C.a("view-conversion-dispatcher-incorrect-result",this);return{modelRange:t.modelRange,modelCursor:t.modelCursor}}},{key:"_convertChildren",value:function(e,t){for(var n=t.is("position")?t:Xo._createAt(t,0),r=new ia(n),i=0,o=Array.from(e.getChildren());i<o.length;i++){var a=o[i],a=this._convertItem(a,n);a.modelRange instanceof ia&&(r.end=a.modelRange.end,n=a.modelCursor)}return{modelRange:r,modelCursor:n}}},{key:"_safeInsert",value:function(e,t){t=this._splitToAllowedParent(e,t);return!!t&&(this.conversionApi.writer.insert(e,t.position),!0)}},{key:"_updateConversionResult",value:function(e,t){var n=this._getSplitParts(e),r=this.conversionApi.writer;t.modelRange||(t.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(n[n.length-1])));e=this._cursorParents.get(e);t.modelCursor=e?r.createPositionAt(e,0):t.modelRange.end}},{key:"_splitToAllowedParent",value:function(e,t){var n=this.conversionApi,r=n.schema,i=n.writer,n=r.findAllowedParent(t,e);if(n){if(n===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(n)&&(n=null)}if(!n)return La(t,e,r)?{position:Da(t,i)}:null;var t=this.conversionApi.writer.split(t,n),o=[],a=HS(t.range.getWalker());try{for(a.s();!(s=a.n()).done;){var s,l=s.value;"elementEnd"==l.type?o.push(l.item):(s=o.pop(),this._registerSplitPair(s,l.item))}}catch(e){a.e(e)}finally{a.f()}n=t.range.end.parent;return this._cursorParents.set(e,n),{position:t.position,cursorParent:n}}},{key:"_registerSplitPair",value:function(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);e=this._splitParts.get(e);this._splitParts.set(t,e),e.push(t)}},{key:"_getSplitParts",value:function(e){return this._splitParts.has(e)?this._splitParts.get(e):[e]}},{key:"_removeEmptyElements",value:function(){var e=!1,t=HS(this._splitParts.keys());try{for(t.s();!(n=t.n()).done;){var n=n.value;n.isEmpty&&(this.conversionApi.writer.remove(n),this._splitParts.delete(n),e=!0)}}catch(e){t.e(e)}finally{t.f()}e&&this._removeEmptyElements()}}]),as);function as(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};qS(this,as),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},e),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}Ie(os,c);var ss=(WS(ds,[{key:"getHtml",value:function(e){var t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}]),ds),ls=(WS(hs,[{key:"toData",value:function(e){e=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(e)}},{key:"toView",value:function(e){e=this._toDom(e);return this._domConverter.domToView(e)}},{key:"registerRawContentMatcher",value:function(e){this._domConverter.registerRawContentMatcher(e)}},{key:"useFillerType",value:function(e){this._domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}},{key:"_toDom",value:function(e){for(var e=this._domParser.parseFromString(e,"text/html"),t=e.createDocumentFragment(),n=e.body.childNodes;0<n.length;)t.appendChild(n[0]);return t}}]),hs),cs=(WS(us,[{key:"get",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.rootName,n=void 0===t?"main":t,t=e.trim,t=void 0===t?"empty":t;if(!this._checkIfRootsExists([n]))throw new C.a("datacontroller-get-non-existent-root",this);n=this.model.document.getRoot(n);return"empty"!==t||this.model.hasContent(n,{ignoreWhitespaces:!0})?this.stringify(n,e):""}},{key:"stringify",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this.toView(e,t);return this.processor.toData(t)}},{key:"toView",value:function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this.viewDocument,n=this._viewWriter;this.mapper.clearBindings();var r=ia._createIn(a),t=new jr(t);this.mapper.bindElements(a,t),this.downcastDispatcher.conversionApi.options=e,this.downcastDispatcher.convertInsert(r,n);var r=a.is("documentFragment")?Array.from(a.markers):function(){var e=[],t=a.root.document;if(!t)return[];var n=ia._createIn(a),r=HS(t.model.markers);try{for(r.s();!(o=r.n()).done;){var i=o.value,o=n.getIntersection(i.getRange());o&&e.push([i.name,o])}}catch(e){r.e(e)}finally{r.f()}return e}(),i=HS(r);try{for(i.s();!(s=i.n()).done;){var o=BS(s.value,2),s=o[0],o=o[1];this.downcastDispatcher.convertMarkerAdd(s,o,n)}}catch(e){i.e(e)}finally{i.f()}return delete this.downcastDispatcher.conversionApi.options,t}},{key:"init",value:function(e){var o=this;if(this.model.document.version)throw new C.a("datacontroller-init-document-not-empty",this);var a={};if("string"==typeof e?a.main=e:a=e,!this._checkIfRootsExists(Object.keys(a)))throw new C.a("datacontroller-init-non-existent-root",this);return this.model.enqueueChange("transparent",function(e){for(var t=0,n=Object.keys(a);t<n.length;t++){var r=n[t],i=o.model.document.getRoot(r);e.insert(o.parse(a[r],i),i,0)}}),Promise.resolve()}},{key:"set",value:function(e){var o=this,a={};if("string"==typeof e?a.main=e:a=e,!this._checkIfRootsExists(Object.keys(a)))throw new C.a("datacontroller-set-non-existent-root",this);this.model.enqueueChange("transparent",function(e){e.setSelection(null),e.removeSelectionAttribute(o.model.document.selection.getAttributeKeys());for(var t=0,n=Object.keys(a);t<n.length;t++){var r=n[t],i=o.model.document.getRoot(r);e.remove(e.createRangeIn(i)),e.insert(o.parse(a[r],i),i,0)}})}},{key:"parse",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"$root",e=this.processor.toView(e);return this.toModel(e,t)}},{key:"toModel",value:function(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change(function(e){return n.upcastDispatcher.convert(t,e,r)})}},{key:"addStyleProcessorRules",value:function(e){e(this.stylesProcessor)}},{key:"registerRawContentMatcher",value:function(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(e){var t=HS(e);try{for(t.s();!(n=t.n()).done;){var n=n.value;if(!this.model.document.getRootNames().includes(n))return!1}}catch(e){t.e(e)}finally{t.f()}return!0}}]),us);function us(e,t){var n=this;qS(this,us),this.model=e,this.mapper=new oa,this.downcastDispatcher=new ha({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",function(e,t,n){var r;n.consumable.consume(t.item,"insert")&&(r=n.writer,n=n.mapper.toViewPosition(t.range.start),t=r.createText(t.item.data),r.insert(n,t))},{priority:"lowest"}),this.upcastDispatcher=new os({schema:e.schema}),this.viewDocument=new hr(t),this.stylesProcessor=t,this.htmlProcessor=new ls(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Vr(this.viewDocument),this.upcastDispatcher.on("text",function(e,t,n){var r=n.schema,i=n.consumable,o=n.writer,n=t.modelCursor;if(i.test(t.viewItem)){if(!r.checkChild(n,"$text")){if(!La(n,"$text",r))return;n=Da(n,o)}i.consume(t.viewItem);i=o.createText(t.viewItem.data);o.insert(i,n),t.modelRange=o.createRange(n,n.getShiftedBy(i.offsetSize)),t.modelCursor=t.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",function(e,t,n){var r;!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})&&(n=(r=n.convertChildren(t.viewItem,t.modelCursor)).modelRange,r=r.modelCursor,t.modelRange=n,t.modelCursor=r)},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",function(e,t,n){var r;!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})&&(n=(r=n.convertChildren(t.viewItem,t.modelCursor)).modelRange,r=r.modelCursor,t.modelRange=n,t.modelCursor=r)},{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.on("init",function(){n.fire("ready")},{priority:"lowest"}),this.on("ready",function(){n.model.enqueueChange("transparent",Na)},{priority:"lowest"})}function hs(e){qS(this,hs),this._domParser=new DOMParser,this._domConverter=new _i(e,{blockFillerMode:"nbsp"}),this._htmlWriter=new ss}function ds(){qS(this,ds)}Ie(cs,Se);var fs=(WS(ps,[{key:"addAlias",value:function(e,t){var n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new C.a("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}},{key:"for",value:function(e){if(!this._helpers.has(e))throw new C.a("conversion-for-unknown-group",this);return this._helpers.get(e)}},{key:"elementToElement",value:function(e){this.for("downcast").elementToElement(e);var t=HS(gs(e));try{for(t.s();!(r=t.n()).done;){var n=r.value,r=n.model,n=n.view;this.for("upcast").elementToElement({model:r,view:n,converterPriority:e.converterPriority})}}catch(e){t.e(e)}finally{t.f()}}},{key:"attributeToElement",value:function(e){this.for("downcast").attributeToElement(e);var t=HS(gs(e));try{for(t.s();!(r=t.n()).done;){var n=r.value,r=n.model,n=n.view;this.for("upcast").elementToAttribute({view:n,model:r,converterPriority:e.converterPriority})}}catch(e){t.e(e)}finally{t.f()}}},{key:"attributeToAttribute",value:function(e){this.for("downcast").attributeToAttribute(e);var t=HS(gs(e));try{for(t.s();!(r=t.n()).done;){var n=r.value,r=n.model,n=n.view;this.for("upcast").attributeToAttribute({view:n,model:r})}}catch(e){t.e(e)}finally{t.f()}}},{key:"_createConversionHelpers",value:function(e){var t=e.name,n=e.dispatchers,e=e.isDowncast;if(this._helpers.has(t))throw new C.a("conversion-group-exists",this);n=new(e?Ea:ja)(n);this._helpers.set(t,n)}}]),ps);function ps(e,t){qS(this,ps),this._helpers=new Map,this._downcast=Zt(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Zt(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}function gs(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.model.values){e.next=20;break}n=HS(t.model.values),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=10;break}return o=i.value,r={key:t.model.key,value:o},i=t.view[o],o=t.upcastAlso?t.upcastAlso[o]:void 0,e.delegateYield(vs(r,i,o),"t0",8);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(2),n.e(e.t1);case 15:return e.prev=15,n.f(),e.finish(15);case 18:e.next=21;break;case 20:return e.delegateYield(vs(t.model,t.view,t.upcastAlso),"t2",21);case 21:case"end":return e.stop()}},a,null,[[2,12,15,18]])}function vs(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{model:t,view:n};case 2:if(!r){e.next=20;break}i=HS(Zt(r)),e.prev=4,i.s();case 6:if((o=i.n()).done){e.next=12;break}return o=o.value,e.next=10,{model:t,view:o};case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}},s,null,[[4,14,17,20]])}var ms=(WS(ws,[{key:"addOperation",value:function(e){return(e.batch=this).operations.push(e),e}},{key:"baseVersion",get:function(){var t=HS(this.operations);try{for(t.s();!(e=t.n()).done;){var e=e.value;if(null!==e.baseVersion)return e.baseVersion}}catch(e){t.e(e)}finally{t.f()}return null}}]),ws),ys=(WS(_s,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}}],[{key:"fromJSON",value:function(e){return new this(e.baseVersion)}},{key:"className",get:function(){return"Operation"}}]),_s),ks=(WS(bs,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"is",value:function(e){return"documentFragment"===e||"model:documentFragment"===e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(e){var t=this,n=HS(e);try{for(n.s();!(r=n.n()).done;)var r=r.value,t=t.getChild(t.offsetToIndex(r))}catch(e){n.e(e)}finally{n.f()}return t}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"toJSON",value:function(){var e=[],t=HS(this._children);try{for(t.s();!(n=t.n()).done;){var n=n.value;e.push(n.toJSON())}}catch(e){t.e(e)}finally{t.f()}return e}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var t="string"==typeof(t=t)?[new Uo(t)]:(qt(t)||(t=[t]),Array.from(t).map(function(e){return"string"==typeof e?new Uo(e):e instanceof qo?new Uo(e.data,e.getAttributes()):e})),n=HS(t);try{for(n.s();!(r=n.n()).done;){var r=r.value;null!==r.parent&&r._remove(),r.parent=this}}catch(e){n.e(e)}finally{n.f()}this._children._insertNodes(e,t)}},{key:"_removeChildren",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=this._children._removeNodes(e,n),r=HS(n);try{for(r.s();!(t=r.n()).done;)t.value.parent=null}catch(e){r.e(e)}finally{r.f()}return n}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}],[{key:"fromJSON",value:function(e){var t=[],n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;t.push((r.name?$o:Uo).fromJSON(r))}}catch(e){n.e(e)}finally{n.f()}return new bs(t)}}]),bs);function bs(e){qS(this,bs),this.markers=new Map,this._children=new Wo,e&&this._insertChild(0,e)}function _s(e){qS(this,_s),this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}function ws(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default";qS(this,ws),this.operations=[],this.type=e}function Cs(e,t){var n=(t=Es(t)).reduce(function(e,t){return e+t.offsetSize},0),r=e.parent;As(e);var i=e.index;return r._insertChild(i,t),Ts(r,i+t.length),Ts(r,i),new ia(e,e.getShiftedBy(n))}function xs(e){if(!e.isFlat)throw new C.a("operation-utils-remove-range-not-flat",this);var t=e.start.parent;As(e.start),As(e.end);var n=t._removeChildren(e.start.index,e.end.index-e.start.index);return Ts(t,e.start.index),n}function Ss(e,t){if(!e.isFlat)throw new C.a("operation-utils-move-range-not-flat",this);var n=xs(e);return Cs(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function Es(e){var t=[];e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++)if("string"==typeof e[n])t.push(new Uo(e[n]));else if(e[n]instanceof qo)t.push(new Uo(e[n].data,e[n].getAttributes()));else if(e[n]instanceof ks||e[n]instanceof Wo){var r=HS(e[n]);try{for(r.s();!(i=r.n()).done;){var i=i.value;t.push(i)}}catch(e){r.e(e)}finally{r.f()}}else e[n]instanceof Ho&&t.push(e[n]);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1];a instanceof Uo&&s instanceof Uo&&Ps(a,s)&&(t.splice(o-1,2,new Uo(s.data+a.data,s.getAttributes())),o--)}return t}function Ts(e,t){var n=e.getChild(t-1),r=e.getChild(t);n&&r&&n.is("$text")&&r.is("$text")&&Ps(n,r)&&(n=new Uo(n.data+r.data,n.getAttributes()),e._removeChildren(t-1,2),e._insertChild(t-1,n))}function As(e){var t,n,r=e.textNode,i=e.parent;r&&(t=e.offset-r.startOffset,n=r.index,i._removeChildren(n,1),e=new Uo(r.data.substr(0,t),r.getAttributes()),r=new Uo(r.data.substr(t),r.getAttributes()),i._insertChild(n,[e,r]))}function Ps(e,t){var e=e.getAttributes(),n=t.getAttributes(),r=HS(e);try{for(r.s();!(i=r.n()).done;){var i=i.value;if(i[1]!==t.getAttribute(i[0]))return;n.next()}}catch(e){r.e(e)}finally{r.f()}return n.next().done}function Rs(e,t){return Di(e,t)}var Is=function(){$S(a,ys);var o=KS(a);function a(e,t,n,r,i){return qS(this,a),(i=o.call(this,i)).range=e.clone(),i.key=t,i.oldValue=void 0===n?null:n,i.newValue=void 0===r?null:r,i}return WS(a,[{key:"clone",value:function(){return new a(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new a(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var e=zS(YS(a.prototype),"toJSON",this).call(this);return e.range=this.range.toJSON(),e}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new C.a("attribute-operation-range-not-flat",this);var t=HS(this.range.getItems({shallow:!0}));try{for(t.s();!(e=t.n()).done;){var e=e.value;if(null!==this.oldValue&&!Rs(e.getAttribute(this.key),this.oldValue))throw new C.a("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new C.a("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}catch(e){t.e(e)}finally{t.f()}}},{key:"_execute",value:function(){Rs(this.oldValue,this.newValue)||function(e,t,n){As(e.start),As(e.end);var r=HS(e.getItems({shallow:!0}));try{for(r.s();!(i=r.n()).done;){var i=i.value,i=i.is("$textProxy")?i.textNode:i;null!==n?i._setAttribute(t,n):i._removeAttribute(t),Ts(i.parent,i.index)}}catch(e){r.e(e)}finally{r.f()}Ts(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}},{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}}],[{key:"fromJSON",value:function(e,t){return new a(ia.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"AttributeOperation"}}]),a}(),Os=function(){$S(i,ys);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this,null)).sourcePosition=e.clone(),n.howMany=t,n}return WS(i,[{key:"toJSON",value:function(){var e=zS(YS(i.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new C.a("detach-operation-on-document-node",this)}},{key:"_execute",value:function(){xs(ia._createFromPositionAndShift(this.sourcePosition,this.howMany))}},{key:"type",get:function(){return"detach"}}],[{key:"className",get:function(){return"DetachOperation"}}]),i}(),Ms=function(){$S(o,ys);var i=KS(o);function o(e,t,n,r){return qS(this,o),(r=i.call(this,r)).sourcePosition=e.clone(),r.sourcePosition.stickiness="toNext",r.howMany=t,r.targetPosition=n.clone(),r.targetPosition.stickiness="toNone",r}return WS(o,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new C.a("move-operation-nodes-do-not-exist",this);if(e===t&&n<r&&r<n+this.howMany)throw new C.a("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==on(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){r=this.sourcePosition.path.length-1;if(this.targetPosition.path[r]>=n&&this.targetPosition.path[r]<n+this.howMany)throw new C.a("move-operation-node-into-itself",this)}}},{key:"_execute",value:function(){Ss(ia._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var e=zS(YS(o.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}},{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}}],[{key:"fromJSON",value:function(e,t){var n=Xo.fromJSON(e.sourcePosition,t),t=Xo.fromJSON(e.targetPosition,t);return new this(n,e.howMany,t,e.baseVersion)}},{key:"className",get:function(){return"MoveOperation"}}]),o}(),Ns=function(){$S(o,ys);var r=KS(o);function o(e,t,n){return qS(this,o),(n=r.call(this,n)).position=e.clone(),n.position.stickiness="toNone",n.nodes=new Wo(Es(t)),n.shouldReceiveAttributes=!1,n}return WS(o,[{key:"clone",value:function(){var e=new Wo(US(this.nodes).map(function(e){return e._clone(!0)})),e=new o(this.position,e,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}},{key:"getReversed",value:function(){var e=new Xo(this.position.root.document.graveyard,[0]);return new Ms(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new C.a("insert-operation-position-invalid",this)}},{key:"_execute",value:function(){var e=this.nodes;this.nodes=new Wo(US(e).map(function(e){return e._clone(!0)})),Cs(this.position,e)}},{key:"toJSON",value:function(){var e=zS(YS(o.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}},{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}}],[{key:"fromJSON",value:function(e,t){var n=[],r=HS(e.nodes);try{for(r.s();!(i=r.n()).done;){var i=i.value;n.push((i.name?$o:Uo).fromJSON(i))}}catch(e){r.e(e)}finally{r.f()}t=new o(Xo.fromJSON(e.position,t),n,e.baseVersion);return t.shouldReceiveAttributes=e.shouldReceiveAttributes,t}},{key:"className",get:function(){return"InsertOperation"}}]),o}(),Ls=function(){$S(s,ys);var a=KS(s);function s(e,t,n,r,i,o){return qS(this,s),(o=a.call(this,o)).name=e,o.oldRange=t?t.clone():null,o.newRange=n?n.clone():null,o.affectsData=i,o._markers=r,o}return WS(s,[{key:"clone",value:function(){return new s(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new s(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){this._markers[this.newRange?"_set":"_remove"](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var e=zS(YS(s.prototype),"toJSON",this).call(this);return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}},{key:"type",get:function(){return"marker"}}],[{key:"fromJSON",value:function(e,t){return new s(e.name,e.oldRange?ia.fromJSON(e.oldRange,t):null,e.newRange?ia.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}},{key:"className",get:function(){return"MarkerOperation"}}]),s}(),Ds=function(){$S(o,ys);var i=KS(o);function o(e,t,n,r){return qS(this,o),(r=i.call(this,r)).position=e,r.position.stickiness="toNext",r.oldName=t,r.newName=n,r}return WS(o,[{key:"clone",value:function(){return new o(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new o(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.nodeAfter;if(!(e instanceof $o))throw new C.a("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new C.a("rename-operation-wrong-name",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var e=zS(YS(o.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e}},{key:"type",get:function(){return"rename"}}],[{key:"fromJSON",value:function(e,t){return new o(Xo.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}},{key:"className",get:function(){return"RenameOperation"}}]),o}(),js=function(){$S(a,ys);var o=KS(a);function a(e,t,n,r,i){return qS(this,a),(i=o.call(this,i)).root=e,i.key=t,i.oldValue=n,i.newValue=r,i}return WS(a,[{key:"clone",value:function(){return new a(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new a(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new C.a("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new C.a("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new C.a("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var e=zS(YS(a.prototype),"toJSON",this).call(this);return e.root=this.root.toJSON(),e}},{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}}],[{key:"fromJSON",value:function(e,t){if(!t.getRoot(e.root))throw new C.a("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new a(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"RootAttributeOperation"}}]),a}(),Fs=function(){$S(a,ys);var o=KS(a);function a(e,t,n,r,i){return qS(this,a),(i=o.call(this,i)).sourcePosition=e.clone(),i.sourcePosition.stickiness="toPrevious",i.howMany=t,i.targetPosition=n.clone(),i.targetPosition.stickiness="toNext",i.graveyardPosition=r.clone(),i}return WS(a,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),t=new Xo(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Vs(e,this.howMany,t,this.graveyardPosition,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new C.a("merge-operation-source-position-invalid",this);if(!t.parent)throw new C.a("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new C.a("merge-operation-how-many-invalid",this)}},{key:"_execute",value:function(){var e=this.sourcePosition.parent;Ss(ia._createIn(e),this.targetPosition),Ss(ia._createOn(e),this.graveyardPosition)}},{key:"toJSON",value:function(){var e=zS(YS(a.prototype),"toJSON",this).call(this);return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}},{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new Xo(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ia(this.sourcePosition,e)}}],[{key:"fromJSON",value:function(e,t){var n=Xo.fromJSON(e.sourcePosition,t),r=Xo.fromJSON(e.targetPosition,t),t=Xo.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,r,t,e.baseVersion)}},{key:"className",get:function(){return"MergeOperation"}}]),a}(),Vs=function(){$S(a,ys);var o=KS(a);function a(e,t,n,r,i){return qS(this,a),(i=o.call(this,i)).splitPosition=e.clone(),i.splitPosition.stickiness="toNext",i.howMany=t,i.insertionPosition=n,i.graveyardPosition=r?r.clone():null,i.graveyardPosition&&(i.graveyardPosition.stickiness="toNext"),i}return WS(a,[{key:"clone",value:function(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=new Xo(this.splitPosition.root.document.graveyard,[0]);return new Fs(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.splitPosition.parent;if(!e||e.maxOffset<this.splitPosition.offset)throw new C.a("split-operation-position-invalid",this);if(!e.parent)throw new C.a("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new C.a("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new C.a("split-operation-graveyard-position-invalid",this)}},{key:"_execute",value:function(){var e,t=this.splitPosition.parent;this.graveyardPosition?Ss(ia._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition):(e=t._clone(),Cs(this.insertionPosition,e)),Ss(new ia(Xo._createAt(t,this.splitPosition.offset),Xo._createAt(t,t.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var e=zS(YS(a.prototype),"toJSON",this).call(this);return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}},{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var e=this.insertionPosition.path.slice();return e.push(0),new Xo(this.insertionPosition.root,e)}},{key:"movedRange",get:function(){var e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ia(this.splitPosition,e)}}],[{key:"getInsertionPosition",value:function(e){var t=e.path.slice(0,-1);return t[t.length-1]++,new Xo(e.root,t,"toPrevious")}},{key:"fromJSON",value:function(e,t){var n=Xo.fromJSON(e.splitPosition,t),r=Xo.fromJSON(e.insertionPosition,t),t=e.graveyardPosition?Xo.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,r,t,e.baseVersion)}},{key:"className",get:function(){return"SplitOperation"}}]),a}(),zs=function(){$S(i,$o);var r=KS(i);function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"main";return qS(this,i),(t=r.call(this,t))._document=e,t.rootName=n,t}return WS(i,[{key:"is",value:function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e}},{key:"toJSON",value:function(){return this.rootName}},{key:"document",get:function(){return this._document}}]),i}(),Bs=(WS(Hs,[{key:"createText",value:function(e,t){return new Uo(e,t)}},{key:"createElement",value:function(e,t){return new $o(e,t)}},{key:"createDocumentFragment",value:function(){return new ks}},{key:"cloneElement",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return e._clone(t)}},{key:"insert",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(e instanceof Uo&&""==e.data)){var r=Xo._createAt(t,n);if(e.parent){if($s(e.root,r.root))return void this.move(ia._createOn(e),r);if(e.root.document)throw new C.a("model-writer-insert-forbidden-move",this);this.remove(e)}n=new Ns(r,e,r.root.document?r.root.document.version:null);if(e instanceof Uo&&(n.shouldReceiveAttributes=!0),this.batch.addOperation(n),this.model.applyOperation(n),e instanceof ks){var i=HS(e.markers);try{for(i.s();!(s=i.n()).done;){var o=BS(s.value,2),a=o[0],s=o[1],o=Xo._createAt(s.root,0),o={range:new ia(s.start._getCombined(o,r),s.end._getCombined(o,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(a)?this.updateMarker(a,o):this.addMarker(a,o)}}catch(e){i.e(e)}finally{i.f()}}}}},{key:"insertText",value:function(e,t,n,r){t instanceof ks||t instanceof $o||t instanceof Xo?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,r)}},{key:"insertElement",value:function(e,t,n,r){t instanceof ks||t instanceof $o||t instanceof Xo?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,r)}},{key:"append",value:function(e,t){this.insert(e,t,"end")}},{key:"appendText",value:function(e,t,n){t instanceof ks||t instanceof $o?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}},{key:"appendElement",value:function(e,t,n){t instanceof ks||t instanceof $o?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}},{key:"setAttribute",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof ia){var r,i=HS(n.getMinimalFlatRanges());try{for(i.s();!(r=i.n()).done;)Us(this,e,t,r.value)}catch(e){i.e(e)}finally{i.f()}}else qs(this,e,t,n)}},{key:"setAttributes",value:function(e,t){var n=HS(dn(e));try{for(n.s();!(i=n.n()).done;){var r=BS(i.value,2),i=r[0],r=r[1];this.setAttribute(i,r,t)}}catch(e){n.e(e)}finally{n.f()}}},{key:"removeAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),t instanceof ia){var n,r=HS(t.getMinimalFlatRanges());try{for(r.s();!(n=r.n()).done;)Us(this,e,null,n.value)}catch(e){r.e(e)}finally{r.f()}}else qs(this,e,null,t)}},{key:"clearAttributes",value:function(e){var r=this;this._assertWriterUsedCorrectly();function t(e){var t=HS(e.getAttributeKeys());try{for(t.s();!(n=t.n()).done;){var n=n.value;r.removeAttribute(n,e)}}catch(e){t.e(e)}finally{t.f()}}if(e instanceof ia){var n,i=HS(e.getItems());try{for(i.s();!(n=i.n()).done;)t(n.value)}catch(e){i.e(e)}finally{i.f()}}else t(e)}},{key:"move",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof ia))throw new C.a("writer-move-invalid-range",this);if(!e.isFlat)throw new C.a("writer-move-range-not-flat",this);n=Xo._createAt(t,n);if(!n.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!$s(e.root,n.root))throw new C.a("writer-move-different-document",this);e=new Ms(e.start,e.end.offset-e.start.offset,n,e.root.document?e.root.document.version:null);this.batch.addOperation(e),this.model.applyOperation(e)}}},{key:"remove",value:function(e){this._assertWriterUsedCorrectly();var t,n,r,i,o,a=HS((e instanceof ia?e:ia._createOn(e)).getMinimalFlatRanges().reverse());try{for(a.s();!(o=a.n()).done;){var s=o.value;this._addOperationForAffectedMarkers("move",s),t=s.start,n=s.end.offset-s.start.offset,r=this.batch,i=this.model,s=o=void 0,n=t.root.document?(o=i.document,s=new Xo(o.graveyard,[0]),new Ms(t,n,s,o.version)):new Os(t,n),r.addOperation(n),void i.applyOperation(n)}}catch(e){a.e(e)}finally{a.f()}}},{key:"merge",value:function(e){this._assertWriterUsedCorrectly();var t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof $o))throw new C.a("writer-merge-no-element-before",this);if(!(n instanceof $o))throw new C.a("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}},{key:"createPositionFromPath",value:function(e,t,n){return this.model.createPositionFromPath(e,t,n)}},{key:"createPositionAt",value:function(e,t){return this.model.createPositionAt(e,t)}},{key:"createPositionAfter",value:function(e){return this.model.createPositionAfter(e)}},{key:"createPositionBefore",value:function(e){return this.model.createPositionBefore(e)}},{key:"createRange",value:function(e,t){return this.model.createRange(e,t)}},{key:"createRangeIn",value:function(e){return this.model.createRangeIn(e)}},{key:"createRangeOn",value:function(e){return this.model.createRangeOn(e)}},{key:"createSelection",value:function(e,t,n){return this.model.createSelection(e,t,n)}},{key:"_mergeDetached",value:function(e){var t=e.nodeBefore,e=e.nodeAfter;this.move(ia._createIn(e),Xo._createAt(t,"end")),this.remove(e)}},{key:"_merge",value:function(e){var t=Xo._createAt(e.nodeBefore,"end"),n=Xo._createAt(e.nodeAfter,0),r=new Xo(e.root.document.graveyard,[0]),e=new Fs(n,e.nodeAfter.maxOffset,t,r,e.root.document.version);this.batch.addOperation(e),this.model.applyOperation(e)}},{key:"rename",value:function(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof $o))throw new C.a("writer-rename-not-element-instance",this);var n=e.root.document?e.root.document.version:null,n=new Ds(Xo._createBefore(e),e.name,t,n);this.batch.addOperation(n),this.model.applyOperation(n)}},{key:"split",value:function(e,t){this._assertWriterUsedCorrectly();var n,r,i=e.parent;if(!i.parent)throw new C.a("writer-split-element-no-parent",this);if(t=t||i.parent,!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new C.a("writer-split-invalid-limit-element",this);do{var o=i.root.document?i.root.document.version:null,a=i.maxOffset-e.offset,s=Vs.getInsertionPosition(e),o=new Vs(e,a,s,null,o)}while(this.batch.addOperation(o),this.model.applyOperation(o),n||r||(n=i,r=e.parent.nextSibling),(i=(e=this.createPositionAfter(e.parent)).parent)!==t);return{position:e,range:new ia(Xo._createAt(n,"end"),Xo._createAt(r,0))}}},{key:"wrap",value:function(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new C.a("writer-wrap-range-not-flat",this);t=t instanceof $o?t:new $o(t);if(0<t.childCount)throw new C.a("writer-wrap-element-not-empty",this);if(null!==t.parent)throw new C.a("writer-wrap-element-attached",this);this.insert(t,e.start);e=new ia(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(e,Xo._createAt(t,0))}},{key:"unwrap",value:function(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new C.a("writer-unwrap-element-no-parent",this);this.move(ia._createIn(e),this.createPositionAfter(e)),this.remove(e)}},{key:"addMarker",value:function(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new C.a("writer-addmarker-no-usingoperation",this);var n=t.usingOperation,r=t.range,t=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new C.a("writer-addmarker-marker-exists",this);if(!r)throw new C.a("writer-addmarker-no-range",this);return n?(Ws(this,e,null,r,t),this.model.markers.get(e)):this.model.markers._set(e,r,n,t)}},{key:"updateMarker",value:function(e,t){this._assertWriterUsedCorrectly();var n="string"==typeof e?e:e.name,r=this.model.markers.get(n);if(!r)throw new C.a("writer-updatemarker-marker-not-exists",this);if(t){var i="boolean"==typeof t.usingOperation,o="boolean"==typeof t.affectsData,a=(o?t:r).affectsData;if(!i&&!t.range&&!o)throw new C.a("writer-updatemarker-wrong-options",this);e=r.getRange(),o=t.range||e;i&&t.usingOperation!==r.managedUsingOperations?t.usingOperation?Ws(this,n,null,o,a):(Ws(this,n,e,null,a),this.model.markers._set(n,o,void 0,a)):r.managedUsingOperations?Ws(this,n,e,o,a):this.model.markers._set(n,o,void 0,a)}else this.model.markers._refresh(r)}},{key:"removeMarker",value:function(e){this._assertWriterUsedCorrectly();var t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new C.a("writer-removemarker-no-marker",this);e=this.model.markers.get(t);e.managedUsingOperations?Ws(this,t,e.getRange(),null,e.affectsData):this.model.markers._remove(t)}},{key:"setSelection",value:function(e,t,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}},{key:"setSelectionAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else{var n=HS(dn(e));try{for(n.s();!(i=n.n()).done;){var r=BS(i.value,2),i=r[0],r=r[1];this._setSelectionAttribute(i,r)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"removeSelectionAttribute",value:function(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else{var t=HS(e);try{for(t.s();!(n=t.n()).done;){var n=n.value;this._removeSelectionAttribute(n)}}catch(e){t.e(e)}finally{t.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(e){this.model.document.selection._restoreGravity(e)}},{key:"_setSelectionAttribute",value:function(e,t){var n,r=this.model.document.selection;r.isCollapsed&&r.anchor.parent.isEmpty&&(n=ba._getStoreAttributeKey(e),this.setAttribute(n,t,r.anchor.parent)),r._setAttribute(e,t)}},{key:"_removeSelectionAttribute",value:function(e){var t,n=this.model.document.selection;n.isCollapsed&&n.anchor.parent.isEmpty&&(t=ba._getStoreAttributeKey(e),this.removeAttribute(t,n.anchor.parent)),n._removeAttribute(e)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new C.a("writer-incorrect-use",this)}},{key:"_addOperationForAffectedMarkers",value:function(e,t){var n=HS(this.model.markers);try{for(n.s();!(o=n.n()).done;){var r,i,o,a,s=o.value;s.managedUsingOperations&&(r=s.getRange(),("move"===e?t.containsPosition(r.start)||t.start.isEqual(r.start)||t.containsPosition(r.end)||t.end.isEqual(r.end):(a=t.nodeAfter,i=r.end.parent==a&&0==r.end.offset,o=r.end.nodeAfter==a,a=r.start.nodeAfter==a,r.start.parent==t.nodeBefore&&r.start.isAtEnd||i||o||a))&&this.updateMarker(s.name,{range:r}))}}catch(e){n.e(e)}finally{n.f()}}}]),Hs);function Hs(e,t){qS(this,Hs),this.model=e,this.batch=t}function Us(t,n,r,e){var i,o,a=t.model,s=a.document,l=e.start,c=HS(e.getWalker({shallow:!0}));try{for(c.s();!(h=c.n()).done;){var u=h.value,h=u.item.getAttribute(n);i&&o!=h&&(o!=r&&d(),l=i),i=u.nextPosition,o=h}}catch(e){c.e(e)}finally{c.f()}function d(){var e=new ia(l,i),e=new Is(e,n,o,r,e.root.document?s.version:null);t.batch.addOperation(e),a.applyOperation(e)}i instanceof Xo&&i!=l&&o!=r&&d()}function qs(e,t,n,r){var i=e.model,o=i.document,a=r.getAttribute(t);a!=n&&(o=r.root===r?new js(r,t,a,n,r.document?o.version:null):(r=new ia(Xo._createBefore(r),e.createPositionAfter(r)),new Is(r,t,a,n,r.root.document?o.version:null)),e.batch.addOperation(o),i.applyOperation(o))}function Ws(e,t,n,r,i){var o=e.model,i=new Ls(t,n,r,o.markers,i,o.document.version);e.batch.addOperation(i),o.applyOperation(i)}function $s(e,t){return e===t||e instanceof zs&&t instanceof zs}var Ks=(WS(Gs,[{key:"refreshItem",value:function(e){if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);var e=ia._createOn(e),t=HS(this._markerCollection.getMarkersIntersectingRange(e));try{for(t.s();!(r=t.n()).done;){var n=r.value,r=n.getRange();this.bufferMarkerChange(n.name,r,r,n.affectsData)}}catch(e){t.e(e)}finally{t.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var t=HS(e.range.getItems({shallow:!0}));try{for(t.s();!(n=t.n()).done;){var n=n.value;this._isInInsertedElement(n.parent)||this._markAttribute(n)}}catch(e){t.e(e)}finally{t.f()}break;case"remove":case"move":case"reinsert":if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;var r=this._isInInsertedElement(e.sourcePosition.parent),i=this._isInInsertedElement(e.targetPosition.parent);r||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),i||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break;case"rename":if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);var o=ia._createFromPositionAndShift(e.position,1),a=HS(this._markerCollection.getMarkersIntersectingRange(o));try{for(a.s();!(l=a.n()).done;){var s=l.value,l=s.getRange();this.bufferMarkerChange(s.name,l,l,s.affectsData)}}catch(e){a.e(e)}finally{a.f()}break;case"split":var c=e.splitPosition.parent;this._isInInsertedElement(c)||this._markRemove(c,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break;case"merge":o=e.sourcePosition.parent;this._isInInsertedElement(o.parent)||this._markRemove(o.parent,o.startOffset,1),this._markInsert(e.graveyardPosition.parent,e.graveyardPosition.offset,1);c=e.targetPosition.parent;this._isInInsertedElement(c)||this._markInsert(c,e.targetPosition.offset,o.maxOffset)}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(e,t,n,r){var i=this._changedMarkers.get(e);i?(i.newRange=n,i.affectsData=r,null==i.oldRange&&null==i.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:n,affectsData:r})}},{key:"getMarkersToRemove",value:function(){var e=[],t=HS(this._changedMarkers);try{for(t.s();!(r=t.n()).done;){var n=BS(r.value,2),r=n[0],n=n[1];null!=n.oldRange&&e.push({name:r,range:n.oldRange})}}catch(e){t.e(e)}finally{t.f()}return e}},{key:"getMarkersToAdd",value:function(){var e=[],t=HS(this._changedMarkers);try{for(t.s();!(r=t.n()).done;){var n=BS(r.value,2),r=n[0],n=n[1];null!=n.newRange&&e.push({name:r,range:n.newRange})}}catch(e){t.e(e)}finally{t.f()}return e}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map(function(e){return{name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}})}},{key:"hasDataChanges",value:function(){var e,t=HS(this._changedMarkers);try{for(t.s();!(e=t.n()).done;)if(BS(e.value,2)[1].affectsData)return!0}catch(e){t.e(e)}finally{t.f()}return 0<this._changesInElement.size}},{key:"getChanges",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return(e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges).slice();var t=[],n=HS(this._changesInElement.keys());try{for(n.s();!(i=n.n()).done;){var r=i.value,i=this._changesInElement.get(r).sort(function(e,t){return e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1}),o=this._elementSnapshots.get(r),a=Zs(r.getChildren()),i=function(e,t){var n,r=[],i=0,o=0,a=HS(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.offset>i){for(var l=0;l<s.offset-i;l++)r.push("e");o+=s.offset-i}if("insert"==s.type){for(var c=0;c<s.howMany;c++)r.push("i");i=s.offset+s.howMany}else if("remove"==s.type){for(var u=0;u<s.howMany;u++)r.push("r");i=s.offset,o+=s.howMany}else r.push.apply(r,US("a".repeat(s.howMany).split(""))),i=s.offset+s.howMany,o+=s.howMany}}catch(e){a.e(e)}finally{a.f()}if(o<e)for(var h=0;h<e-o-i;h++)r.push("e");return r}(o.length,i),s=0,l=0,c=HS(i);try{for(c.s();!(d=c.n()).done;){var u,h,d,f=d.value;"i"===f?(t.push(this._getInsertDiff(r,s,a[s].name)),s++):("r"===f?t.push(this._getRemoveDiff(r,s,o[l].name)):("a"===f&&(u=a[s].attributes,h=o[l].attributes,d=void 0,d="$text"==a[s].name?new ia(Xo._createAt(r,s),Xo._createAt(r,s+1)):(f=r.offsetToIndex(s),new ia(Xo._createAt(r,s),Xo._createAt(r.getChild(f),0))),t.push.apply(t,US(this._getAttributesDiff(d,h,u)))),s++),l++)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){n.e(e)}finally{n.f()}t.sort(function(e,t){return e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1});for(var p=1,g=0;p<t.length;p++){var v=t[g],m=t[p],y="remove"==v.type&&"remove"==m.type&&"$text"==v.name&&"$text"==m.name&&v.position.isEqual(m.position),k="insert"==v.type&&"insert"==m.type&&"$text"==v.name&&"$text"==m.name&&v.position.parent==m.position.parent&&v.position.offset+v.length==m.position.offset,m="attribute"==v.type&&"attribute"==m.type&&v.position.parent==m.position.parent&&v.range.isFlat&&m.range.isFlat&&v.position.offset+v.length==m.position.offset&&v.attributeKey==m.attributeKey&&v.attributeOldValue==m.attributeOldValue&&v.attributeNewValue==m.attributeNewValue;y||k||m?(v.length++,m&&(v.range.end=v.range.end.getShiftedBy(1)),t[p]=null):g=p}var b=HS(t=t.filter(function(e){return e}));try{for(b.s();!(_=b.n()).done;){var _=_.value;delete _.changeCount,"attribute"==_.type&&(delete _.position,delete _.length)}}catch(e){b.e(e)}finally{b.f()}return this._changeCount=0,this._cachedChangesWithGraveyard=t.slice(),this._cachedChanges=t.filter(Js),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(e,t,n){n={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,n)}},{key:"_markRemove",value:function(e,t,n){var r={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,n)}},{key:"_markAttribute",value:function(e){var t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}},{key:"_markChange",value:function(e,t){this._makeSnapshot(e);var n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(var r=0;r<n.length;r++)n[r].howMany<1&&(n.splice(r,1),r--)}},{key:"_getChangesForElement",value:function(e){var t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}},{key:"_makeSnapshot",value:function(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Zs(e.getChildren()))}},{key:"_handleChange",value:function(e,t){e.nodesToHandle=e.howMany;var n=HS(t);try{for(n.s();!(r=n.n()).done;){var r,i,o,a,s=r.value,l=e.offset+e.howMany,c=s.offset+s.howMany;"insert"==e.type&&("insert"==s.type&&(e.offset<=s.offset?s.offset+=e.howMany:e.offset<c&&(s.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==s.type&&e.offset<s.offset&&(s.offset+=e.howMany),"attribute"==s.type)&&(e.offset<=s.offset?s.offset+=e.howMany:e.offset<c&&(r=s.howMany,s.howMany=e.offset-s.offset,t.unshift({type:"attribute",offset:l,howMany:r-s.howMany,count:this._changeCount++}))),"remove"==e.type&&("insert"==s.type&&(l<=s.offset?s.offset-=e.howMany:l<=c?e.offset<s.offset?(i=l-s.offset,s.offset=e.offset,s.howMany-=i,e.nodesToHandle-=i):(s.howMany-=e.nodesToHandle,e.nodesToHandle=0):e.offset<=s.offset?(e.nodesToHandle-=s.howMany,s.howMany=0):e.offset<c&&(i=c-e.offset,s.howMany-=i,e.nodesToHandle-=i)),"remove"==s.type&&(l<=s.offset?s.offset-=e.howMany:e.offset<s.offset&&(e.nodesToHandle+=s.howMany,s.howMany=0)),"attribute"==s.type&&(l<=s.offset?s.offset-=e.howMany:e.offset<s.offset?(o=l-s.offset,s.offset=e.offset,s.howMany-=o):e.offset<c&&(l<=c?(o=s.howMany,s.howMany=e.offset-s.offset,t.unshift({type:"attribute",offset:e.offset,howMany:o-s.howMany-e.nodesToHandle,count:this._changeCount++})):s.howMany-=c-e.offset))),"attribute"==e.type&&("insert"==s.type&&(e.offset<s.offset&&l>s.offset?(c<l&&(a={type:"attribute",offset:c,howMany:l-c,count:this._changeCount++},this._handleChange(a,t),t.push(a)),e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle):e.offset>=s.offset&&e.offset<c&&(c<l?(e.nodesToHandle=l-c,e.offset=c):e.nodesToHandle=0)),"remove"==s.type&&e.offset<s.offset&&l>s.offset&&(a={type:"attribute",offset:s.offset,howMany:l-s.offset,count:this._changeCount++},this._handleChange(a,t),t.push(a),e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle),"attribute"==s.type&&(e.offset>=s.offset&&l<=c?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=s.offset&&c<=l&&(s.howMany=0)))}}catch(e){n.e(e)}finally{n.f()}e.howMany=e.nodesToHandle,delete e.nodesToHandle}},{key:"_getInsertDiff",value:function(e,t,n){return{type:"insert",position:Xo._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(e,t,n){return{type:"remove",position:Xo._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(e,t,n){var r=[];n=new Map(n);var i=HS(t);try{for(i.s();!(s=i.n()).done;){var o=BS(s.value,2),a=o[0],s=o[1],o=n.has(a)?n.get(a):null;o!==s&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:a,attributeOldValue:s,attributeNewValue:o,changeCount:this._changeCount++}),n.delete(a)}}catch(e){i.e(e)}finally{i.f()}var l=HS(n);try{for(l.s();!(u=l.n()).done;){var c=BS(u.value,2),u=c[0],c=c[1];r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:null,attributeNewValue:c,changeCount:this._changeCount++})}}catch(e){l.e(e)}finally{l.f()}return r}},{key:"_isInInsertedElement",value:function(e){var t=e.parent;if(!t)return!1;var n=this._changesInElement.get(t),r=e.startOffset;if(n){var i=HS(n);try{for(i.s();!(o=i.n()).done;){var o=o.value;if("insert"==o.type&&r>=o.offset&&r<o.offset+o.howMany)return!0}}catch(e){i.e(e)}finally{i.f()}}return this._isInInsertedElement(t)}},{key:"_removeAllNestedChanges",value:function(e,t,n){var r=HS(new ia(Xo._createAt(e,t),Xo._createAt(e,t+n)).getItems({shallow:!0}));try{for(r.s();!(i=r.n()).done;){var i=i.value;i.is("element")&&(this._elementSnapshots.delete(i),this._changesInElement.delete(i),this._removeAllNestedChanges(i,0,i.maxOffset))}}catch(e){r.e(e)}finally{r.f()}}},{key:"isEmpty",get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}}]),Gs);function Gs(e){qS(this,Gs),this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}function Zs(e){var t,n=[],r=HS(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.is("$text"))for(var o=0;o<i.data.length;o++)n.push({name:"$text",attributes:new Map(i.getAttributes())});else n.push({name:i.name,attributes:new Map(i.getAttributes())})}}catch(e){r.e(e)}finally{r.f()}return n}function Js(e){return!(e.position&&"$graveyard"==e.position.root.rootName||e.range&&"$graveyard"==e.range.root.rootName)}var Qs=(WS(Ys,[{key:"addOperation",value:function(e){this._operations.includes(e)||this._operations.push(e)}},{key:"getOperations",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Number.NEGATIVE_INFINITY,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,n=[],r=HS(this._operations);try{for(r.s();!(i=r.n()).done;){var i=i.value;i.baseVersion>=e&&i.baseVersion<t&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getOperation",value:function(e){var t=HS(this._operations);try{for(t.s();!(n=t.n()).done;){var n=n.value;if(n.baseVersion==e)return n}}catch(e){t.e(e)}finally{t.f()}}},{key:"setOperationAsUndone",value:function(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}},{key:"isUndoingOperation",value:function(e){return this._undoPairs.has(e)}},{key:"isUndoneOperation",value:function(e){return this._undoneOperations.has(e)}},{key:"getUndoneOperation",value:function(e){return this._undoPairs.get(e)}}]),Ys);function Ys(){qS(this,Ys),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}function Xs(e,t){return(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&((t=e.charAt(t))&&1==t.length&&/[\udc00-\udfff]/.test(t));var n}function el(e,t){return(t=e.charAt(t))&&1==t.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t)}var tl=(WS(nl,[{key:"createRoot",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"$root",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(t))throw new C.a("model-document-createroot-name-exists",this,{name:t});t=new zs(this,e,t);return this.roots.add(t),t}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"getRootNames",value:function(){return Array.from(this.roots,function(e){return e.rootName}).filter(function(e){return"$graveyard"!=e})}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"toJSON",value:function(){var e=an(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}},{key:"_handleChangeBlock",value:function(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var t=HS(this.roots);try{for(t.s();!(e=t.n()).done;){var e=e.value;if(e!==this.graveyard)return e}}catch(e){t.e(e)}finally{t.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),t=this.model,n=t.schema,e=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(e)||t.createRange(e)}},{key:"_validateSelectionRange",value:function(e){return rl(e.start)&&rl(e.end)}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n=HS(this._postFixers);try{for(n.s();!(r=n.n()).done;){var r=r.value;if(this.selection.refresh(),t=r(e))break}}catch(e){n.e(e)}finally{n.f()}}while(t)}},{key:"graveyard",get:function(){return this.getRoot("$graveyard")}}]),nl);function nl(e){var i=this;qS(this,nl),this.model=e,this.version=0,this.history=new Qs(this),this.selection=new ba(this),this.roots=new Wt({idProperty:"rootName"}),this.differ=new Ks(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(e,"applyOperation",function(e,t){t=t[0];if(t.isDocumentOperation&&t.baseVersion!==i.version)throw new C.a("model-document-applyoperation-wrong-version",i,{operation:t})},{priority:"highest"}),this.listenTo(e,"applyOperation",function(e,t){t=t[0];t.isDocumentOperation&&i.differ.bufferOperation(t)},{priority:"high"}),this.listenTo(e,"applyOperation",function(e,t){t=t[0];t.isDocumentOperation&&(i.version++,i.history.addOperation(t))},{priority:"low"}),this.listenTo(this.selection,"change",function(){i._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",function(e,n,t,r){i.differ.bufferMarkerChange(n.name,t,r,n.affectsData),null===t&&n.on("change",function(e,t){i.differ.bufferMarkerChange(n.name,t,n.getRange(),n.affectsData)})})}function rl(e){var t=e.textNode;if(t){var n=t.data,t=e.offset-t.startOffset;return!Xs(n,t)&&!el(n,t)}return!0}Ie(tl,c);var il=(WS(ol,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(e){return this._markers.has(e)}},{key:"get",value:function(e){return this._markers.get(e)||null}},{key:"_set",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=e instanceof al?e.name:e;if(i.includes(","))throw new C.a("markercollection-incorrect-marker-name",this);var o=this._markers.get(i);if(o){var a=o.getRange(),e=!1;return a.isEqual(t)||(o._attachLiveRange(ka.fromRange(t)),e=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,e=!0),"boolean"==typeof r&&r!=o.affectsData&&(o._affectsData=r,e=!0),e&&this.fire("update:"+i,o,a,t),o}o=ka.fromRange(t),r=new al(i,o,n,r);return this._markers.set(i,r),this.fire("update:"+i,r,null,t),r}},{key:"_remove",value:function(e){var t=e instanceof al?e.name:e,e=this._markers.get(t);return!!e&&(this._markers.delete(t),this.fire("update:"+t,e,e.getRange(),null),this._destroyMarker(e),!0)}},{key:"_refresh",value:function(e){var t=e instanceof al?e.name:e,n=this._markers.get(t);if(!n)throw new C.a("markercollection-refresh-marker-not-exists",this);e=n.getRange();this.fire("update:"+t,n,e,e,n.managedUsingOperations,n.affectsData)}},{key:"getMarkersAtPosition",value:regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=HS(this),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}if(r=r.value,e.t0=r.getRange().containsPosition(t),e.t0)return e.next=9,r;e.next=9;break;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[1,13,16,19]])})},{key:"getMarkersIntersectingRange",value:regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=HS(this),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}if(r=r.value,e.t0=null!==r.getRange().getIntersection(t),e.t0)return e.next=9,r;e.next=9;break;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[1,13,16,19]])})},{key:"destroy",value:function(){var t=HS(this._markers.values());try{for(t.s();!(e=t.n()).done;){var e=e.value;this._destroyMarker(e)}}catch(e){t.e(e)}finally{t.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=HS(this._markers.values()),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}if(r=r.value,e.t0=r.name.startsWith(t+":"),e.t0)return e.next=9,r;e.next=9;break;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[1,13,16,19]])})},{key:"_destroyMarker",value:function(e){e.stopListening(),e._detachLiveRange()}}]),ol);function ol(){qS(this,ol),this._markers=new Map}Ie(il,c);var al=(WS(sl,[{key:"getStart",value:function(){if(!this._liveRange)throw new C.a("marker-destroyed",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new C.a("marker-destroyed",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new C.a("marker-destroyed",this);return this._liveRange.toRange()}},{key:"is",value:function(e){return"marker"===e||"model:marker"===e}},{key:"_attachLiveRange",value:function(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}},{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new C.a("marker-destroyed",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new C.a("marker-destroyed",this);return this._affectsData}}]),sl);function sl(e,t,n,r){qS(this,sl),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=r}Ie(al,c);var ll=function(){$S(t,ys);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"clone",value:function(){return new t(this.baseVersion)}},{key:"getReversed",value:function(){return new t(this.baseVersion+1)}},{key:"_execute",value:function(){}},{key:"type",get:function(){return"noop"}}],[{key:"className",get:function(){return"NoOperation"}}]),t}(),cl={};cl[Is.className]=Is,cl[Ns.className]=Ns,cl[Ls.className]=Ls,cl[Ms.className]=Ms,cl[ll.className]=ll,cl[ys.className]=ys,cl[Ds.className]=Ds,cl[js.className]=js,cl[Vs.className]=Vs,cl[Fs.className]=Fs;var ul=function(){$S(i,Xo);var r=KS(i);function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"toNone";if(qS(this,i),!(n=r.call(this,e,t,n)).root.is("rootElement"))throw new C.a("model-liveposition-root-not-rootelement",e);return function(){var n=this;this.listenTo(this.root.document.model,"applyOperation",function(e,t){t=t[0];t.isDocumentOperation&&function(e){var t=this.getTransformedByOperation(e);this.isEqual(t)||(e=this.toPosition(),this.path=t.path,this.root=t.root,this.fire("change",e))}.call(n,t)},{priority:"low"})}.call(ZS(n)),GS(n)}return WS(i,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e}},{key:"toPosition",value:function(){return new Xo(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}]),i}();Ie(ul,c);var hl=(WS(dl,[{key:"handleNodes",value:function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var r=n[t];this._handleNode(r)}this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"_updateLastNodeFromAutoParagraph",value:function(e){var t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new C.a("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?ia._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new ia(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(e){this.schema.isObject(e)?this._handleObject(e):this._checkAndAutoParagraphToAllowedPosition(e)||this._checkAndSplitToAllowedPosition(e)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}},{key:"_insertPartialFragment",value:function(){var e;this._documentFragment.isEmpty||(e=ul.fromPosition(this.position,"toNext"),this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach())}},{key:"_handleObject",value:function(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}},{key:"_handleDisallowedNode",value:function(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}},{key:"_appendToFragment",value:function(e){if(!this.schema.checkChild(this.position,e))throw new C.a("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.nodeToSelect=this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?e:null,this._filterAttributesOf.push(e)}},{key:"_setAffectedBoundaries",value:function(e){this._affectedStart||(this._affectedStart=ul.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=ul.fromPosition(e,"toNext"))}},{key:"_mergeOnLeft",value:function(){var e,t=this._firstNode;t instanceof $o&&this._canMergeLeft(t)&&((e=ul._createBefore(t)).stickiness="toNext",t=ul.fromPosition(this.position,"toNext"),this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=ul._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=ul._createAt(e.nodeBefore,"end","toNext")),this.position=t.toPosition(),t.detach(),this._filterAttributesOf.push(this.position.parent),e.detach())}},{key:"_mergeOnRight",value:function(){var e=this._lastNode;if(e instanceof $o&&this._canMergeRight(e)){var t=ul._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new C.a("insertcontent-invalid-insertion-position",this);this.position=Xo._createAt(t.nodeBefore,"end");e=ul.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=ul._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=ul._createAt(t.nodeBefore,0,"toPrevious")),this.position=e.toPosition(),e.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}}},{key:"_canMergeLeft",value:function(e){var t=e.previousSibling;return t instanceof $o&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}},{key:"_canMergeRight",value:function(e){var t=e.nextSibling;return t instanceof $o&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}},{key:"_tryAutoparagraphing",value:function(e){var t=this.writer.createElement("paragraph");this._getAllowedIn(t,this.position.parent)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}},{key:"_checkAndAutoParagraphToAllowedPosition",value:function(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var t,n=this._getAllowedIn(e,this.position.parent);if(!n)return!1;for(n!=this.position.parent&&this._insertPartialFragment();n!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;this.position.isAtStart?(t=this.position.parent,this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===n&&this.writer.remove(t)):this.position.isAtEnd?this.position=this.writer.createPositionAfter(this.position.parent):(t=this.writer.createPositionAfter(this.position.parent),this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter))}return!0}},{key:"_getAllowedIn",value:function(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}]),dl);function dl(e,t,n){qS(this,dl),this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}function fl(e,r,i){var t=r.parent,n=i.parent;return t!=n&&!e.isLimit(t)&&!e.isLimit(n)&&function(e){var t=HS(new ia(r,i).getWalker());try{for(t.s();!(n=t.n()).done;){var n=n.value;if(e.isLimit(n.item))return}}catch(e){t.e(e)}finally{t.f()}return 1}(e)}function pl(e,t,n){var r=e.createElement("paragraph");e.insert(r,t),gl(e,n,e.createPositionAt(r,0))}function gl(e,t,n){t instanceof ba?e.setSelection(n):t.setTo(n)}function vl(e,t){var n=e.isForward,r=e.walker,i=e.unit,o=e.schema,a=t.type,s=t.item,t=t.nextPosition;return"text"==a?"word"===e.unit?function(e,t){var n,r,i,o=e.position.textNode;if(o)for(var a=e.position.offset-o.startOffset;n=o.data,r=a,i=t,!' ,.?!:;"-()'.includes(n.charAt(r+(i?0:-1)))&&(s=o,a!==(t?s.endOffset:0));){e.next();var s=t?e.position.nodeAfter:e.position.nodeBefore;s&&s.is("$text")&&(s=s.data.charAt(t?0:s.data.length-1),' ,.?!:;"-()'.includes(s)||(e.next(),o=e.position.textNode)),a=e.position.offset-o.startOffset}return e.position}(r,n):function(e,t){var n=e.position.textNode;if(n)for(var r=n.data,i=e.position.offset-n.startOffset;Xs(r,i)||"character"==t&&el(r,i);)e.next(),i=e.position.offset-n.startOffset;return e.position}(r,i):a==(n?"elementStart":"elementEnd")?o.isSelectable(s)?Xo._createAt(s,n?"after":"before"):o.checkChild(t,"$text")?t:void 0:o.isLimit(s)?void r.skip(function(){return!0}):o.checkChild(t,"$text")?t:void 0}function ml(t,r){var n=[];Array.from(t.getItems({direction:"backward"})).map(function(e){return r.createRangeOn(e)}).filter(function(e){return(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))}).forEach(function(e){n.push(e.start.parent),r.remove(e)}),n.forEach(function(e){for(var t=e;t.parent&&t.isEmpty;){var n=r.createRangeOn(t),t=t.parent;r.remove(n)}})}function yl(e,t){for(var n=e,r=n;t.isLimit(r)&&r.parent;)r=(n=r).parent;return n}function kl(e,t){return e&&t.isSelectable(e)}var bl=(WS(_l,[{key:"change",value:function(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new ms,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){C.a.rethrowUnexpectedError(e,this)}}},{key:"enqueueChange",value:function(e,t){try{"string"==typeof e?e=new ms(e):"function"==typeof e&&(t=e,e=new ms),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){C.a.rethrowUnexpectedError(e,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,t,n){return o=e,a=t,s=n,(i=this).change(function(e){(r=a?a instanceof pa||a instanceof ba?a:e.createSelection(a,s):i.document.selection).isCollapsed||i.deleteContent(r,{doNotAutoparagraph:!0});var t=new hl(i,e,r.anchor),n=o.is("documentFragment")?o.getChildren():[o];t.handleNodes(n);n=t.getSelectionRange();n&&(r instanceof ba?e.setSelection(n):r.setTo(n));var r=t.getAffectedRange()||i.createRange(r.anchor);return t.destroy(),r});var i,o,a,s}},{key:"deleteContent",value:function(e,t){!function(e,u,t){var h,d,f=2<arguments.length&&void 0!==t?t:{};u.isCollapsed||"$graveyard"!=(h=u.getFirstRange()).root.rootName&&(d=e.schema,e.change(function(e){var t,i,n,r,o,a,s,l,c;f.doNotResetEntireContent||!function(e,t){var n=e.getLimitElement(t);if(t.containsEntireContent(n)){t=t.getFirstRange();return t.start.parent!=t.end.parent&&e.checkChild(n,"paragraph")}}(d,u)?(a=(s=BS((s=(o=h).root.document.model,l=o.start,c=o.end,!s.hasContent(o,{ignoreMarkers:!0})||(a=function(){var e=c.parent,t=e.root.document.model.schema,n=HS(e.getAncestors({parentFirst:!0,includeSelf:!0}));try{for(n.s();!(r=n.n()).done;){var r=r.value;if(t.isLimit(r))return null;if(t.isBlock(r))return r}}catch(e){n.e(e)}finally{n.f()}}())&&c.isTouching(s.createPositionAt(a,0))&&(a=s.createSelection(o),s.modifySelection(a,{direction:"backward"}),o=a.getLastPosition(),a=s.createRange(o,c),s.hasContent(a,{ignoreMarkers:!0})||(c=o)),[ul.fromPosition(l,"toPrevious"),ul.fromPosition(c,"toNext")]),2))[0],o=s[1],a.isTouching(o)||e.remove(e.createRange(a,o)),f.leaveUnmerged||(i=a,n=o,l=(t=e).model,fl(t.model.schema,i,n)&&(r=(s=BS(function(e){for(var t=i.getAncestors(),n=e.getAncestors(),r=0;t[r]&&t[r]==n[r];)r++;return[t[r],n[r]]}(n),2))[0],s=s[1],r&&s&&(!l.hasContent(r,{ignoreMarkers:!0})&&l.hasContent(s,{ignoreMarkers:!0})?function e(t,n,r,i){var o,a,s=n.parent,l=r.parent;if(s!=i&&l!=i){for(n=t.createPositionAfter(s),(r=t.createPositionBefore(l)).isEqual(n)||t.insert(s,r);n.parent.isEmpty;){var c=n.parent;n=t.createPositionBefore(c),t.remove(c)}r=t.createPositionBefore(l),o=t,s=(a=r).nodeBefore,l=a.nodeAfter,s.name!=l.name&&o.rename(s,l.name),o.clearAttributes(s),o.setAttributes(Object.fromEntries(l.getAttributes()),s),o.merge(a),fl(t.model.schema,n,r)&&e(t,n,r,i)}}:function e(t,n,r,i){var o=n.parent,a=r.parent;if(o!=i&&a!=i){for(n=t.createPositionAfter(o),(r=t.createPositionBefore(a)).isEqual(n)||t.insert(a,n),t.merge(n);r.parent.isEmpty;){var s=r.parent;r=t.createPositionBefore(s),t.remove(s)}fl(t.model.schema,n,r)&&e(t,n,r,i)}})(t,i,n,r.parent)),d.removeDisallowedAttributes(a.parent.getChildren(),e)),gl(e,u,a),f.doNotAutoparagraph||(t=a,r=(n=d).checkChild(t,"$text"),t=n.checkChild(t,"paragraph"),r||!t)||pl(e,a,u),a.detach(),o.detach()):(a=u,e=(o=e).model.schema.getLimitElement(a),o.remove(o.createRangeIn(e)),pl(o,o.createPositionAt(e,0),a))}))}(this,e,t)}},{key:"modifySelection",value:function(e,t){!function(e,n,t){for(var r,i,o=2<arguments.length&&void 0!==t?t:{},a=e.schema,s="backward"!=o.direction,l=o.unit||"character",c=new Ko({boundaries:(i=n.focus,t=s,o=Xo._createAt(i.root,t?"end":0),t?new ia(i,o):new ia(o,i)),singleCharacters:!0,direction:s?"forward":"backward"}),u={walker:c,schema:a,isForward:s,unit:l};r=c.next();){var h=function(){if(r.done)return{v:void 0};var t=vl(u,r.value);return t?{v:void(n instanceof ba?e.change(function(e){e.setSelectionFocus(t)}):n.setFocus(t))}:void 0}();if("object"==typeof h)return h.v}}(this,e,t)}},{key:"getSelectedContent",value:function(e){return s=e,this.change(function(e){var t=e.createDocumentFragment(),n=s.getFirstRange();if(!n||n.isCollapsed)return t;var r=n.start.root,i=n.start.getCommonPath(n.end),r=r.getNodeByPath(i),i=(r=n.start.parent==n.end.parent?n:e.createRange(e.createPositionAt(r,n.start.path[i.length]),e.createPositionAt(r,n.end.path[i.length]+1))).end.offset-r.start.offset,o=HS(r.getItems({shallow:!0}));try{for(o.s();!(a=o.n()).done;){var a=a.value;a.is("$textProxy")?e.appendText(a.data,a.getAttributes(),t):e.append(e.cloneElement(a,!0),t)}}catch(e){o.e(e)}finally{o.f()}return r!=n&&(r=n._getTransformedByMove(r.start,e.createPositionAt(t,0),i)[0],i=e.createRange(e.createPositionAt(t,0),r.start),ml(e.createRange(r.end,e.createPositionAt(t,"end")),e),ml(i,e)),t});var s}},{key:"hasContent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e instanceof $o?ia._createIn(e):e;if(n.isCollapsed)return!1;var e=t.ignoreWhitespaces,r=void 0!==e&&e,t=t.ignoreMarkers;if(!(void 0!==t&&t)){var i,o=HS(this.markers.getMarkersIntersectingRange(n));try{for(o.s();!(i=o.n()).done;)if(i.value.affectsData)return!0}catch(e){o.e(e)}finally{o.f()}}var a=HS(n.getItems());try{for(a.s();!(s=a.n()).done;){var s=s.value;if(this.schema.isContent(s)){if(!s.is("$textProxy"))return!0;if(!r)return!0;if(-1!==s.data.search(/\S/))return!0}}}catch(e){a.e(e)}finally{a.f()}return!1}},{key:"createPositionFromPath",value:function(e,t,n){return new Xo(e,t,n)}},{key:"createPositionAt",value:function(e,t){return Xo._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return Xo._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Xo._createBefore(e)}},{key:"createRange",value:function(e,t){return new ia(e,t)}},{key:"createRangeIn",value:function(e){return ia._createIn(e)}},{key:"createRangeOn",value:function(e){return ia._createOn(e)}},{key:"createSelection",value:function(e,t,n){return new pa(e,t,n)}},{key:"createBatch",value:function(e){return new ms(e)}},{key:"createOperationFromJSON",value:function(e){return WS(t,null,[{key:"fromJSON",value:function(e,t){return cl[e.__className].fromJSON(e,t)}}]),t.fromJSON(e,this.document);function t(){qS(this,t)}}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){this._currentWriter=new Bs(this,this._pendingChanges[0].batch);var t=this._pendingChanges[0].callback(this._currentWriter);e.push(t),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}]),_l);function _l(){var u,t=this;qS(this,_l),this.markers=new il,this.document=new tl(this),this.schema=new Za,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(function(e){return t.decorate(e)}),this.on("applyOperation",function(e,t){t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(function(e,t){if("$marker"===t.name)return!0}),(u=this).document.registerPostFixer(function(e){var c,n,t=u.document.selection,r=u.schema,i=[],o=!1,a=HS(t.getRanges());try{for(a.s();!(l=a.n()).done;){var s=l.value,l=(n=r,(c=s).isCollapsed?function(){var e=c.start,t=n.getNearestSelectionRange(e);if(!t)return null;if(!t.isCollapsed)return t;t=t.start;return e.isEqual(t)?null:new ia(t)}():function(e){var t=c.start,n=c.end,r=e.checkChild(t,"$text"),i=e.checkChild(n,"$text"),o=e.getLimitElement(t),a=e.getLimitElement(n);if(o===a){if(r&&i)return null;if(function(e,t,n){e=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),t=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return e||t}(t,n,e)){var s=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),l=n.nodeBefore&&e.isSelectable(n.nodeBefore)?null:e.getNearestSelectionRange(n,"backward");return new ia(s?s.start:t,l?l.end:n)}}i=o&&!o.is("rootElement"),s=a&&!a.is("rootElement");if(i||s){l=t.nodeAfter&&n.nodeBefore&&t.nodeAfter.parent===n.nodeBefore.parent,i=i&&(!l||!kl(t.nodeAfter,e)),l=s&&(!l||!kl(n.nodeBefore,e)),t=t,n=n;return i&&(t=Xo._createBefore(yl(o,e))),l&&(n=Xo._createAfter(yl(a,e))),new ia(t,n)}return null}(n));l&&!l.isEqual(s)?(i.push(l),o=!0):i.push(s)}}catch(e){a.e(e)}finally{a.f()}o&&e.setSelection(function(e){var t=[];t.push(e.shift());var n=HS(e);try{for(n.s();!(i=n.n()).done;){var r,i,o=i.value,a=t.pop();o.isEqual(a)?t.push(a):o.isIntersecting(a)?(r=(a.start.isAfter(o.start)?o:a).start,i=(a.end.isAfter(o.end)?a:o).end,i=new ia(r,i),t.push(i)):(t.push(a),t.push(o))}}catch(e){n.e(e)}finally{n.f()}return t}(i),{backward:t.isBackward})}),this.document.registerPostFixer(Na)}Ie(bl,Se);var wl=function(){$S(o,Ao);var n=KS(o);function o(e){var t;return qS(this,o),(t=n.call(this)).editor=e,t}return WS(o,[{key:"set",value:function(e,t){var n,r=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof t&&(n=t,t=function(e,t){r.editor.execute(n),t()}),zS(YS(o.prototype),"set",this).call(this,e,t,i)}}]),o}(),Cl=(WS(xl,[{key:"initPlugins",value:function(){var e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],r=e.get("extraPlugins")||[],e=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(r),n,e)}},{key:"destroy",value:function(){var t=this,e=Promise.resolve();return"initializing"==this.state&&(e=new Promise(function(e){return t.once("ready",e)})),e.then(function(){t.fire("destroy"),t.stopListening(),t.commands.destroy()}).then(function(){return t.plugins.destroy()}).then(function(){t.model.destroy(),t.data.destroy(),t.editing.destroy(),t.keystrokes.destroy()}).then(function(){return t._context._removeEditor(t)})}},{key:"execute",value:function(){try{var e;return(e=this.commands).execute.apply(e,arguments)}catch(e){C.a.rethrowUnexpectedError(e,this)}}},{key:"focus",value:function(){this.editing.view.focus()}}]),xl);function xl(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};qS(this,xl),this._context=t.context||new Xt({language:t.language}),this._context._addEditor(this,!t.context);var n=Array.from(this.constructor.builtinPlugins||[]);this.config=new zt(t,this.constructor.defaultConfig),this.config.define("plugins",n),this.config.define(this._context._getEditorConfig()),this.plugins=new Kt(this,n,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new $a,this.set("state","initializing"),this.once("ready",function(){return e.state="ready"},{priority:"high"}),this.once("destroy",function(){return e.state="destroyed"},{priority:"high"}),this.set("isReadOnly",!1),this.model=new bl;n=new Ln;this.data=new cs(this.model,n),this.editing=new qa(this.model,n),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new fs([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new wl(this),this.keystrokes.listenTo(this.editing.view.document)}Ie(Cl,Se);var Sl=(WS(El,[{key:"names",value:regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=HS(this._components.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return n=n.value,e.next=7,n.originalName;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})},{key:"add",value:function(e,t){this._components.set(Tl(e),{callback:t,originalName:e})}},{key:"create",value:function(e){if(!this.has(e))throw new C.a("componentfactory-item-missing",this,{name:e});return this._components.get(Tl(e)).callback(this.editor.locale)}},{key:"has",value:function(e){return this._components.has(Tl(e))}}]),El);function El(e){qS(this,El),this.editor=e,this._components=new Map}function Tl(e){return String(e).toLowerCase()}var Al=(WS(Pl,[{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var e,t=HS(this._editableElementsMap.values());try{for(t.s();!(e=t.n()).done;)e.value.ckeditorInstance=null}catch(e){t.e(e)}finally{t.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(e)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"element",get:function(){return null}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}]),Pl);function Pl(e){var t=this;qS(this,Pl),this.editor=e,this.componentFactory=new Sl(e),this.focusTracker=new Eo,this._editableElementsMap=new Map,this.listenTo(e.editing.view.document,"layoutChanged",function(){return t.update()})}Ie(Al,c);var pe={updateSourceElement:function(){if(!this.sourceElement)throw new C.a("editor-missing-sourceelement",this);var e=this.sourceElement,t=this.data.get();e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}},Rl=function(){$S(t,en);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new Wt({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(e){if("string"!=typeof e)throw new C.a("pendingactions-add-invalid-message",this);var t=Object.create(Se);return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}},{key:"remove",value:function(e){this._actions.remove(e),this.hasAny=!!this._actions.length}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}},{key:"first",get:function(){return this._actions.get(0)}}],[{key:"pluginName",get:function(){return"PendingActions"}}]),t}(),Il='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',Ol='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',Ml='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',ie='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',Be='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',t='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>',j='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>';function Nl(e){var t=e.emitter,o=e.activator,a=e.callback,s=e.contextElements;t.listenTo(document,"mousedown",function(e,t){if(o()){var n="function"==typeof t.composedPath?t.composedPath():[],r=HS(s);try{for(r.s();!(i=r.n()).done;){var i=i.value;if(i.contains(t.target)||n.includes(i))return}}catch(e){r.e(e)}finally{r.f()}a()}})}function Ll(e){e.set("_isCssTransitionsDisabled",!1),e.disableCssTransitions=function(){e._isCssTransitionsDisabled=!0},e.enableCssTransitions=function(){e._isCssTransitionsDisabled=!1},e.extendTemplate({attributes:{class:[e.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function Dl(e){var n=e.view;n.listenTo(n.element,"submit",function(e,t){t.preventDefault(),n.fire("submit")},{useCapture:!0})}var jl=function(){$S(n,Wt);var t=KS(n);function n(){var r,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return qS(this,n),(r=t.call(this,e,{idProperty:"viewUid"})).on("add",function(e,t,n){r._renderViewIntoCollectionParent(t,n)}),r.on("remove",function(e,t){t.element&&r._parentElement&&t.element.remove()}),r._parentElement=null,r}return WS(n,[{key:"destroy",value:function(){this.map(function(e){return e.destroy()})}},{key:"setParent",value:function(e){this._parentElement=e;var t=HS(this);try{for(t.s();!(n=t.n()).done;){var n=n.value;this._renderViewIntoCollectionParent(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"delegate",value:function(){for(var a=this,e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];if(!s.length||!s.every(function(e){return"string"==typeof e}))throw new C.a("ui-viewcollection-delegate-wrong-events",this);return{to:function(i){var e,t=HS(a);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=HS(s);try{for(r.s();!(o=r.n()).done;){var o=o.value;n.delegate(o).to(i)}}catch(e){r.e(e)}finally{r.f()}}}catch(e){t.e(e)}finally{t.f()}a.on("add",function(e,t){var n=HS(s);try{for(n.s();!(r=n.n()).done;){var r=r.value;t.delegate(r).to(i)}}catch(e){n.e(e)}finally{n.f()}}),a.on("remove",function(e,t){var n=HS(s);try{for(n.s();!(r=n.n()).done;){var r=r.value;t.stopDelegating(r,i)}}catch(e){n.e(e)}finally{n.f()}})}}}},{key:"_renderViewIntoCollectionParent",value:function(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}}]),n}();n(15);var Fl=(WS(Vl,[{key:"createCollection",value:function(e){e=new jl(e);return this._viewCollections.add(e),e}},{key:"registerChild",value:function(e){qt(e)||(e=[e]);var t=HS(e);try{for(t.s();!(n=t.n()).done;){var n=n.value;this._unboundChildren.add(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"deregisterChild",value:function(e){qt(e)||(e=[e]);var t=HS(e);try{for(t.s();!(n=t.n()).done;){var n=n.value;this._unboundChildren.remove(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"setTemplate",value:function(e){this.template=new zl(e)}},{key:"extendTemplate",value:function(e){zl.extend(this.template,e)}},{key:"render",value:function(){if(this.isRendered)throw new C.a("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map(function(e){return e.destroy()}),this.template&&this.template._revertData&&this.template.revert(this.element)}},{key:"bindTemplate",get:function(){return this._bindTemplate||(this._bindTemplate=zl.bind(this,this))}}]),Vl);function Vl(n){qS(this,Vl),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new Wt,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",function(e,t){t.locale=n}),this.decorate("render")}Ie(Fl,Ti),Ie(Fl,Se);var zl=(WS(Bl,[{key:"render",value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:"apply",value:function(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:"revert",value:function(e){if(!this._revertData)throw new C.a("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}},{key:"getViews",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(regeneratorRuntime.mark(function t(n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.children){e.next=24;break}r=HS(n.children),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=16;break}if(ec(o=i.value))return e.next=9,o;e.next=11;break;case 9:e.next=14;break;case 11:if(e.t0=tc(o),e.t0)return e.delegateYield(t(o),"t1",14);e.next=14;break;case 14:e.next=4;break;case 16:e.next=21;break;case 18:e.prev=18,e.t2=e.catch(2),r.e(e.t2);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}},t,null,[[2,18,21,24]])})(this),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"_renderNode",value:function(e){if(e.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new C.a("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}},{key:"_renderElement",value:function(e){var t=(t=e.node)||(e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag));return this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}},{key:"_renderText",value:function(e){var t,n=e.node;return n?e.revertData.text=n.textContent:n=e.node=document.createTextNode(""),$l(this.text)?this._bindToObservable({schema:this.text,updater:(t=n,{set:function(e){t.textContent=e},remove:function(){t.textContent=""}}),data:e}):n.textContent=this.text.join(""),n}},{key:"_renderAttributes",value:function(e){var t,n,r,i;if(this.attributes){var o,a=e.node,s=e.revertData;for(t in this.attributes)r=a.getAttribute(t),n=this.attributes[t],s&&(s.attributes[t]=r),i=k(n[0])&&n[0].ns?n[0].ns:null,$l(n)?(o=i?n[0].value:n,s&&rc(t)&&o.unshift(r),this._bindToObservable({schema:o,updater:function(t,n,r){return{set:function(e){t.setAttributeNS(r,n,e)},remove:function(){t.removeAttributeNS(r,n)}}}(a,t,i),data:e})):"style"==t&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],e):(s&&r&&rc(t)&&n.unshift(r),Xl(n=n.map(function(e){return e&&e.value||e}).reduce(function(e,t){return e.concat(t)},[]).reduce(Ql,""))||a.setAttributeNS(i,t,n))}}},{key:"_renderStyleAttribute",value:function(e,t){var n,r=t.node;for(n in e){var i=e[n];$l(i)?this._bindToObservable({schema:[i],updater:function(t,n){return{set:function(e){t.style[n]=e},remove:function(){t.style[n]=null}}}(r,n),data:t}):r.style[n]=i}}},{key:"_renderElementChildren",value:function(e){var t=e.node,n=e.intoFragment?document.createDocumentFragment():t,r=e.isApplying,i=0,o=HS(this.children);try{for(o.s();!(a=o.n()).done;){var a,s=a.value;if(nc(s)){if(!r){s.setParent(t);var l=HS(s);try{for(l.s();!(c=l.n()).done;){var c=c.value;n.appendChild(c.element)}}catch(e){l.e(e)}finally{l.f()}}}else ec(s)?r||(s.isRendered||s.render(),n.appendChild(s.element)):ui(s)?n.appendChild(s):r?(a={children:[],bindings:[],attributes:{}},e.revertData.children.push(a),s._renderNode({node:n.childNodes[i++],isApplying:!0,revertData:a})):n.appendChild(s.render())}}catch(e){o.e(e)}finally{o.f()}e.intoFragment&&t.appendChild(n)}},{key:"_setUpListeners",value:function(i){var t=this;if(this.eventListeners)for(var e in this.eventListeners)!function(r){var e=t.eventListeners[r].map(function(e){var t=BS(r.split("@"),2),n=t[0],t=t[1];return e.activateDomEventListener(n,t,i)});i.revertData&&i.revertData.bindings.push(e)}(e)}},{key:"_bindToObservable",value:function(e){var t=e.schema,n=e.updater,r=e.data,i=r.revertData;Kl(t,n,r);e=t.filter(function(e){return!Xl(e)}).filter(function(e){return e.observable}).map(function(e){return e.activateAttributeListener(t,n,r)});i&&i.bindings.push(e)}},{key:"_revertTemplateFromNode",value:function(e,t){var n,r=HS(t.bindings);try{for(r.s();!(n=r.n()).done;){var i,o=HS(n.value);try{for(o.s();!(i=o.n()).done;)(0,i.value)()}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}if(t.text)e.textContent=t.text;else{for(var a in t.attributes){var s=t.attributes[a];null===s?e.removeAttribute(a):e.setAttribute(a,s)}for(var l=0;l<t.children.length;++l)this._revertTemplateFromNode(e.childNodes[l],t.children[l])}}}],[{key:"bind",value:function(r,i){return{to:function(e,t){return new Ul({eventNameOrFunction:e,attribute:e,observable:r,emitter:i,callback:t})},if:function(e,t,n){return new ql({observable:r,emitter:i,attribute:e,valueIfTrue:t,callback:n})}}}},{key:"extend",value:function(e,t){if(e._isRendered)throw new C.a("template-extend-render",[this,e]);!function e(t,n){var r;if(n.attributes&&(t.attributes||(t.attributes={}),Yl(t.attributes,n.attributes)),n.eventListeners&&(t.eventListeners||(t.eventListeners={}),Yl(t.eventListeners,n.eventListeners)),n.text&&(r=t.text).push.apply(r,US(n.text)),n.children&&n.children.length){if(t.children.length!=n.children.length)throw new C.a("ui-template-extend-children-mismatch",t);var i=0,o=HS(n.children);try{for(o.s();!(a=o.n()).done;){var a=a.value;e(t.children[i++],a)}}catch(e){o.e(e)}finally{o.f()}}}(e,Zl(Gl(t)))}}]),Bl);function Bl(e){qS(this,Bl),Object.assign(this,Zl(Gl(e))),this._isRendered=!1,this._revertData=null}Ie(zl,c);var Hl=(WS(Wl,[{key:"getValue",value:function(e){var t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}},{key:"activateAttributeListener",value:function(e,t,n){function r(){return Kl(e,t,n)}var i=this;return this.emitter.listenTo(this.observable,"change:"+this.attribute,r),function(){i.emitter.stopListening(i.observable,"change:"+i.attribute,r)}}}]),Wl),Ul=function(){$S(t,Hl);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"activateDomEventListener",value:function(e,n,t){function r(e,t){n&&!t.target.matches(n)||("function"==typeof i.eventNameOrFunction?i.eventNameOrFunction(t):i.observable.fire(i.eventNameOrFunction,t))}var i=this;return this.emitter.listenTo(t.node,e,r),function(){i.emitter.stopListening(t.node,e,r)}}}]),t}(),ql=function(){$S(t,Hl);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"getValue",value:function(e){return!Xl(zS(YS(t.prototype),"getValue",this).call(this,e))&&(this.valueIfTrue||!0)}}]),t}();function Wl(e){qS(this,Wl),Object.assign(this,e)}function $l(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some($l):e instanceof Hl)}function Kl(e,t,n){var r,n=(r=n.node,e.map(function(e){return e instanceof Hl?e.getValue(r):e}));Xl(n=1==e.length&&e[0]instanceof ql?n[0]:n.reduce(Ql,""))?t.remove():t.set(n)}function Gl(e){return Ft(e,function(e){if(e&&(e instanceof Hl||tc(e)||ec(e)||nc(e)))return e})}function Zl(e){if("string"==typeof e?e={text:[e]}:e.text&&(e.text=Zt(e.text)),e.on&&(e.eventListeners=function(e){for(var t in e)Jl(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(var t in e)e[t].value&&(e[t].value=Zt(e[t].value)),Jl(e,t)}(e.attributes);var t=[];if(e.children)if(nc(e.children))t.push(e.children);else{var n=HS(e.children);try{for(n.s();!(r=n.n()).done;){var r=r.value;tc(r)||ec(r)||ui(r)?t.push(r):t.push(new zl(r))}}catch(e){n.e(e)}finally{n.f()}}e.children=t}return e}function Jl(e,t){e[t]=Zt(e[t])}function Ql(e,t){return Xl(t)?e:Xl(e)?t:"".concat(e," ").concat(t)}function Yl(e,t){for(var n in t){var r;e[n]?(r=e[n]).push.apply(r,US(t[n])):e[n]=t[n]}}function Xl(e){return!e&&0!==e}function ec(e){return e instanceof Fl}function tc(e){return e instanceof zl}function nc(e){return e instanceof jl}function rc(e){return"class"==e||"style"==e}var ic=function(){$S(r,jl);var n=KS(r);function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return qS(this,r),(t=n.call(this,t)).locale=e,t}return WS(r,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new zl({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var e=document.querySelector(".ck-body-wrapper");e||(e=ho(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){zS(YS(r.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}]),r}();n(17);var oc=function(){$S(r,Fl);var n=KS(r);function r(){var e;qS(this,r);var t=(e=n.call(this)).bindTemplate;return e.set("content",""),e.set("viewBox","0 0 20 20"),e.set("fillColor",""),e.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}}),e}return WS(r,[{key:"render",value:function(){var e=this;zS(YS(r.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",function(){e._updateXMLContent(),e._colorFillPaths()}),this.on("change:fillColor",function(){e._colorFillPaths()})}},{key:"_updateXMLContent",value:function(){if(this.content){var e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");for(t&&(this.viewBox=t),this.element.innerHTML="";0<e.childNodes.length;)this.element.appendChild(e.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var t=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(function(e){e.style.fill=t.fillColor})}}]),r}();n(19);var ac=function(){$S(r,Fl);var n=KS(r);function r(e){var t;qS(this,r),(t=n.call(this,e)).set("text",""),t.set("position","s");e=t.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",function(e){return"ck-tooltip_"+e}),e.if("text","ck-hidden",function(e){return!e.trim()})]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]}),t}return r}();n(21);var sc=function(){$S(i,Fl);var r=KS(i);function i(e){var t;qS(this,i);var n=(t=r.call(this,e)).bindTemplate,e=u();return t.set("class"),t.set("labelStyle"),t.set("icon"),t.set("isEnabled",!0),t.set("isOn",!1),t.set("isVisible",!0),t.set("isToggleable",!1),t.set("keystroke"),t.set("label"),t.set("tabindex",-1),t.set("tooltip"),t.set("tooltipPosition","s"),t.set("type","button"),t.set("withText",!1),t.set("withKeystroke",!1),t.children=t.createCollection(),t.tooltipView=t._createTooltipView(),t.labelView=t._createLabelView(e),t.iconView=new oc,t.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),t.keystrokeView=t._createKeystrokeView(),t.bind("_tooltipString").to(ZS(t),"tooltip",ZS(t),"label",ZS(t),"keystroke",t._getTooltipString.bind(ZS(t))),t.setTemplate({tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",function(e){return!e}),n.if("isVisible","ck-hidden",function(e){return!e}),n.to("isOn",function(e){return e?"ck-on":"ck-off"}),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],type:n.to("type",function(e){return e||"button"}),tabindex:n.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+e,"aria-disabled":n.if("isEnabled",!0,function(e){return!e}),"aria-pressed":n.to("isOn",function(e){return!!t.isToggleable&&String(e)})},children:t.children,on:{mousedown:n.to(function(e){e.preventDefault()}),click:n.to(function(e){t.isEnabled?t.fire("execute"):e.preventDefault()})}}),t}return WS(i,[{key:"render",value:function(){zS(YS(i.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var e=new ac;return e.bind("text").to(this,"_tooltipString"),e.bind("position").to(this,"tooltipPosition"),e}},{key:"_createLabelView",value:function(e){var t=new Fl;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:"ck-editor__aria-label_"+e},children:[{text:this.bindTemplate.to("label")}]}),t}},{key:"_createKeystrokeView",value:function(){var e=new Fl;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",Rr)}]}),e}},{key:"_getTooltipString",value:function(e,t,n){return e?"string"==typeof e?e:(n=n&&Rr(n),e instanceof Function?e(t,n):"".concat(t).concat(n?" (".concat(n,")"):"")):""}}]),i}();n(23);var lc=function(){$S(n,sc);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).isToggleable=!0,e.toggleSwitchView=e._createToggleView(),e.extendTemplate({attributes:{class:"ck-switchbutton"}}),e}return WS(n,[{key:"render",value:function(){zS(YS(n.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var e=new Fl;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}]),n}(),cc=(WS(uc,[{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(e){e&&e.focus()}},{key:"_getFocusableItem",value:function(e){var t=this.current,n=this.focusables.length;if(!n)return null;if(null===t)return this[1===e?"first":"last"];var r=(t+n+e)%n;do{var i=this.focusables.get(r);if(hc(i))return i}while((r=(r+n+e)%n)!==t);return null}},{key:"first",get:function(){return this.focusables.find(hc)||null}},{key:"last",get:function(){return this.focusables.filter(hc).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var n=this,r=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(function(e,t){e=e.element===n.focusTracker.focusedElement;return e&&(r=t),e}),r)}}]),uc);function uc(i){var o=this;if(qS(this,uc),Object.assign(this,i),i.actions&&i.keystrokeHandler)for(var e in i.actions)!function(n){var e=i.actions[n];"string"==typeof e&&(e=[e]);var t=HS(e);try{for(t.s();!(r=t.n()).done;){var r=r.value;i.keystrokeHandler.set(r,function(e,t){o[n](),t()})}}catch(e){t.e(e)}finally{t.f()}}(e)}function hc(e){return!(!e.focus||"none"==gi.window.getComputedStyle(e.element).display)}n(25);var dc='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',fc=function(){$S(n,sc);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).arrowView=e._createArrowView(),e.extendTemplate({attributes:{"aria-haspopup":!0}}),e.delegate("execute").to(ZS(e),"open"),e}return WS(n,[{key:"render",value:function(){zS(YS(n.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var e=new oc;return e.content=dc,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}]),n}();n(27);var pc=function(){$S(r,Fl);var n=KS(r);function r(e){var t;qS(this,r);e=(t=n.call(this,e)).bindTemplate;return t.set("icon"),t.set("isEnabled",!0),t.set("isOn",!1),t.set("isToggleable",!1),t.set("isVisible",!0),t.set("keystroke"),t.set("label"),t.set("tabindex",-1),t.set("tooltip"),t.set("tooltipPosition","s"),t.set("type","button"),t.set("withText",!1),t.children=t.createCollection(),t.actionView=t._createActionView(),t.arrowView=t._createArrowView(),t.keystrokes=new Ao,t.focusTracker=new Eo,t.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",e.if("isVisible","ck-hidden",function(e){return!e}),t.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:t.children}),t}return WS(r,[{key:"render",value:function(){var n=this;zS(YS(r.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",function(e,t){n.focusTracker.focusedElement===n.actionView.element&&(n.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",function(e,t){n.focusTracker.focusedElement===n.arrowView.element&&(n.actionView.focus(),t())})}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var e=new sc;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}},{key:"_createArrowView",value:function(){var e=new sc,t=e.bindTemplate;return e.icon=dc,e.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":t.to("isOn",function(e){return String(e)})}}),e.bind("isEnabled").to(this),e.delegate("execute").to(this,"open"),e}}]),r}(),gc=function(){$S(r,Fl);var n=KS(r);function r(e){var t;qS(this,r);e=(t=n.call(this,e)).bindTemplate;return t.set("isVisible",!1),t.set("position","se"),t.children=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",function(e){return"ck-dropdown__panel_"+e}),e.if("isVisible","ck-dropdown__panel-visible")]},children:t.children,on:{selectstart:e.to(function(e){return e.preventDefault()})}}),t}return WS(r,[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){var e;this.children.length&&("function"==typeof(e=this.children.last).focusLast?e.focusLast():e.focus())}}]),r}();function vc(e){var t=e.element,n=e.target,r=e.positions,i=e.limiter,o=e.fitInViewport;q(n)&&(n=n()),q(i)&&(i=i());var a,s,e=t&&t.parentNode&&t.offsetParent!==gi.document.body?t.offsetParent:null,t=new vo(t),n=new vo(n),l=kc(i||o?(a=function(e,f){var t=f.viewportRect,n=f.elementRect.getArea(),e=function(e){var t=f.targetRect,n=f.elementRect,r=f.limiterRect,i=f.viewportRect,o=[],a=n.getArea(),s=HS(e);try{for(s.s();!(d=s.n()).done;){var l=mc(d.value,t,n);if(l){var c=BS(l,2),u=c[0],h=c[1],d=0,l=0;r&&(i?(c=r.getIntersection(i))&&(d=c.getIntersectionArea(h)):d=r.getIntersectionArea(h)),i&&(l=i.getIntersectionArea(h));l={positionName:u,positionRect:h,limiterIntersectArea:d,viewportIntersectArea:l};if(d===a)return[l];o.push(l)}}}catch(e){s.e(e)}finally{s.f()}return o}(e);if(t){t=yc(e.filter(function(e){return e.viewportIntersectArea===n}),n);if(t)return t}return yc(e,n)}(r,{targetRect:n,elementRect:t,limiterRect:i&&new vo(i).getVisible(),viewportRect:o&&new vo(gi.window)}),a=(l=BS(a||mc(r[0],n,t),2))[0],l[1]):(a=(s=BS(mc(r[0],n,t),2))[0],s[1]));return e&&(r=e,n=l.left,t=l.top,s=kc(new vo(r)),e=po(r),n-=s.left,t-=s.top,n+=r.scrollLeft,t+=r.scrollTop,l={left:n-=e.left,top:t-=e.top}),{left:l.left,top:l.top,name:a}}function mc(e,t,n){var r=e(t,n);if(!r)return null;e=r.left,t=r.top;return[r.name,n.clone().moveTo(e,t)]}function yc(e,t){var n,r,i=0,o=HS(e);try{for(o.s();!(c=o.n()).done;){var a=c.value,s=a.positionName,l=a.positionRect,c=a.limiterIntersectArea,a=a.viewportIntersectArea;if(c===t)return[s,l];c=Math.pow(a,2)+Math.pow(c,2);i<c&&(i=c,n=l,r=s)}}catch(e){o.e(e)}finally{o.f()}return n?[r,n]:null}function kc(e){var t=e.left,n=e.top,e=gi.window;return{left:t+e.scrollX,top:n+e.scrollY}}n(29);var bc=function(){$S(u,Fl);var i=KS(u);function u(e,t,n){var r;qS(this,u);e=(r=i.call(this,e)).bindTemplate;return r.buttonView=t,r.panelView=n,r.set("isOpen",!1),r.set("isEnabled",!0),r.set("class"),r.set("id"),r.set("panelPosition","auto"),r.keystrokes=new Ao,r.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",e.to("class"),e.if("isEnabled","ck-disabled",function(e){return!e})],id:e.to("id"),"aria-describedby":e.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),r}return WS(u,[{key:"render",value:function(){var n=this;zS(YS(u.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",function(){n.isOpen=!n.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",function(){n.isOpen&&(n.panelView.position="auto"===n.panelPosition?u._getOptimalPosition({element:n.panelView.element,target:n.buttonView.element,fitInViewport:!0,positions:n._panelPositions}).name:n.panelPosition)}),this.keystrokes.listenTo(this.element);function e(e,t){n.isOpen&&(n.buttonView.focus(),n.isOpen=!1,t())}this.keystrokes.set("arrowdown",function(e,t){n.buttonView.isEnabled&&!n.isOpen&&(n.isOpen=!0,t())}),this.keystrokes.set("arrowright",function(e,t){n.isOpen&&t()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var e=u.defaultPanelPositions,t=e.south,n=e.north,r=e.southEast,i=e.southWest,o=e.northEast,a=e.northWest,s=e.southMiddleEast,l=e.southMiddleWest,c=e.northMiddleEast,e=e.northMiddleWest;return"rtl"!==this.locale.uiLanguageDirection?[r,i,s,l,t,o,a,c,e,n]:[i,r,l,s,t,a,o,e,c,n]}}]),u}();bc.defaultPanelPositions={south:function(e,t){return{top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}},southEast:function(e){return{top:e.bottom,left:e.left,name:"se"}},southWest:function(e,t){return{top:e.bottom,left:e.left-t.width+e.width,name:"sw"}},southMiddleEast:function(e,t){return{top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}},southMiddleWest:function(e,t){return{top:e.bottom,left:e.left-3*(t.width-e.width)/4,name:"smw"}},north:function(e,t){return{top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}},northEast:function(e,t){return{top:e.top-t.height,left:e.left,name:"ne"}},northWest:function(e,t){return{top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}},northMiddleEast:function(e,t){return{top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}},northMiddleWest:function(e,t){return{top:e.top-t.height,left:e.left-3*(t.width-e.width)/4,name:"nmw"}}},bc._getOptimalPosition=vc;var _c=function(){$S(n,Fl);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),e}return n}(),wc=function(){$S(n,Fl);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}}),e}return n}();function Cc(e){return Array.isArray(e)?{items:e,removeItems:[]}:e?Object.assign({items:[],removeItems:[]},e):{items:[],removeItems:[]}}n(31);var xc=function(){$S(s,Fl);var a=KS(s);function s(e,t){var n;qS(this,s);var r=(n=a.call(this,e)).bindTemplate,i=n.t;n.options=t||{},n.set("ariaLabel",i("Editor toolbar")),n.set("maxWidth","auto"),n.items=n.createCollection(),n.focusTracker=new Eo,n.keystrokes=new Ao,n.set("class"),n.set("isCompact",!1),n.itemsView=new Sc(e),n.children=n.createCollection(),n.children.add(n.itemsView),n.focusables=n.createCollection();e="rtl"===e.uiLanguageDirection;n._focusCycler=new cc({focusables:n.focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:[e?"arrowright":"arrowleft","arrowup"],focusNext:[e?"arrowleft":"arrowright","arrowdown"]}});var o,e=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact")];return n.options.shouldGroupWhenFull&&n.options.isFloating&&e.push("ck-toolbar_floating"),n.setTemplate({tag:"div",attributes:{class:e,role:"toolbar","aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")}},children:n.children,on:{mousedown:(o=ZS(n)).bindTemplate.to(function(e){e.target===o.element&&e.preventDefault()})}}),n._behavior=new(n.options.shouldGroupWhenFull?Tc:Ec)(ZS(n)),n}return WS(s,[{key:"render",value:function(){var n=this;zS(YS(s.prototype),"render",this).call(this);var t=HS(this.items);try{for(t.s();!(e=t.n()).done;){var e=e.value;this.focusTracker.add(e.element)}}catch(e){t.e(e)}finally{t.f()}this.items.on("add",function(e,t){n.focusTracker.add(t.element)}),this.items.on("remove",function(e,t){n.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),zS(YS(s.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(e,r){var i=this,o=Cc(e),e=o.items.filter(function(e,t,n){return"|"===e||-1===o.removeItems.indexOf(e)&&("-"===e?!i.options.shouldGroupWhenFull||(Object(C.b)("toolbarview-line-break-ignored-when-grouping-items",n),!1):!!r.has(e)||(Object(C.b)("toolbarview-item-unavailable",{name:e}),!1))}),e=this._cleanSeparators(e).map(function(e){return"|"===e?new _c:"-"===e?new wc:r.create(e)});this.items.addMany(e)}},{key:"_cleanSeparators",value:function(e){function r(e){return"-"!==e&&"|"!==e}var t=e.length,n=e.findIndex(r),t=t-e.slice().reverse().findIndex(r);return e.slice(n,t).filter(function(e,t,n){return!!r(e)||!(0<t&&n[t-1]===e)})}}]),s}(),Sc=function(){$S(n,Fl);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).children=e.createCollection(),e.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:e.children}),e}return n}(),Ec=(WS(Pc,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),Pc),Tc=(WS(Ac,[{key:"render",value:function(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(this.viewElement.ownerDocument.body.contains(this.viewElement))if(this.viewElement.offsetParent){for(var e,t=this.groupedItems.length;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}else this.shouldUpdateGroupingOnNextResize=!0}},{key:"_enableGroupingOnResize",value:function(){var t,n=this;this.resizeObserver=new bo(this.viewElement,function(e){t&&t===e.contentRect.width&&!n.shouldUpdateGroupingOnNextResize||(n.shouldUpdateGroupingOnNextResize=!1,n._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(e){var t=this;e.on("change:maxWidth",function(){t._updateGrouping()})}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new _c),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var e=this.viewLocale,t=e.t,n=Mc(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",Nc(n,[]),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),n.toolbarView.items.bindTo(this.groupedItems).using(function(e){return e}),n}},{key:"_updateFocusCycleableItems",value:function(){var t=this;this.viewFocusables.clear(),this.ungroupedItems.map(function(e){t.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new vo(e.lastChild),r=new vo(e);return this.cachedPadding||(e=gi.window.getComputedStyle(e),this.cachedPadding=Number.parseInt(e["ltr"===t?"paddingRight":"paddingLeft"])),"ltr"===t?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}}]),Ac);function Ac(e){var s=this;qS(this,Ac),this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,e.itemsView.children.bindTo(this.ungroupedItems).using(function(e){return e}),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),e.children.on("add",this._updateFocusCycleableItems.bind(this)),e.children.on("remove",this._updateFocusCycleableItems.bind(this)),e.items.on("change",function(e,t){var n=t.index,r=HS(t.removed);try{for(r.s();!(i=r.n()).done;){var i=i.value;(n>=s.ungroupedItems.length?s.groupedItems:s.ungroupedItems).remove(i)}}catch(e){r.e(e)}finally{r.f()}for(var o=n;o<n+t.added.length;o++){var a=t.added[o-n];o>s.ungroupedItems.length?s.groupedItems.add(a,o-s.ungroupedItems.length):s.ungroupedItems.add(a,o)}s._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}function Pc(e){qS(this,Pc);var t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(function(e){return e}),e.focusables.bindTo(e.items).using(function(e){return e}),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}n(33);var Rc=function(){$S(r,Fl);var t=KS(r);function r(){var e;return qS(this,r),(e=t.call(this)).items=e.createCollection(),e.focusTracker=new Eo,e.keystrokes=new Ao,e._focusCycler=new cc({focusables:e.items,focusTracker:e.focusTracker,keystrokeHandler:e.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),e.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:e.items}),e}return WS(r,[{key:"render",value:function(){var n=this;zS(YS(r.prototype),"render",this).call(this);var t=HS(this.items);try{for(t.s();!(e=t.n()).done;){var e=e.value;this.focusTracker.add(e.element)}}catch(e){t.e(e)}finally{t.f()}this.items.on("add",function(e,t){n.focusTracker.add(t.element)}),this.items.on("remove",function(e,t){n.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),r}(),Ic=function(){$S(n,Fl);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).children=e.createCollection(),e.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:e.children}),e}return WS(n,[{key:"focus",value:function(){this.children.first.focus()}}]),n}(),Oc=function(){$S(n,Fl);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),e}return n}();function Mc(e,t){var n,r,i,o=new(1<arguments.length&&void 0!==t?t:fc)(e),t=new gc(e),t=new bc(e,o,t);return o.bind("isEnabled").to(t),(o instanceof fc?o:o.arrowView).bind("isOn").to(t,"isOpen"),(i=o=t).on("render",function(){Nl({emitter:i,activator:function(){return i.isOpen},callback:function(){i.isOpen=!1},contextElements:[i.element]})}),(r=o).on("execute",function(e){e.source instanceof lc||(r.isOpen=!1)}),(n=o).keystrokes.set("arrowdown",function(e,t){n.isOpen&&(n.panelView.focus(),t())}),n.keystrokes.set("arrowup",function(e,t){n.isOpen&&(n.panelView.focusLast(),t())}),t}function Nc(e,t){var n=e.locale,r=n.t,i=e.toolbarView=new xc(n);i.set("ariaLabel",r("Dropdown toolbar")),e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.map(function(e){return i.items.add(e)}),e.panelView.children.add(i),i.items.delegate("execute").to(e)}function Lc(e,t){var i=e.locale,n=e.listView=new Rc(i);n.items.bindTo(t).using(function(e){var t=e.type,n=e.model;if("separator"===t)return new Oc(i);if("button"===t||"switchbutton"===t){var r=new Ic(i);return(t=e=new("button"===t?sc:lc)(i)).bind.apply(t,US(Object.keys(n))).to(n),e.delegate("execute").to(r),r.children.add(e),r}}),e.panelView.children.add(n),n.items.delegate("execute").to(e)}n(35),n(37),n(39);var Dc=function(){$S(r,Fl);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e)).body=new ic(e),t}return WS(r,[{key:"render",value:function(){zS(YS(r.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),zS(YS(r.prototype),"destroy",this).call(this)}}]),r}();n(41);var jc=function(){$S(r,Fl);var n=KS(r);function r(e){var t;qS(this,r),(t=n.call(this,e)).set("text"),t.set("for"),t.id="ck-editor__label_"+u();e=t.bindTemplate;return t.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:t.id,for:e.to("for")},children:[{text:e.to("text")}]}),t}return r}(),Fc=function(){$S(r,Dc);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e)).top=t.createCollection(),t.main=t.createCollection(),t._voiceLabelView=t._createVoiceLabel(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":t._voiceLabelView.id},children:[t._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:t.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:t.main}]}),t}return WS(r,[{key:"_createVoiceLabel",value:function(){var e=this.t,t=new jc;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}]),r}(),Vc=function(e){$S(o,e);var r=KS(o);function o(e,t,n){return qS(this,o),(n=r.call(this,e,t,n)).extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),n}return WS(o,[{key:"render",value:function(){var n=this;zS(YS(o.prototype),"render",this).call(this);var r=this._editingView,i=this.t;r.change(function(e){var t=r.document.getRoot(n.name);e.setAttribute("aria-label",i("Rich Text Editor, %0",n.name),t)})}}]),o}(function(){$S(o,Fl);var i=KS(o);function o(e,t,n){var r;return qS(this,o),(r=i.call(this,e)).setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),r.name=null,r.set("isFocused",!1),r._editableElement=n,r._hasExternalElement=!!r._editableElement,r._editingView=t,r}return WS(o,[{key:"render",value:function(){var e=this;zS(YS(o.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",function(){return e._updateIsFocusedClasses()}),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),zS(YS(o.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var o=this._editingView;function a(n){o.change(function(e){var t=o.document.getRoot(n.name);e.addClass(n.isFocused?"ck-focused":"ck-blurred",t),e.removeClass(n.isFocused?"ck-blurred":"ck-focused",t)})}(o.isRenderingInProgress?function r(i){o.once("change:isRenderingInProgress",function(e,t,n){(n?r:a)(i)})}:a)(this)}}]),o}());n(43),n(45);var zc=function(){$S(i,Fl);var n=KS(i);function i(e){var t;qS(this,i),(t=n.call(this,e)).set("value"),t.set("id"),t.set("placeholder"),t.set("isReadOnly",!1),t.set("hasError",!1),t.set("ariaDescribedById"),t.focusTracker=new Eo,t.bind("isFocused").to(t.focusTracker),t.set("isEmpty",!0);e=t.bindTemplate;return t.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to("input"),change:e.to(t._updateIsEmpty.bind(ZS(t)))}}),t}return WS(i,[{key:"render",value:function(){var r=this;zS(YS(i.prototype),"render",this).call(this),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",function(e,t,n){r._setDomElementValue(n),r._updateIsEmpty()})}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}},{key:"_updateIsEmpty",value:function(){this.isEmpty=!this.element.value}},{key:"_setDomElementValue",value:function(e){this.element.value=e||0===e?e:""}}]),i}();n(47);var Bc=function(){$S(o,Fl);var i=KS(o);function o(e,t){var n;qS(this,o),n=i.call(this,e);var r="ck-labeled-field-view-"+u(),e="ck-labeled-field-view-status-"+u();n.fieldView=t(ZS(n),r,e),n.set("label"),n.set("isEnabled",!0),n.set("isEmpty",!0),n.set("isFocused",!1),n.set("errorText",null),n.set("infoText",null),n.set("class"),n.set("placeholder"),n.labelView=n._createLabelView(r),n.statusView=n._createStatusView(e),n.bind("_statusText").to(ZS(n),"errorText",ZS(n),"infoText",function(e,t){return e||t});e=n.bindTemplate;return n.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",e.to("class"),e.if("isEnabled","ck-disabled",function(e){return!e}),e.if("isEmpty","ck-labeled-field-view_empty"),e.if("isFocused","ck-labeled-field-view_focused"),e.if("placeholder","ck-labeled-field-view_placeholder"),e.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[n.fieldView,n.labelView]},n.statusView]}),n}return WS(o,[{key:"_createLabelView",value:function(e){var t=new jc(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}},{key:"_createStatusView",value:function(e){var t=new Fl(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",function(e){return!e})],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}},{key:"focus",value:function(){this.fieldView.focus()}}]),o}();function Hc(e,t,n){var r=new zc(e.locale);return r.set({id:t,ariaDescribedById:n}),r.bind("isReadOnly").to(e,"isEnabled",function(e){return!e}),r.bind("hasError").to(e,"errorText",function(e){return!!e}),r.on("input",function(){e.errorText=null}),e.bind("isEmpty","isFocused","placeholder").to(r),r}var Uc=function(){$S(t,en);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){this.on("show:warning",function(e,t){window.alert(t.message)},{priority:"lowest"})}},{key:"showSuccess",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}},{key:"showInfo",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}},{key:"showWarning",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}},{key:"_showNotification",value:function(e){this.fire("show:"+e.type+(e.namespace?":"+e.namespace:""),{message:e.message,type:e.type,title:e.title||""})}}],[{key:"pluginName",get:function(){return"Notification"}}]),t}(),qc=function e(t,n){qS(this,e),n&&ke(this,n),t&&this.set(t)};Ie(qc,Se),n(49);var Wc=xo("px"),$c=gi.document.body,Kc=function(){$S(r,Fl);var n=KS(r);function r(e){var t;qS(this,r);e=(t=n.call(this,e)).bindTemplate;return t.set("top",0),t.set("left",0),t.set("position","arrow_nw"),t.set("isVisible",!1),t.set("withArrow",!0),t.set("class"),t.content=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",function(e){return"ck-balloon-panel_"+e}),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",Wc),left:e.to("left",Wc)}},children:t.content}),t}return WS(r,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(e){this.show();var t=r.defaultPositions,n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast],limiter:$c,fitInViewport:!0},e),t=r._getOptimalPosition(n),e=parseInt(t.left),n=parseInt(t.top);Object.assign(this,{top:n,left:e,position:t.name})}},{key:"pin",value:function(e){var t=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){t.isVisible?t._startPinning(e):t._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(r){var i=this;this.attachTo(r);var o=Gc(r.target),a=r.limiter?Gc(r.limiter):$c;this.listenTo(gi.document,"scroll",function(e,t){var n=t.target,t=o&&n.contains(o),n=a&&n.contains(a);!t&&!n&&o&&a||i.attachTo(r)},{useCapture:!0}),this.listenTo(gi.window,"resize",function(){i.attachTo(r)})}},{key:"_stopPinning",value:function(){this.stopListening(gi.document,"scroll"),this.stopListening(gi.window,"resize")}}]),r}();function Gc(e){return Vt(e)?e:fo(e)?e.commonAncestorContainer:"function"==typeof e?Gc(e()):null}function Zc(e,t){return e.top-t.height-Kc.arrowVerticalOffset}function Jc(e){return e.bottom+Kc.arrowVerticalOffset}Kc.arrowHorizontalOffset=25,Kc.arrowVerticalOffset=10,Kc._getOptimalPosition=vc,Kc.defaultPositions={northWestArrowSouthWest:function(e,t){return{top:Zc(e,t),left:e.left-Kc.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(e,t){return{top:Zc(e,t),left:e.left-.25*t.width-Kc.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(e,t){return{top:Zc(e,t),left:e.left-t.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(e,t){return{top:Zc(e,t),left:e.left-.75*t.width+Kc.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(e,t){return{top:Zc(e,t),left:e.left-t.width+Kc.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(e,t){return{top:Zc(e,t),left:e.left+e.width/2-Kc.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(e,t){return{top:Zc(e,t),left:e.left+e.width/2-.25*t.width-Kc.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(e,t){return{top:Zc(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(e,t){return{top:Zc(e,t),left:e.left+e.width/2-.75*t.width+Kc.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(e,t){return{top:Zc(e,t),left:e.left+e.width/2-t.width+Kc.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(e,t){return{top:Zc(e,t),left:e.right-Kc.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(e,t){return{top:Zc(e,t),left:e.right-.25*t.width-Kc.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(e,t){return{top:Zc(e,t),left:e.right-t.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(e,t){return{top:Zc(e,t),left:e.right-.75*t.width+Kc.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(e,t){return{top:Zc(e,t),left:e.right-t.width+Kc.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(e,t){return{top:Jc(e),left:e.left-Kc.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(e,t){return{top:Jc(e),left:e.left-.25*t.width-Kc.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(e,t){return{top:Jc(e),left:e.left-t.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(e,t){return{top:Jc(e),left:e.left-.75*t.width+Kc.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(e,t){return{top:Jc(e),left:e.left-t.width+Kc.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(e,t){return{top:Jc(e),left:e.left+e.width/2-Kc.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(e,t){return{top:Jc(e),left:e.left+e.width/2-.25*t.width-Kc.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(e,t){return{top:Jc(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(e,t){return{top:Jc(e),left:e.left+e.width/2-.75*t.width+Kc.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(e,t){return{top:Jc(e),left:e.left+e.width/2-t.width+Kc.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(e,t){return{top:Jc(e),left:e.right-Kc.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(e,t){return{top:Jc(e),left:e.right-.25*t.width-Kc.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(e,t){return{top:Jc(e),left:e.right-t.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(e,t){return{top:Jc(e),left:e.right-.75*t.width+Kc.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(e,t){return{top:Jc(e),left:e.right-t.width+Kc.arrowHorizontalOffset,name:"arrow_ne"}}},n(51),n(53);var Qc=xo("px"),Yc=function(){$S(r,Oe);var t=KS(r);function r(e){var n;return qS(this,r),(n=t.call(this,e)).positionLimiter=function(){var e=n.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},n.set("visibleView",null),n.view=new Kc(e.locale),e.ui.view.body.add(n.view),e.ui.focusTracker.add(n.view.element),n._viewToStack=new Map,n._idToStack=new Map,n.set("_numberOfStacks",0),n.set("_singleViewMode",!1),n._rotatorView=n._createRotatorView(),n._fakePanelsView=n._createFakePanelsView(),n}return WS(r,null,[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),WS(r,[{key:"hasView",value:function(e){return Array.from(this._viewToStack.keys()).includes(e)}},{key:"add",value:function(e){if(this.hasView(e.view))throw new C.a("contextualballoon-add-view-exist",[this,e]);var t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));var n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}},{key:"remove",value:function(e){if(!this.hasView(e))throw new C.a("contextualballoon-remove-view-not-exist",[this,e]);var t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?1<this._idToStack.size?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}},{key:"updatePosition",value:function(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(e){this.visibleStack=e;e=this._idToStack.get(e);if(!e)throw new C.a("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}},{key:"_getStackId",value:function(t){return Array.from(this._idToStack.entries()).find(function(e){return e[1]===t})[0]}},{key:"_showNextStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}},{key:"_showPrevStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}},{key:"_createRotatorView",value:function(){var r=this,e=new Xc(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",function(e,t){return!t&&1<e}),e.on("change:isNavigationVisible",function(){return r.updatePosition()},{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",function(e,t){if(t<2)return"";var n=Array.from(r._idToStack.values()).indexOf(r._visibleStack)+1;return i("%0 of %1",[n,t])}),e.buttonNextView.on("execute",function(){e.focusTracker.isFocused&&r.editor.editing.view.focus(),r._showNextStack()}),e.buttonPrevView.on("execute",function(){e.focusTracker.isFocused&&r.editor.editing.view.focus(),r._showPrevStack()}),e}},{key:"_createFakePanelsView",value:function(){var e=new eu(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",function(e,t){return!t&&2<=e?Math.min(e-1,2):0}),e.listenTo(this.view,"change:top",function(){return e.updatePosition()}),e.listenTo(this.view,"change:left",function(){return e.updatePosition()}),this.editor.ui.view.body.add(e),e}},{key:"_showView",value:function(e){var t=e.view,n=e.balloonClassName,r=void 0===n?"":n,n=e.withArrow,n=void 0===n||n,e=e.singleViewMode,e=void 0!==e&&e;this.view.class=r,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),e&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var e=Array.from(this._visibleStack.values()).pop().position;return e&&!e.limiter&&(e=Object.assign({},e,{limiter:this.positionLimiter})),e}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}}]),r}(),Xc=function(){$S(i,Fl);var r=KS(i);function i(e){var t;qS(this,i),t=r.call(this,e);var n=e.t,e=t.bindTemplate;return t.set("isNavigationVisible",!0),t.focusTracker=new Eo,t.buttonPrevView=t._createButtonView(n("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),t.buttonNextView=t._createButtonView(n("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),t.content=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",e.to("isNavigationVisible",function(e){return e?"":"ck-hidden"})]},children:[t.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:e.to("counter")}]},t.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:t.content}]}),t}return WS(i,[{key:"render",value:function(){zS(YS(i.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"showView",value:function(e){this.hideView(),this.content.add(e)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(e,t){var n=new sc(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}]),i}(),eu=function(){$S(r,Fl);var n=KS(r);function r(e,t){var i;qS(this,r);e=(i=n.call(this,e)).bindTemplate;return i.set("top",0),i.set("left",0),i.set("height",0),i.set("width",0),i.set("numberOfPanels",0),i.content=i.createCollection(),i._balloonPanelView=t,i.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",e.to("numberOfPanels",function(e){return e?"":"ck-hidden"})],style:{top:e.to("top",Qc),left:e.to("left",Qc),width:e.to("width",Qc),height:e.to("height",Qc)}},children:i.content}),i.on("change:numberOfPanels",function(e,t,n,r){r<n?i._addPanels(n-r):i._removePanels(r-n),i.updatePosition()}),i}return WS(r,[{key:"_addPanels",value:function(e){for(;e--;){var t=new Fl;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}},{key:"_removePanels",value:function(e){for(;e--;){var t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}},{key:"updatePosition",value:function(){var e,t,n,r;this.numberOfPanels&&(e=(n=this._balloonPanelView).top,t=n.left,n=(r=new vo(this._balloonPanelView.element)).width,r=r.height,Object.assign(this,{top:e,left:t,width:n,height:r}))}}]),r}();n(55);var tu=xo("px"),nu=function(){$S(r,Fl);var n=KS(r);function r(e){var t;qS(this,r);e=(t=n.call(this,e)).bindTemplate;return t.set("isActive",!1),t.set("isSticky",!1),t.set("limiterElement",null),t.set("limiterBottomOffset",50),t.set("viewportTopOffset",0),t.set("_marginLeft",null),t.set("_isStickyToTheLimiter",!1),t.set("_hasViewportTopOffset",!1),t.content=t.createCollection(),t._contentPanelPlaceholder=new zl({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",function(e){return e?"block":"none"}),height:e.to("isSticky",function(e){return e?tu(t._panelRect.height):null})}}}).render(),t._contentPanel=new zl({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",function(e){return e?tu(t._contentPanelPlaceholder.getBoundingClientRect().width):null}),top:e.to("_hasViewportTopOffset",function(e){return e?tu(t.viewportTopOffset):null}),bottom:e.to("_isStickyToTheLimiter",function(e){return e?tu(t.limiterBottomOffset):null}),marginLeft:e.to("_marginLeft")}},children:t.content}).render(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[t._contentPanelPlaceholder,t._contentPanel]}),t}return WS(r,[{key:"render",value:function(){var e=this;zS(YS(r.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(gi.window,"scroll",function(){e._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",function(){e._checkIfShouldBeSticky()})}},{key:"_checkIfShouldBeSticky",value:function(){var e,t=this._panelRect=this._contentPanel.getBoundingClientRect();this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:tu(-gi.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),r}();xo("px"),n(57),xo("px"),xo("px"),n(59);var ru=new WeakMap;function iu(e,t){var e=ru.get(e),n=[],r=!1,i=HS(e);try{for(i.s();!(a=i.n()).done;){var o=BS(a.value,2),a=o[0],o=o[1];o.isDirectHost&&(n.push(a),ou(t,a,o)&&(r=!0))}}catch(e){i.e(e)}finally{i.f()}var s=HS(e);try{for(s.s();!(u=s.n()).done;){var l=BS(u.value,2),c=l[0],u=l[1];u.isDirectHost||(l=function(e){if(e.childCount){e=e.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null}(c))&&(n.includes(l)||(u.hostElement=l,ou(t,c,u)&&(r=!0)))}}catch(e){s.e(e)}finally{s.f()}return r}function ou(e,t,n){var r=n.text,i=n.isDirectHost,o=n.hostElement,a=!1;return o.getAttribute("data-placeholder")!==r&&(e.setAttribute("data-placeholder",r,o),a=!0),(i||1==t.childCount)&&function(e,t){if(e.isAttached()&&!Array.from(e.getChildren()).some(function(e){return!e.is("uiElement")})){if(t)return 1;t=e.document;if(!t.isFocused)return 1;t=t.selection.anchor;return t&&t.parent!==e}}(o,n.keepOnFocus)?(t=e,!(n=o).hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",n),1)&&(a=!0)):(e=e,(o=o).hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",o),1)&&(a=!0)),a}var au=new Map;function su(e,t,n){var r=au.get(e);r||(r=new Map,au.set(e,r)),r.set(t,n)}function lu(e){return[e]}function cu(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=function(e,t){e=au.get(e);return e&&e.has(t)?e.get(t):lu}(e.constructor,t.constructor);try{return i(e=e.clone(),t,r)}catch(e){throw e}}var uu=(WS(hu,[{key:"setOriginalOperations",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=t?this.originalOperations.get(t):null,r=HS(e);try{for(r.s();!(i=r.n()).done;){var i=i.value;this.originalOperations.set(i,n||i)}}catch(e){r.e(e)}finally{r.f()}}},{key:"updateRelation",value:function(e,t){switch(e.constructor){case Ms:switch(t.constructor){case Fs:e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter");break;case Ms:e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter")}break;case Vs:switch(t.constructor){case Fs:e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");break;case Ms:var n;e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"splitBefore"):(n=ia._createFromPositionAndShift(t.sourcePosition,t.howMany),e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)&&this._setRelation(e,t,{howMany:n.end.offset-e.splitPosition.offset,offset:e.splitPosition.offset-n.start.offset}))}break;case Fs:switch(t.constructor){case Fs:e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement");break;case Vs:e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource")}break;case Ls:var r=e.newRange;if(!r)return;switch(t.constructor){case Ms:var i=ia._createFromPositionAndShift(t.sourcePosition,t.howMany),o=i.containsPosition(r.start)||i.start.isEqual(r.start),a=i.containsPosition(r.end)||i.end.isEqual(r.end);!o&&!a||i.containsRange(r)||this._setRelation(e,t,{side:o?"left":"right",path:(o?r.start:r.end).path.slice()});break;case Fs:var s=r.start.isEqual(t.targetPosition),a=r.start.isEqual(t.deletionPosition),i=r.end.isEqual(t.deletionPosition),o=r.end.isEqual(t.sourcePosition);(s||a||i||o)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:a,wasEndBeforeMergedElement:i,wasInRightElement:o})}}}},{key:"getContext",value:function(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(e){e=this.originalOperations.get(e);return e.wasUndone||this._history.isUndoneOperation(e)}},{key:"_getRelation",value:function(e,t){t=this.originalOperations.get(t),t=this._history.getUndoneOperation(t);if(!t)return null;e=this.originalOperations.get(e),e=this._relations.get(e);return e&&e.get(t)||null}},{key:"_setRelation",value:function(e,t,n){var r=this.originalOperations.get(e),e=this.originalOperations.get(t),t=this._relations.get(r);t||(t=new Map,this._relations.set(r,t)),t.set(e,n)}}]),hu);function hu(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];qS(this,hu),this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}function du(e,t){var n,r=HS(e);try{for(r.s();!(n=r.n()).done;)n.value.baseVersion=t++}catch(e){r.e(e)}finally{r.f()}}function fu(e,t){for(var n=0;n<t;n++)e.push(new ll(0))}function pu(e,t,n){var r=e.nodes.getNode(0).getAttribute(t);if(r==n)return null;e=new ia(e.position,e.position.getShiftedBy(e.howMany));return new Is(e,t,r,n,0)}function gu(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function vu(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=new Ms(i.start,i.end.offset-i.start.offset,t,0);n.push(o);for(var a=r+1;a<e.length;a++)e[a]=e[a]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];t=t._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}su(Is,Is,function(t,e,n){if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){var r=t.range.getDifference(e.range).map(function(e){return new Is(e,t.key,t.oldValue,t.newValue,0)}),i=t.range.getIntersection(e.range);return i&&n.aIsStrong&&r.push(new Is(i,e.key,e.newValue,t.newValue,0)),0==r.length?[new ll(0)]:r}return[t]}),su(Is,Ns,function(t,e){if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){var n,r=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(function(e){return new Is(e,t.key,t.oldValue,t.newValue,t.baseVersion)});return!e.shouldReceiveAttributes||(n=pu(e,t.key,t.oldValue))&&r.unshift(n),r}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]}),su(Is,Fs,function(t,e){var n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(ia._createFromPositionAndShift(e.graveyardPosition,1));e=t.range._getTransformedByMergeOperation(e);return e.isCollapsed||n.push(e),n.map(function(e){return new Is(e,t.key,t.oldValue,t.newValue,t.baseVersion)})}),su(Is,Ms,function(t,e){return function(e,t){var n=ia._createFromPositionAndShift(t.sourcePosition,t.howMany),r=null,i=[];n.containsRange(e,!0)?r=e:e.start.hasSameParentAs(n.start)?(i=e.getDifference(n),r=e.getIntersection(n)):i=[e];var o=[],a=HS(i);try{for(a.s();!(c=a.n()).done;){var s=(s=c.value)._getTransformedByDeletion(t.sourcePosition,t.howMany),l=t.getMovedRangeStart(),c=s.start.hasSameParentAs(l);s=s._getTransformedByInsertion(l,t.howMany,c),o.push.apply(o,US(s))}}catch(e){a.e(e)}finally{a.f()}return r&&o.push(r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),o}(t.range,e).map(function(e){return new Is(e,t.key,t.oldValue,t.newValue,t.baseVersion)})}),su(Is,Vs,function(e,t){if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){var n=e.clone();return n.range=new ia(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]}),su(Ns,Is,function(e,t){var n=[e];return e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)&&((t=pu(e,t.key,t.newValue))&&n.push(t)),n}),su(Ns,Ns,function(e,t,n){return e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]}),su(Ns,Ms,function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]}),su(Ns,Vs,function(e,t){return e.position=e.position._getTransformedBySplitOperation(t),[e]}),su(Ns,Fs,function(e,t){return e.position=e.position._getTransformedByMergeOperation(t),[e]}),su(Ls,Ns,function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]}),su(Ls,Ls,function(e,t,n){if(e.name==t.name){if(!n.aIsStrong)return[new ll(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]}),su(Ls,Fs,function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]}),su(Ls,Ms,function(e,t,n){if(e.oldRange&&(e.oldRange=ia._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){var r=ia._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.start.path=n.abRelation.path,e.newRange.end=r.end,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=r.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=ia._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]}),su(Ls,Vs,function(e,t,n){if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){var r=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=Xo._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=Xo._createAt(t.moveTargetPosition)),e.newRange.end=e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?Xo._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?Xo._createAt(t.insertionPosition):r.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]}),su(Fs,Ns,function(e,t){return e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]}),su(Fs,Fs,function(e,t,n){if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){var r=t.graveyardPosition.path.slice();return r.push(0),e.sourcePosition=new Xo(t.graveyardPosition.root,r),e.howMany=0,[e]}return[new ll(0)]}if(!e.sourcePosition.isEqual(t.sourcePosition)||e.targetPosition.isEqual(t.targetPosition)||n.bWasUndone||"splitAtSource"==n.abRelation)return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e];var i="$graveyard"==e.targetPosition.root.rootName,r="$graveyard"==t.targetPosition.root.rootName;if(r&&!i||(!i||r)&&n.aIsStrong){n=t.targetPosition._getTransformedByMergeOperation(t),t=e.targetPosition._getTransformedByMergeOperation(t);return[new Ms(n,e.howMany,t,0)]}return[new ll(0)]}),su(Fs,Ms,function(e,t,n){var r=ia._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition)?[new ll(0)]:(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])}),su(Fs,Vs,function(e,t,n){if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){var r=0!=t.howMany,i=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(r||i||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||0<e.sourcePosition.offset)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}),su(Ms,Ns,function(e,t){var n=ia._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]}),su(Ms,Ms,function(e,t,n){var r,i=ia._createFromPositionAndShift(e.sourcePosition,e.howMany),o=ia._createFromPositionAndShift(t.sourcePosition,t.howMany),a=n.aIsStrong,s=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?s=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(s=!1),r=e.targetPosition.isEqual(t.targetPosition)&&s?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),gu(e,t)&&gu(t,e))return[t.getReversed()];if(i.containsPosition(t.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),vu([i],r);if(o.containsPosition(e.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),vu([i],r);s=on(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==s||"extension"==s)return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),vu([i],r);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(a=!1):a=!0;var l=[],c=HS(i.getDifference(o));try{for(c.s();!(h=c.n()).done;){var u=h.value;u.start=u.start._getTransformedByDeletion(t.sourcePosition,t.howMany),u.end=u.end._getTransformedByDeletion(t.sourcePosition,t.howMany);var h="same"==on(u.start.getParentPath(),t.getMovedRangeStart().getParentPath()),h=u._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,h);l.push.apply(l,US(h))}}catch(e){c.e(e)}finally{c.f()}n=i.getIntersection(o);return null!==n&&a&&(n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===l.length?l.push(n):1==l.length?o.start.isBefore(i.start)||o.start.isEqual(i.start)?l.unshift(n):l.push(n):l.splice(1,0,n)),0===l.length?[new ll(e.baseVersion)]:vu(l,r)}),su(Ms,Vs,function(e,t,n){var r=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=e.targetPosition._getTransformedBySplitOperation(t));var i=ia._createFromPositionAndShift(e.sourcePosition,e.howMany);if(i.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=r,[e];if(i.start.hasSameParentAs(t.splitPosition)&&i.containsPosition(t.splitPosition)){var o=(o=new ia(t.splitPosition,i.end))._getTransformedBySplitOperation(t);return vu([new ia(i.start,t.splitPosition),o],r)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(r=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(r=e.targetPosition);o=[i._getTransformedBySplitOperation(t)];return t.graveyardPosition&&(i=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition),1<e.howMany&&i&&!n.aWasUndone&&o.push(ia._createFromPositionAndShift(t.insertionPosition,1))),vu(o,r)}),su(Ms,Fs,function(e,t,n){var r=ia._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new ll(0)]}else if(!n.aWasUndone){var i=[],o=t.graveyardPosition.clone(),a=t.targetPosition._getTransformedByMergeOperation(t);1<e.howMany&&(i.push(new Ms(e.sourcePosition,e.howMany-1,e.targetPosition,0)),o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),a=a._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));var s=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),r=new Ms(o,1,s,0),n=r.getMovedRangeStart().path.slice();n.push(0);n=new Xo(r.targetPosition.root,n),a=a._getTransformedByMove(o,s,1),n=new Ms(a,t.howMany,n,0);return i.push(r),i.push(n),i}i=ia._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=i.start,e.howMany=i.end.offset-i.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]}),su(Ds,Ns,function(e,t){return e.position=e.position._getTransformedByInsertOperation(t),[e]}),su(Ds,Fs,function(e,t){return e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext"):e.position=e.position._getTransformedByMergeOperation(t),[e]}),su(Ds,Ms,function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]}),su(Ds,Ds,function(e,t,n){if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new ll(0)];e.oldName=t.newName}return[e]}),su(Ds,Vs,function(e,t){if("same"!=on(e.position.path,t.splitPosition.getParentPath())||t.graveyardPosition)return e.position=e.position._getTransformedBySplitOperation(t),[e];t=new Ds(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,t]}),su(js,js,function(e,t,n){if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new ll(0)];e.oldValue=t.newValue}return[e]}),su(Vs,Ns,function(e,t){return e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=e.insertionPosition._getTransformedByInsertOperation(t),[e]}),su(Vs,Fs,function(e,t,n){if(e.graveyardPosition||n.bWasUndone||!e.splitPosition.hasSameParentAs(t.sourcePosition))return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Vs.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e];var r=t.graveyardPosition.path.slice();r.push(0);n=new Xo(t.graveyardPosition.root,r),r=Vs.getInsertionPosition(new Xo(t.graveyardPosition.root,r)),r=new Vs(n,0,r,null,0);return e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Vs.getInsertionPosition(e.splitPosition),e.graveyardPosition=r.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[r,e]}),su(Vs,Ms,function(e,t,n){var r=ia._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){var i=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&i){var o=e.splitPosition._getTransformedByMoveOperation(t),i=e.graveyardPosition._getTransformedByMoveOperation(t),a=i.path.slice();a.push(0);a=new Xo(i.root,a);return[new Ms(o,e.howMany,a,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}a=e.splitPosition.isEqual(t.targetPosition);if(a&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=Vs.getInsertionPosition(e.splitPosition),[e];if(a&&n.abRelation&&n.abRelation.howMany){a=n.abRelation,n=a.howMany,a=a.offset;return e.howMany+=n,e.splitPosition=e.splitPosition.getShiftedBy(a),[e]}return e.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.splitPosition)?(e.howMany-=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=Vs.getInsertionPosition(e.splitPosition)):(t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.insertionPosition=e.graveyardPosition?e.insertionPosition._getTransformedByMoveOperation(t):Vs.getInsertionPosition(e.splitPosition)),[e]}),su(Vs,Vs,function(e,t,n){if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new ll(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new ll(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){var r="$graveyard"==e.splitPosition.root.rootName,i="$graveyard"==t.splitPosition.root.rootName;if(i&&!r||(!r||i)&&n.aIsStrong){i=[];return t.howMany&&i.push(new Ms(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&i.push(new Ms(e.splitPosition,e.howMany,e.moveTargetPosition,0)),i}return[new ll(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){n=t.insertionPosition.path.slice();n.push(0);n=new Xo(t.insertionPosition.root,n);return[e,new Ms(e.insertionPosition,1,n,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=Vs.getInsertionPosition(e.splitPosition),[e]});var mu=function(){$S(n,Wi);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).domEventType="click",e}return WS(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(),yu=function(){$S(n,Wi);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).domEventType=["mousedown","mouseup","mouseover","mouseout"],e}return WS(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(),ku=(WS(bu,[{key:"createDocumentFragment",value:function(e){return new jr(this.document,e)}},{key:"createElement",value:function(e,t,n){return new zn(this.document,e,t,n)}},{key:"createText",value:function(e){return new cn(this.document,e)}},{key:"clone",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return e._clone(t)}},{key:"appendChild",value:function(e,t){return t._appendChild(e)}},{key:"insertChild",value:function(e,t,n){return n._insertChild(e,t)}},{key:"removeChildren",value:function(e,t,n){return n._removeChildren(e,t)}},{key:"remove",value:function(e){var t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}},{key:"replace",value:function(e,t){var n=e.parent;if(n){e=n.getChildIndex(e);return this.removeChildren(e,1,n),this.insertChild(e,t,n),!0}return!1}},{key:"unwrapElement",value:function(e){var t,n=e.parent;n&&(t=n.getChildIndex(e),this.remove(e),this.insertChild(t,e.getChildren(),n))}},{key:"rename",value:function(e,t){e=new zn(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,e)?e:null}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){Fe(e)&&void 0===n&&(n=t),n._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"createPositionAt",value:function(e,t){return Gn._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return Gn._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Gn._createBefore(e)}},{key:"createRange",value:function(e,t){return new Zn(e,t)}},{key:"createRangeOn",value:function(e){return Zn._createOn(e)}},{key:"createRangeIn",value:function(e){return Zn._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new tr(e,t,n)}}]),bu);function bu(e){qS(this,bu),this.document=e}new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple","currentcolor","transparent"]);var _u=function(){$S(i,Al);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this,e)).view=t,n._toolbarConfig=Cc(e.config.get("toolbar")),n._elementReplacer=new so,n}return WS(i,[{key:"init",value:function(e){var t=this.view,n=this.editor.editing.view,r=t.editable,i=n.document.getRoot();r.name=i.rootName,t.render();i=r.element;this.setEditableElement(r.name,i),this.focusTracker.add(i),t.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(i),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy(),zS(YS(i.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var n,r,i,o,a,e=this.editor,t=this.view,s=e.editing.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,this._toolbarConfig.viewportTopOffset&&(t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),e={origin:s,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:t.toolbar},n=e.origin,t=e.originKeystrokeHandler,i=e.toolbar,o=e.beforeFocus,a=e.afterBlur,(r=e.originFocusTracker).add(i.element),t.set("Alt+F10",function(e,t){r.isFocused&&!i.focusTracker.isFocused&&(o&&o(),i.focus(),t())}),i.keystrokes.set("Esc",function(e,t){i.focusTracker.isFocused&&(n.focus(),a&&a(),t())})}},{key:"_initPlaceholder",value:function(){var t,e=this.editor,n=e.editing.view,r=n.document.getRoot(),i=e.sourceElement,o=e.config.get("placeholder")||i&&"textarea"===i.tagName.toLowerCase()&&i.getAttribute("placeholder");o&&(i=(e={view:n,element:r,text:o,isDirectHost:!1,keepOnFocus:!0}).view,n=e.element,r=e.text,o=void 0===(o=e.isDirectHost)||o,e=void 0!==(e=e.keepOnFocus)&&e,t=i.document,ru.has(t)||(ru.set(t,new Map),t.registerPostFixer(function(e){return iu(t,e)})),ru.get(t).set(n,{text:r,isDirectHost:o,keepOnFocus:e,hostElement:o?n:null}),i.change(function(e){return iu(t,e)}))}},{key:"element",get:function(){return this.view.element}}]),i}();n(61);var wu=function(){$S(o,Fc);var i=KS(o);function o(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return qS(this,o),(n=i.call(this,e)).stickyPanel=new nu(e),n.toolbar=new xc(e,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull}),n.editable=new Vc(e,t),n}return WS(o,[{key:"render",value:function(){zS(YS(o.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}]),o}(),Cu=function(){$S(r,Cl);var n=KS(r);function r(e,t){qS(this,r),t=n.call(this,t),Vt(e)&&(t.sourceElement=e),t.model.document.createRoot();e=!t.config.get("toolbar.shouldNotGroupWhenFull"),e=new wu(t.locale,t.editing.view,{shouldToolbarGroupWhenFull:e});return t.ui=new _u(ZS(t),e),function(e){if(!q(e.updateSourceElement))throw new C.a("attachtoform-missing-elementapi-interface",e);var t,n,r,i=e.sourceElement;i&&"textarea"===i.tagName.toLowerCase()&&i.form&&(n=i.form,r=function(){return e.updateSourceElement()},q(n.submit)&&(t=n.submit,n.submit=function(){r(),t.apply(n)}),n.addEventListener("submit",r),e.on("destroy",function(){n.removeEventListener("submit",r),t&&(n.submit=t)}))}(ZS(t)),t}return WS(r,[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),zS(YS(r.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(n){var r=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e){var t=new r(n,i);e(t.initPlugins().then(function(){return t.ui.init(Vt(n)?n:null)}).then(function(){if(!Vt(n)&&i.initialData)throw new C.a("editor-create-initial-data",null);var e,e=void 0!==i.initialData?i.initialData:Vt(e=n)?e instanceof HTMLTextAreaElement?e.value:e.innerHTML:e;return t.data.init(e)}).then(function(){return t.fire("ready")}).then(function(){return t}))})}}]),r}();Ie(Cu,{setData:function(e){this.data.set(e)},getData:function(e){return this.data.get(e)}}),Ie(Cu,pe);var xu=(WS(Au,[{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,t){this._native.setData(e,t)}},{key:"types",get:function(){return this._native.types}},{key:"effectAllowed",set:function(e){this._native.effectAllowed=e},get:function(){return this._native.effectAllowed}},{key:"dropEffect",set:function(e){this._native.dropEffect=e},get:function(){return this._native.dropEffect}},{key:"isCanceled",get:function(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}]),Au),Su=function(){$S(r,Wi);var n=KS(r);function r(e){qS(this,r);var o=(e=n.call(this,e)).document;function t(i){return function(e,t){t.preventDefault();var n=t.dropRange?[t.dropRange]:null,r=new h(o,i);o.fire(r,{dataTransfer:t.dataTransfer,method:e.name,targetRanges:n,target:t.target}),r.stop.called&&t.stopPropagation()}}return e.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],e.listenTo(o,"paste",t("clipboardInput"),{priority:"low"}),e.listenTo(o,"drop",t("clipboardInput"),{priority:"low"}),e.listenTo(o,"dragover",t("dragging"),{priority:"low"}),e}return WS(r,[{key:"onDomEvent",value:function(e){var t,n,r,i,o,a,s={dataTransfer:new xu(e.clipboardData||e.dataTransfer)};"drop"!=e.type&&"dragover"!=e.type||(s.dropRange=(t=this.view,i=(n=e).target.ownerDocument,o=n.clientX,a=n.clientY,i.caretRangeFromPoint&&i.caretRangeFromPoint(o,a)?r=i.caretRangeFromPoint(o,a):n.rangeParent&&((r=i.createRange()).setStart(n.rangeParent,n.rangeOffset),r.collapse(!0)),r?t.domConverter.domRangeToView(r):null)),this.fire(e.type,e,s)}}]),r}(),Eu=["figcaption","li"],Tu=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){this.editor.editing.view.addObserver(Su),this._setupPasteDrop(),this._setupCopyCut()}},{key:"_setupPasteDrop",value:function(){var o=this,t=this.editor,r=t.model,a=t.editing.view,e=a.document;this.listenTo(e,"clipboardInput",function(e){t.isReadOnly&&e.stop()},{priority:"highest"}),this.listenTo(e,"clipboardInput",function(e,t){var n=t.dataTransfer,r=t.content||"";r||(n.getData("text/html")?r=n.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(e,t){return 1==t.length?" ":t}):n.getData("text/plain")&&(((i=(i=n.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||i.includes("<br>"))&&(i="<p>".concat(i,"</p>")),r=i),r=o.editor.data.htmlProcessor.toView(r));var i=new h(o,"inputTransformation");o.fire(i,{content:r,dataTransfer:n,targetRanges:t.targetRanges,method:t.method}),i.stop.called&&e.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",function(e,t){var n;t.content.isEmpty||0!=(n=o.editor.data.toModel(t.content,"$clipboardHolder")).childCount&&(e.stop(),r.change(function(){o.fire("contentInsertion",{content:n,method:t.method,dataTransfer:t.dataTransfer,targetRanges:t.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",function(e,t){t.resultRange=r.insertContent(t.content)},{priority:"low"})}},{key:"_setupCopyCut",value:function(){var n=this,r=this.editor,i=r.model.document,o=r.editing.view.document;function a(e,t){var n=t.dataTransfer;t.preventDefault();t=r.data.toView(r.model.getSelectedContent(i.selection));o.fire("clipboardOutput",{dataTransfer:n,content:t,method:e.name})}this.listenTo(o,"copy",a,{priority:"low"}),this.listenTo(o,"cut",function(e,t){r.isReadOnly?t.preventDefault():a(e,t)},{priority:"low"}),this.listenTo(o,"clipboardOutput",function(e,t){t.content.isEmpty||(t.dataTransfer.setData("text/html",n.editor.data.htmlProcessor.toData(t.content)),t.dataTransfer.setData("text/plain",function e(t){var n="";if(t.is("$text")||t.is("$textProxy"))n=t.data;else if(t.is("element","img")&&t.hasAttribute("alt"))n=t.getAttribute("alt");else if(t.is("element","br"))n="\n";else{var r=null,i=HS(t.getChildren());try{for(i.s();!(a=i.n()).done;){var o=a.value,a=e(o);r&&(r.is("containerElement")||o.is("containerElement"))&&(Eu.includes(r.name)||Eu.includes(o.name)?n+="\n":n+="\n\n"),n+=a,r=o}}catch(e){i.e(e)}finally{i.f()}}return n}(t.content))),"cut"==t.method&&r.model.deleteContent(i.selection)},{priority:"low"})}}],[{key:"pluginName",get:function(){return"ClipboardPipeline"}}]),t}();function Au(e){var t,n;qS(this,Au),this.files=(n=(t=e).files?Array.from(t.files):[],t=t.items?Array.from(t.items):[],n.length?n:t.filter(function(e){return"file"===e.kind}).map(function(e){return e.getAsFile()})),this._native=e}function Pu(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=HS(n),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=11;break}if(i=i.value,e.t0=i&&t.getAttributeProperties(i[0]).copyOnEnter,e.t0)return e.next=9,i;e.next=9;break;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),r.e(e.t1);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}},o,null,[[1,13,16,19]])}var Ru=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"execute",value:function(){var c=this,u=this.editor.model,h=u.document;u.change(function(e){var t,n,r,i,o,a,s,l;t=c.editor.model,n=e,r=h.selection,i=u.schema,o=r.isCollapsed,a=r.getFirstRange(),s=a.start.parent,l=a.end.parent,i.isLimit(s)||i.isLimit(l)?o||s!=l||t.deleteContent(r):o?(o=Pu(n.model.schema,r.getAttributes()),Iu(n,a.start),n.setSelectionAttribute(o)):(a=!(a.start.isAtStart&&a.end.isAtEnd),s=s==l,t.deleteContent(r,{leaveUnmerged:a}),a&&(s?Iu(n,r.focus):n.setSelection(l,0))),c.fire("afterExecute",{writer:e})})}}]),t}();function Iu(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}var Ou=function(){$S(n,Ri);var t=KS(n);function n(e){var r;qS(this,n);var i=(r=t.call(this,e)).document;return i.on("keydown",function(e,t){var n;r.isEnabled&&t.keyCode==Er.enter&&(n=new or(i,"enter",i.selection.getFirstRange()),i.fire(n,new qi(i,t.domEvent,{isSoft:t.shiftKey})),n.stop.called&&e.stop())}),r}return WS(n,[{key:"observe",value:function(){}}]),n}(),Mu=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this.editor,r=n.editing.view,e=r.document;r.addObserver(Ou),n.commands.add("enter",new Ru(n)),this.listenTo(e,"enter",function(e,t){t.preventDefault(),t.isSoft||(n.execute("enter"),r.scrollToTheSelection())},{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),t}(),Nu=(WS(zu,[{key:"input",value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(e){this.isLocked&&!e||(this._batch=null,this.size=0)}},{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch()),this._batch}}]),zu),Lu=function(){$S(i,Le);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this,e)).direction=t,n._buffer=new Nu(e.model,e.config.get("typing.undoStep")),n}return WS(i,[{key:"execute",value:function(){var o=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=this.editor.model,l=s.document;s.enqueueChange(this._buffer.batch,function(e){o._buffer.lock();var t,n=e.createSelection(a.selection||l.selection),r=a.sequence||1,i=n.isCollapsed;n.isCollapsed&&s.modifySelection(n,{direction:o.direction,unit:a.unit}),o._shouldEntireContentBeReplacedWithParagraph(r)?o._replaceEntireContentWithParagraph(e):o._shouldReplaceFirstBlockWithParagraph(n,r)?o.editor.execute("paragraph",{selection:n}):n.isCollapsed||(t=0,n.getFirstRange().getMinimalFlatRanges().forEach(function(e){t+=er(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),s.deleteContent(n,{doNotResetEntireContent:i,direction:o.direction}),o._buffer.input(t),e.setSelection(n),o._buffer.unlock())})}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(e){if(1<e)return!1;var t=this.editor.model,n=t.document.selection,e=t.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(e))return!1;if(!t.schema.checkChild(e,"paragraph"))return!1;e=e.getChild(0);return!e||"paragraph"!==e.name}},{key:"_replaceEntireContentWithParagraph",value:function(e){var t=this.editor.model,n=t.schema.getLimitElement(t.document.selection),t=e.createElement("paragraph");e.remove(e.createRangeIn(n)),e.insert(t,n),e.setSelection(t,0)}},{key:"_shouldReplaceFirstBlockWithParagraph",value:function(e,t){var n=this.editor.model;if(1<t||"backward"!=this.direction)return!1;if(!e.isCollapsed)return!1;var r=e.getFirstPosition(),i=n.schema.getLimitElement(r),t=i.getChild(0);return r.parent==t&&!!e.containsEntireContent(t)&&!!n.schema.checkChild(i,"paragraph")&&"paragraph"!=t.name}},{key:"buffer",get:function(){return this._buffer}}]),i}(),Du=function(){$S(n,Ri);var t=KS(n);function n(i){var e;qS(this,n),e=t.call(this,i);var o=i.document,r=0;function a(e,t,n){var r=new or(o,"delete",o.selection.getFirstRange());o.fire(r,new qi(o,t,n)),r.stop.called&&e.stop()}return o.on("keyup",function(e,t){t.keyCode!=Er.delete&&t.keyCode!=Er.backspace||(r=0)}),o.on("keydown",function(e,t){var n={};if(t.keyCode==Er.delete)n.direction="forward",n.unit="character";else{if(t.keyCode!=Er.backspace)return;n.direction="backward",n.unit="codePoint"}n.unit=(yr?t.altKey:t.ctrlKey)?"word":n.unit,n.sequence=++r,a(e,t.domEvent,n)}),_r&&o.on("beforeinput",function(e,t){var n,r;"deleteContentBackward"==t.domEvent.inputType&&(n={unit:"codepoint",direction:"backward",sequence:1},(r=t.domTarget.ownerDocument.defaultView.getSelection()).anchorNode==r.focusNode&&r.anchorOffset+1!=r.focusOffset&&(n.selectionToRemove=i.domConverter.domSelectionToView(r)),a(e,t.domEvent,n))}),e}return WS(n,[{key:"observe",value:function(){}}]),n}(),ju=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var s=this.editor,l=s.editing.view,e=l.document;l.addObserver(Du);var n,t=new Lu(s,"forward");s.commands.add("deleteForward",t),s.commands.add("forwardDelete",t),s.commands.add("delete",new Lu(s,"backward")),this.listenTo(e,"delete",function(e,t){var n={unit:t.unit,sequence:t.sequence};if(t.selectionToRemove){var r=s.model.createSelection(),i=[],o=HS(t.selectionToRemove.getRanges());try{for(o.s();!(a=o.n()).done;){var a=a.value;i.push(s.editing.mapper.toModelRange(a))}}catch(e){o.e(e)}finally{o.f()}r.setTo(i),n.selection=r}s.execute("forward"==t.direction?"deleteForward":"delete",n),t.preventDefault(),l.scrollToTheSelection()},{priority:"low"}),_r&&(n=null,this.listenTo(e,"delete",function(e,t){t=t.domTarget.ownerDocument.defaultView.getSelection();n={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}},{priority:"lowest"}),this.listenTo(e,"keyup",function(e,t){n&&((t=t.domTarget.ownerDocument.defaultView.getSelection()).collapse(n.anchorNode,n.anchorOffset),t.extend(n.focusNode,n.focusOffset),n=null)}))}}],[{key:"pluginName",get:function(){return"Delete"}}]),t}(),Fu=(WS(Vu,[{key:"add",value:function(e,t){var n=this._stack,r=n[0];this._insertDescriptor(e);n=n[0];r===n||Bu(r,n)||this.fire("change:top",{oldDescriptor:r,newDescriptor:n,writer:t})}},{key:"remove",value:function(e,t){var n=this._stack,r=n[0];this._removeDescriptor(e);n=n[0];r===n||Bu(r,n)||this.fire("change:top",{oldDescriptor:r,newDescriptor:n,writer:t})}},{key:"_insertDescriptor",value:function(t){var e,n,r=this._stack,i=r.findIndex(function(e){return e.id===t.id});if(!Bu(t,r[i])){-1<i&&r.splice(i,1);for(var o=0;r[o]&&(e=r[o],n=t,e.priority>n.priority||!(e.priority<n.priority)&&Hu(e.classes)>Hu(n.classes));)o++;r.splice(o,0,t)}}},{key:"_removeDescriptor",value:function(t){var e=this._stack,n=e.findIndex(function(e){return e.id===t});-1<n&&e.splice(n,1)}}]),Vu);function Vu(){qS(this,Vu),this._stack=[]}function zu(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20;qS(this,zu),this.model=e,this.size=0,this.limit=t,this.isLocked=!1,this._changeCallback=function(e,t){"transparent"!=t.type&&t!==n._batch&&n._reset(!0)},this._selectionChangeCallback=function(){n._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}function Bu(e,t){return e&&t&&e.priority==t.priority&&Hu(e.classes)==Hu(t.classes)}function Hu(e){return Array.isArray(e)?e.sort().join(","):e}function Uu(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function qu(e,t,n){var r,i=2<arguments.length&&void 0!==n?n:{};if(!e.is("containerElement"))throw new C.a("widget-to-widget-wrong-element-type",null,{element:e});return t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=Yu,i.label&&(r=i.label,t.setCustomProperty("widgetLabel",r,e)),i.hasSelectionHandle&&(n=e,i=(r=t).createUIElement("div",{class:"ck ck-widget__selection-handle"},function(e){var t=this.toDomElement(e),e=new oc;return e.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),e.render(),t.appendChild(e.element),t}),r.insert(r.createPositionAt(n,0),i),r.addClass(["ck-widget_with-selection-handle"],n)),Ku(e,t,Wu,$u),e}function Wu(e,t,n){if(t.classes&&n.addClass(Zt(t.classes),e),t.attributes)for(var r in t.attributes)n.setAttribute(r,t.attributes[r],e)}function $u(e,t,n){if(t.classes&&n.removeClass(Zt(t.classes),e),t.attributes)for(var r in t.attributes)n.removeAttribute(r,e)}function Ku(n,e,r,i){var o=new Fu;o.on("change:top",function(e,t){t.oldDescriptor&&i(n,t.oldDescriptor,t.writer),t.newDescriptor&&r(n,t.newDescriptor,t.writer)}),e.setCustomProperty("addHighlight",function(e,t,n){return o.add(t,n)},n),e.setCustomProperty("removeHighlight",function(e,t,n){return o.remove(t,n)},n)}function Gu(r,i){return i.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),i.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",function(e,t,n){i.setAttribute("contenteditable",n?"false":"true",r)}),r.on("change:isFocused",function(e,t,n){n?i.addClass("ck-editor__nested-editable_focused",r):i.removeClass("ck-editor__nested-editable_focused",r)}),r}function Zu(e,t){var n=e.getSelectedElement();if(n){var r=eh(e);if(r)return t.createPositionAt(n,r);if(t.schema.isBlock(n))return t.createPositionAfter(n)}r=e.getSelectedBlocks().next().value;if(r){if(r.isEmpty)return t.createPositionAt(r,0);n=t.createPositionAfter(r);return e.focus.isTouching(n)?n:t.createPositionBefore(r)}return e.focus}function Ju(e,t){e=e.getSelectedElement();return e&&t.isObject(e)}function Qu(e,t){var n=new vo(gi.window),r=n.getIntersection(e),i=t.height+Kc.arrowVerticalOffset;if(e.top-i>n.top||e.bottom+i<n.bottom)return null;r=r||e,t=r.left+r.width/2-t.width/2;return{top:Math.max(e.top,0)+Kc.arrowVerticalOffset,left:t,name:"arrow_n"}}function Yu(){return null}function Xu(e,t,n){return e&&Uu(e)&&!n.isInline(t)}function eh(e){return e.getAttribute("widget-type-around")}Ie(Fu,c);for(var th=[Ar("arrowUp"),Ar("arrowRight"),Ar("arrowDown"),Ar("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],nh=112;nh<=135;nh++)th.push(nh);function rh(e){return e.ctrlKey||e.metaKey||th.includes(e.keyCode)}n(63);var ih=["before","after"],oh=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,ah=function(){$S(n,Oe);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e))._currentFakeCaretModelElement=null,e}return WS(n,null,[{key:"pluginName",get:function(){return"WidgetTypeAround"}},{key:"requires",get:function(){return[Mu,ju]}}]),WS(n,[{key:"init",value:function(){var n=this.editor,i=n.editing.view;this.on("change:isEnabled",function(e,t,r){i.change(function(e){var t=HS(i.document.roots);try{for(t.s();!(n=t.n()).done;){var n=n.value;r?e.removeClass("ck-widget__type-around_disabled",n):e.addClass("ck-widget__type-around_disabled",n)}}catch(e){t.e(e)}finally{t.f()}}),r||n.model.change(function(e){e.removeSelectionAttribute("widget-type-around")})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableDeleteContentIntegration()}},{key:"destroy",value:function(){this._currentFakeCaretModelElement=null}},{key:"_insertParagraph",value:function(e,t){var n=this.editor,r=n.editing.view;n.execute("insertParagraph",{position:n.model.createPositionAt(e,t)}),r.focus(),r.scrollToTheSelection()}},{key:"_listenToIfEnabled",value:function(e,t,n,r){var i=this;this.listenTo(e,t,function(){i.isEnabled&&n.apply(void 0,arguments)},r)}},{key:"_insertParagraphAccordingToFakeCaretPosition",value:function(){var e=this.editor.model.document.selection,t=eh(e);if(!t)return!1;e=e.getSelectedElement();return this._insertParagraph(e,t),!0}},{key:"_enableTypeAroundUIInjection",value:function(){var e=this.editor,o=e.model.schema,t=e.locale.t,a={before:t("Insert paragraph before block"),after:t("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",function(e,t,n){var r,i=n.mapper.toViewElement(t.item);Xu(i,t.item,o)&&(t=n.writer,r=a,n=i,i=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(e){var t,n=this.toDomElement(e);return function(e,t){var n=HS(ih);try{for(n.s();!(r=n.n()).done;){var r=r.value,r=new zl({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+r],title:t[r]},children:[e.ownerDocument.importNode(oh,!0)]});e.appendChild(r.render())}}catch(e){n.e(e)}finally{n.f()}}(n,r),t=n,e=new zl({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}}),t.appendChild(e.render()),n}),t.insert(t.createPositionAt(n,"end"),i))},{priority:"low"})}},{key:"_enableTypeAroundFakeCaretActivationUsingKeyboardArrows",value:function(){var o=this,r=this.editor,e=r.model,t=e.document.selection,a=e.schema;function s(e){return"ck-widget_type-around_show-fake-caret_"+e}this._listenToIfEnabled(r.editing.view.document,"arrowKey",function(e,t){o._handleArrowKeyPress(e,t)},{context:[Uu,"$text"],priority:"high"}),this._listenToIfEnabled(t,"change:range",function(e,t){t.directChange&&r.model.change(function(e){e.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(e.document,"change:data",function(){var e=t.getSelectedElement();e&&Xu(r.editing.mapper.toViewElement(e),e,a)||r.model.change(function(e){e.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(r.editing.downcastDispatcher,"selection",function(e,t,n){var r=n.writer;!o._currentFakeCaretModelElement||(i=n.mapper.toViewElement(o._currentFakeCaretModelElement))&&(r.removeClass(ih.map(s),i),o._currentFakeCaretModelElement=null);var i=t.selection.getSelectedElement();i&&(!Xu(n=n.mapper.toViewElement(i),i,a)||(t=eh(t.selection))&&(r.addClass(s(t),n),o._currentFakeCaretModelElement=i))}),this._listenToIfEnabled(r.ui.focusTracker,"change:isFocused",function(e,t,n){n||r.model.change(function(e){e.removeSelectionAttribute("widget-type-around")})})}},{key:"_handleArrowKeyPress",value:function(e,t){var n,r=this.editor,i=r.model,o=i.document.selection,a=i.schema,s=r.editing.view,i=Or(t.keyCode,r.locale.contentLanguageDirection),s=s.document.selection.getSelectedElement();Xu(s,r.editing.mapper.toModelElement(s),a)?n=this._handleArrowKeyPressOnSelectedWidget(i):o.isCollapsed&&(n=this._handleArrowKeyPressWhenSelectionNextToAWidget(i)),n&&(t.preventDefault(),e.stop())}},{key:"_handleArrowKeyPressOnSelectedWidget",value:function(t){var e=this.editor.model,n=eh(e.document.selection);return e.change(function(e){return n?n!==(t?"after":"before")&&(e.removeSelectionAttribute("widget-type-around"),!0):(e.setSelectionAttribute("widget-type-around",t?"after":"before"),!0)})}},{key:"_handleArrowKeyPressWhenSelectionNextToAWidget",value:function(t){var e=this.editor,n=e.model,r=n.schema,i=e.plugins.get("Widget"),o=i._getObjectElementNextToSelection(t);return!!Xu(e.editing.mapper.toViewElement(o),o,r)&&(n.change(function(e){i._setSelectionOverElement(o),e.setSelectionAttribute("widget-type-around",t?"before":"after")}),!0)}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var o=this,a=this.editor,s=a.editing.view;this._listenToIfEnabled(s.document,"mousedown",function(e,t){var n,r,i=t.domTarget.closest(".ck-widget__type-around__button");i&&(n=i.classList.contains("ck-widget__type-around__button_before")?"before":"after",r=s.domConverter,i=i.closest(".ck-widget"),i=r.mapDomToView(i),i=a.editing.mapper.toModelElement(i),o._insertParagraph(i,n),t.preventDefault(),e.stop())})}},{key:"_enableInsertingParagraphsOnEnterKeypress",value:function(){var a=this,s=this.editor,l=s.model.document.selection;this._listenToIfEnabled(s.editing.view.document,"enter",function(e,t){var n,r,i,o;"atTarget"==e.eventPhase&&(r=l.getSelectedElement(),i=s.editing.mapper.toViewElement(r),o=s.model.schema,a._insertParagraphAccordingToFakeCaretPosition()?n=!0:Xu(i,r,o)&&(a._insertParagraph(r,t.isSoft?"before":"after"),n=!0),n&&(t.preventDefault(),e.stop()))},{context:Uu})}},{key:"_enableInsertingParagraphsOnTypingKeystroke",value:function(){var n=this,r=[Er.enter,Er.delete,Er.backspace];this._listenToIfEnabled(this.editor.editing.view.document,"keydown",function(e,t){r.includes(t.keyCode)||rh(t)||n._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}},{key:"_enableDeleteIntegration",value:function(){var s=this.editor,l=s.model,c=l.schema;this._listenToIfEnabled(s.editing.view.document,"delete",function(e,t){var n,r,i,o,a;"atTarget"!=e.eventPhase||(a=eh(l.document.selection))&&(n=t.direction,r=l.document.selection.getSelectedElement(),"before"===a==(i="forward"==n)?s.execute("delete",{selection:l.createSelection(r,"on")}):(o=c.getNearestSelectionRange(l.createPositionAt(r,a),n))&&(o.isCollapsed?(a=l.createSelection(o.start),l.modifySelection(a,{direction:n}),a.focus.isEqual(o.start)?(a=function(e,t){var n=t,r=HS(t.getAncestors({parentFirst:!0}));try{for(r.s();!(i=r.n()).done;){var i=i.value;if(1<i.childCount||e.isLimit(i))break;n=i}}catch(e){r.e(e)}finally{r.f()}return n}(c,o.start.parent),l.deleteContent(l.createSelection(a,"on"),{doNotAutoparagraph:!0})):l.change(function(e){e.setSelection(o),s.execute(i?"deleteForward":"delete")})):l.change(function(e){e.setSelection(o),s.execute(i?"deleteForward":"delete")})),t.preventDefault(),e.stop())},{context:Uu})}},{key:"_enableInsertContentIntegration",value:function(){var o=this.editor.model,a=o.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",function(e,t){var t=BS(t,2),r=t[0],t=t[1];if(!t||t.is("documentSelection")){var i=eh(a);return i?(e.stop(),o.change(function(e){var t=a.getSelectedElement(),n=o.createPositionAt(t,i),t=e.createSelection(n),n=o.insertContent(r,t);return e.setSelection(t),n})):void 0}},{priority:"high"})}},{key:"_enableDeleteContentIntegration",value:function(){var n=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",function(e,t){t=BS(t,1)[0];t&&!t.is("documentSelection")||eh(n)&&e.stop()},{priority:"high"})}}]),n}();function sh(e,t,n){var r=e.schema,i="forward"==n?"elementStart":"elementEnd",o=HS(e.createRangeIn(t.root).getWalker({startPosition:t,direction:n}));try{for(o.s();!(l=o.n()).done;){var a=l.value,s=a.previousPosition,l=a.item,a=a.type;if(r.isLimit(l)&&!r.isInline(l))return s;if(a==i&&r.isBlock(l))return null}}catch(e){o.e(e)}finally{o.f()}return null}function lh(e,t,n){var r="backward"==n?t.end:t.start;if(e.checkChild(r,"$text"))return r;var i=HS(t.getWalker({direction:n}));try{for(i.s();!(o=i.n()).done;){var o=o.value.nextPosition;if(e.checkChild(o,"$text"))return o}}catch(e){i.e(e)}finally{i.f()}}n(65);var ch=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var a,s,f=this,e=this.editor.editing.view,t=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",function(e,t,n){f._clearPreviouslySelectedWidgets(n.writer);var r,i,o=n.writer,a=o.document.selection,s=a.getSelectedElement(),l=null,c=HS(a.getRanges());try{for(c.s();!(r=c.n()).done;){var u,h=HS(r.value);try{for(h.s();!(u=h.n()).done;){var d=u.value.item;!Uu(d)||(i=d,(u=l)&&Array.from(i.getAncestors()).includes(u))||(o.addClass("ck-widget_selected",d),f._previouslySelected.add(d),(l=d)==s&&o.setSelection(a.getRanges(),{fake:!0,label:(d=(d=s).getCustomProperty("widgetLabel"))?"function"==typeof d?d():d:""}))}}catch(e){h.e(e)}finally{h.f()}}}catch(e){c.e(e)}finally{c.f()}},{priority:"low"}),e.addObserver(yu),this.listenTo(t,"mousedown",function(){return f._onMousedown.apply(f,arguments)}),this.listenTo(t,"arrowKey",function(){f._handleSelectionChangeOnArrowKeyPress.apply(f,arguments)},{context:[Uu,"$text"]}),this.listenTo(t,"arrowKey",function(){f._preventDefaultOnArrowKeyPress.apply(f,arguments)},{context:"$root"}),this.listenTo(t,"arrowKey",(a=this.editor.editing,s=a.model,function(e,t){var l,r,n=t.keyCode==Er.arrowdown,i=t.shiftKey,o=s.document.selection;t.keyCode!=Er.arrowup&&!n||(l=n,i&&!o.isCollapsed&&o.isBackward==l||(r=function(e){var t=a.model;if(l){var n=e.isCollapsed?e.focus:e.getLastPosition(),r=sh(t,n,"forward");if(!r)return null;r=t.createRange(n,r),r=lh(t.schema,r,"backward");return r&&n.isBefore(r)?t.createRange(n,r):null}r=e.isCollapsed?e.focus:e.getFirstPosition(),e=sh(t,r,"backward");if(!e)return null;e=t.createRange(e,r),e=lh(t.schema,e,"forward");return e&&r.isAfter(e)?t.createRange(e,r):null}(o))&&!r.isCollapsed&&function(e,t){var n,r=e.model,i=e.view.domConverter;l&&(n=r.createSelection(t.start),r.modifySelection(n),n.focus.isAtEnd||t.start.isEqual(n.focus)||(t=r.createRange(n.focus,t.end)));var o,t=e.mapper.toViewRange(t),t=i.viewRangeToDom(t),a=HS(vo.getDomRangeRects(t));try{for(a.s();!(s=a.n()).done;){var s=s.value;if(void 0!==o){if(Math.round(s.top)>=o)return;o=Math.max(o,Math.round(s.bottom))}else o=Math.round(s.bottom)}}catch(e){a.e(e)}finally{a.f()}return 1}(a,r)&&(s.change(function(e){var t,n=l?r.end:r.start;i?((t=s.createSelection(o.anchor)).setFocus(n),e.setSelection(t)):e.setSelection(n)}),e.stop(),t.preventDefault(),t.stopPropagation()))}),{context:"$text"}),this.listenTo(t,"delete",function(e,t){f._handleDelete("forward"==t.direction)&&(t.preventDefault(),e.stop())},{context:"$root"})}},{key:"_onMousedown",value:function(e,t){var n,r=this.editor,i=r.editing.view,o=i.document,a=t.target;!function(e){for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return 1;if(Uu(e))return;e=e.parent}}(a)?(Uu(a)||(a=a.findAncestor(Uu)))&&(_r&&t.preventDefault(),o.isFocused||i.focus(),i=r.editing.mapper.toModelElement(a),this._setSelectionOverElement(i)):(br||kr)&&3<=t.domEvent.detail&&(r=r.editing.mapper,a=a.is("attributeElement")?a.findAncestor(function(e){return!e.is("attributeElement")}):a,n=r.toModelElement(a),t.preventDefault(),this.editor.model.change(function(e){e.setSelection(n,"in")}))}},{key:"_handleSelectionChangeOnArrowKeyPress",value:function(e,t){var n,r=t.keyCode,i=this.editor.model,o=i.schema,a=i.document.selection,s=a.getSelectedElement(),r=Or(r,this.editor.locale.contentLanguageDirection);s&&o.isObject(s)?(s=r?a.getLastPosition():a.getFirstPosition(),(n=o.getNearestSelectionRange(s,r?"forward":"backward"))&&(i.change(function(e){e.setSelection(n)}),t.preventDefault(),e.stop())):!a.isCollapsed||(r=this._getObjectElementNextToSelection(r))&&o.isObject(r)&&(this._setSelectionOverElement(r),t.preventDefault(),e.stop())}},{key:"_preventDefaultOnArrowKeyPress",value:function(e,t){var n=this.editor.model,r=n.schema,n=n.document.selection.getSelectedElement();n&&r.isObject(n)&&(t.preventDefault(),e.stop())}},{key:"_handleDelete",value:function(e){var r=this;if(!this.editor.isReadOnly){var i=this.editor.model.document.selection;if(i.isCollapsed){var o=this._getObjectElementNextToSelection(e);return o?(this.editor.model.change(function(e){for(var t=i.anchor.parent;t.isEmpty;){var n=t,t=n.parent;e.remove(n)}r._setSelectionOverElement(o)}),!0):void 0}}}},{key:"_setSelectionOverElement",value:function(t){this.editor.model.change(function(e){e.setSelection(e.createRangeOn(t))})}},{key:"_getObjectElementNextToSelection",value:function(e){var t=this.editor.model,n=t.schema,r=t.createSelection(t.document.selection);t.modifySelection(r,{direction:e?"forward":"backward"});r=e?r.focus.nodeBefore:r.focus.nodeAfter;return r&&n.isObject(r)?r:null}},{key:"_clearPreviouslySelectedWidgets",value:function(e){var t=HS(this._previouslySelected);try{for(t.s();!(n=t.n()).done;){var n=n.value;e.removeClass("ck-widget_selected",n)}}catch(e){t.e(e)}finally{t.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[ah,ju]}}]),t}();function uh(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return k(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),to(e,t,{leading:r,maxWait:t,trailing:i})}n(67);var hh=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var r=this,e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=uh(function(e){return r._updateDropMarker(e)},40),this._removeDropMarkerDelayed=ph(function(){return r._removeDropMarker()},40),this._clearDraggableAttributesDelayed=ph(function(){return r._clearDraggableAttributes()},40),t.addObserver(Su),t.addObserver(yu),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",function(e,t,n){n?r.forceDisabled("readOnlyMode"):r.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",function(e,t,n){n||r._finalizeDragging(!1)}),_r&&this.forceDisabled("noAndroidSupport")}},{key:"destroy",value:function(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),zS(YS(t.prototype),"destroy",this).call(this)}},{key:"_setupDragging",value:function(){var o=this,a=this.editor,s=a.model,l=s.document,e=a.editing.view,c=e.document;this.listenTo(c,"dragstart",function(e,t){var n,r,i=l.selection;t.target&&t.target.is("editableElement")?t.preventDefault():((n=t.target?gh(t.target):null)?(r=a.editing.mapper.toModelElement(n),o._draggedRange=ka.fromRange(s.createRangeOn(r))):c.selection.isCollapsed||((r=c.selection.getSelectedElement())&&Uu(r)||(o._draggedRange=ka.fromRange(i.getFirstRange()))),o._draggedRange?(o._draggingUid=u(),t.dataTransfer.effectAllowed=o.isEnabled?"copyMove":"copy",t.dataTransfer.setData("application/ckeditor5-dragging-uid",o._draggingUid),i=s.createSelection(o._draggedRange.toRange()),i=a.data.toView(s.getSelectedContent(i)),c.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:i,method:e.name}),o.isEnabled||(o._draggedRange.detach(),o._draggedRange=null,o._draggingUid="")):t.preventDefault())},{priority:"low"}),this.listenTo(c,"dragend",function(e,t){o._finalizeDragging(!t.dataTransfer.isCanceled&&"move"==t.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(c,"dragenter",function(){o.isEnabled&&e.focus()}),this.listenTo(c,"dragleave",function(){o._removeDropMarkerDelayed()}),this.listenTo(c,"dragging",function(e,t){var n;o.isEnabled?(o._removeDropMarkerDelayed.cancel(),n=dh(a,t.targetRanges,t.target),o._draggedRange||(t.dataTransfer.dropEffect="copy"),kr||("copy"==t.dataTransfer.effectAllowed?t.dataTransfer.dropEffect="copy":["all","copyMove"].includes(t.dataTransfer.effectAllowed)&&(t.dataTransfer.dropEffect="move")),n&&o._updateDropMarkerThrottled(n)):t.dataTransfer.dropEffect="none"},{priority:"low"})}},{key:"_setupClipboardInputIntegration",value:function(){var r=this,i=this.editor;this.listenTo(i.editing.view.document,"clipboardInput",function(e,t){if("drop"==t.method){var n=dh(i,t.targetRanges,t.target);return r._removeDropMarker(),n?(r._draggedRange&&r._draggingUid!=t.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(r._draggedRange.detach(),r._draggedRange=null,r._draggingUid=""),"move"==fh(t.dataTransfer)&&r._draggedRange&&r._draggedRange.containsRange(n,!0)?(r._finalizeDragging(!1),void e.stop()):void(t.targetRanges=[i.editing.mapper.toViewRange(n)])):(r._finalizeDragging(!1),void e.stop())}},{priority:"high"})}},{key:"_setupContentInsertionIntegration",value:function(){var r=this,e=this.editor.plugins.get(Tu);e.on("contentInsertion",function(e,t){var n;r.isEnabled&&"drop"===t.method&&(n=t.targetRanges.map(function(e){return r.editor.editing.mapper.toModelRange(e)}),r.editor.model.change(function(e){return e.setSelection(n)}))},{priority:"high"}),e.on("contentInsertion",function(e,t){var n;r.isEnabled&&"drop"===t.method&&(n="move"==fh(t.dataTransfer),r._finalizeDragging((!t.resultRange||!t.resultRange.isCollapsed)&&n))},{priority:"lowest"})}},{key:"_setupDraggableAttributeHandling",value:function(){var r=this,i=this.editor,o=i.editing.view,a=o.document;this.listenTo(a,"mousedown",function(e,t){var n;!_r&&t&&(r._clearDraggableAttributesDelayed.cancel(),n=gh(t.target),!wr||i.isReadOnly||n||a.selection.isCollapsed||((t=a.selection.getSelectedElement())&&Uu(t)||(n=a.selection.editableElement)),n&&(o.change(function(e){e.setAttribute("draggable","true",n)}),r._draggableElement=i.editing.mapper.toModelElement(n)))}),this.listenTo(a,"mouseup",function(){_r||r._clearDraggableAttributesDelayed()})}},{key:"_clearDraggableAttributes",value:function(){var t=this,n=this.editor.editing;n.view.change(function(e){t._draggableElement&&"$graveyard"!=t._draggableElement.root.rootName&&e.removeAttribute("draggable",n.mapper.toViewElement(t._draggableElement)),t._draggableElement=null})}},{key:"_setupDropMarker",value:function(){var n=this.editor;n.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),n.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:function(e,t){t=t.writer;if(n.model.schema.checkChild(e.markerRange.start,"$text"))return t.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(e){e=this.toDomElement(e);return e.innerHTML="&NoBreak;<span></span>&NoBreak;",e})}})}},{key:"_updateDropMarker",value:function(t){var e=this.editor,n=e.model.markers;e.model.change(function(e){n.has("drop-target")?n.get("drop-target").getRange().isEqual(t)||e.updateMarker("drop-target",{range:t}):e.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}},{key:"_removeDropMarker",value:function(){var e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(function(e){e.removeMarker("drop-target")})}},{key:"_finalizeDragging",value:function(e){var t=this.editor.model;this._removeDropMarker(),this._clearDraggableAttributes(),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&t.deleteContent(t.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}],[{key:"pluginName",get:function(){return"DragDrop"}},{key:"requires",get:function(){return[Tu,ch]}}]),t}();function dh(i,e,t){var n=i.model,r=i.editing.mapper,o=null,e=e?e[0].start:null;if(t.is("uiElement")&&(t=t.parent),o=function(e){var t=i.model,n=i.editing.mapper;if(Uu(e))return t.createRangeOn(n.toModelElement(e));if(!e.is("editableElement")){e=e.findAncestor(function(e){return Uu(e)||e.is("editableElement")});if(Uu(e))return t.createRangeOn(n.toModelElement(e))}return null}(t))return o;t=function(e){var t=i.editing.mapper,n=i.editing.view,r=t.toModelElement(e);if(r)return r;e=n.createPositionBefore(e),e=t.findMappedViewAncestor(e);return t.toModelElement(e)}(t),e=e?r.toModelPosition(e):null;return e?(o=function(e,t){var n=i.model;if(!n.schema.checkChild(t,"$block"))return null;t=n.createPositionAt(t,0),t=e.path.slice(0,t.path.length),t=n.createPositionFromPath(e.root,t).nodeAfter;return t&&n.schema.isObject(t)?n.createRangeOn(t):null}(e,t))||(o=n.schema.getNearestSelectionRange(e,kr?"forward":"backward"))||function(e){for(var t=i.model;e;){if(t.schema.isObject(e))return t.createRangeOn(e);e=e.parent}}(e.parent):(o=i.model,e=o.schema,o=o.createPositionAt(t,0),e.getNearestSelectionRange(o,"forward"))}function fh(e){return kr?e.dropEffect:["all","copyMove"].includes(e.effectAllowed)?"move":"copy"}function ph(r,i){var o;function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.cancel(),o=setTimeout(function(){return r.apply(void 0,t)},i)}return a.cancel=function(){clearTimeout(o)},a}function gh(e){if(e.is("editableElement"))return null;if(e.hasClass("ck-widget__selection-handle"))return e.findAncestor(Uu);if(Uu(e))return e;e=e.findAncestor(function(e){return Uu(e)||e.is("editableElement")});return Uu(e)?e:null}var vh=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor,o=e.model,t=e.editing.view,n=t.document,a=o.document.selection,r=!1;t.addObserver(Su),this.listenTo(n,"keydown",function(e,t){r=t.shiftKey}),e.plugins.get(Tu).on("contentInsertion",function(e,i){(r||function(e,t){if(!(1<e.childCount)){e=e.getChild(0);return!t.isObject(e)&&0==US(e.getAttributeKeys()).length}}(i.content,o.schema))&&o.change(function(e){var t=Array.from(a.getAttributes()).filter(function(e){e=BS(e,1)[0];return o.schema.getAttributeProperties(e).isFormatting});a.isCollapsed||o.deleteContent(a,{doNotAutoparagraph:!0}),t.push.apply(t,US(a.getAttributes()));var n=HS(e.createRangeIn(i.content).getItems());try{for(n.s();!(r=n.n()).done;){var r=r.value;r.is("$textProxy")&&e.setAttributes(t,r)}}catch(e){n.e(e)}finally{n.f()}})})}}],[{key:"pluginName",get:function(){return"PastePlainText"}},{key:"requires",get:function(){return[Tu]}}]),t}(),mh=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"pluginName",get:function(){return"Clipboard"}},{key:"requires",get:function(){return[Tu,hh,vh]}}]),t}(),yh=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"execute",value:function(){var l=this,c=this.editor.model,u=c.document;c.change(function(e){var t,n,r,i,o,a,s;t=c,n=e,r=u.selection,i=r.isCollapsed,o=r.getFirstRange(),a=o.end.parent,s=o.start.parent==a,i?(i=Pu(t.schema,r.getAttributes()),kh(t,n,o.end),n.removeSelectionAttribute(r.getAttributeKeys()),n.setSelectionAttribute(i)):(o=!(o.start.isAtStart&&o.end.isAtEnd),t.deleteContent(r,{leaveUnmerged:o}),s?kh(t,n,r.focus):o&&n.setSelection(a,0)),l.fire("afterExecute",{writer:e})})}},{key:"refresh",value:function(){var e=this.editor.model;this.isEnabled=function(e,t){if(1<t.rangeCount)return!1;var n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;n=t.getFirstRange(),t=n.start.parent,n=n.end.parent;return!bh(t,e)&&!bh(n,e)||t===n}(e.schema,e.document.selection)}}]),t}();function kh(e,t,n){var r=t.createElement("softBreak");e.insertContent(r,n),t.setSelection(r,"after")}function bh(e,t){return!e.is("rootElement")&&(t.isLimit(e)||bh(e.parent,t))}var _h=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this.editor,e=n.conversion,r=n.editing.view,t=r.document;n.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),e.for("upcast").elementToElement({model:"softBreak",view:"br"}),e.for("downcast").elementToElement({model:"softBreak",view:function(e,t){return t.writer.createEmptyElement("br")}}),r.addObserver(Ou),n.commands.add("shiftEnter",new yh(n)),this.listenTo(t,"enter",function(e,t){t.preventDefault(),t.isSoft&&(n.execute("shiftEnter"),r.scrollToTheSelection())},{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),t}(),wh=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"execute",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!Ch(e.schema,n))do{if(!(n=n.parent))return}while(!Ch(e.schema,n));e.change(function(e){e.setSelection(n,"in")})}}]),t}();function Ch(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}var xh=Pr("Ctrl+A"),Sh=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this.editor,e=n.editing.view.document;n.commands.add("selectAll",new wh(n)),this.listenTo(e,"keydown",function(e,t){Ar(t)===xh&&(n.execute("selectAll"),t.preventDefault())})}}],[{key:"pluginName",get:function(){return"SelectAllEditing"}}]),t}(),Eh=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var r=this,i=this.editor;i.ui.componentFactory.add("selectAll",function(e){var t=i.commands.get("selectAll"),n=new sc(e);return n.set({label:(0,e.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),n.bind("isOn","isEnabled").to(t,"value","isEnabled"),r.listenTo(n,"execute",function(){i.execute("selectAll"),i.editing.view.focus()}),n})}}],[{key:"pluginName",get:function(){return"SelectAllUI"}}]),t}(),Th=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[Sh,Eh]}},{key:"pluginName",get:function(){return"SelectAll"}}]),t}(),Ah=function(){$S(i,Le);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this,e))._buffer=new Nu(e.model,t),n._batches=new WeakSet,n}return WS(i,[{key:"destroy",value:function(){zS(YS(i.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document,i=e.text||"",o=i.length,a=e.range?n.createSelection(e.range):r.selection,s=e.resultRange;n.enqueueChange(this._buffer.batch,function(e){t._buffer.lock(),t._batches.add(t._buffer.batch),n.deleteContent(a),i&&n.insertContent(e.createText(i,r.selection.getAttributes()),a),s?e.setSelection(s):a.is("documentSelection")||e.setSelection(a),t._buffer.unlock(),t._buffer.input(o)})}},{key:"buffer",get:function(){return this._buffer}}]),i}();function Ph(e){if(e.newChildren.length-e.oldChildren.length==1){r=(r=si(e.oldChildren,e.newChildren,Rh),i=e.newChildren,a=[],s=0,r.forEach(function(e){"equal"==e?(t(),s++):"insert"==e?(n("insert")?o.values.push(i[s]):(t(),o={type:"insert",index:s,values:[i[s]]}),s++):n("delete")?o.howMany++:(t(),o={type:"delete",index:s,howMany:1})}),t(),a);if(!(1<r.length)){r=r[0];return r.values[0]&&r.values[0].is("$text")?r:void 0}}function t(){o&&(a.push(o),o=null)}function n(e){return o&&o.type==e}var r,i,o,a,s}function Rh(e,t){return e&&e.is("$text")&&t&&t.is("$text")?e.data===t.data:e===t}var Ih=(WS(Oh,[{key:"handle",value:function(e,t){if(function(e){if(0!=e.length){var t=HS(e);try{for(t.s();!(n=t.n()).done;){var n=n.value;if("children"===n.type&&!Ph(n))return 1}}catch(e){t.e(e)}finally{t.f()}}}(e))this._handleContainerChildrenMutations(e,t);else{var n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;this._handleTextMutation(r,t),this._handleTextNodeInsertion(r)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"_handleContainerChildrenMutations",value:function(t,e){var n,r,i,o,a,s=function(){var e=t.map(function(e){return e.node}).reduce(function(e,t){return e.getCommonAncestor(t,{includeSelf:!0})});if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(function(e){return e.is("containerElement")||e.is("rootElement")})}();s&&(a=this.editor.editing.view.domConverter.mapViewToDom(s),o=new _i(this.editor.editing.view.document),r=this.editor.data.toModel(o.domToView(a)).getChild(0),(n=this.editor.editing.mapper.toModelElement(s))&&(i=Array.from(r.getChildren()),o=Array.from(n.getChildren()),a=i[i.length-1],s=o[o.length-1],r=a&&a.is("element","softBreak"),a=s&&!s.is("element","softBreak"),r&&a&&i.pop(),Mh(i,s=this.editor.model.schema)&&Mh(o,s)&&(r=i.map(function(e){return e.is("$text")?e.data:"@"}).join("").replace(/\u00A0/g," "),(a=o.map(function(e){return e.is("$text")?e.data:"@"}).join("").replace(/\u00A0/g," "))!==r&&(i=(s=Nh(si(a,r))).firstChangeAt,o=s.insertions,a=s.deletions,s=null,e&&(s=this.editing.mapper.toModelRange(e.getFirstRange())),o=r.substr(i,o),a=this.editor.model.createRange(this.editor.model.createPositionAt(n,i),this.editor.model.createPositionAt(n,i+a)),this.editor.execute("input",{text:o,range:a,resultRange:s})))))}},{key:"_handleTextMutation",value:function(e,t){var n,r,i,o,a;"text"==e.type&&(n=e.newText.replace(/\u00A0/g," "),(o=e.oldText.replace(/\u00A0/g," "))!==n&&(r=(i=Nh(si(o,n))).firstChangeAt,a=i.insertions,o=i.deletions,i=null,t&&(i=this.editing.mapper.toModelRange(t.getFirstRange())),e=this.editing.view.createPositionAt(e.node,r),e=this.editing.mapper.toModelPosition(e),o=this.editor.model.createRange(e,e.getShiftedBy(o)),a=n.substr(r,a),this.editor.execute("input",{text:a,range:o,resultRange:i})))}},{key:"_handleTextNodeInsertion",value:function(e){var t;"children"==e.type&&(t=Ph(e),e=this.editing.view.createPositionAt(e.node,t.index),e=this.editing.mapper.toModelPosition(e),this.editor.execute("input",{text:t.values[0].data.replace(/\u00A0/g," "),range:this.editor.model.createRange(e)}))}}]),Oh);function Oh(e){qS(this,Oh),this.editor=e,this.editing=this.editor.editing}function Mh(e,t){return e.every(function(e){return t.isInline(e)})}function Nh(e){for(var t=null,n=null,r=0;r<e.length;r++)"equal"!=e[r]&&(t=null===t?r:t,n=r);for(var i=0,o=0,a=t;a<=n;a++)"insert"!=e[a]&&i++,"delete"!=e[a]&&o++;return{insertions:o,deletions:i,firstChangeAt:t}}var Lh=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var r,o,a,s,l,e=this.editor,t=new Ah(e,e.config.get("typing.undoStep")||20);function c(){var e=l.buffer;e.lock();var t=e.batch;l._batches.add(t),a.enqueueChange(t,function(){a.deleteContent(a.document.selection)}),e.unlock()}e.commands.add("input",t),o=null,a=e.model,s=e.editing.view,l=e.commands.get("input"),s.document.on(_r?"beforeinput":"keydown",function(e,t){return n=t,r=a.document,i=s.document.isComposing,t=o&&o.isEqual(r.selection),o=null,void(l.isEnabled&&(rh(n)||r.selection.isCollapsed||i&&229===n.keyCode||!i&&229===n.keyCode&&t||c()));var n,r,i},{priority:"lowest"}),s.document.on("compositionstart",function(){var e=a.document,t=1!==e.selection.rangeCount||e.selection.getFirstRange().isFlat;e.selection.isCollapsed||t||c()},{priority:"lowest"}),s.document.on("compositionend",function(){o=a.createSelection(a.document.selection)},{priority:"lowest"}),(r=e).editing.view.document.on("mutations",function(e,t,n){new Ih(r).handle(t,n)})}},{key:"isInput",value:function(e){return this.editor.commands.get("input")._batches.has(e)}}],[{key:"pluginName",get:function(){return"Input"}}]),t}(),Dh=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[Lh,ju]}},{key:"pluginName",get:function(){return"Typing"}}]),t}();function jh(e,n){var r=e.start;return{text:Array.from(e.getItems()).reduce(function(e,t){return t.is("$text")||t.is("$textProxy")?e+t.data:(r=n.createPositionAfter(t),"")},""),range:n.createRange(r,e.end)}}var Fh=(WS(Vh,[{key:"_startListening",value:function(){var n=this,r=this.model.document;this.listenTo(r.selection,"change:range",function(e,t){t.directChange&&(r.selection.isCollapsed?n._evaluateTextBeforeSelection("selection"):n.hasMatch&&(n.fire("unmatched"),n.hasMatch=!1))}),this.listenTo(r,"change:data",function(e,t){"transparent"!=t.type&&n._evaluateTextBeforeSelection("data",{batch:t})})}},{key:"_evaluateTextBeforeSelection",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.model,r=n.document.selection,i=jh(n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),n),r=i.text,n=i.range,i=this.testCallback(r);!i&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!i,i&&(n=Object.assign(t,{text:r,range:n}),"object"==typeof i&&Object.assign(n,i),this.fire("matched:"+e,n))}}]),Vh);function Vh(e,t){var n=this;qS(this,Vh),this.model=e,this.testCallback=t,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",function(){n.isEnabled?n._startListening():(n.stopListening(e.document.selection),n.stopListening(e.document))}),this._startListening()}Ie(Fh,Se);var zh=function(){$S(n,Oe);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).attributes=new Set,e._overrideUid=null,e}return WS(n,null,[{key:"pluginName",get:function(){return"TwoStepCaretMovement"}}]),WS(n,[{key:"init",value:function(){var o=this,e=this.editor,a=e.locale,s=e.model.document.selection;this.listenTo(e.editing.view.document,"arrowKey",function(e,t){var n,r,i;s.isCollapsed&&!(t.shiftKey||t.altKey||t.ctrlKey)&&(n=t.keyCode==Er.arrowright,r=t.keyCode==Er.arrowleft,!n&&!r||!0===("ltr"===(i=a.contentLanguageDirection)&&n||"rtl"===i&&r?o._handleForwardMovement(t):o._handleBackwardMovement(t))&&e.stop())},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(s,"change:range",function(e,t){o._isNextGravityRestorationSkipped?o._isNextGravityRestorationSkipped=!1:o._isGravityOverridden&&(!t.directChange&&qh(s.getFirstPosition(),o.attributes)||o._restoreGravity())})}},{key:"registerAttribute",value:function(e){this.attributes.add(e)}},{key:"_handleForwardMovement",value:function(e){var t=this.attributes,n=this.editor.model.document.selection,r=n.getFirstPosition();return!this._isGravityOverridden&&(!r.isAtStart||!Bh(n,t))&&(qh(r,t)?(Uh(e),this._overrideGravity(),!0):void 0)}},{key:"_handleBackwardMovement",value:function(e){var t,n=this.attributes,r=this.editor.model,i=r.document.selection,o=i.getFirstPosition();return this._isGravityOverridden?(Uh(e),this._restoreGravity(),Hh(r,n,o),!0):o.isAtStart?!!Bh(i,n)&&(Uh(e),Hh(r,n,o),!0):(t=n,qh(o.getShiftedBy(-1),t)?o.isAtEnd&&!Bh(i,n)&&qh(o,n)?(Uh(e),Hh(r,n,o),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0)}},{key:"_overrideGravity",value:function(){this._overrideUid=this.editor.model.change(function(e){return e.overrideSelectionGravity()})}},{key:"_restoreGravity",value:function(){var t=this;this.editor.model.change(function(e){e.restoreSelectionGravity(t._overrideUid),t._overrideUid=null})}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}}]),n}();function Bh(e,t){var n=HS(t);try{for(n.s();!(r=n.n()).done;){var r=r.value;if(e.hasAttribute(r))return 1}}catch(e){n.e(e)}finally{n.f()}}function Hh(e,t,n){var r=n.nodeBefore;e.change(function(e){r?e.setSelectionAttribute(r.getAttributes()):e.removeSelectionAttribute(t)})}function Uh(e){e.preventDefault()}function qh(e,t){var n=e.nodeBefore,r=e.nodeAfter,i=HS(t);try{for(i.s();!(a=i.n()).done;){var o=a.value,a=n?n.getAttribute(o):void 0;if((r?r.getAttribute(o):void 0)!==a)return!0}}catch(e){i.e(e)}finally{i.f()}return!1}var Wh=/[\\^$.*+?()[\]{}|]/g,$h=RegExp(Wh.source),Kh={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:"1/2",to:"½"},oneThird:{from:"1/3",to:"⅓"},twoThirds:{from:"2/3",to:"⅔"},oneForth:{from:"1/4",to:"¼"},threeQuarters:{from:"3/4",to:"¾"},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Jh('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Jh("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Jh("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Jh('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Jh('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Jh("'"),to:[null,"‚",null,"’"]}},Gh={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Zh=["symbols","mathematical","typography","quotes"];function Jh(e){return new RegExp("(^|\\s)(".concat(e,")([^").concat(e,"]*)(").concat(e,")$"))}function Qh(e,t,n,r){return r.createRange(Yh(e,t,n,!0,r),Yh(e,t,n,!1,r))}function Yh(e,t,n,r,i){for(var o=e.textNode||(r?e.nodeBefore:e.nodeAfter),a=null;o&&o.getAttribute(t)==n;)a=o,o=r?o.previousSibling:o.nextSibling;return a?i.createPositionAt(a,r?"before":"after"):e}function Xh(o,a,s,l){var n=o.editing.view,c=new Set;n.document.registerPostFixer(function(e){var t=o.model.document.selection,n=!1;if(t.hasAttribute(a)){var t=Qh(t.getFirstPosition(),a,t.getAttribute(a),o.model),r=HS(o.editing.mapper.toViewRange(t).getItems());try{for(r.s();!(i=r.n()).done;){var i=i.value;i.is("element",s)&&!i.hasClass(l)&&(e.addClass(l,i),c.add(i),n=!0)}}catch(e){r.e(e)}finally{r.f()}}return n}),o.conversion.for("editingDowncast").add(function(e){function t(){n.change(function(e){var t=HS(c.values());try{for(t.s();!(n=t.n()).done;){var n=n.value;e.removeClass(l,n),c.delete(n)}}catch(e){t.e(e)}finally{t.f()}})}e.on("insert",t,{priority:"highest"}),e.on("remove",t,{priority:"highest"}),e.on("attribute",t,{priority:"highest"}),e.on("selection",t,{priority:"highest"})})}var ed=function(){$S(r,Le);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e))._stack=[],t._createdBatches=new WeakSet,t.refresh(),t.listenTo(e.data,"set",function(){return t.clearStack()}),t}return WS(r,[{key:"refresh",value:function(){this.isEnabled=0<this._stack.length}},{key:"addBatch",value:function(e){var t=this.editor.model.document.selection,t={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:t}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(e,t,n){var r=this.editor.model,i=r.document,o=[],e=e.map(function(e){return e.getTransformedByOperations(n)}),a=e.flat(),s=HS(e);try{for(s.s();!(l=s.n()).done;){var l=l.value.filter(function(e){return e.root!=i.graveyard}).filter(function(e){return t=e,!a.some(function(e){return e!==t&&e.containsRange(t,!0)});var t});l.length&&(function(e){e.sort(function(e,t){return e.start.isBefore(t.start)?-1:1});for(var t=1;t<e.length;t++){var n=e[t-1].getJoined(e[t],!0);n&&(t--,e.splice(t,2,n))}}(l),o.push(l[0]))}}catch(e){s.e(e)}finally{s.f()}o.length&&r.change(function(e){e.setSelection(o,{backward:t})})}},{key:"_undo",value:function(e,t){var n=this.editor.model,r=n.document;this._createdBatches.add(t);e=e.operations.slice().filter(function(e){return e.isDocumentOperation});e.reverse();var i=HS(e);try{for(i.s();!(a=i.n()).done;){var o=a.value,a=Array.from(r.history.getOperations(o.baseVersion+1)),s=HS(function(e,t,n){e=e.slice(),t=t.slice();var r=new uu(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(e),r.setOriginalOperations(t);var i=r.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:i};var o=new WeakMap,a=HS(e);try{for(a.s();!(s=a.n()).done;){var s=s.value;o.set(s,0)}}catch(e){a.e(e)}finally{a.f()}for(var l,c={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length},u=0;u<e.length;){var h=e[u],d=o.get(h);if(d!=t.length){var f=t[d],p=cu(h,f,r.getContext(h,f,!0)),g=cu(f,h,r.getContext(f,h,!1));r.updateRelation(h,f),r.setOriginalOperations(p,h),r.setOriginalOperations(g,f);var v=HS(p);try{for(v.s();!(m=v.n()).done;){var m=m.value;o.set(m,d+g.length)}}catch(e){v.e(e)}finally{v.f()}e.splice.apply(e,[u,1].concat(US(p))),t.splice.apply(t,[d,1].concat(US(g)))}else u++}return n.padWithNoOps&&(l=e.length-c.originalOperationsACount,fu(e,(n=t.length-c.originalOperationsBCount)-l),fu(t,l-n)),du(e,c.nextBaseVersionB),du(t,c.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:i}}([o.getReversed()],a,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA);try{for(s.s();!(l=s.n()).done;){var l=l.value;t.addOperation(l),n.applyOperation(l),r.history.setOperationAsUndone(o,l)}}catch(e){s.e(e)}finally{s.f()}}}catch(e){i.e(e)}finally{i.f()}}}]),r}();var td=function(){$S(t,ed);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"execute",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=n?this._stack.findIndex(function(e){return e.batch==n}):this._stack.length-1,r=this._stack.splice(e,1)[0],i=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(i,function(){t._undo(r.batch,i);var e=t.editor.model.document.history.getOperations(r.batch.baseVersion);t._restoreSelection(r.selection.ranges,r.selection.isBackward,e),t.fire("revert",r.batch,i)}),this.refresh()}}]),t}(),nd=function(){$S(t,ed);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"execute",value:function(){var t=this,n=this._stack.pop(),r=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(r,function(){var e=t.editor.model.document.history.getOperations(n.batch.operations[n.batch.operations.length-1].baseVersion+1);t._restoreSelection(n.selection.ranges,n.selection.isBackward,e),t._undo(n.batch,r)}),this.refresh()}}]),t}(),rd=function(){$S(n,Oe);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e))._batchRegistry=new WeakSet,e}return WS(n,null,[{key:"pluginName",get:function(){return"UndoEditing"}}]),WS(n,[{key:"init",value:function(){var i=this,e=this.editor;this._undoCommand=new td(e),this._redoCommand=new nd(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",function(e,t){var n,r=t[0];r.isDocumentOperation&&(n=r.batch,t=i._redoCommand._createdBatches.has(n),r=i._undoCommand._createdBatches.has(n),i._batchRegistry.has(n)||"transparent"==n.type&&!t&&!r||(t?i._undoCommand.addBatch(n):r||(i._undoCommand.addBatch(n),i._redoCommand.clearStack()),i._batchRegistry.add(n)))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",function(e,t,n){i._redoCommand.addBatch(n)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}]),n}(),id='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',od='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',ad=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,e="ltr"==t.uiLanguageDirection?id:od,t="ltr"==t.uiLanguageDirection?od:id;this._addButton("undo",n("Undo"),"CTRL+Z",e),this._addButton("redo",n("Redo"),"CTRL+Y",t)}},{key:"_addButton",value:function(n,r,i,o){var a=this,s=this.editor;s.ui.componentFactory.add(n,function(e){var t=s.commands.get(n),e=new sc(e);return e.set({label:r,icon:o,keystroke:i,tooltip:!0}),e.bind("isEnabled").to(t,"isEnabled"),a.listenTo(e,"execute",function(){s.execute(n),s.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"UndoUI"}}]),t}(),sd=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[rd,ad]}},{key:"pluginName",get:function(){return"Undo"}}]),t}(),ld=(WS(cd,[{key:"read",value:function(n){var r=this,i=this._reader;return this.total=n.size,new Promise(function(t,e){i.onload=function(){var e=i.result;r._data=e,t(e)},i.onerror=function(){e("error")},i.onabort=function(){e("aborted")},r._reader.readAsDataURL(n)})}},{key:"abort",value:function(){this._reader.abort()}},{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}}]),cd);function cd(){var t=this;qS(this,cd);var e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=function(e){t.loaded=e.loaded}}Ie(ld,Se);var ud=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this;this.loaders=new Wt,this.loaders.on("add",function(){return e._updatePendingAction()}),this.loaders.on("remove",function(){return e._updatePendingAction()}),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(e,t){return t?e/t*100:0})}},{key:"getLoader",value:function(e){return this._loadersMap.get(e)||null}},{key:"createLoader",value:function(e){var r=this;if(!this.createUploadAdapter)return Object(C.b)("filerepository-no-upload-adapter"),null;var t=new hd(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(function(e){r._loadersMap.set(e,t)}).catch(function(){}),t.on("change:uploaded",function(){var e,t=0,n=HS(r.loaders);try{for(n.s();!(e=n.n()).done;)t+=e.value.uploaded}catch(e){n.e(e)}finally{n.f()}r.uploaded=t}),t.on("change:uploadTotal",function(){var e=0,t=HS(r.loaders);try{for(t.s();!(n=t.n()).done;){var n=n.value;n.uploadTotal&&(e+=n.uploadTotal)}}catch(e){t.e(e)}finally{t.f()}r.uploadTotal=e}),t}},{key:"destroyLoader",value:function(e){var n=this,r=e instanceof hd?e:this.getLoader(e);r._destroy(),this.loaders.remove(r),this._loadersMap.forEach(function(e,t){e===r&&n._loadersMap.delete(t)})}},{key:"_updatePendingAction",value:function(){var t,e,n=this.editor.plugins.get(Rl);this.loaders.length?this._pendingAction||(t=this.editor.t,e=function(e){return"".concat(t("Upload in progress")," ").concat(parseInt(e),"%.")},this._pendingAction=n.add(e(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",e)):(n.remove(this._pendingAction),this._pendingAction=null)}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[Rl]}}]),t}();Ie(ud,Se);var hd=(WS(dd,[{key:"read",value:function(){var t=this;if("idle"!=this.status)throw new C.a("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(function(e){return t._reader.read(e)}).then(function(e){if("reading"!==t.status)throw t.status;return t.status="idle",e}).catch(function(e){if("aborted"===e)throw t.status="aborted";throw t.status="error",t._reader.error||e})}},{key:"upload",value:function(){var t=this;if("idle"!=this.status)throw new C.a("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(function(){return t._adapter.upload()}).then(function(e){return t.uploadResponse=e,t.status="idle",e}).catch(function(e){if("aborted"===t.status)throw"aborted";throw t.status="error",e})}},{key:"abort",value:function(){var e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(function(){}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(e){var r={};return r.promise=new Promise(function(t,n){r.rejecter=n,r.isFulfilled=!1,e.then(function(e){r.isFulfilled=!0,t(e)}).catch(function(e){r.isFulfilled=!0,n(e)})}),r}},{key:"file",get:function(){var t=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(function(e){return t._filePromiseWrapper?e:null}):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}}]),dd);function dd(e,t){qS(this,dd),this.id=u(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new ld,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(e,t){return t?e/t*100:0}),this.set("uploadResponse",null)}Ie(hd,Se);var fd=function(){$S(r,Fl);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e)).buttonView=new sc(e),t._fileInputView=new pd(e),t._fileInputView.bind("acceptedType").to(ZS(t)),t._fileInputView.bind("allowMultipleFiles").to(ZS(t)),t._fileInputView.delegate("done").to(ZS(t)),t.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[t.buttonView,t._fileInputView]}),t.buttonView.on("execute",function(){t._fileInputView.open()}),t}return WS(r,[{key:"focus",value:function(){this.buttonView.focus()}}]),r}(),pd=function(){$S(r,Fl);var n=KS(r);function r(e){var t;qS(this,r),(t=n.call(this,e)).set("acceptedType"),t.set("allowMultipleFiles",!1);e=t.bindTemplate;return t.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(function(){t.element&&t.element.files&&t.element.files.length&&t.fire("done",t.element.files),t.element.value=""})}}),t}return WS(r,[{key:"open",value:function(){this.element.click()}}]),r}(),gd=(WS(vd,[{key:"upload",value:function(){var r=this;return this.loader.file.then(function(n){return new Promise(function(e,t){r._initRequest(),r._initListeners(e,t,n),r._sendRequest(n)})})}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}},{key:"_initListeners",value:function(t,n,e){var r=this.xhr,i=this.loader,o=(0,this.t)("Cannot upload file:")+" ".concat(e.name,".");r.addEventListener("error",function(){return n(o)}),r.addEventListener("abort",function(){return n()}),r.addEventListener("load",function(){var e=r.response;if(!e||!e.uploaded)return n(e&&e.error&&e.error.message?e.error.message:o);t({default:e.url})}),r.upload&&r.upload.addEventListener("progress",function(e){e.lengthComputable&&(i.uploadTotal=e.total,i.uploaded=e.loaded)})}},{key:"_sendRequest",value:function(e){var t,n=new FormData;n.append("upload",e),n.append("ckCsrfToken",((t=function(e){e="ckCsrfToken".toLowerCase();var t=HS(document.cookie.split(";"));try{for(t.s();!(n=t.n()).done;){var n=n.value.split("=");if(decodeURIComponent(n[0].trim().toLowerCase())===e)return decodeURIComponent(n[1])}}catch(e){t.e(e)}finally{t.f()}return null}())&&40==t.length||(e=t=function(){var e="",t=new Uint8Array(40);window.crypto.getRandomValues(t);for(var n=0;n<t.length;n++){var r="abcdefghijklmnopqrstuvwxyz0123456789".charAt(t[n]%"abcdefghijklmnopqrstuvwxyz0123456789".length);e+=.5<Math.random()?r.toUpperCase():r}return e}(),document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(e)+";path=/"),t)),this.xhr.send(n)}}]),vd);function vd(e,t,n){qS(this,vd),this.loader=e,this.url=t,this.t=n}function md(a,s,l,c){var u=null,h="function"==typeof c?c:(u=a.commands.get(c),function(){a.execute(c)});a.model.document.on("change:data",function(e,t){var n,i,r,o;u&&!u.isEnabled||!s.isEnabled||(n=So(a.model.document.selection.getRanges())).isCollapsed&&"transparent"!=t.type&&(t=(r=Array.from(a.model.document.differ.getChanges()))[0],1==r.length&&"insert"===t.type&&"$text"==t.name&&1==t.length&&((i=t.position.parent).is("element","codeBlock")||i.is("element","listItem")&&"function"!=typeof c&&!["numberedList","bulletedList","todoList"].includes(c)||u&&!0===u.value||(r=i.getChild(0),!(t=a.model.createRangeOn(r)).containsRange(n)&&!n.end.isEqual(t.end)||(o=l.exec(r.data.substr(0,n.end.offset)))&&a.model.enqueueChange(function(e){var t=e.createPositionAt(i,0),n=e.createPositionAt(i,o[0].length),r=new ka(t,n);!1!==h({match:o})&&(e.remove(r),t=a.model.document.selection.getFirstRange(),n=e.createRangeIn(i),!i.isEmpty||n.isEqual(t)||n.containsRange(t,!0)||e.remove(i)),r.detach()}))))})}function yd(c,u,e,h){var l,d;e instanceof RegExp?l=e:d=e,d=d||function(e){for(var t,n=[],r=[];null!==(t=l.exec(e))&&!(t&&t.length<4);){var i=t.index,o=t[1],a=t[2],s=t[3],s=[(i+=t[0].length-(o+a+s).length)+o.length+a.length,i+o.length+a.length+s.length];n.push([i,i+o.length]),n.push(s),r.push([i+o.length,i+o.length+a.length])}return{remove:n,format:r}},c.model.document.on("change:data",function(e,t){var n,r,i,o,a,s,l;"transparent"==t.type||!u.isEnabled||(a=(n=c.model).document.selection).isCollapsed&&(t=(r=Array.from(n.document.differ.getChanges()))[0],1==r.length&&"insert"===t.type&&"$text"==t.name&&1==t.length&&(a=(t=a.focus).parent,a=n.createRange(n.createPositionAt(a,0),t),s=n,l=a.start,a=(t={text:Array.from(a.getItems()).reduce(function(e,t){return!t.is("$text")&&!t.is("$textProxy")||t.getAttribute("code")?(l=s.createPositionAfter(t),""):e+t.data},""),range:s.createRange(l,a.end)}).range,t=d(t.text),i=kd(a.start,t.format,n),o=kd(a.start,t.remove,n),i.length&&o.length&&n.enqueueChange(function(e){if(!1!==h(e,i)){var t=HS(o.reverse());try{for(t.s();!(n=t.n()).done;){var n=n.value;e.remove(n)}}catch(e){t.e(e)}finally{t.f()}}})))})}function kd(t,e,n){return e.filter(function(e){return void 0!==e[0]&&void 0!==e[1]}).map(function(e){return n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1]))})}function bd(i,o){return function(e,t){if(!i.commands.get(o).isEnabled)return!1;var n=HS(i.model.schema.getValidRanges(t,o));try{for(n.s();!(r=n.n()).done;){var r=r.value;e.setAttribute(o,!0,r)}}catch(e){n.e(e)}finally{n.f()}e.removeSelectionAttribute(o)}}var _d=function(){$S(r,Le);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).attributeKey=t,e}return WS(r,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}},{key:"execute",value:function(){var r=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=this.editor.model,o=i.document.selection,a=void 0===e.forceValue?!this.value:e.forceValue;i.change(function(e){if(o.isCollapsed)a?e.setSelectionAttribute(r.attributeKey,!0):e.removeSelectionAttribute(r.attributeKey);else{var t=HS(i.schema.getValidRanges(o.getRanges(),r.attributeKey));try{for(t.s();!(n=t.n()).done;){var n=n.value;a?e.setAttribute(r.attributeKey,a,n):e.removeAttribute(r.attributeKey,n)}}catch(e){t.e(e)}finally{t.f()}}})}},{key:"_getValueFromFirstAllowedNode",value:function(){var e=this.editor.model,t=e.schema,e=e.document.selection;if(e.isCollapsed)return e.hasAttribute(this.attributeKey);var n,r=HS(e.getRanges());try{for(r.s();!(n=r.n()).done;){var i=HS(n.value.getItems());try{for(i.s();!(o=i.n()).done;){var o=o.value;if(t.checkAttribute(o,this.attributeKey))return o.hasAttribute(this.attributeKey)}}catch(e){i.e(e)}finally{i.f()}}}catch(e){r.e(e)}finally{r.f()}return!1}}]),r}(),wd=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"bold"}),e.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",function(e){e=e.getStyle("font-weight");return e?"bold"==e||600<=Number(e)?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add("bold",new _d(e,"bold")),e.keystrokes.set("CTRL+B","bold")}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),t}(),Cd=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("bold",function(e){var t=r.commands.get("bold"),e=new sc(e);return e.set({label:i("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("bold"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"BoldUI"}}]),t}(),xd=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"italic"}),e.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add("italic",new _d(e,"italic")),e.keystrokes.set("CTRL+I","italic")}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),t}(),Sd=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("italic",function(e){var t=r.commands.get("italic"),e=new sc(e);return e.set({label:i("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("italic"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"ItalicUI"}}]),t}(),Ed=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,r=t.schema,i=Array.from(t.document.selection.getSelectedBlocks()),o=void 0===e.forceValue?!this.value:e.forceValue;t.change(function(e){var t;o?(t=i.filter(function(e){return Td(e)||Pd(r,e)}),n._applyQuote(e,t)):n._removeQuote(e,i.filter(Td))})}},{key:"_getValue",value:function(){var e=So(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Td(e))}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.schema,t=So(this.editor.model.document.selection.getSelectedBlocks());return!!t&&Pd(e,t)}},{key:"_removeQuote",value:function(n,e){Ad(n,e).reverse().forEach(function(e){var t;e.start.isAtStart&&e.end.isAtEnd?n.unwrap(e.start.parent):e.start.isAtStart?(t=n.createPositionBefore(e.start.parent),n.move(e,t)):(e.end.isAtEnd||n.split(e.end),t=n.createPositionAfter(e.end.parent),n.move(e,t))})}},{key:"_applyQuote",value:function(n,e){var r=[];Ad(n,e).reverse().forEach(function(e){var t=Td(e.start);t||(t=n.createElement("blockQuote"),n.wrap(e,t)),r.push(t)}),r.reverse().reduce(function(e,t){return e.nextSibling==t?(n.merge(n.createPositionAfter(e)),e):t})}}]),t}();function Td(e){return"blockQuote"==e.parent.name?e.parent:null}function Ad(e,t){for(var n=0,r=[];n<t.length;){var i=t[n],o=t[n+1],a=a||e.createPositionBefore(i);o&&i.nextSibling==o||(r.push(e.createRange(a,e.createPositionAfter(i))),a=null),n++}return r}function Pd(e,t){var n=e.checkChild(t.parent,"blockQuote"),t=e.checkChild(["$root","blockQuote"],t);return n&&t}var Rd=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var a=this.editor,s=a.model.schema;a.commands.add("blockQuote",new Ed(a)),s.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),a.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),a.model.document.registerPostFixer(function(e){var t=HS(a.model.document.differ.getChanges());try{for(t.s();!(r=t.n()).done;){var n=r.value;if("insert"==n.type){var r=n.position.nodeAfter;if(r){if(r.is("element","blockQuote")&&r.isEmpty)return e.remove(r),!0;if(r.is("element","blockQuote")&&!s.checkChild(n.position,r))return e.unwrap(r),!0;if(r.is("element")){var i=HS(e.createRangeIn(r).getItems());try{for(i.s();!(o=i.n()).done;){var o=o.value;if(o.is("element","blockQuote")&&!s.checkChild(e.createPositionBefore(o),o))return e.unwrap(o),!0}}catch(e){i.e(e)}finally{i.f()}}}}else if("remove"==n.type){n=n.position.parent;if(n.is("element","blockQuote")&&n.isEmpty)return e.remove(n),!0}}}catch(e){t.e(e)}finally{t.f()}return!1});var e=this.editor.editing.view.document,r=a.model.document.selection,i=a.commands.get("blockQuote");this.listenTo(e,"enter",function(e,t){r.isCollapsed&&i.value&&r.getLastPosition().parent.isEmpty&&(a.execute("blockQuote"),a.editing.view.scrollToTheSelection(),t.preventDefault(),e.stop())},{context:"blockquote"}),this.listenTo(e,"delete",function(e,t){var n;"backward"==t.direction&&r.isCollapsed&&i.value&&((n=r.getLastPosition().parent).isEmpty&&!n.previousSibling&&(a.execute("blockQuote"),a.editing.view.scrollToTheSelection(),t.preventDefault(),e.stop()))},{context:"blockquote"})}}],[{key:"pluginName",get:function(){return"BlockQuoteEditing"}},{key:"requires",get:function(){return[Mu,ju]}}]),t}();n(69);var Id=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("blockQuote",function(e){var t=r.commands.get("blockQuote"),e=new sc(e);return e.set({label:i("Block quote"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("blockQuote"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"BlockQuoteUI"}}]),t}(),Od=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this.editor,r=n.t;n.ui.componentFactory.add("ckfinder",function(e){var t=n.commands.get("ckfinder"),e=new sc(e);return e.set({label:r("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),e.bind("isEnabled").to(t),e.on("execute",function(){n.execute("ckfinder"),n.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"CKFinderUI"}}]),t}(),Md=function(){$S(r,Le);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e)).stopListening(t.editor.model.document,"change"),t.listenTo(t.editor.model.document,"change",function(){return t.refresh()},{priority:"low"}),t}return WS(r,[{key:"refresh",value:function(){var e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}},{key:"execute",value:function(){var c=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new C.a("ckfinder-unknown-openermethod",c);var t=this.editor.config.get("ckfinder.options")||{};t.chooseFiles=!0;var n=t.onInit;t.language||(t.language=c.locale.uiLanguage),t.onInit=function(l){n&&n(l),l.on("files:choose",function(e){var t=e.data.files.toArray(),e=t.filter(function(e){return!e.isImage()}),t=t.filter(function(e){return e.isImage()}),n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;c.execute("link",r.getUrl())}}catch(e){n.e(e)}finally{n.f()}var i=[],o=HS(t);try{for(o.s();!(s=o.n()).done;){var a=s.value,s=a.getUrl();i.push(s||l.request("file:getProxyUrl",{file:a}))}}catch(e){o.e(e)}finally{o.f()}i.length&&Nd(c,i)}),l.on("file:choose:resizedImage",function(e){var t=e.data.resizedUrl;t?Nd(c,[t]):(e=c.plugins.get("Notification"),t=c.locale.t,e.showWarning(t("Could not obtain resized image URL."),{title:t("Selecting resized image failed"),namespace:"ckfinder"}))})},window.CKFinder[e](t)}}]),r}();function Nd(e,t){e.commands.get("insertImage").isEnabled?e.execute("insertImage",{source:t}):(t=e.plugins.get("Notification"),e=e.locale.t,t.showWarning(e("Could not insert image at the current position."),{title:e("Inserting image failed"),namespace:"ckfinder"}))}var Ld=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor;e.commands.add("ckfinder",new Md(e))}}],[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[Uc,"ImageEditing","LinkEditing"]}}]),t}(),Dd=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var t=this,e=this.editor,n=e.plugins.get("CloudServices"),r=n.token,n=n.uploadUrl;r&&(this._uploadGateway=e.plugins.get("CloudServicesCore").createUploadGateway(r,n),e.plugins.get(ud).createUploadAdapter=function(e){return new jd(t._uploadGateway,e)})}}],[{key:"pluginName",get:function(){return"CloudServicesUploadAdapter"}},{key:"requires",get:function(){return["CloudServices",ud]}}]),t}(),jd=(WS(Vd,[{key:"upload",value:function(){var n=this;return this.loader.file.then(function(e){return n.fileUploader=n.uploadGateway.upload(e),n.fileUploader.on("progress",function(e,t){n.loader.uploadTotal=t.total,n.loader.uploaded=t.uploaded}),n.fileUploader.send()})}},{key:"abort",value:function(){this.fileUploader.abort()}}]),Vd),Fd=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=this.editor.model,t=So(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&zd(t,e.schema)}},{key:"execute",value:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=this.editor.model,o=i.document;i.change(function(e){var t=HS((r.selection||o.selection).getSelectedBlocks());try{for(t.s();!(n=t.n()).done;){var n=n.value;!n.is("element","paragraph")&&zd(n,i.schema)&&e.rename(n,"paragraph")}}catch(e){t.e(e)}finally{t.f()}})}}]),t}();function Vd(e,t){qS(this,Vd),this.uploadGateway=e,this.loader=t}function zd(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}var Bd=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"execute",value:function(e){var r=this.editor.model,i=e.position;r.change(function(e){var t=e.createElement("paragraph");if(!r.schema.checkChild(i.parent,t)){var n=r.schema.findAllowedParent(i,t);if(!n)return;i=e.split(i,n).position}r.insertContent(t,i),e.setSelection(t,"in")})}}]),t}(),Hd=function(){$S(n,Oe);var e=KS(n);function n(){return qS(this,n),e.apply(this,arguments)}return WS(n,[{key:"init",value:function(){var e=this.editor,t=e.model;e.commands.add("paragraph",new Fd(e)),e.commands.add("insertParagraph",new Bd(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:function(e,t){t=t.writer;return!n.paragraphLikeElements.has(e.name)||e.isEmpty?null:t.createElement("paragraph")},view:/.+/,converterPriority:"low"})}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),n}();Hd.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var Ud=function(){$S(r,Le);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).modelElements=t,e}return WS(r,[{key:"refresh",value:function(){var t=this,n=So(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some(function(e){return qd(n,e,t.editor.model.schema)})}},{key:"execute",value:function(e){var r=this.editor.model,i=r.document,o=e.value;r.change(function(e){var t=HS(Array.from(i.selection.getSelectedBlocks()).filter(function(e){return qd(e,o,r.schema)}));try{for(t.s();!(n=t.n()).done;){var n=n.value;n.is("element",o)||e.rename(n,o)}}catch(e){t.e(e)}finally{t.f()}})}}]),r}();function qd(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}var Wd=function(){$S(r,Oe);var n=KS(r);function r(e){var t;return qS(this,r),t=n.call(this,e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),t}return WS(r,null,[{key:"pluginName",get:function(){return"HeadingEditing"}}]),WS(r,[{key:"init",value:function(){var e=this.editor,t=[],n=HS(e.config.get("heading.options"));try{for(n.s();!(r=n.n()).done;){var r=r.value;"paragraph"!==r.model&&(e.model.schema.register(r.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(r),t.push(r.model))}}catch(e){n.e(e)}finally{n.f()}this._addDefaultH1Conversion(e),e.commands.add("heading",new Ud(e,t))}},{key:"afterInit",value:function(){var r=this.editor,e=r.commands.get("enter"),i=r.config.get("heading.options");e&&this.listenTo(e,"afterExecute",function(e,t){var n=r.model.document.selection.getFirstPosition().parent;i.some(function(e){return n.is("element",e.model)})&&!n.is("element","paragraph")&&0===n.childCount&&t.writer.rename(n,"paragraph")})}},{key:"_addDefaultH1Conversion",value:function(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:d.get("low")+1})}}],[{key:"requires",get:function(){return[Hd]}}]),r}();n(12);var $d=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e,t,n,l=this,c=this.editor,r=c.t,u=(t=(e=c).t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")},e.config.get("heading.options").map(function(e){var t=n[e.title];return t&&t!=e.title&&(e.title=t),e})),h=r("Choose heading"),d=r("Heading");c.ui.componentFactory.add("heading",function(e){var n,r={},i=new Wt,o=c.commands.get("heading"),a=c.commands.get("paragraph"),s=[o],t=HS(u);try{for(t.s();!(n=t.n()).done;)!function(){var t=n.value,e={type:"button",model:new qc({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(a,"value"),e.model.set("commandName","paragraph"),s.push(a)):(e.model.bind("isOn").to(o,"value",function(e){return e===t.model}),e.model.set({commandName:"heading",commandValue:t.model})),i.add(e),r[t.model]=t.title}()}catch(e){t.e(e)}finally{t.f()}e=Mc(e);return Lc(e,i),e.buttonView.set({isOn:!1,withText:!0,tooltip:d}),e.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),e.bind("isEnabled").toMany(s,"isEnabled",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return e})}),e.buttonView.bind("label").to(o,"value",a,"value",function(e,t){t=e||t&&"paragraph";return r[t]||h}),l.listenTo(e,"execute",function(e){c.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),c.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"HeadingUI"}}]),t}(),Kd=function(){$S(n,Oe);var e=KS(n);function n(){return qS(this,n),e.apply(this,arguments)}return WS(n,[{key:"init",value:function(){var e,t=this,n=this.editor;n.plugins.has("BalloonToolbar")&&(e=n.plugins.get("BalloonToolbar"),this.listenTo(e,"show",function(e){var t;(t=n.editing.view.document.selection.getSelectedElement())&&Uu(t)&&e.stop()},{priority:"high"})),this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",function(){t._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",function(){t._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",function(){t._updateToolbarsVisibility()},{priority:"low"})}},{key:"destroy",value:function(){zS(YS(n.prototype),"destroy",this).call(this);var e,t=HS(this._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;)e.value.view.destroy()}catch(e){t.e(e)}finally{t.f()}}},{key:"register",value:function(e,t){var n=t.ariaLabel,r=t.items,i=t.getRelatedElement,o=t.balloonClassName,a=void 0===o?"ck-toolbar-container":o;if(r.length){var s=this.editor,t=s.t,o=new xc(s.locale);if(o.ariaLabel=n||t("Widget toolbar"),this._toolbarDefinitions.has(e))throw new C.a("widget-toolbar-duplicated",this,{toolbarId:e});o.fillFromConfig(r,s.ui.componentFactory),this._toolbarDefinitions.set(e,{view:o,getRelatedElement:i,balloonClassName:a})}else Object(C.b)("widget-toolbar-no-items",{toolbarId:e})}},{key:"_updateToolbarsVisibility",value:function(){var e=0,t=null,n=null,r=HS(this._toolbarDefinitions.values());try{for(r.s();!(i=r.n()).done;){var i,o=i.value,a=o.getRelatedElement(this.editor.editing.view.document.selection);this.isEnabled&&a?this.editor.ui.focusTracker.isFocused?e<(i=a.getAncestors().length)&&(e=i,t=a,n=o):this._isToolbarVisible(o)&&this._hideToolbar(o):this._isToolbarInBalloon(o)&&this._hideToolbar(o)}}catch(e){r.e(e)}finally{r.f()}n&&this._showToolbar(n,t)}},{key:"_hideToolbar",value:function(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(e,t){var n=this;this._isToolbarVisible(e)?Gd(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:Zd(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",function(){var t=HS(n._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;){var e=e.value;n._isToolbarVisible(e)&&(e=e.getRelatedElement(n.editor.editing.view.document.selection),Gd(n.editor,e))}}catch(e){t.e(e)}finally{t.f()}}))}},{key:"_isToolbarVisible",value:function(e){return this._balloon.visibleView===e.view}},{key:"_isToolbarInBalloon",value:function(e){return this._balloon.hasView(e.view)}}],[{key:"requires",get:function(){return[Yc]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),n}();function Gd(e,t){var n=e.plugins.get("ContextualBalloon"),t=Zd(e,t);n.updatePosition(t)}function Zd(e,t){var n=Kc.defaultPositions;return{target:e.editing.view.domConverter.mapViewToDom(t),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,Qu]}}var Jd=(WS(Qd,[{key:"begin",value:function(e,t,n){var r,i=new vo(t);this.activeHandlePosition=function(e){for(var t=0,n=["top-left","top-right","bottom-right","bottom-left"];t<n.length;t++){var r=n[t];if(e.classList.contains("ck-widget__resizer__handle-"+r))return r}}(e),this._referenceCoordinates=(r=t,e=this.activeHandlePosition,t=e.split("-"),e="".concat((e={top:"bottom",bottom:"top",left:"right",right:"left"})[t[0]],"-").concat(e[t[1]]),t=new vo(r),e=e.split("-"),(t={x:"right"==e[1]?t.right:t.left,y:"bottom"==e[0]?t.bottom:t.top}).x+=r.ownerDocument.defaultView.scrollX,t.y+=r.ownerDocument.defaultView.scrollY,t),this.originalWidth=i.width,this.originalHeight=i.height,this.aspectRatio=i.width/i.height;t=n.style.width;this.originalWidthPercents=t&&t.match(/^\d+(\.\d*)?%$/)?parseFloat(t):(i=i,n=n.parentElement,n=parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width),i.width/n*100)}},{key:"update",value:function(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}]),Qd);function Qd(e){qS(this,Qd),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}Ie(Jd,Se);var Yd=(WS(Xd,[{key:"attach",value:function(){var n=this,i=this,r=this._options.viewElement;this._options.editor.editing.view.change(function(e){var t=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(e){var r=this.toDomElement(e);return i._appendHandles(r),i._appendSizeUI(r),i._domResizerWrapper=r,i.on("change:isEnabled",function(e,t,n){r.style.display=n?"":"none"}),r.style.display=i.isEnabled?"":"none",r});e.insert(e.createPositionAt(r,"end"),t),e.addClass("ck-widget_with-resizer",r),n._viewResizerWrapper=t})}},{key:"begin",value:function(e){this.state=new Jd(this._options),this._sizeUI.bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}},{key:"updateSize",value:function(e){var n=this,r=this._proposeNewSize(e);this._options.editor.editing.view.change(function(e){var t=n._options.unit||"%";e.setStyle("width",("%"===t?r.widthPercents:r.width)+t,n._options.viewElement)});var t=this._getHandleHost(),e=new vo(t);r.handleHostWidth=Math.round(e.width),r.handleHostHeight=Math.round(e.height);t=new vo(t);r.width=Math.round(t.width),r.height=Math.round(t.height),this.redraw(e),this.state.update(r)}},{key:"commit",value:function(){var e=this,t=this._options.unit||"%",n=("%"===t?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change(function(){e._cleanup(),e._options.onCommit(n)})}},{key:"cancel",value:function(){this._cleanup()}},{key:"destroy",value:function(){this.cancel()}},{key:"redraw",value:function(e){var t,n,r,i=this._domResizerWrapper;i&&i.ownerDocument&&i.ownerDocument.contains(i)&&(t=i.parentElement,i=this._getHandleHost(),"same"!==on([(n=this._viewResizerWrapper).getStyle("width"),n.getStyle("height"),n.getStyle("left"),n.getStyle("top")],r=t.isSameNode(i)?[(e=e||new vo(i)).width+"px",e.height+"px",void 0,void 0]:[i.offsetWidth+"px",i.offsetHeight+"px",i.offsetLeft+"px",i.offsetTop+"px"])&&this._options.editor.editing.view.change(function(e){e.setStyle({width:r[0],height:r[1],left:r[2],top:r[3]},n)}))}},{key:"containsHandle",value:function(e){return this._domResizerWrapper.contains(e)}},{key:"_cleanup",value:function(){var t=this;this._sizeUI.dismiss(),this._sizeUI.isVisible=!1,this._options.editor.editing.view.change(function(e){e.setStyle("width",t._initialViewWidth,t._options.viewElement)})}},{key:"_proposeNewSize",value:function(e){var t=this.state,n=e.pageX,r=e.pageY,e=!this._options.isCentered||this._options.isCentered(this),r={x:t._referenceCoordinates.x-(n+t.originalWidth),y:r-t.originalHeight-t._referenceCoordinates.y};e&&t.activeHandlePosition.endsWith("-right")&&(r.x=n-(t._referenceCoordinates.x+t.originalWidth)),e&&(r.x*=2);e={width:Math.abs(t.originalWidth+r.x),height:Math.abs(t.originalHeight+r.y)};e.dominant=e.width/t.aspectRatio>e.height?"width":"height",e.max=e[e.dominant];r={width:e.width,height:e.height};return"width"==e.dominant?r.height=r.width/t.aspectRatio:r.width=r.height*t.aspectRatio,{width:Math.round(r.width),height:Math.round(r.height),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*r.width*100)/100,100)}}},{key:"_getResizeHost",value:function(){return this._options.getResizeHost(this._domResizerWrapper.parentElement)}},{key:"_getHandleHost",value:function(){return this._options.getHandleHost(this._domResizerWrapper.parentElement)}},{key:"_appendHandles",value:function(e){for(var t=0,n=["top-left","top-right","bottom-right","bottom-left"];t<n.length;t++){var r=n[t];e.appendChild(new zl({tag:"div",attributes:{class:"ck-widget__resizer__handle "+("ck-widget__resizer__handle-"+r)}}).render())}}},{key:"_appendSizeUI",value:function(e){var t=new ef;t.render(),this._sizeUI=t,e.appendChild(t.element)}}],[{key:"isResizeHandle",value:function(e){return e.classList.contains("ck-widget__resizer__handle")}}]),Xd);function Xd(e){var t=this;qS(this,Xd),this._options=e,this._domResizerWrapper=null,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",function(e){t.state.proposedWidth||t.state.proposedWidthPercents||(t._cleanup(),e.stop())},{priority:"high"}),this.on("change:isEnabled",function(){t.isEnabled&&t.redraw()})}Ie(Yd,Se);var ef=function(){$S(r,Fl);var n=KS(r);function r(){var e;qS(this,r);var t=(e=n.call(this)).bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("activeHandlePosition",function(e){return e?"ck-orientation-"+e:""})],style:{display:t.if("isVisible","none",function(e){return!e})}},children:[{text:t.to("label")}]}),e}return WS(r,[{key:"bindToState",value:function(r,e){this.bind("isVisible").to(e,"proposedWidth",e,"proposedHeight",function(e,t){return null!==e&&null!==t}),this.bind("label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",function(e,t,n){return"px"===r.unit?"".concat(e,"×").concat(t):n+"%"}),this.bind("activeHandlePosition").to(e)}},{key:"dismiss",value:function(){this.unbind(),this.isVisible=!1}}]),r}();n(72),Ie(function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var t=this;this.set("visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map;var e=gi.window.document;this.editor.model.schema.setAttributeProperties("width",{isFormatting:!0}),this.editor.editing.view.addObserver(yu),this._observer=Object.create(Ti),this.listenTo(this.editor.editing.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(e,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(e,"mouseup",this._mouseUpListener.bind(this));e=function(){t.visibleResizer&&t.visibleResizer.redraw()};this._redrawFocusedResizerThrottled=uh(e,200),this.on("change:visibleResizer",e),this.editor.ui.on("update",this._redrawFocusedResizerThrottled),this._observer.listenTo(gi.window,"resize",this._redrawFocusedResizerThrottled);var n=this.editor.editing.view.document.selection;n.on("change",function(){var e=n.getSelectedElement();t.visibleResizer=t.getResizerByViewElement(e)||null})}},{key:"destroy",value:function(){this._observer.stopListening();var e,t=HS(this._resizers.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}this._redrawFocusedResizerThrottled.cancel()}},{key:"attachTo",value:function(e){var t,n=new Yd(e),r=this.editor.plugins;n.attach(),r.has("WidgetToolbarRepository")&&(t=r.get("WidgetToolbarRepository"),n.on("begin",function(){t.forceDisabled("resize")},{priority:"lowest"}),n.on("cancel",function(){t.clearForceDisabled("resize")},{priority:"highest"}),n.on("commit",function(){t.clearForceDisabled("resize")},{priority:"highest"})),this._resizers.set(e.viewElement,n);e=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(e)==n&&(this.visibleResizer=n),n}},{key:"getResizerByViewElement",value:function(e){return this._resizers.get(e)}},{key:"_getResizerByHandle",value:function(e){var t=HS(this._resizers.values());try{for(t.s();!(n=t.n()).done;){var n=n.value;if(n.containsHandle(e))return n}}catch(e){t.e(e)}finally{t.f()}}},{key:"_mouseDownListener",value:function(e,t){var n=t.domTarget;Yd.isResizeHandle(n)&&(this._activeResizer=this._getResizerByHandle(n),this._activeResizer&&(this._activeResizer.begin(n),e.stop(),t.preventDefault()))}},{key:"_mouseMoveListener",value:function(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}},{key:"_mouseUpListener",value:function(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}],[{key:"pluginName",get:function(){return"WidgetResize"}}]),t}(),Se);var tf=function(){$S(t,Ri);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"observe",value:function(e){var r=this;this.listenTo(e,"load",function(e,t){var n=t.target;r.checkShouldIgnoreEventFromTarget(n)||"IMG"==n.tagName&&r._fireEvents(t)},{useCapture:!0})}},{key:"_fireEvents",value:function(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}]),t}();function nf(e){return!!e.getCustomProperty("image")&&Uu(e)}function rf(e){e=e.getSelectedElement();return e&&nf(e)?e:null}function of(e){return!!e&&e.is("element","image")}function af(r,e,t){var i=1<arguments.length&&void 0!==e?e:{},o=2<arguments.length&&void 0!==t?t:null;r.change(function(e){var t=e.createElement("image",i),n=o||Zu(r.document.selection,r);r.insertContent(t,n),t.parent&&e.setSelection(t,"on")})}function sf(e){var t=e.schema,n=e.document.selection;return function(e,t,n){n=(n=Zu(e,n).parent).isEmpty&&!n.is("element","$root")?n.parent:n;return t.checkChild(n,"image")}(n,t,e)&&!Ju(n,t)&&US(n.focus.getAncestors()).every(function(e){return!e.is("element","image")})}function lf(e){var t=[],n=HS(e.getChildren());try{for(n.s();!(r=n.n()).done;){var r=r.value;t.push(r),r.is("element")&&t.push.apply(t,US(r.getChildren()))}}catch(e){n.e(e)}finally{n.f()}return t.find(function(e){return e.is("element","img")})}function cf(t){return function(e){e.on("attribute:".concat(t,":image"),n)};function n(e,t,n){n.consumable.consume(t.item,e.name)&&(e=n.writer,n=lf(n.mapper.toViewElement(t.item)),e.setAttribute(t.attributeKey,t.attributeNewValue||"",n))}}var uf=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){this.isEnabled=sf(this.editor.model)}},{key:"execute",value:function(e){var t,n=this.editor.model,r=HS(Zt(e.source));try{for(r.s();!(t=r.n()).done;)af(n,{src:t.value})}catch(e){r.e(e)}finally{r.f()}}}]),t}(),hf=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,i=e.t,n=e.conversion;function r(e,t,n){var r;!n.consumable.test(t.viewItem,{name:!0,classes:"image"})||(r=lf(t.viewItem))&&r.hasAttribute("src")&&n.consumable.test(r,{name:!0})&&((r=So(n.convertItem(r,t.modelCursor).modelRange.getItems()))&&(n.convertChildren(t.viewItem,r),n.updateConversionResult(r,t)))}function o(e,t,n){var r;n.consumable.consume(t.item,e.name)&&(r=n.writer,e=lf(n.mapper.toViewElement(t.item)),null===t.attributeNewValue?(n=t.attributeOldValue).data&&(r.removeAttribute("srcset",e),r.removeAttribute("sizes",e),n.width&&r.removeAttribute("width",e)):(t=t.attributeNewValue).data&&(r.setAttribute("srcset",t.data,e),r.setAttribute("sizes","100vw",e),t.width&&r.setAttribute("width",t.width,e)))}e.editing.view.addObserver(tf),t.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),n.for("dataDowncast").elementToElement({model:"image",view:function(e,t){return df(t.writer)}}),n.for("editingDowncast").elementToElement({model:"image",view:function(e,t){var n,r,t=t.writer;return n=df(t),t=t,r=i("image widget"),t.setCustomProperty("image",!0,n),qu(n,t,{label:function(){var e=lf(n).getAttribute("alt");return e?"".concat(e," ").concat(r):r}})}}),n.for("downcast").add(cf("src")).add(cf("alt")).add(function(e){e.on("attribute:srcset:image",o)}),n.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:function(e,t){return t.writer.createElement("image",{src:e.getAttribute("src")})}}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(e){var t={data:e.getAttribute("srcset")};return e.hasAttribute("width")&&(t.width=e.getAttribute("width")),t}}}).add(function(e){e.on("element:figure",r)});n=new uf(e);e.commands.add("insertImage",n),e.commands.add("imageInsert",n)}}],[{key:"pluginName",get:function(){return"ImageEditing"}}]),t}();function df(e){var t=e.createEmptyElement("img"),n=e.createContainerElement("figure",{class:"image"});return e.insert(e.createPositionAt(n,0),t),n}var ff=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=of(e),this.value=!(!of(e)||!e.hasAttribute("alt"))&&e.getAttribute("alt")}},{key:"execute",value:function(t){var e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(function(e){e.setAttribute("alt",t.newValue,n)})}}]),t}(),pf=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new ff(this.editor))}}],[{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),t}();n(74),n(10);var gf=function(){$S(r,Fl);var n=KS(r);function r(e){var t;qS(this,r);e=(t=n.call(this,e)).locale.t;return t.focusTracker=new Eo,t.keystrokes=new Ao,t.labeledInput=t._createLabeledInputView(),t.saveButtonView=t._createButton(e("Save"),Ol,"ck-button-save"),t.saveButtonView.type="submit",t.cancelButtonView=t._createButton(e("Cancel"),Il,"ck-button-cancel","cancel"),t._focusables=new jl,t._focusCycler=new cc({focusables:t._focusables,focusTracker:t.focusTracker,keystrokeHandler:t.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[t.labeledInput,t.saveButtonView,t.cancelButtonView]}),Ll(ZS(t)),t}return WS(r,[{key:"render",value:function(){var t=this;zS(YS(r.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),Dl({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(function(e){t._focusables.add(e),t.focusTracker.add(e.element)})}},{key:"_createButton",value:function(e,t,n,r){var i=new sc(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}},{key:"_createLabeledInputView",value:function(){var e=this.locale.t,t=new Bc(this.locale,Hc);return t.label=e("Text alternative"),t}}]),r}();function vf(e){var t=e.editing.view,e=Kc.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast]}}var mf=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){zS(YS(t.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("imageTextAlternative",function(e){var t=r.commands.get("imageTextAlternative"),e=new sc(e);return e.set({label:i("Change image text alternative"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),e.bind("isEnabled").to(t,"isEnabled"),n.listenTo(e,"execute",function(){n._showForm()}),e})}},{key:"_createForm",value:function(){var n=this,r=this.editor,i=r.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new gf(r.locale),this._form.render(),this.listenTo(this._form,"submit",function(){r.execute("imageTextAlternative",{newValue:n._form.labeledInput.fieldView.element.value}),n._hideForm(!0)}),this.listenTo(this._form,"cancel",function(){n._hideForm(!0)}),this._form.keystrokes.set("Esc",function(e,t){n._hideForm(!0),t()}),this.listenTo(r.ui,"update",function(){var e,t;rf(i.selection)?n._isVisible&&(t=(e=r).plugins.get("ContextualBalloon"),rf(e.editing.view.document.selection)&&(e=vf(e),t.updatePosition(e))):n._hideForm(!0)}),Nl({emitter:this._form,activator:function(){return n._isVisible},contextElements:[this._balloon.view.element],callback:function(){return n._hideForm()}})}},{key:"_showForm",value:function(){var e,t,n;this._isVisible||(t=(e=this.editor).commands.get("imageTextAlternative"),n=this._form.labeledInput,this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:vf(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions())}},{key:"_hideForm",value:function(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[Yc]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]),t}(),yf=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[pf,mf]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),t}();n(77);var kf=function(){$S(i,Le);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this,e)).defaultStyle=!1,n.styles=t.reduce(function(e,t){return(e[t.name]=t).isDefault&&(n.defaultStyle=t.name),e},{}),n}return WS(i,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=of(e),e?e.hasAttribute("imageStyle")?(e=e.getAttribute("imageStyle"),this.value=!!this.styles[e]&&e):this.value=this.defaultStyle:this.value=!1}},{key:"execute",value:function(e){var t=this,n=e.value,e=this.editor.model,r=e.document.selection.getSelectedElement();e.change(function(e){t.styles[n].isDefault?e.removeAttribute("imageStyle",r):e.setAttribute("imageStyle",n,r)})}}]),i}();function bf(e,t){var n=HS(t);try{for(n.s();!(r=n.n()).done;){var r=r.value;if(r.name===e)return r}}catch(e){n.e(e)}finally{n.f()}}var _f={full:{name:"full",title:"Full size image",icon:j,isDefault:!0},side:{name:"side",title:"Side image",icon:t,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:ie,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Be,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:t,className:"image-style-align-right"}},wf={full:j,left:ie,right:t,center:Be};function Cf(e){return(0<arguments.length&&void 0!==e?e:[]).map(xf)}function xf(e){if("string"==typeof e){var t=e;e=_f[t]?Object.assign({},_f[t]):(Object(C.b)("image-style-not-found",{name:t}),{name:t})}else if(_f[e.name]){var n,r=_f[e.name],i=Object.assign({},e);for(n in r)Object.prototype.hasOwnProperty.call(e,n)||(i[n]=r[n]);e=i}return"string"==typeof e.icon&&wf[e.icon]&&(e.icon=wf[e.icon]),e}var Sf=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.data,r=e.editing;e.config.define("image.styles",["full","side"]);var i=Cf(e.config.get("image.styles"));t.extend("image",{allowAttributes:"imageStyle"});var o,s,t=(o=i,function(e,t,n){var r;n.consumable.consume(t.item,e.name)&&(r=bf(t.attributeNewValue,o),e=bf(t.attributeOldValue,o),t=n.mapper.toViewElement(t.item),n=n.writer,e&&n.removeClass(e.className,t),r&&n.addClass(r.className,t))});r.downcastDispatcher.on("attribute:imageStyle:image",t),n.downcastDispatcher.on("attribute:imageStyle:image",t),n.upcastDispatcher.on("element:figure",(s=i.filter(function(e){return!e.isDefault}),function(e,t,n){if(t.modelRange){var r=t.viewItem,i=So(t.modelRange.getItems());if(!i||n.schema.checkAttribute(i,"imageStyle")){var o=HS(s);try{for(o.s();!(a=o.n()).done;){var a=a.value;n.consumable.consume(r,{classes:a.className})&&n.writer.setAttribute("imageStyle",a.name,i)}}catch(e){o.e(e)}finally{o.f()}}}}),{priority:"low"}),e.commands.add("imageStyle",new kf(e,i))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}}]),t}();n(79);var Ef=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=function(e,t){var n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;t[r.title]&&(r.title=t[r.title])}}catch(e){n.e(e)}finally{n.f()}return e}(Cf(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles),t=HS(e);try{for(t.s();!(n=t.n()).done;){var n=n.value;this._createButton(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"_createButton",value:function(n){var r=this,i=this.editor;i.ui.componentFactory.add("imageStyle:"+n.name,function(e){var t=i.commands.get("imageStyle"),e=new sc(e);return e.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),e.bind("isEnabled").to(t,"isEnabled"),e.bind("isOn").to(t,"value",function(e){return e===n.name}),r.listenTo(e,"execute",function(){i.execute("imageStyle",{value:n.name}),i.editing.view.focus()}),e})}},{key:"localizedDefaultStylesTitles",get:function(){var e=this.editor.t;return{"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}}],[{key:"pluginName",get:function(){return"ImageStyleUI"}}]),t}();function Tf(e){e=e.map(function(e){return e.replace("+","\\+")});return new RegExp("^image\\/(".concat(e.join("|"),")$"))}function Af(e){return new Promise(function(o,t){var a=e.getAttribute("src");fetch(a).then(function(e){return e.blob()}).then(function(e){var t=Pf(e,a),n=t.replace("image/",""),t=new File([e],"image."+n,{type:t});o(t)}).catch(function(e){return e&&"TypeError"===e.name?(i=r=a,new Promise(function(t,n){var r=gi.document.createElement("img");r.addEventListener("load",function(){var e=gi.document.createElement("canvas");e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0),e.toBlob(function(e){return e?t(e):n()})}),r.addEventListener("error",function(){return n()}),r.src=i}).then(function(e){var t=Pf(e,r),n=t.replace("image/","");return new File([e],"image."+n,{type:t})}).then(o).catch(t)):t(e);var r,i})})}function Pf(e,t){return e.type||(t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg")}var Rf=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){function e(e){var t=new fd(e),n=i.commands.get("uploadImage"),r=Tf(e=i.config.get("image.upload.types"));return t.set({acceptedType:e.map(function(e){return"image/"+e}).join(","),allowMultipleFiles:!0}),t.buttonView.set({label:o("Insert image"),icon:Ml,tooltip:!0}),t.buttonView.bind("isEnabled").to(n),t.on("done",function(e,t){t=Array.from(t).filter(function(e){return r.test(e.type)});t.length&&i.execute("uploadImage",{file:t})}),t}var i=this.editor,o=i.t;i.ui.componentFactory.add("uploadImage",e),i.ui.componentFactory.add("imageUpload",e)}}],[{key:"pluginName",get:function(){return"ImageUploadUI"}}]),t}();n(81),n(83),n(85);var If=function(){$S(n,Oe);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'),e}return WS(n,null,[{key:"pluginName",get:function(){return"ImageUploadProgress"}}]),WS(n,[{key:"init",value:function(){var e=this;this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",function(){return e.uploadStatusChange.apply(e,arguments)})}},{key:"uploadStatusChange",value:function(e,t,n){var r,i,o,a,s,l=this.editor,c=t.item,u=c.getAttribute("uploadId");if(n.consumable.consume(t.item,e.name)){var h=l.plugins.get(ud),d=u?t.attributeNewValue:null,f=this.placeholder,p=l.editing.mapper.toViewElement(c),g=n.writer;if("reading"==d)return Of(p,g),void Mf(f,p,g);if("uploading"==d){var v=h.loaders.get(u);return Of(p,g),void(v?(Nf(p,g),o=p,e=g,t=v,a=l.editing.view,n=(c=e).createUIElement("div",{class:"ck-progress-bar"}),c.setCustomProperty("progressBar",!0,n),s=n,e.insert(e.createPositionAt(o,"end"),s),t.on("change:uploadedPercent",function(e,t,n){a.change(function(e){e.setStyle("width",n+"%",s)})}),o=g,(t=v).data&&(v=lf(p),o.setAttribute("src",t.data,v))):Mf(f,p,g))}"complete"==d&&h.loaders.get(u)&&(h=p,u=g,r=l.editing.view,i=u.createUIElement("div",{class:"ck-image-upload-complete-icon"}),u.insert(u.createPositionAt(h,"end"),i),setTimeout(function(){r.change(function(e){return e.remove(e.createRangeOn(i))})},3e3)),Df(p,g,"progressBar"),Nf(p,g),g.removeClass("ck-appear",p)}}}]),n}();function Of(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function Mf(e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);var r=lf(t);r.getAttribute("src")!==e&&n.setAttribute("src",e,r),Lf(t,"placeholder")||n.insert(n.createPositionAfter(r),(n=(r=n).createUIElement("div",{class:"ck-upload-placeholder-loader"}),r.setCustomProperty("placeholder",!0,n),n))}function Nf(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),Df(e,t,"placeholder")}function Lf(e,t){var n=HS(e.getChildren());try{for(n.s();!(r=n.n()).done;){var r=r.value;if(r.getCustomProperty(t))return r}}catch(e){n.e(e)}finally{n.f()}}function Df(e,t,n){n=Lf(e,n);n&&t.remove(t.createRangeOn(n))}var jf=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement(),e=e&&"image"===e.name||!1;this.isEnabled=sf(this.editor.model)||e}},{key:"execute",value:function(e){var t,n,r=this.editor,i=r.model,o=r.plugins.get(ud),a=HS(Zt(e.file));try{for(a.s();!(n=a.n()).done;)t=i,n=n.value,!void((n=o.createLoader(n))&&af(t,{uploadId:n.id}))}catch(e){a.e(e)}finally{a.f()}}}]),t}();var Ff=function(){$S(r,Oe);var n=KS(r);function r(e){var t;return qS(this,r),t=n.call(this,e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),t}return WS(r,null,[{key:"requires",get:function(){return[ud,Uc,Tu]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),WS(r,[{key:"init",value:function(){var s=this,l=this.editor,c=l.model.document,e=l.model.schema,t=l.conversion,u=l.plugins.get(ud),i=Tf(l.config.get("image.upload.types"));e.extend("image",{allowAttributes:["uploadId","uploadStatus"]});e=new jf(l);l.commands.add("uploadImage",e),l.commands.add("imageUpload",e),t.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(l.editing.view.document,"clipboardInput",function(e,t){var n,r=t.dataTransfer;Array.from(r.types).includes("text/html")&&""!==r.getData("text/html")||(n=Array.from(t.dataTransfer.files).filter(function(e){return!!e&&i.test(e.type)})).length&&(e.stop(),l.model.change(function(e){t.targetRanges&&e.setSelection(t.targetRanges.map(function(e){return l.editing.mapper.toModelRange(e)})),l.model.enqueueChange("default",function(){l.execute("uploadImage",{file:n})})}))}),this.listenTo(l.plugins.get("ClipboardPipeline"),"inputTransformation",function(e,t){t=Array.from(l.editing.view.createRangeIn(t.content)).filter(function(e){return!(!(t=e.item).is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))&&!e.item.getAttribute("uploadProcessed");var t}).map(function(e){return{promise:Af(e.item),imageElement:e.item}});if(t.length){var n=new ku(l.editing.view.document),r=HS(t);try{for(r.s();!(o=r.n()).done;){var i=o.value;n.setAttribute("uploadProcessed",!0,i.imageElement);var o=u.createLoader(i.promise);o&&(n.setAttribute("src","",i.imageElement),n.setAttribute("uploadId",o.id,i.imageElement))}}catch(e){r.e(e)}finally{r.f()}}}),l.editing.view.document.on("dragover",function(e,t){t.preventDefault()}),c.on("change",function(){var t=HS(c.differ.getChanges({includeChangesInGraveyard:!0}));try{for(t.s();!(n=t.n()).done;){var e=n.value;if("insert"==e.type&&"$text"!=e.name){var n=e.position.nodeAfter,r="$graveyard"==e.position.root.rootName,i=HS((e=l,n=n,Array.from(e.model.createRangeOn(n)).filter(function(e){return e.item.is("element","image")}).map(function(e){return e.item})));try{for(i.s();!(a=i.n()).done;){var o=a.value,a=o.getAttribute("uploadId");!a||(a=u.loaders.get(a))&&(r?a.abort():"idle"==a.status&&s._readAndUpload(a,o))}}catch(e){i.e(e)}finally{i.f()}}}}catch(e){t.e(e)}finally{t.f()}}),this.on("uploadComplete",function(e,t){var n=t.imageElement,t=t.data,r=t.urls||t;s.editor.model.change(function(e){e.setAttribute("src",r.default,n),s._parseAndSetSrcsetAttributeOnImage(r,n,e)})},{priority:"low"})}},{key:"_readAndUpload",value:function(t,r){var n=this,i=this.editor,o=i.model,a=i.locale.t,e=i.plugins.get(ud),s=i.plugins.get(Uc);return o.enqueueChange("transparent",function(e){e.setAttribute("uploadStatus","reading",r)}),t.read().then(function(){var n,e=t.upload();return br&&(n=lf(i.editing.mapper.toViewElement(r)),i.editing.view.once("render",function(){var e,t;!n.parent||(e=i.editing.view.domConverter.mapViewToDom(n.parent))&&(t=e.style.display,e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=t)})),o.enqueueChange("transparent",function(e){e.setAttribute("uploadStatus","uploading",r)}),e}).then(function(t){o.enqueueChange("transparent",function(e){e.setAttribute("uploadStatus","complete",r),n.fire("uploadComplete",{data:t,imageElement:r})}),l()}).catch(function(e){if("error"!==t.status&&"aborted"!==t.status)throw e;"error"==t.status&&e&&s.showWarning(e,{title:a("Upload failed"),namespace:"upload"}),l(),o.enqueueChange("transparent",function(e){e.remove(r)})});function l(){o.enqueueChange("transparent",function(e){e.removeAttribute("uploadId",r),e.removeAttribute("uploadStatus",r)}),e.destroyLoader(t)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(t,e,n){var r=0,i=Object.keys(t).filter(function(e){e=parseInt(e,10);if(!isNaN(e))return r=Math.max(r,e),!0}).map(function(e){return"".concat(t[e]," ").concat(e,"w")}).join(", ");""!=i&&n.setAttribute("srcset",{data:i,width:r},e)}}]),r}();function Vf(e){return $f.test(e)}var zf=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[Ff,Rf,If]}}]),t}(),Bf=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor;e.commands.add("indent",new ze(e)),e.commands.add("outdent",new ze(e))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),t}(),Hf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Uf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',qf=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,e="ltr"==t.uiLanguageDirection?Hf:Uf,t="ltr"==t.uiLanguageDirection?Uf:Hf;this._defineButton("indent",n("Increase indent"),e),this._defineButton("outdent",n("Decrease indent"),t)}},{key:"_defineButton",value:function(n,r,i){var o=this,a=this.editor;a.ui.componentFactory.add(n,function(e){var t=a.commands.get(n),e=new sc(e);return e.set({label:r,icon:i,tooltip:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),o.listenTo(e,"execute",function(){a.execute(n),a.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),t}(),Wf=(WS(Yf,[{key:"add",value:function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t._definitions.add(e)}):this._definitions.add(e)}},{key:"getDispatcher",value:function(){var l=this;return function(e){e.on("attribute:linkHref",function(e,t,n){if(n.consumable.test(t.item,"attribute:linkHref")){var r=n.writer,i=r.document.selection,o=HS(l._definitions);try{for(o.s();!(s=o.n()).done;){var a=s.value,s=r.createAttributeElement("a",a.attributes,{priority:5});r.setCustomProperty("link",!0,s),a.callback(t.attributeNewValue)?t.item.is("selection")?r.wrap(i.getFirstRange(),s):r.wrap(n.mapper.toViewRange(t.range),s):r.unwrap(n.mapper.toViewRange(t.range),s)}}catch(e){o.e(e)}finally{o.f()}}},{priority:"high"})}}},{key:"getDispatcherForLinkedImage",value:function(){var p=this;return function(e){e.on("attribute:linkHref:image",function(e,t,n){var r=n.mapper.toViewElement(t.item),i=Array.from(r.getChildren()).find(function(e){return"a"===e.name}),o=HS(p._definitions);try{for(o.s();!(s=o.n()).done;){var a=s.value,s=dn(a.attributes);if(a.callback(t.attributeNewValue)){var l=HS(s);try{for(l.s();!(u=l.n()).done;){var c=BS(u.value,2),u=c[0],c=c[1];"class"===u?n.writer.addClass(c,i):n.writer.setAttribute(u,c,i)}}catch(e){l.e(e)}finally{l.f()}}else{var h=HS(s);try{for(h.s();!(f=h.n()).done;){var d=BS(f.value,2),f=d[0],d=d[1];"class"===f?n.writer.removeClass(d,i):n.writer.removeAttribute(f,i)}}catch(e){h.e(e)}finally{h.f()}}}}catch(e){o.e(e)}finally{o.f()}})}}},{key:"length",get:function(){return this._definitions.size}}]),Yf),$f=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),ne="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",pe="\\ud83c[\\udffb-\\udfff]",j="[^\\ud800-\\udfff]",ie="(?:\\ud83c[\\udde6-\\uddff]){2}",t="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="(?:"+ne+"|"+pe+")?",Be="[\\ufe0e\\ufe0f]?"+Be+"(?:\\u200d(?:"+[j,ie,t].join("|")+")[\\ufe0e\\ufe0f]?"+Be+")*",t="(?:"+[j+ne+"?",ne,ie,t,"[\\ud800-\\udfff]"].join("|")+")",Kf=RegExp(pe+"(?="+pe+")|"+t+Be,"g"),Gf=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Zf=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Jf=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Qf=/^((\w+:(\/{2,})?)|(\W))/i;function Yf(){qS(this,Yf),this._definitions=new Set}function Xf(e,t){t=t.writer,e=t.createAttributeElement("a",{href:e},{priority:5});return t.setCustomProperty("link",!0,e),e}function ep(e){return(e=String(e)).replace(Gf,"").match(Zf)?e:"#"}function tp(e,t){return e&&e.is("element","image")&&t.checkAttribute("image","linkHref")}function np(e,t){var n=Jf.test(e)?"mailto:":t,t=!!n&&!Qf.test(e);return e&&t?n+e:e}function rp(e){var t=e.id,n=e.label,r=e.attributes,e=e.defaultValue;qS(this,rp),this.id=t,this.set("value"),this.defaultValue=e,this.label=n,this.attributes=r}var ip=function(){$S(n,Le);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).manualDecorators=new Wt,e.automaticDecorators=new Wf,e}return WS(n,[{key:"restoreManualDecoratorStates",value:function(){var t=HS(this.manualDecorators);try{for(t.s();!(e=t.n()).done;){var e=e.value;e.value=this._getDecoratorStateFromModel(e.id)}}catch(e){t.e(e)}finally{t.f()}}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=So(t.selection.getSelectedBlocks());tp(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.selection.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref"));var r=HS(this.manualDecorators);try{for(r.s();!(i=r.n()).done;){var i=i.value;i.value=this._getDecoratorStateFromModel(i.id)}}catch(e){r.e(e)}finally{r.f()}}},{key:"execute",value:function(f){var e,p=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=this.editor.model,v=g.document.selection,m=[],y=[];for(e in t)(t[e]?m:y).push(e);g.change(function(n){if(v.isCollapsed){var t,r,e=v.getFirstPosition();v.hasAttribute("linkHref")?(t=Qh(e,"linkHref",v.getAttribute("linkHref"),g),n.setAttribute("linkHref",f,t),m.forEach(function(e){n.setAttribute(e,!0,t)}),y.forEach(function(e){n.removeAttribute(e,t)}),n.setSelection(n.createPositionAfter(t.end.nodeBefore))):""!==f&&((r=dn(v.getAttributes())).set("linkHref",f),m.forEach(function(e){r.set(e,!0)}),i=g.insertContent(n.createText(f,r),e).end,n.setSelection(i)),["linkHref"].concat(m,y).forEach(function(e){n.removeSelectionAttribute(e)})}else{var i=g.schema.getValidRanges(v.getRanges(),"linkHref"),o=[],a=HS(v.getSelectedBlocks());try{for(a.s();!(s=a.n()).done;){var s=s.value;g.schema.checkAttribute(s,"linkHref")&&o.push(n.createRangeOn(s))}}catch(e){a.e(e)}finally{a.f()}var l=o.slice(),c=HS(i);try{for(c.s();!(u=c.n()).done;){var u=u.value;p._isRangeToUpdate(u,o)&&l.push(u)}}catch(e){c.e(e)}finally{c.f()}var h,d=HS(l);try{for(d.s();!(h=d.n()).done;)!function(){var t=h.value;n.setAttribute("linkHref",f,t),m.forEach(function(e){n.setAttribute(e,!0,t)}),y.forEach(function(e){n.removeAttribute(e,t)})}()}catch(e){d.e(e)}finally{d.f()}}})}},{key:"_getDecoratorStateFromModel",value:function(e){var t=this.editor.model,n=t.document,r=So(n.selection.getSelectedBlocks());return(tp(r,t.schema)?r:n.selection).getAttribute(e)}},{key:"_isRangeToUpdate",value:function(e,t){var n,r=HS(t);try{for(r.s();!(n=r.n()).done;)if(n.value.containsRange(e))return!1}catch(e){r.e(e)}finally{r.f()}return!0}}]),n}(),op=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document,n=So(t.selection.getSelectedBlocks());this.isEnabled=tp(n,e.schema)?e.schema.checkAttribute(n,"linkHref"):e.schema.checkAttributeInSelection(t.selection,"linkHref")}},{key:"execute",value:function(){var a=this.editor.model,s=a.document.selection,l=this.editor.commands.get("link");a.change(function(e){var t,n=HS(s.isCollapsed?[Qh(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),a)]:a.schema.getValidRanges(s.getRanges(),"linkHref"));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.removeAttribute("linkHref",r),l){var i=HS(l.manualDecorators);try{for(i.s();!(o=i.n()).done;){var o=o.value;e.removeAttribute(o.id,r)}}catch(e){i.e(e)}finally{i.f()}}}}catch(e){n.e(e)}finally{n.f()}})}}]),t}();Ie(rp,Se),n(87);var ap=/^(https?:)?\/\//,sp=function(){$S(r,Oe);var n=KS(r);function r(e){var t;return qS(this,r),t=n.call(this,e),e.config.define("link",{addTargetToExternalLinks:!1}),t}return WS(r,null,[{key:"pluginName",get:function(){return"LinkEditing"}},{key:"requires",get:function(){return[zh,Lh,Tu]}}]),WS(r,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Xf}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(e,t){return Xf(ep(e),t)}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(e){return e.getAttribute("href")}}}),e.commands.add("link",new ip(e)),e.commands.add("unlink",new op(e));var t,n,r,n=(t=e.t,n=function(e){var t=[];if(e)for(var n=0,r=Object.entries(e);n<r.length;n++){var i=BS(r[n],2),o=i[0],i=i[1],o=Object.assign({},i,{id:"link"+function(e){e=bn(e);var t,n,r=Vf(e)?Vf(n=e)?n.match(Kf)||[]:n.split(""):void 0,n=r?r[0]:e.charAt(0),e=r?xn(r,1,t=void 0===t?r.length:t).join(""):e.slice(1);return n.toUpperCase()+e}(o)});t.push(o)}return t}(e.config.get("link.decorators")),r={"Open in a new tab":t("Open in a new tab"),Downloadable:t("Downloadable")},n.forEach(function(e){return e.label&&r[e.label]&&(e.label=r[e.label]),e}),n);this._enableAutomaticDecorators(n.filter(function(e){return"automatic"===e.mode})),this._enableManualDecorators(n.filter(function(e){return"manual"===e.mode})),e.plugins.get(zh).registerAttribute("linkHref"),Xh(e,"linkHref","a","ck-link_selected"),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}},{key:"_enableAutomaticDecorators",value:function(e){var t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:"automatic",callback:function(e){return ap.test(e)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}},{key:"_enableManualDecorators",value:function(e){var t,r;e.length&&(t=this.editor,r=t.commands.get("link").manualDecorators,e.forEach(function(n){t.model.schema.extend("$text",{allowAttributes:n.id}),r.add(new rp(n)),t.conversion.for("downcast").attributeToElement({model:n.id,view:function(e,t){t=t.writer;if(e){e=r.get(n.id).attributes,e=t.createAttributeElement("a",e,{priority:5});return t.setCustomProperty("link",!0,e),e}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:r.get(n.id).attributes},model:{key:n.id}})}))}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var n=this.editor.model,r=n.document.selection;this.listenTo(n,"insertContent",function(){var e=r.anchor.nodeBefore,t=r.anchor.nodeAfter;r.hasAttribute("linkHref")&&e&&e.hasAttribute("linkHref")&&(t&&t.hasAttribute("linkHref")||n.change(function(e){lp(e,up(n.schema))}))},{priority:"low"})}},{key:"_enableClickingAfterLink",value:function(){var e=this.editor,n=e.model;e.editing.view.addObserver(yu);var r=!1;this.listenTo(e.editing.view.document,"mousedown",function(){r=!0}),this.listenTo(e.editing.view.document,"selectionChange",function(){var e,t;r&&(r=!1,(t=n.document.selection).isCollapsed&&t.hasAttribute("linkHref")&&(t=Qh(e=t.getFirstPosition(),"linkHref",t.getAttribute("linkHref"),n),(e.isTouching(t.start)||e.isTouching(t.end))&&n.change(function(e){lp(e,up(n.schema))})))})}},{key:"_enableTypingOverLink",value:function(){var o,a,s=this.editor;this.listenTo(s.editing.view.document,"delete",function(){a=!0},{priority:"high"}),this.listenTo(s.model,"deleteContent",function(){var e,t,n,r,i=s.model.document.selection;i.isCollapsed||(a?a=!1:cp(s)&&(e=s.model,t=e.document.selection,n=t.getFirstPosition(),r=t.getLastPosition(),(t=n.nodeAfter)&&t.is("$text")&&t.hasAttribute("linkHref")&&(t===(r.textNode||r.nodeBefore)||Qh(n,"linkHref",t.getAttribute("linkHref"),e).containsRange(e.createRange(n,r),!0)))&&(o=i.getAttributes()))},{priority:"high"}),this.listenTo(s.model,"insertContent",function(e,t){var i=BS(t,1)[0];a=!1,cp(s)&&o&&(s.model.change(function(e){var t=HS(o);try{for(t.s();!(r=t.n()).done;){var n=BS(r.value,2),r=n[0],n=n[1];e.setAttribute(r,n,i)}}catch(e){t.e(e)}finally{t.f()}}),o=null)},{priority:"high"})}},{key:"_handleDeleteContentAfterLink",value:function(){var e=this.editor,n=e.model,r=n.document.selection,i=!1,o=!1;this.listenTo(e.editing.view.document,"delete",function(e,t){o=t.domEvent.keyCode===Er.backspace},{priority:"high"}),this.listenTo(n,"deleteContent",function(){i=!1;var e=r.getFirstPosition(),t=r.getAttribute("linkHref");t&&(t=Qh(e,"linkHref",t,n),i=t.containsPosition(e)||t.end.isEqual(e))},{priority:"high"}),this.listenTo(n,"deleteContent",function(){o&&(o=!1,i||e.model.enqueueChange(function(e){lp(e,up(n.schema))}))},{priority:"low"})}}]),r}();function lp(e,t){e.removeSelectionAttribute("linkHref");var n=HS(t);try{for(n.s();!(r=n.n()).done;){var r=r.value;e.removeSelectionAttribute(r)}}catch(e){n.e(e)}finally{n.f()}}function cp(e){return e.plugins.get("Input").isInput(e.model.change(function(e){return e.batch}))}function up(e){return e.getDefinition("$text").allowAttributes.filter(function(e){return e.startsWith("link")})}n(89);var hp=function(){$S(i,Fl);var r=KS(i);function i(e,t){var n;qS(this,i),n=r.call(this,e);e=e.t;n.focusTracker=new Eo,n.keystrokes=new Ao,n.urlInputView=n._createUrlInput(),n.saveButtonView=n._createButton(e("Save"),Ol,"ck-button-save"),n.saveButtonView.type="submit",n.cancelButtonView=n._createButton(e("Cancel"),Il,"ck-button-cancel","cancel"),n._manualDecoratorSwitches=n._createManualDecoratorSwitches(t),n.children=n._createFormChildren(t.manualDecorators),n._focusables=new jl,n._focusCycler=new cc({focusables:n._focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});e=["ck","ck-link-form","ck-responsive-form"];return t.manualDecorators.length&&e.push("ck-link-form_layout-vertical","ck-vertical-form"),n.setTemplate({tag:"form",attributes:{class:e,tabindex:"-1"},children:n.children}),Ll(ZS(n)),n}return WS(i,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce(function(e,t){return e[t.name]=t.isOn,e},{})}},{key:"render",value:function(){var t=this;zS(YS(i.prototype),"render",this).call(this),Dl({view:this}),[this.urlInputView].concat(US(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach(function(e){t._focusables.add(e),t.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var e=this.locale.t,t=new Bc(this.locale,Hc);return t.label=e("Link URL"),t}},{key:"_createButton",value:function(e,t,n,r){var i=new sc(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}},{key:"_createManualDecoratorSwitches",value:function(t){var r,i=this,o=this.createCollection(),n=HS(t.manualDecorators);try{for(n.s();!(r=n.n()).done;)!function(){var n=r.value,e=new lc(i.locale);e.set({name:n.id,label:n.label,withText:!0}),e.bind("isOn").toMany([n,t],"value",function(e,t){return void 0===t&&void 0===e?n.defaultValue:e}),e.on("execute",function(){n.set("value",!e.isOn)}),o.add(e)}()}catch(e){n.e(e)}finally{n.f()}return o}},{key:"_createFormChildren",value:function(e){var t=this.createCollection();return t.add(this.urlInputView),e.length&&((e=new Fl).setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(function(e){return{tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}}}),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(e)),t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}]),i}();n(91);var dp=function(){$S(r,Fl);var n=KS(r);function r(e){var t;qS(this,r),t=n.call(this,e);e=e.t;return t.focusTracker=new Eo,t.keystrokes=new Ao,t.previewButtonView=t._createPreviewButton(),t.unlinkButtonView=t._createButton(e("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),t.editButtonView=t._createButton(e("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',"edit"),t.set("href"),t._focusables=new jl,t._focusCycler=new cc({focusables:t._focusables,focusTracker:t.focusTracker,keystrokeHandler:t.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[t.previewButtonView,t.editButtonView,t.unlinkButtonView]}),t}return WS(r,[{key:"render",value:function(){var t=this;zS(YS(r.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(function(e){t._focusables.add(e),t.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(e,t,n){var r=new sc(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.delegate("execute").to(this,n),r}},{key:"_createPreviewButton",value:function(){var e=new sc(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",function(e){return e&&ep(e)}),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",function(e){return e||n("This link has no URL")}),e.bind("isEnabled").to(this,"href",function(e){return!!e}),e.template.tag="a",e.template.eventListeners={},e}}]),r}(),fp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',pp=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor;e.editing.view.addObserver(mu),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(Yc),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:"link-ui",view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:"link-ui",view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}},{key:"destroy",value:function(){zS(YS(t.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var n=this,e=this.editor,t=new dp(e.locale),r=e.commands.get("link"),i=e.commands.get("unlink");return t.bind("href").to(r,"value"),t.editButtonView.bind("isEnabled").to(r),t.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(t,"edit",function(){n._addFormView()}),this.listenTo(t,"unlink",function(){e.execute("unlink"),n._hideUI()}),t.keystrokes.set("Esc",function(e,t){n._hideUI(),t()}),t.keystrokes.set("Ctrl+K",function(e,t){n._addFormView(),t()}),t}},{key:"_createFormView",value:function(){var n=this,t=this.editor,e=t.commands.get("link"),r=t.config.get("link.defaultProtocol"),i=new hp(t.locale,e);return i.urlInputView.fieldView.bind("value").to(e,"value"),i.urlInputView.bind("isReadOnly").to(e,"isEnabled",function(e){return!e}),i.saveButtonView.bind("isEnabled").to(e),this.listenTo(i,"submit",function(){var e=np(i.urlInputView.fieldView.element.value,r);t.execute("link",e,i.getDecoratorSwitchesState()),n._closeFormView()}),this.listenTo(i,"cancel",function(){n._closeFormView()}),i.keystrokes.set("Esc",function(e,t){n._closeFormView(),t()}),i}},{key:"_createToolbarLinkButton",value:function(){var n=this,e=this.editor,r=e.commands.get("link"),t=e.t;e.keystrokes.set("Ctrl+K",function(e,t){t(),r.isEnabled&&n._showUI(!0)}),e.ui.componentFactory.add("link",function(e){e=new sc(e);return e.isEnabled=!0,e.label=t("Link"),e.icon=fp,e.keystroke="Ctrl+K",e.tooltip=!0,e.isToggleable=!0,e.bind("isEnabled").to(r,"isEnabled"),e.bind("isOn").to(r,"value",function(e){return!!e}),n.listenTo(e,"execute",function(){return n._showUI(!0)}),e})}},{key:"_enableUserBalloonInteractions",value:function(){var n=this;this.listenTo(this.editor.editing.view.document,"click",function(){n._getSelectedLinkElement()&&n._showUI()}),this.editor.keystrokes.set("Tab",function(e,t){n._areActionsVisible&&!n.actionsView.focusTracker.isFocused&&(n.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",function(e,t){n._isUIVisible&&(n._hideUI(),t())}),Nl({emitter:this.formView,activator:function(){return n._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return n._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){var e;this._isFormInPanel||(e=this.editor.commands.get("link"),this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||"")}},{key:"_closeFormView",value:function(){var e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}},{key:"_showUI",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){var e;this._isUIInPanel&&(e=this.editor,this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection())}},{key:"_startUpdatingUI",value:function(){function e(){var e=n._getSelectedLinkElement(),t=a();i&&!e||!i&&t!==o?n._hideUI():n._isUIVisible&&n._balloon.updatePosition(n._getBalloonPositionData()),i=e,o=t}var n=this,t=this.editor,r=t.editing.view.document,i=this._getSelectedLinkElement(),o=a();function a(){return r.selection.focus.getAncestors().reverse().find(function(e){return e.is("element")})}this.listenTo(t.ui,"update",e),this.listenTo(this._balloon,"change:visibleView",e)}},{key:"_getBalloonPositionData",value:function(){var e,t=this.editor.editing.view,n=t.document;return{target:this.editor.model.markers.has("link-ui")?(e=Array.from(this.editor.editing.mapper.markerNameToElements("link-ui")),e=t.createRange(t.createPositionBefore(e[0]),t.createPositionAfter(e[e.length-1])),t.domConverter.viewRangeToDom(e)):(e=this._getSelectedLinkElement(),n=n.selection.getFirstRange(),e?t.domConverter.mapViewToDom(e):t.domConverter.viewRangeToDom(n))}}},{key:"_getSelectedLinkElement",value:function(){var e=this.editor.editing.view,t=e.document.selection;if(t.isCollapsed)return gp(t.getFirstPosition());var n=t.getFirstRange().getTrimmed(),r=gp(n.start),t=gp(n.end);return r&&r==t&&e.createRangeIn(r).getTrimmed().isEqual(n)?r:null}},{key:"_showFakeVisualSelection",value:function(){var r=this.editor.model;r.change(function(e){var t,n=r.document.selection.getFirstRange();r.markers.has("link-ui")?e.updateMarker("link-ui",{range:n}):n.start.isAtEnd?(t=n.start.getLastMatchingPosition(function(e){e=e.item;return!r.schema.isContent(e)},{boundaries:n}),e.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:e.createRange(t,n.end)})):e.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:n})})}},{key:"_hideFakeVisualSelection",value:function(){var e=this.editor.model;e.markers.has("link-ui")&&e.change(function(e){e.removeMarker("link-ui")})}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView==this.formView||this._areActionsVisible}}],[{key:"requires",get:function(){return[Yc]}},{key:"pluginName",get:function(){return"LinkUI"}}]),t}();function gp(e){return e.getAncestors().find(function(e){return(e=e).is("attributeElement")&&!!e.getCustomProperty("link")})}var vp=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),mp=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this,t=this.editor.model.document.selection;t.on("change:range",function(){e.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}},{key:"afterInit",value:function(){this._enableEnterHandling(),this._enableShiftEnterHandling()}},{key:"_enableTypingHandling",value:function(){var i=this,o=this.editor,e=new Fh(o.model,function(e){if(4<e.length&&" "===e[e.length-1]&&" "!==e[e.length-2]){e=yp(e.substr(0,e.length-1));return e?{url:e}:void 0}}),a=o.plugins.get("Input");e.on("matched:data",function(e,t){var n=t.batch,r=t.range,t=t.url;a.isInput(n)&&(r=(n=r.end.getShiftedBy(-1)).getShiftedBy(-t.length),n=o.model.createRange(r,n),i._applyAutoLink(t,n))}),e.bind("isEnabled").to(this)}},{key:"_enableEnterHandling",value:function(){var t=this,e=this.editor,n=e.model,e=e.commands.get("enter");e&&e.on("execute",function(){var e=n.document.selection.getFirstPosition();e.parent.previousSibling&&(e=n.createRangeIn(e.parent.previousSibling),t._checkAndApplyAutoLinkOnRange(e))})}},{key:"_enableShiftEnterHandling",value:function(){var t=this,e=this.editor,n=e.model,e=e.commands.get("shiftEnter");e&&e.on("execute",function(){var e=n.document.selection.getFirstPosition(),e=n.createRange(n.createPositionAt(e.parent,0),e.getShiftedBy(-1));t._checkAndApplyAutoLinkOnRange(e)})}},{key:"_checkAndApplyAutoLinkOnRange",value:function(e){var t=this.editor.model,n=jh(e,t),e=n.text,n=n.range,e=yp(e);e&&(n=t.createRange(n.end.getShiftedBy(-e.length),n.end),this._applyAutoLink(e,n))}},{key:"_applyAutoLink",value:function(n,r){var i=this,e=this.editor.model;this.isEnabled&&e.schema.checkAttributeInSelection(e.createSelection(r),"linkHref")&&e.enqueueChange(function(e){var t=i.editor.config.get("link.defaultProtocol"),t=np(n,t);e.setAttribute("linkHref",t,r)})}}],[{key:"pluginName",get:function(){return"AutoLink"}}]),t}();function yp(e){e=vp.exec(e);return e?e[2]:null}var kp=function(){$S(r,Le);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).type=t,e}return WS(r,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var d=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,f=Array.from(t.document.selection.getSelectedBlocks()).filter(function(e){return _p(e,t.schema)}),p=void 0!==e.forceValue?!e.forceValue:this.value;t.change(function(e){if(p){for(var t=f[f.length-1].nextSibling,n=Number.POSITIVE_INFINITY,r=[];t&&"listItem"==t.name&&0!==t.getAttribute("listIndent");){var i=t.getAttribute("listIndent");i<n&&(n=i),r.push({element:t,listIndent:i-n}),t=t.nextSibling}var o=HS(r=r.reverse());try{for(o.s();!(a=o.n()).done;){var a=a.value;e.setAttribute("listIndent",a.listIndent,a.element)}}catch(e){o.e(e)}finally{o.f()}}if(!p){var s=Number.POSITIVE_INFINITY,l=HS(f);try{for(l.s();!(c=l.n()).done;){var c=c.value;c.is("element","listItem")&&c.getAttribute("listIndent")<s&&(s=c.getAttribute("listIndent"))}}catch(e){l.e(e)}finally{l.f()}bp(f,!0,s=0===s?1:s),bp(f,!1,s)}var u=HS(f.reverse());try{for(u.s();!(h=u.n()).done;){var h=h.value;p&&"listItem"==h.name?e.rename(h,"paragraph"):p||"listItem"==h.name?p||"listItem"!=h.name||h.getAttribute("listType")==d.type||e.setAttribute("listType",d.type,h):(e.setAttributes({listType:d.type,listIndent:0},h),e.rename(h,"listItem"))}}catch(e){u.e(e)}finally{u.f()}d.fire("_executeCleanup",f)})}},{key:"_getValue",value:function(){var e=So(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.schema,t=So(this.editor.model.document.selection.getSelectedBlocks());return!!t&&_p(t,e)}}]),r}();function bp(e,t,n){var r=t?e[0]:e[e.length-1];if(r.is("element","listItem"))for(var i=r[t?"previousSibling":"nextSibling"],o=r.getAttribute("listIndent");i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=n;)o>i.getAttribute("listIndent")&&(o=i.getAttribute("listIndent")),i.getAttribute("listIndent")==o&&e[t?"unshift":"push"](i),i=i[t?"previousSibling":"nextSibling"]}function _p(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}var wp=function(){$S(r,Le);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e))._indentBy="forward"==t?1:-1,e}return WS(r,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var a=this,e=this.editor.model,s=Array.from(e.document.selection.getSelectedBlocks());e.change(function(e){for(var t=s[s.length-1],n=t.nextSibling;n&&"listItem"==n.name&&n.getAttribute("listIndent")>t.getAttribute("listIndent");)s.push(n),n=n.nextSibling;a._indentBy<0&&(s=s.reverse());var r=HS(s);try{for(r.s();!(o=r.n()).done;){var i=o.value,o=i.getAttribute("listIndent")+a._indentBy;o<0?e.rename(i,"paragraph"):e.setAttribute("listIndent",o,i)}}catch(e){r.e(e)}finally{r.f()}a.fire("_executeCleanup",s)})}},{key:"_checkEnabled",value:function(){var e=So(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(0<this._indentBy){for(var t=e.getAttribute("listIndent"),n=e.getAttribute("listType"),r=e.previousSibling;r&&r.is("element","listItem")&&r.getAttribute("listIndent")>=t;){if(r.getAttribute("listIndent")==t)return r.getAttribute("listType")==n;r=r.previousSibling}return!1}return!0}}]),r}();function Cp(e,t){var n=t.mapper,r=t.writer,i="numbered"==e.getAttribute("listType")?"ol":"ul",t=((t=r.createContainerElement("li")).getFillerOffset=Rp,t),i=r.createContainerElement(i,null);return r.insert(r.createPositionAt(i,0),t),n.bindElements(e,t),t}function xp(e,t,n,r){var i,o=t.parent,a=n.mapper,s=n.writer,l=a.toViewPosition(r.createPositionBefore(e)),c=Tp(e.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:e.getAttribute("listIndent")}),n=e.previousSibling;if(l=Ep(l=c&&c.getAttribute("listIndent")==e.getAttribute("listIndent")?(i=a.toViewElement(c),s.breakContainer(s.createPositionAfter(i))):n&&"listItem"==n.name?(l=a.toViewPosition(r.createPositionAt(n,"end")),(i=Pp(c=a.findMappedViewAncestor(l)))?s.createPositionBefore(i):s.createPositionAt(c,"end")):a.toViewPosition(r.createPositionBefore(e))),s.insert(l,o),n&&"listItem"==n.name){var n=a.toViewElement(n),u=s.createRange(s.createPositionAt(n,0),l).getWalker({ignoreElementEnd:!0}),h=HS(u);try{for(h.s();!(f=h.n()).done;){var d,f,p=f.value;p.item.is("element","li")&&(d=s.breakContainer(s.createPositionBefore(p.item)),f=p.item.parent,p=s.createPositionAt(t,"end"),Sp(s,p.nodeBefore,p.nodeAfter),s.move(s.createRangeOn(f),p),u.position=d)}}catch(e){h.e(e)}finally{h.f()}}else{l=o.nextSibling;if(l&&(l.is("element","ul")||l.is("element","ol"))){var g=null,v=HS(l.getChildren());try{for(v.s();!(y=v.n()).done;){var m=y.value,y=a.toModelElement(m);if(!(y&&y.getAttribute("listIndent")>e.getAttribute("listIndent")))break;g=m}}catch(e){v.e(e)}finally{v.f()}g&&(s.breakContainer(s.createPositionAfter(g)),s.move(s.createRangeOn(g.parent),s.createPositionAt(t,"end")))}}Sp(s,o,o.nextSibling),Sp(s,o.previousSibling,o)}function Sp(e,t,n){return!t||!n||"ul"!=t.name&&"ol"!=t.name||t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")?null:e.mergeContainers(e.createPositionAfter(t))}function Ep(e){return e.getLastMatchingPosition(function(e){return e.item.is("uiElement")})}function Tp(e,t){for(var n=!!t.sameIndent,r=!!t.smallerIndent,i=t.listIndent,o=e;o&&"listItem"==o.name;){var a=o.getAttribute("listIndent");if(n&&i==a||r&&a<i)return o;o="forward"===t.direction?o.nextSibling:o.previousSibling}return null}function Ap(n,r,i,o){n.ui.componentFactory.add(r,function(e){var t=n.commands.get(r),e=new sc(e);return e.set({label:i,icon:o,tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),e.on("execute",function(){n.execute(r),n.editing.view.focus()}),e})}function Pp(e){var t=HS(e.getChildren());try{for(t.s();!(n=t.n()).done;){var n=n.value;if("ul"==n.name||"ol"==n.name)return n}}catch(e){t.e(e)}finally{t.f()}return null}function Rp(){var e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:Un.call(this)}function Ip(i){return function(e,t,n){var r=n.consumable;r.test(t.item,"insert")&&r.test(t.item,"attribute:listType")&&r.test(t.item,"attribute:listIndent")&&(r.consume(t.item,"insert"),r.consume(t.item,"attribute:listType"),r.consume(t.item,"attribute:listIndent"),xp(t=t.item,Cp(t,n),n,i))}}function Op(e,t,n){var r;n.consumable.consume(t.item,"attribute:listType")&&(r=n.mapper.toViewElement(t.item),(n=n.writer).breakContainer(n.createPositionBefore(r)),n.breakContainer(n.createPositionAfter(r)),n.rename("numbered"==t.attributeNewValue?"ol":"ul",r.parent))}function Mp(e,t,n){var r=n.mapper.toViewElement(t.item).parent,i=n.writer;Sp(i,r,r.nextSibling),Sp(i,r.previousSibling,r);var o=HS(t.item.getChildren());try{for(o.s();!(a=o.n()).done;){var a=a.value;n.consumable.consume(a,"insert")}}catch(e){o.e(e)}finally{o.f()}}function Np(e,t,n){if("listItem"!=t.item.name){for(var r=n.mapper.toViewPosition(t.range.start),i=n.writer,o=[];("ul"==r.parent.name||"ol"==r.parent.name)&&"li"==(r=i.breakContainer(r)).parent.name;){var a=r,s=i.createPositionAt(r.parent,"end");a.isEqual(s)||(s=i.remove(i.createRange(a,s)),o.push(s)),r=i.createPositionAfter(r.parent)}if(0<o.length){for(var l=0;l<o.length;l++){var c,u=r.nodeBefore,r=i.insert(r,o[l]).end;0<l&&(c=Sp(i,u,u.nextSibling))&&c.parent==u&&r.offset--}Sp(i,r.nodeBefore,r.nodeAfter)}}}function Lp(e,t,n){t=n.mapper.toViewPosition(t.position);Sp(n.writer,t.nodeBefore,t.nodeAfter)}function Dp(e,r,t){var n,i,o;t.consumable.consume(r.viewItem,{name:!0})&&(i=(n=t.writer).createElement("listItem"),o=function(){for(var e,t=0,n=r.viewItem.parent;n;)(n.is("element","li")||(e=n.previousSibling)&&e.is("element","li"))&&t++,n=n.parent;return t}(),n.setAttribute("listIndent",o,i),n.setAttribute("listType",r.viewItem.parent&&"ol"==r.viewItem.parent.name?"numbered":"bulleted",i),t.safeInsert(i,r.modelCursor)&&(o=function(e,t,n){var r=n.writer,i=n.schema,o=r.createPositionAfter(e),a=HS(t);try{for(a.s();!(s=a.n()).done;){var s,l=s.value;"ul"==l.name||"ol"==l.name?o=n.convertItem(l,o).modelCursor:(l=(s=n.convertItem(l,r.createPositionAt(e,"end"))).modelRange.start.nodeAfter)&&l.is("element")&&!i.checkChild(e,l.name)&&(e=s.modelCursor.parent.is("element","listItem")?s.modelCursor.parent:function(e){var t,n=new Ko({startPosition:e});for(;t=n.next(),!t.value.item.is("element","listItem"););return t.value.item}(s.modelCursor),o=r.createPositionAfter(e))}}catch(e){a.e(e)}finally{a.f()}return o}(i,r.viewItem.getChildren(),t),r.modelRange=n.createRange(r.modelCursor,o),t.updateConversionResult(i,r)))}function jp(e,t,n){if(n.consumable.test(t.viewItem,{name:!0}))for(var r=0,i=Array.from(t.viewItem.getChildren());r<i.length;r++){var o=i[r];o.is("element","li")||Hp(o)||o._remove()}}function Fp(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})&&0!==t.viewItem.childCount){var r=!1,i=!0,o=HS(US(t.viewItem.getChildren()));try{for(o.s();!(a=o.n()).done;){var a=a.value;r&&!Hp(a)&&a._remove(),a.is("$text")?(i&&(a._data=a.data.trimStart()),a.nextSibling&&!Hp(a.nextSibling)||(a._data=a.data.trimEnd())):Hp(a)&&(r=!0),i=!1}}catch(e){o.e(e)}finally{o.f()}}}function Vp(a){return function(e,t){if(!t.isPhantom){var n=t.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){var n=t.mapper.toViewElement(n),r=n.getAncestors().find(Hp),i=HS(a.createPositionAt(n,0).getWalker());try{for(i.s();!(o=i.n()).done;){var o=o.value;if("elementStart"==o.type&&o.item.is("element","li")){t.viewPosition=o.previousPosition;break}if("elementEnd"==o.type&&o.item==r){t.viewPosition=o.nextPosition;break}}}catch(e){i.e(e)}finally{i.f()}}}}}function zp(e,t){var n=BS(t,2),t=n[0],n=n[1],r=t.is("documentFragment")?t.getChild(0):t,t=n?this.createSelection(n):this.document.selection;if(r&&r.is("element","listItem")){n=t.getFirstPosition(),t=null;if(n.parent.is("element","listItem")?t=n.parent:n.nodeBefore&&n.nodeBefore.is("element","listItem")&&(t=n.nodeBefore),t){var i=t.getAttribute("listIndent");if(0<i)for(;r&&r.is("element","listItem");)r._setAttribute("listIndent",r.getAttribute("listIndent")+i),r=r.nextSibling}}}function Bp(e,t,n,r,i,o){var a,s=Tp(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),t=i.mapper,l=i.writer,i=s?s.getAttribute("listIndent"):null;a=Ep(a=s?i==e?(e=t.toViewElement(s).parent,l.createPositionAfter(e)):(s=o.createPositionAt(s,"end"),t.toViewPosition(s)):n);for(var c=0,u=US(r.getChildren());c<u.length;c++){var h=u[c];Hp(h)&&(a=l.move(l.createRangeOn(h),a).end,Sp(l,h,h.nextSibling),Sp(l,h.previousSibling,h))}}function Hp(e){return e.is("element","ol")||e.is("element","ul")}var Up=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var i=this,t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var c,e=t.data,n=t.editing;t.model.document.registerPostFixer(function(e){return function(e,o){var t=e.document.differ.getChanges(),i=new Map,a=!1,n=HS(t);try{for(n.s();!(s=n.n()).done;){var r=s.value;if("insert"==r.type&&"listItem"==r.name)d(r.position);else if("insert"==r.type&&"listItem"!=r.name){if("$text"!=r.name){var s=r.position.nodeAfter;s.hasAttribute("listIndent")&&(o.removeAttribute("listIndent",s),a=!0),s.hasAttribute("listType")&&(o.removeAttribute("listType",s),a=!0),s.hasAttribute("listStyle")&&(o.removeAttribute("listStyle",s),a=!0);var l,c=HS(Array.from(e.createRangeIn(s)).filter(function(e){return e.item.is("element","listItem")}));try{for(c.s();!(l=c.n()).done;)d(l.value.previousPosition)}catch(e){c.e(e)}finally{c.f()}}d(r.position.getShiftedBy(r.length))}else"remove"==r.type&&"listItem"==r.name?d(r.position):("attribute"==r.type&&"listIndent"==r.attributeKey||"attribute"==r.type&&"listType"==r.attributeKey)&&d(r.range.start)}}catch(e){n.e(e)}finally{n.f()}var u=HS(i.values());try{for(u.s();!(h=u.n()).done;){var h=h.value;(function(e){for(var t=0,n=null;e&&e.is("element","listItem");){var r,i=e.getAttribute("listIndent");t<i?(r=void 0,r=null===n?(n=i-t,t):(i<n&&(n=i),i-n),o.setAttribute("listIndent",r,e),a=!0):(n=null,t=e.getAttribute("listIndent")+1),e=e.nextSibling}})(h),function(e){for(var t=[],n=null;e&&e.is("element","listItem");){var r,i=e.getAttribute("listIndent");n&&n.getAttribute("listIndent")>i&&(t=t.slice(0,i+1)),0!=i&&(t[i]?(r=t[i],e.getAttribute("listType")!=r&&(o.setAttribute("listType",r,e),a=!0)):t[i]=e.getAttribute("listType")),e=(n=e).nextSibling}}(h)}}catch(e){u.e(e)}finally{u.f()}return a;function d(e){var t=e.nodeBefore;if(t&&t.is("element","listItem")){var n=t;if(!i.has(n)){for(var r=n.previousSibling;r&&r.is("element","listItem");r=n.previousSibling)if(n=r,i.has(n))return;i.set(t,n)}}else{e=e.nodeAfter;e&&e.is("element","listItem")&&i.set(e,e)}}}(t.model,e)}),n.mapper.registerViewToModelLength("li",qp),e.mapper.registerViewToModelLength("li",qp),n.mapper.on("modelToViewPosition",Vp(n.view)),n.mapper.on("viewToModelPosition",(c=t.model,function(e,t){var n,r,i=t.viewPosition,o=i.parent,a=t.mapper;if("ul"==o.name||"ol"==o.name)i.isAtEnd?(n=a.toModelElement(i.nodeBefore),r=a.getModelLength(i.nodeBefore),t.modelPosition=c.createPositionBefore(n).getShiftedBy(r)):(r=a.toModelElement(i.nodeAfter),t.modelPosition=c.createPositionBefore(r)),e.stop();else if("li"==o.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){for(var o=a.toModelElement(o),s=1,l=i.nodeBefore;l&&Hp(l);)s+=a.getModelLength(l),l=l.previousSibling;t.modelPosition=c.createPositionBefore(o).getShiftedBy(s),e.stop()}})),e.mapper.on("modelToViewPosition",Vp(n.view)),t.conversion.for("editingDowncast").add(function(e){var u,c;e.on("insert",Np,{priority:"high"}),e.on("insert:listItem",Ip(t.model)),e.on("attribute:listType:listItem",Op,{priority:"high"}),e.on("attribute:listType:listItem",Mp,{priority:"low"}),e.on("attribute:listIndent:listItem",(c=t.model,function(e,t,n){if(n.consumable.consume(t.item,"attribute:listIndent")){var r=n.mapper.toViewElement(t.item),i=n.writer;i.breakContainer(i.createPositionBefore(r)),i.breakContainer(i.createPositionAfter(r));var o=r.parent,a=o.previousSibling,o=i.createRangeOn(o);i.remove(o),a&&a.nextSibling&&Sp(i,a,a.nextSibling),Bp(t.attributeOldValue+1,t.range.start,o.start,r,n,c),xp(t.item,r,n,c);var s=HS(t.item.getChildren());try{for(s.s();!(l=s.n()).done;){var l=l.value;n.consumable.consume(l,"insert")}}catch(e){s.e(e)}finally{s.f()}}})),e.on("remove:listItem",(u=t.model,function(e,t,n){var r=n.mapper.toViewPosition(t.position).getLastMatchingPosition(function(e){return!e.item.is("element","li")}).nodeAfter,i=n.writer;i.breakContainer(i.createPositionBefore(r)),i.breakContainer(i.createPositionAfter(r));var o=r.parent,a=o.previousSibling,s=i.createRangeOn(o),o=i.remove(s);a&&a.nextSibling&&Sp(i,a,a.nextSibling),Bp(n.mapper.toModelElement(r).getAttribute("listIndent")+1,t.position,s.start,r,n,u);var l=HS(i.createRangeIn(o).getItems());try{for(l.s();!(c=l.n()).done;){var c=c.value;n.mapper.unbindViewElement(c)}}catch(e){l.e(e)}finally{l.f()}e.stop()})),e.on("remove",Lp,{priority:"low"})}),t.conversion.for("dataDowncast").add(function(e){e.on("insert",Np,{priority:"high"}),e.on("insert:listItem",Ip(t.model))}),t.conversion.for("upcast").add(function(e){e.on("element:ul",jp,{priority:"high"}),e.on("element:ol",jp,{priority:"high"}),e.on("element:li",Fp,{priority:"high"}),e.on("element:li",Dp)}),t.model.on("insertContent",zp,{priority:"high"}),t.commands.add("numberedList",new kp(t,"numbered")),t.commands.add("bulletedList",new kp(t,"bulleted")),t.commands.add("indentList",new wp(t,"forward")),t.commands.add("outdentList",new wp(t,"backward"));n=n.view.document;this.listenTo(n,"enter",function(e,t){var n=i.editor.model.document,r=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==r.name&&r.isEmpty&&(i.editor.execute("outdentList"),t.preventDefault(),e.stop())},{context:"li"}),this.listenTo(n,"delete",function(e,t){var n;"backward"!==t.direction||(n=i.editor.model.document.selection).isCollapsed&&(!(n=n.getFirstPosition()).isAtStart||"listItem"===(n=n.parent).name&&(n.previousSibling&&"listItem"===n.previousSibling.name||(i.editor.execute("outdentList"),t.preventDefault(),e.stop())))},{context:"li"});n=function(n){return function(e,t){i.editor.commands.get(n).isEnabled&&(i.editor.execute(n),t())}};t.keystrokes.set("Tab",n("indentList")),t.keystrokes.set("Shift+Tab",n("outdentList"))}},{key:"afterInit",value:function(){var e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[Mu,ju]}}]),t}();function qp(e){var t=1,n=HS(e.getChildren());try{for(n.s();!(r=n.n()).done;){var r=r.value;if("ul"==r.name||"ol"==r.name){var i,o=HS(r.getChildren());try{for(o.s();!(i=o.n()).done;)t+=qp(i.value)}catch(e){o.e(e)}finally{o.f()}}}}catch(e){n.e(e)}finally{n.f()}return t}var Wp=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor.t;Ap(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Ap(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}],[{key:"pluginName",get:function(){return"ListUI"}}]),t}();function $p(e,t,n){var r=t.parent,i=n.createElement(e.type),t=r.getChildIndex(t)+1;return n.insertChild(t,i,r),e.style&&n.setStyle("list-style-type",e.style,i),i}var Kp=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,Gp=(WS(Zp,[{key:"isActive",value:function(e){return Kp.test(e)}},{key:"execute",value:function(e){var t=new ku(this.document);!function(e,t){var n=HS(e.getChildren());try{for(n.s();!(r=n.n()).done;){var r,i=r.value;i.is("element","b")&&"normal"===i.getStyle("font-weight")&&(r=e.getChildIndex(i),t.remove(i),t.insertChild(r,i.getChildren(),e))}}catch(e){n.e(e)}finally{n.f()}}(e.content,t),function(e,t){var n=HS(t.createRangeIn(e));try{for(n.s();!(r=n.n()).done;){var r=r.value.item;!r.is("element","li")||(r=r.getChild(0))&&r.is("element","p")&&t.unwrapElement(r)}}catch(e){n.e(e)}finally{n.f()}}(e.content,t)}}]),Zp);function Zp(e){qS(this,Zp),this.document=e}function Jp(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(e,t){return 1===t.length?" ":Array(t.length+1).join("  ").substr(0,t.length)})}var Qp=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Yp=/xmlns:o="urn:schemas-microsoft-com/i,Xp=(WS(eg,[{key:"isActive",value:function(e){return Qp.test(e)||Yp.test(e)}},{key:"execute",value:function(e){var h,t,s,c,l,u,d,f,p,n=function(e,i){var t=new DOMParser,n=Jp(Jp(function(e){var t=e.indexOf("</body>");if(t<0)return e;var n=e.indexOf("</html>",t+"</body>".length);return e.substring(0,t+"</body>".length)+(n>=0?e.substring(n):"")}(e=e.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),o=t.parseFromString(n,"text/html");o.querySelectorAll("span[style*=spacerun]").forEach(function(e){var t=e.innerText.length||0;e.innerHTML=Array(t+1).join("  ").substr(0,t)});e=o.body.innerHTML,t=function(e){for(var t=new hr(i),t=new _i(t,{blockFillerMode:"nbsp"}),n=e.createDocumentFragment(),r=e.body.childNodes;0<r.length;)n.appendChild(r[0]);return t.domToView(n)}(o),n=function(){for(var e=[],t=[],n=0,r=Array.from(o.getElementsByTagName("style"));n<r.length;n++){var i=r[n];i.sheet&&i.sheet.cssRules&&i.sheet.cssRules.length&&(e.push(i.sheet),t.push(i.innerHTML))}return{styles:e,stylesString:t.join(" ")}}();return{body:t,bodyString:e,styles:n.styles,stylesString:n.stylesString}}(e.dataTransfer.getData("text/html"),this.document.stylesProcessor),r=n.body;c=r,l=n.stylesString,c.childCount&&(u=new ku(c.document),(d=function(){var e,t,n,r=u.createRangeIn(c),i=new fn({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),o=[],a=HS(r);try{for(a.s();!(n=a.n()).done;){var s,l=n.value;"elementStart"===l.type&&i.match(l.item)&&(e=l.item,n=s=t=void 0,s={},(n=e.getStyle("mso-list"))&&(t=n.match(/(^|\s{1,100})l(\d+)/i),e=n.match(/\s{0,100}lfo(\d+)/i),n=n.match(/\s{0,100}level(\d+)/i),t&&e&&n&&(s.id=t[2],s.order=e[1],s.indent=n[1])),s=s,o.push({element:l.item,id:s.id,order:s.order,indent:s.indent}))}}catch(e){a.e(e)}finally{a.f()}return o}()).length&&(f=null,p=1,d.forEach(function(t,e){var n,r,i=function(e){if(!e)return!0;if(e.id!==t.id)return t.indent-e.indent!=1;var e=t.element.previousSibling;return!e||!((e=e).is("element","ol")||e.is("element","ul"))}(d[e-1]),e=(e=i?null:d[e-1])?t.indent-e.indent:t.indent-1;i&&(f=null,p=1),f&&0==e||(n=t,i=l,e=new RegExp("@list l".concat(n.id,":level").concat(n.indent,"\\s*({[^}]*)"),"gi").exec(i),a="decimal",i="ol",e&&e[1]&&((e=/mso-level-number-format:([^;]{0,100});/gi.exec(e[1]))&&e[1]&&(i="bullet"!==(a=e[1].trim())&&"image"!==a?"ol":"ul"),"bullet"===a&&(r=function(){var e=function(e){if(e.getChild(0).is("$text"))return null;e=e.getChild(0).getChild(0);return e.is("$text")?e:e.getChild(0)}(n.element);if(!e)return null;e=e._data;return"o"===e?"circle":"·"===e?"disc":"§"===e?"square":null}())&&(a=r)),a={type:i,style:function(e){switch(e){case"arabic-leading-zero":return"decimal-leading-zero";case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return e;default:return null}}(a)},f?t.indent>p?(f=$p(a,(o=f.getChild(f.childCount-1)).getChild(o.childCount-1),u),p+=1):t.indent<p&&(f=function(e){var t=null,n=0,r=HS(f.getAncestors({parentFirst:!0}));try{for(r.s();!(i=r.n()).done;){var i=i.value;if("ul"!==i.name&&"ol"!==i.name||n++,n===e){t=i;break}}}catch(e){r.e(e)}finally{r.f()}return t}(p-t.indent),p=parseInt(t.indent)):f=$p(a,t.element,u),t.indent<=p&&(f.is("element",a.type)||(f=u.rename(a.type,f))));var o,a,o=(function(e,t){var n=new fn({name:"span",styles:{"mso-list":"Ignore"}}),r=HS(t.createRangeIn(e));try{for(r.s();!(i=r.n()).done;){var i=i.value;"elementStart"===i.type&&n.match(i.item)&&t.remove(i.item)}}catch(e){r.e(e)}finally{r.f()}}(o=t.element,a=u),a.rename("li",o));u.appendChild(o,f)}))),h=r,t=e.dataTransfer.getData("text/rtf"),h.childCount&&(s=new ku,function(t,e){var n=e.createRangeIn(h),r=new fn({name:"img"}),i=[],o=HS(n);try{for(o.s();!(a=o.n()).done;){var a,s=a.value;!r.match(s.item)||((s=(a=s.item).getAttribute("v:shapes")?a.getAttribute("v:shapes").split(" "):[]).length&&s.every(function(e){return-1<t.indexOf(e)})||!a.getAttribute("src"))&&i.push(a)}}catch(e){o.e(e)}finally{o.f()}for(var l=0,c=i;l<c.length;l++){var u=c[l];e.remove(u)}}(function(){var e=s.createRangeIn(h),t=new fn({name:/v:(.+)/}),n=[],r=HS(e);try{for(r.s();!(a=r.n()).done;){var i=a.value,o=i.item,a=o.previousSibling&&o.previousSibling.name||null;t.match(o)&&o.getAttribute("o:gfxdata")&&"v:shapetype"!==a&&n.push(i.item.getAttribute("id"))}}catch(e){r.e(e)}finally{r.f()}return n}(),s),function(e){var t=e.createRangeIn(h),n=new fn({name:/v:(.+)/}),r=[],i=HS(t);try{for(i.s();!(o=i.n()).done;){var o=o.value;n.match(o.item)&&r.push(o.item)}}catch(e){i.e(e)}finally{i.f()}for(var a=0,s=r;a<s.length;a++){var l=s[a];e.remove(l)}}(s),(n=function(){var e=s.createRangeIn(h),t=new fn({name:"img"}),n=[],r=HS(e);try{for(r.s();!(i=r.n()).done;){var i=i.value;t.match(i.item)&&i.item.getAttribute("src").startsWith("file://")&&n.push(i.item)}}catch(e){r.e(e)}finally{r.f()}return n}()).length&&function(e,t,n){if(e.length===t.length)for(var r=0;r<e.length;r++){i="data:".concat(t[r].type,";base64,").concat((i=t[r].hex,btoa(i.match(/\w{2}/g).map(function(e){return String.fromCharCode(parseInt(e,16))}).join(""))));n.setAttribute("src",i,e[r])}var i}(n,function(e){if(!e)return[];var t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),n=e.match(n),r=[];if(n){var i=HS(n);try{for(i.s();!(a=i.n()).done;){var o=a.value,a=!1;o.includes("\\pngblip")?a="image/png":o.includes("\\jpegblip")&&(a="image/jpeg"),a&&r.push({hex:o.replace(t,"").replace(/[^\da-fA-F]/g,""),type:a})}}catch(e){i.e(e)}finally{i.f()}}return r}(t),s)),e.content=r}}]),eg);function eg(e){qS(this,eg),this.document=e}function tg(e,t,n,r,i){(4<arguments.length&&void 0!==i?i:1)<t?r.setAttribute(e,t,n):r.removeAttribute(e,n)}function ng(e,t,n){n=2<arguments.length&&void 0!==n?n:{},n=e.createElement("tableCell",n);return e.insertElement("paragraph",n),e.insert(n,t),n}function rg(e,t){var n=parseInt(t.parent.parent.getAttribute("headingColumns")||0),t=e.getCellLocation(t).column;return!!n&&t<n}function ig(t){return function(e){e.on("element:"+t,function(e,t,n){t.modelRange&&t.viewItem.isEmpty&&(t=n.writer.createPositionAt(t.modelRange.start.nodeAfter,0),n.writer.insertElement("paragraph",t))},{priority:"low"})}}var og=(WS(lg,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();var t=null,n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{var r=e.getChild(this._cellIndex);if(!r)return this._advanceToNextRow();n=parseInt(r.getAttribute("colspan")||1),e=parseInt(r.getAttribute("rowspan")||1);(1<n||1<e)&&this._recordSpans(r,e,n),this._shouldSkipSlot()||(t=this._formatOutValue(r)),this._nextCellAtColumn=this._column+n}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}},{key:"skipRow",value:function(e){this._skipRows.add(e)}},{key:"_advanceToNextRow",value:function(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}},{key:"_isOverEndRow",value:function(){return void 0!==this._endRow&&this._row>this._endRow}},{key:"_isOverEndColumn",value:function(){return void 0!==this._endColumn&&this._column>this._endColumn}},{key:"_formatOutValue",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._row,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._column;return{done:!1,value:new ag(this,e,t,n)}}},{key:"_shouldSkipSlot",value:function(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}},{key:"_getSpanned",value:function(){var e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}},{key:"_recordSpans",value:function(e,t,n){for(var r={cell:e,row:this._row,column:this._column},i=this._row;i<this._row+t;i++)for(var o=this._column;o<this._column+n;o++)i==this._row&&o==this._column||this._markSpannedCell(i,o,r)}},{key:"_markSpannedCell",value:function(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}]),lg),ag=(WS(sg,[{key:"getPositionBefore",value:function(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}},{key:"isAnchor",get:function(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}},{key:"cellWidth",get:function(){return parseInt(this.cell.getAttribute("colspan")||1)}},{key:"cellHeight",get:function(){return parseInt(this.cell.getAttribute("rowspan")||1)}},{key:"rowIndex",get:function(){return this._rowIndex}}]),sg);function sg(e,t,n,r){qS(this,sg),this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=r,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}function lg(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};qS(this,lg),this._table=e,this._startRow=void 0!==t.row?t.row:t.startRow||0,this._endRow=void 0!==t.row?t.row:t.endRow,this._startColumn=void 0!==t.column?t.column:t.startColumn||0,this._endColumn=void 0!==t.column?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}function cg(e){var k=0<arguments.length&&void 0!==e?e:{};return function(e){return e.on("insert:table",function(e,t,n){var r=t.item;if(n.consumable.consume(r,"insert")){n.consumable.consume(r,"attribute:headingRows:table"),n.consumable.consume(r,"attribute:headingColumns:table");var i,o=k&&k.asWidget,a=n.writer.createContainerElement("figure",{class:"table"}),s=n.writer.createContainerElement("table");n.writer.insert(n.writer.createPositionAt(a,0),s),o&&((l=n.writer).setCustomProperty("table",!0,i=a),i=qu(i,l,{hasSelectionHandle:!0}));var l=new og(r),c={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},u=new Map,h=HS(l);try{for(h.s();!(g=h.n()).done;){var d=g.value,f=d.row,p=d.cell,g=r.getChild(f),g=u.get(f)||fg(s,g,f,c,n);u.set(f,g),n.consumable.consume(p,"insert"),dg(d,c,n.writer.createPositionAt(g,"end"),n,k)}}catch(e){h.e(e)}finally{h.f()}var v=HS(r.getChildren());try{for(v.s();!(y=v.n()).done;){var m=y.value,y=m.index;m.is("element","tableRow")&&!u.has(y)&&u.set(y,fg(s,m,y,c,n))}}catch(e){v.e(e)}finally{v.f()}t=n.mapper.toViewPosition(t.range.start);n.mapper.bindElements(r,o?i:a),n.writer.insert(t,o?i:a)}})}}function ug(e,t){t=t.writer;if(e.parent.is("element","tableCell"))return hg(e)?t.createContainerElement("span",{style:"display:inline-block"}):t.createContainerElement("p")}function hg(e){return 1===e.parent.childCount&&!mg(e)}function dg(e,t,n,r,i){var o=i&&i.asWidget,a=pg(e,t),i=o?Gu(r.writer.createEditableElement(a),r.writer):r.writer.createContainerElement(a);o&&Ku(i,r.writer,function(e,t,n){return n.addClass(Zt(t.classes),e)},function(e,t,n){return n.removeClass(Zt(t.classes),e)});t=e.cell,a=t.getChild(0),e=1===t.childCount&&"paragraph"===a.name;r.writer.insert(n,i),r.mapper.bindElements(t,i),o||!e||mg(a)||(t=t.getChild(0),r.consumable.consume(t,"insert"),r.mapper.bindElements(t,i))}function fg(e,t,n,r,i){i.consumable.consume(t,"insert");var o=t.isEmpty?i.writer.createEmptyElement("tr"):i.writer.createContainerElement("tr");i.mapper.bindElements(t,o);var a,s=r.headingRows,t=(a=n<r.headingRows?"thead":"tbody",t=i,gg(a,r=e)||(e=a,a=r,t=(r=t).writer.createContainerElement(e),e=r.writer.createPositionAt(a,"tbody"==e?"end":0),r.writer.insert(e,t),t)),n=i.writer.createPositionAt(t,0<s&&s<=n?n-s:n);return i.writer.insert(n,o),o}function pg(e,t){var n=e.row,r=e.column,e=t.headingColumns,t=t.headingRows;return t&&n<t||e&&r<e?"th":"td"}function gg(e,t){var n=HS(t.getChildren());try{for(n.s();!(r=n.n()).done;){var r=r.value;if(r.name==e)return r}}catch(e){n.e(e)}finally{n.f()}}function vg(e,t,n){t=gg(e,t);t&&0===t.childCount&&n.writer.remove(n.writer.createRangeOn(t))}function mg(e){return US(e.getAttributeKeys()).length}var yg=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e,t=this.editor.model,n=t.document.selection,r=t.schema;this.isEnabled=(e=r,t=n.getFirstPosition().parent,e.checkChild(t===t.root?t:t.parent,"table")&&!Ju(n,r))}},{key:"execute",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this.editor.model,e=r.document.selection,i=this.editor.plugins.get("TableUtils"),o=Zu(e,r);r.change(function(e){var t=i.createTable(e,n);r.insertContent(t,o),e.setSelection(e.createPositionAt(t.getNodeByPath([0,0,0]),0))})}}]),t}();function kg(e){var t=[],n=HS(Sg(e.getRanges()));try{for(n.s();!(r=n.n()).done;){var r=r.value.getContainedElement();r&&r.is("element","tableCell")&&t.push(r)}}catch(e){n.e(e)}finally{n.f()}return t}function bg(e){var t=[],n=HS(e.getRanges());try{for(n.s();!(r=n.n()).done;){var r=r.value.start.findAncestor("tableCell");r&&t.push(r)}}catch(e){n.e(e)}finally{n.f()}return t}function _g(e){var t=kg(e);return t.length?t:bg(e)}function wg(e){return Eg(e.map(function(e){return e.parent.index}))}function Cg(t){var e=t[0].findAncestor("table");return Eg(US(new og(e)).filter(function(e){return t.includes(e.cell)}).map(function(e){return e.column}))}function xg(e,t){if(e.length<2||!function(e){var t=e[0].findAncestor("table");if(Ag(wg(e),parseInt(t.getAttribute("headingRows")||0))){t=parseInt(t.getAttribute("headingColumns")||0);return Ag(Cg(e),t)}}(e))return!1;var n,r=new Set,i=new Set,o=0,a=HS(e);try{for(a.s();!(u=a.n()).done;){var s=u.value,l=t.getCellLocation(s),c=l.row,u=l.column,l=parseInt(s.getAttribute("rowspan")||1),s=parseInt(s.getAttribute("colspan")||1);r.add(c),i.add(u),1<l&&r.add(c+l-1),1<s&&i.add(u+s-1),o+=l*s}}catch(e){a.e(e)}finally{a.f()}return n=i,e=Array.from(r.values()),n=Array.from(n.values()),(Math.max.apply(Math,US(e))-Math.min.apply(Math,US(e))+1)*(Math.max.apply(Math,US(n))-Math.min.apply(Math,US(n))+1)==o}function Sg(e){return Array.from(e).sort(Tg)}function Eg(e){e=e.sort(function(e,t){return e-t});return{first:e[0],last:e[e.length-1]}}function Tg(e,t){return e.start.isBefore(t.start)?-1:1}function Ag(e,t){return e.first<t==e.last<t}var Pg=function(){$S(r,Le);var n=KS(r);function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return qS(this,r),(e=n.call(this,e)).order=t.order||"below",e}return WS(r,[{key:"refresh",value:function(){var e=!!_g(this.editor.model.document.selection).length;this.isEnabled=e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),r="above"===this.order,e=_g(t),t=wg(e),t=r?t.first:t.last,e=e[0].findAncestor("table");n.insertRows(e,{at:r?t:t+1,copyStructureFromAbove:!r})}}]),r}(),Rg=function(){$S(r,Le);var n=KS(r);function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return qS(this,r),(e=n.call(this,e)).order=t.order||"right",e}return WS(r,[{key:"refresh",value:function(){var e=!!_g(this.editor.model.document.selection).length;this.isEnabled=e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),r="left"===this.order,e=_g(t),t=Cg(e),t=r?t.first:t.last,e=e[0].findAncestor("table");n.insertColumns(e,{columns:1,at:r?t:t+1})}}]),r}(),Ig=function(){$S(r,Le);var n=KS(r);function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return qS(this,r),(e=n.call(this,e)).direction=t.direction||"horizontally",e}return WS(r,[{key:"refresh",value:function(){var e=_g(this.editor.model.document.selection);this.isEnabled=1===e.length}},{key:"execute",value:function(){var e=_g(this.editor.model.document.selection)[0],t="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");t?n.splitCellHorizontally(e,2):n.splitCellVertically(e,2)}}]),r}();function Og(e,t,n){for(var r=t.startRow,i=t.startColumn,o=t.endRow,a=t.endColumn,s=n.createElement("table"),l=o-r+1,c=0;c<l;c++)n.insertElement("tableRow",s,"end");var u=HS(US(new og(e,{startRow:r,endRow:o,startColumn:i,endColumn:a,includeAllSlots:!0})));try{for(u.s();!(m=u.n()).done;){var h=m.value,d=h.row,f=h.column,p=h.cell,g=h.isAnchor,v=h.cellAnchorRow,m=h.cellAnchorColumn,h=s.getChild(d-r);g?(p=n.cloneElement(p),n.append(p,h),jg(p,d,f,o,a,n)):(v<r||m<i)&&ng(n,n.createPositionAt(h,"end"))}}catch(e){u.e(e)}finally{u.f()}return function(e,t,n,r,i){var o=parseInt(t.getAttribute("headingRows")||0);0<o&&tg("headingRows",o-n,e,i,0);t=parseInt(t.getAttribute("headingColumns")||0);0<t&&tg("headingColumns",t-r,e,i,0)}(s,e,r,i,n),s}function Mg(e,t,n){var r=[],i=HS(new og(e,{startRow:2<arguments.length&&void 0!==n?n:0,endRow:t-1}));try{for(i.s();!(s=i.n()).done;){var o=s.value,a=o.row,s=o.cellHeight;a<t&&t<=a+s-1&&r.push(o)}}catch(e){i.e(e)}finally{i.f()}return r}function Ng(e,t,n){var r=e.parent,i=r.parent,o=r.index,r=t-o,a={},t=parseInt(e.getAttribute("rowspan"))-r;1<t&&(a.rowspan=t);t=parseInt(e.getAttribute("colspan")||1);1<t&&(a.colspan=t);var s,l=o+r,c=null,u=HS(US(new og(i,{startRow:o,endRow:l,includeAllSlots:!0})));try{for(u.s();!(f=u.n()).done;){var h=f.value,d=h.row,f=h.column;h.cell===e&&void 0===s&&(s=f),void 0!==s&&s===f&&d===l&&(c=ng(n,h.getPositionBefore(),a))}}catch(e){u.e(e)}finally{u.f()}return tg("rowspan",r,e,n),c}function Lg(e,t){var n=[],r=HS(new og(e));try{for(r.s();!(a=r.n()).done;){var i=a.value,o=i.column,a=i.cellWidth;o<t&&t<=o+a-1&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}function Dg(e,t,n,r){var i=n-t,n={},t=parseInt(e.getAttribute("colspan"))-i;1<t&&(n.colspan=t);t=parseInt(e.getAttribute("rowspan")||1);1<t&&(n.rowspan=t);n=ng(r,r.createPositionAfter(e),n);return tg("colspan",i,e,r),n}function jg(e,t,n,r,i,o){var a=parseInt(e.getAttribute("colspan")||1),s=parseInt(e.getAttribute("rowspan")||1);i<n+a-1&&tg("colspan",i-n+1,e,o,1),r<t+s-1&&tg("rowspan",r-t+1,e,o,1)}function Fg(e,t){var n,r=t.getColumns(e),i=new Array(r).fill(0),o=HS(new og(e));try{for(o.s();!(n=o.n()).done;)i[n.value.column]++}catch(e){o.e(e)}finally{o.f()}r=i.reduce(function(e,t,n){return t?e:[].concat(US(e),[n])},[]);return 0<r.length&&(t.removeColumns(e,{at:r[r.length-1]}),1)}function Vg(e,t){for(var n=[],r=t.getRows(e),i=0;i<r;i++)e.getChild(i).isEmpty&&n.push(i);return 0<n.length&&(t.removeRows(e,{at:n[n.length-1]}),1)}function zg(e,t){Fg(e,t)||Vg(e,t)}function Bg(e,t){e=Array.from(new og(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));return e.every(function(e){return 1===e.cellHeight})?t.lastRow:t.lastRow+(e[0].cellHeight-1)}function Hg(e,t){e=Array.from(new og(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));return e.every(function(e){return 1===e.cellWidth})?t.lastColumn:t.lastColumn+(e[0].cellWidth-1)}var Ug=function(){$S(r,Le);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).direction=t.direction,e.isHorizontal="right"==e.direction||"left"==e.direction,e}return WS(r,[{key:"refresh",value:function(){var e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}},{key:"execute",value:function(){var a=this,e=this.editor.model,s=bg(e.document.selection)[0],l=this.value,c=this.direction;e.change(function(e){var t="right"==c||"down"==c,n=t?s:l,r=t?l:s,i=r.parent;o=n,t=e,qg(r=r)||(qg(o)&&t.remove(t.createRangeIn(o)),t.move(t.createRangeIn(r),t.createPositionAt(o,"end"))),t.remove(r);var o=a.isHorizontal?"colspan":"rowspan",t=parseInt(s.getAttribute(o)||1),r=parseInt(l.getAttribute(o)||1);e.setAttribute(o,t+r,n),e.setSelection(e.createRangeIn(n));n=a.editor.plugins.get("TableUtils");zg(i.findAncestor("table"),n)})}},{key:"_getMergeableCell",value:function(){var e=bg(this.editor.model.document.selection)[0];if(e){var t=this.editor.plugins.get("TableUtils"),n=(this.isHorizontal?function(e,t,n){var r="right"==t?e.nextSibling:e.previousSibling,i=0<(e.parent.parent.getAttribute("headingColumns")||0);if(r){var o="right"==t?e:r,a="right"==t?r:e,s=n.getCellLocation(o).column,t=n.getCellLocation(a).column,e=parseInt(o.getAttribute("colspan")||1),o=rg(n,o),a=rg(n,a);return(!i||o==a)&&s+e===t?r:void 0}}:function(t,r,e){var n=t.parent,i=n.parent,o=i.getChildIndex(n);if(!("down"==r&&o===e.getRows(i)-1||"up"==r&&0===o)){n=parseInt(t.getAttribute("rowspan")||1),e=i.getAttribute("headingRows")||0;if(!e||!("down"==r&&o+n===e||"up"==r&&o===e)){var e=parseInt(t.getAttribute("rowspan")||1),a="down"==r?o+e:o,i=US(new og(i,{endRow:a})),s=i.find(function(e){return e.cell===t}).column,i=i.find(function(e){var t=e.row,n=e.cellHeight;return e.column===s&&("down"==r?t===a:a===t+n)});return i&&i.cell}}})(e,this.direction,t);if(n){t=this.isHorizontal?"rowspan":"colspan",e=parseInt(e.getAttribute(t)||1);return parseInt(n.getAttribute(t)||1)===e?n:void 0}}}}]),r}();function qg(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}var Wg=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=_g(this.editor.model.document.selection),t=e[0];t?(t=t.findAncestor("table"),t=this.editor.plugins.get("TableUtils").getRows(t)-1,e=wg(e),this.isEnabled=!(0===e.first&&e.last===t)):this.isEnabled=!1}},{key:"execute",value:function(){var e=this.editor.model,n=this.editor.plugins.get("TableUtils"),t=_g(e.document.selection),r=wg(t),t=t[0],i=t.findAncestor("table"),o=n.getCellLocation(t).column;e.change(function(e){n.removeRows(i,{at:r.first,rows:r.last-r.first+1});var t=function(e,t,n,r){var r=e.getChild(Math.min(t,r-1)),i=r.getChild(0),o=0,a=HS(r.getChildren());try{for(a.s();!(s=a.n()).done;){var s=s.value;if(n<o)return i;i=s,o+=parseInt(s.getAttribute("colspan")||1)}}catch(e){a.e(e)}finally{a.f()}return i}(i,r.first,o,n.getRows(i));e.setSelection(e.createPositionAt(t,0))})}}]),t}(),$g=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e,t=_g(this.editor.model.document.selection),n=t[0];n?(e=n.findAncestor("table"),n=this.editor.plugins.get("TableUtils").getColumns(e),t=(e=Cg(t)).first,e=e.last,this.isEnabled=e-t<n-1):this.isEnabled=!1}},{key:"execute",value:function(){var t,e,n,r,i=this,r=BS((e=this.editor.model.document.selection,n=_g(e),r=n[0],e=n.pop(),n=[r,e],r.isBefore(e)?n:n.reverse()),2),o=r[0],a=r[1],s=o.parent.parent,e=US(new og(s)),l={first:e.find(function(e){return e.cell===o}).column,last:e.find(function(e){return e.cell===a}).column},c=(n=e,r=o,e=a,t=l,1<parseInt(e.getAttribute("colspan")||1)?e:r.previousSibling||e.nextSibling?e.nextSibling||r.previousSibling:(t.first?n.reverse().find(function(e){return e.column<t.first}):n.reverse().find(function(e){return e.column>t.last})).cell);this.editor.model.change(function(e){var t=l.last-l.first+1;i.editor.plugins.get("TableUtils").removeColumns(s,{at:l.first,columns:t}),e.setSelection(e.createPositionAt(c,0))})}}]),t}(),Kg=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var t=this,e=_g(this.editor.model.document.selection),n=0<e.length;this.isEnabled=n,this.value=n&&e.every(function(e){return t._isInHeading(e,e.parent.parent)})}},{key:"execute",value:function(){var e,r,t,n,i,o;(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).forceValue!==this.value&&(t=_g((e=this.editor.model).document.selection),r=t[0].findAncestor("table"),t=(n=wg(t)).first,n=n.last,i=this.value?t:n+1,o=r.getAttribute("headingRows")||0,e.change(function(e){if(i){var t,n=HS(Mg(r,i,o<i?o:0));try{for(n.s();!(t=n.n()).done;)Ng(t.value.cell,i,e)}catch(e){n.e(e)}finally{n.f()}}tg("headingRows",i,r,e,0)}))}},{key:"_isInHeading",value:function(e,t){t=parseInt(t.getAttribute("headingRows")||0);return!!t&&e.parent.index<t}}]),t}(),Gg=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=_g(this.editor.model.document.selection),t=this.editor.plugins.get("TableUtils"),n=0<e.length;this.isEnabled=n,this.value=n&&e.every(function(e){return rg(t,e)})}},{key:"execute",value:function(){var e,r,t,n,i;(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).forceValue!==this.value&&(t=_g((e=this.editor.model).document.selection),r=t[0].findAncestor("table"),t=(n=Cg(t)).first,n=n.last,i=this.value?t:n+1,e.change(function(e){if(i){var t=HS(Lg(r,i));try{for(t.s();!(n=t.n()).done;){var n=n.value;Dg(n.cell,n.column,i,e)}}catch(e){t.e(e)}finally{t.f()}}tg("headingColumns",i,r,e,0)}))}}]),t}(),Zg=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){this.decorate("insertColumns"),this.decorate("insertRows")}},{key:"getCellLocation",value:function(e){var t=e.parent,n=t.parent,t=n.getChildIndex(t),r=HS(new og(n,{row:t}));try{for(r.s();!(a=r.n()).done;){var i=a.value,o=i.cell,a=i.row,i=i.column;if(o===e)return{row:a,column:i}}}catch(e){r.e(e)}finally{r.f()}}},{key:"createTable",value:function(e,t){var n=e.createElement("table");return Jg(e,n,0,parseInt(t.rows)||2,parseInt(t.columns)||2),t.headingRows&&tg("headingRows",t.headingRows,n,e,0),t.headingColumns&&tg("headingColumns",t.headingColumns,n,e,0),n}},{key:"insertRows",value:function(v){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this.editor.model,m=e.at||0,y=e.rows||1,k=void 0!==e.copyStructureFromAbove,b=e.copyStructureFromAbove?m-1:m,_=this.getRows(v),w=this.getColumns(v);if(_<m)throw new C.a("tableutils-insertrows-insert-out-of-range",this,{options:e});t.change(function(e){var t=v.getAttribute("headingRows")||0;if(m<t&&tg("headingRows",t+y,v,e,0),k||0!==m&&m!==_){var t=k?Math.max(m,b):m,t=new og(v,{endRow:t}),n=new Array(w).fill(1),r=HS(t);try{for(r.s();!(u=r.n()).done;){var i=u.value,o=i.row,a=i.column,s=i.cellHeight,l=i.cellWidth,c=i.cell,u=o+s-1,i=o<=b&&b<=u;o<m&&m<=u?(e.setAttribute("rowspan",s+y,c),n[a]=-l):k&&i&&(n[a]=l)}}catch(e){r.e(e)}finally{r.f()}for(var h=0;h<y;h++){var d=e.createElement("tableRow");e.insert(d,v,m);for(var f=0;f<n.length;f++){var p=n[f],g=e.createPositionAt(d,"end");0<p&&ng(e,g,1<p?{colspan:p}:null),f+=Math.abs(p)-1}}}else Jg(e,v,m,y,w)})}},{key:"insertColumns",value:function(g){var v=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},m=e.at||0,y=e.columns||1;this.editor.model.change(function(e){var t=g.getAttribute("headingColumns");m<t&&e.setAttribute("headingColumns",t+y,g);t=v.getColumns(g);if(0!==m&&t!==m){var n=new og(g,{column:m,includeAllSlots:!0}),r=HS(n);try{for(r.s();!(u=r.n()).done;){var i=u.value,o=i.row,a=i.cell,s=i.cellAnchorColumn,l=i.cellAnchorRow,c=i.cellWidth,u=i.cellHeight;if(s<m){e.setAttribute("colspan",c+y,a);for(var h=l+u-1,d=o;d<=h;d++)n.skipRow(d)}else Qg(y,e,i.getPositionBefore())}}catch(e){r.e(e)}finally{r.f()}}else{var f=HS(g.getChildren());try{for(f.s();!(p=f.n()).done;){var p=p.value;p.is("element","tableRow")&&Qg(y,e,e.createPositionAt(p,m?"end":0))}}catch(e){f.e(e)}finally{f.f()}}})}},{key:"removeRows",value:function(c,e){var u=this,t=this.editor.model,n=e.rows||1,r=this.getRows(c),h=e.at,d=h+n-1;if(r-1<d)throw new C.a("tableutils-removerows-row-index-out-of-range",this,{table:c,options:e});t.change(function(e){var t=function(e,t,n){var r=new Map,i=[],o=HS(new og(e,{endRow:n}));try{for(o.s();!(u=o.n()).done;){var a=u.value,s=a.row,l=a.column,c=a.cellHeight,u=a.cell,a=s+c-1;t<=s&&s<=n&&n<a&&r.set(l,{cell:u,rowspan:c-(n-s+1)}),s<t&&t<=a&&(a=n<=a?n-t+1:a-t+1,i.push({cell:u,rowspan:c-a}))}}catch(e){o.e(e)}finally{o.f()}return{cellsToMove:r,cellsToTrim:i}}(c,h,d),n=t.cellsToMove,r=t.cellsToTrim;n.size&&function(e,t,n,r){var i,o=US(new og(e,{includeAllSlots:!0,row:t})),a=e.getChild(t),s=HS(o);try{for(s.s();!(l=s.n()).done;){var l,c=l.value,u=c.column,h=c.cell,d=c.isAnchor;n.has(u)?(c=(l=n.get(u)).cell,u=l.rowspan,l=i?r.createPositionAfter(i):r.createPositionAt(a,0),r.move(r.createRangeOn(c),l),tg("rowspan",u,c,r),i=c):d&&(i=h)}}catch(e){s.e(e)}finally{s.f()}}(c,1+d,n,e);for(var i=d;h<=i;i--)e.remove(c.getChild(i));var o,a,s=HS(r);try{for(s.s();!(l=s.n()).done;){var l=l.value;tg("rowspan",l.rowspan,l.cell,e)}}catch(e){s.e(e)}finally{s.f()}o=h,a=d,t=e,r=(n=c).getAttribute("headingRows")||0,o<r&&tg("headingRows",a<r?r-(a-o+1):o,n,t,0),Fg(c,u)||Vg(c,u)})}},{key:"removeColumns",value:function(h,e){var d=this,f=e.at,p=e.at+(e.columns||1)-1;this.editor.model.change(function(e){var t,n,r,i;n={first:f,last:p},r=e,(i=(t=h).getAttribute("headingColumns")||0)&&n.first<i&&(n=Math.min(i-1,n.last)-n.first+1,r.setAttribute("headingColumns",i-n,t));for(var o=p;f<=o;o--)for(var a=0,s=US(new og(h));a<s.length;a++){var l=s[a],c=l.cell,u=l.column,l=l.cellWidth;u<=o&&1<l&&o<u+l?tg("colspan",l-1,c,e):u===o&&e.remove(c)}Vg(h,d)||Fg(h,d)})}},{key:"splitCellVertically",value:function(l){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,e=this.editor.model,u=l.parent.parent,h=parseInt(l.getAttribute("rowspan")||1),d=parseInt(l.getAttribute("colspan")||1);e.change(function(e){var t;if(1<d&&(t=(r=Yg(d,c)).newCellsSpan,tg("colspan",r.updatedSpan,l,e),r={},1<t&&(r.colspan=t),1<h&&(r.rowspan=h),Qg(c<d?c-1:d-1,e,e.createPositionAfter(l),r)),d<c){var n=c-d,r=US(new og(u)),i=r.find(function(e){return e.cell===l}).column,o=HS(r.filter(function(e){var t=e.cell,n=e.cellWidth,e=e.column;return t!==l&&e===i||e<i&&i<e+n}));try{for(o.s();!(s=o.n()).done;){var a=s.value,s=a.cell,a=a.cellWidth;e.setAttribute("colspan",a+n,s)}}catch(e){o.e(e)}finally{o.f()}r={};1<h&&(r.rowspan=h),Qg(n,e,e.createPositionAfter(l),r);r=u.getAttribute("headingColumns")||0;i<r&&tg("headingColumns",r+n,u,e)}})}},{key:"splitCellHorizontally",value:function(m){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,e=this.editor.model,t=m.parent,k=t.parent,b=k.getChildIndex(t),_=parseInt(m.getAttribute("rowspan")||1),w=parseInt(m.getAttribute("colspan")||1);e.change(function(e){if(1<_){var t=US(new og(k,{startRow:b,endRow:b+_-1,includeAllSlots:!0})),n=Yg(_,y),r=n.newCellsSpan,i=n.updatedSpan;tg("rowspan",i,m,e);var o=t.find(function(e){return e.cell===m}).column,a={};1<r&&(a.rowspan=r),1<w&&(a.colspan=w);for(var s=0,l=t;s<l.length;s++){var c=l[s],u=c.column,h=c.row;b+i<=h&&u===o&&(h+b+i)%r==0&&Qg(1,e,c.getPositionBefore(),a)}}if(_<y){var d=y-_,f=HS(US(new og(k,{startRow:0,endRow:b})));try{for(f.s();!(v=f.n()).done;){var p=v.value,g=p.cell,v=p.cellHeight,p=p.row;g!==m&&b<p+v&&e.setAttribute("rowspan",v+d,g)}}catch(e){f.e(e)}finally{f.f()}t={};1<w&&(t.colspan=w),Jg(e,k,b+1,d,1,t);t=k.getAttribute("headingRows")||0;b<t&&tg("headingRows",t+d,k,e)}})}},{key:"getColumns",value:function(e){return US(e.getChild(0).getChildren()).reduce(function(e,t){return e+parseInt(t.getAttribute("colspan")||1)},0)}},{key:"getRows",value:function(e){return Array.from(e.getChildren()).reduce(function(e,t){return t.is("element","tableRow")?e+1:e},0)}}],[{key:"pluginName",get:function(){return"TableUtils"}}]),t}();function Jg(e,t,n,r,i,o){for(var a=5<arguments.length&&void 0!==o?o:{},s=0;s<r;s++){var l=e.createElement("tableRow");e.insert(l,t,n),Qg(i,e,e.createPositionAt(l,"end"),a)}}function Qg(e,t,n,r){for(var i=3<arguments.length&&void 0!==r?r:{},o=0;o<e;o++)ng(t,n,i)}function Yg(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};var n=Math.floor(e/t);return{newCellsSpan:n,updatedSpan:e-n*t+n}}var Xg=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=kg(this.editor.model.document.selection);this.isEnabled=xg(e,this.editor.plugins.get(Zg))}},{key:"execute",value:function(){var l=this.editor.model,u=this.editor.plugins.get(Zg);l.change(function(e){var c=kg(l.document.selection),t=c.shift(),n=function(e,t){var n=0,r=0,i=HS(c);try{for(i.s();!(s=i.n()).done;)var o=s.value,a=t.getCellLocation(o),s=a.row,n=tv(o,a.column,n,"colspan"),r=tv(o,s,r,"rowspan")}catch(e){i.e(e)}finally{i.f()}var l=t.getCellLocation(e),e=l.row;return{mergeWidth:n-l.column,mergeHeight:r-e}}(t,u),r=n.mergeWidth,n=n.mergeHeight;tg("colspan",r,t,e),tg("rowspan",n,t,e);var i,o,a,s=HS(c);try{for(s.s();!(a=s.n()).done;)i=a.value,o=t,a=e,ev(i)||(ev(o)&&a.remove(a.createRangeIn(o)),a.move(a.createRangeIn(i),a.createPositionAt(o,"end"))),a.remove(i)}catch(e){s.e(e)}finally{s.f()}zg(t.findAncestor("table"),u),e.setSelection(t,"in")})}}]),t}();function ev(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}function tv(e,t,n,r){r=parseInt(e.getAttribute(r)||1);return Math.max(n,t+r)}var nv=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=_g(this.editor.model.document.selection);this.isEnabled=0<e.length}},{key:"execute",value:function(){for(var e=this.editor.model,t=_g(e.document.selection),n=wg(t),r=t[0].findAncestor("table"),i=[],o=n.first;o<=n.last;o++){var a=HS(r.getChild(o).getChildren());try{for(a.s();!(s=a.n()).done;){var s=s.value;i.push(e.createRangeOn(s))}}catch(e){a.e(e)}finally{a.f()}}e.change(function(e){e.setSelection(i)})}}]),t}(),rv=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=_g(this.editor.model.document.selection);this.isEnabled=0<e.length}},{key:"execute",value:function(){var e=this.editor.model,t=_g(e.document.selection),n=t[0],r=t.pop(),i=n.findAncestor("table"),t=this.editor.plugins.get("TableUtils"),n=t.getCellLocation(n),t=t.getCellLocation(r),r=Math.min(n.column,t.column),t=Math.max(n.column,t.column),o=[],a=HS(new og(i,{startColumn:r,endColumn:t}));try{for(a.s();!(s=a.n()).done;){var s=s.value;o.push(e.createRangeOn(s.cell))}}catch(e){a.e(e)}finally{a.f()}e.change(function(e){e.setSelection(o)})}}]),t}();function iv(e,t){var n,r=!1,i=HS(e.getChildren());try{for(i.s();!(n=i.n()).done;)r=ov(n.value,t)||r}catch(e){i.e(e)}finally{i.f()}return r}function ov(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;var e=Array.from(e.getChildren()).filter(function(e){return e.is("$text")}),n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;t.wrap(t.createRangeOn(r),"paragraph")}}catch(e){n.e(e)}finally{n.f()}return!!e.length}n(93);var av=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var o,e,t,c,s,n=this.editor,r=n.model,i=r.schema,a=n.conversion;i.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isObject:!0,isBlock:!0}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowIn:"tableRow",allowChildren:"$block",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),a.for("upcast").add(function(e){e.on("element:figure",function(e,n,t){var r;!t.consumable.test(n.viewItem,{name:!0,classes:"table"})||(r=function(){var t=HS(n.viewItem.getChildren());try{for(t.s();!(e=t.n()).done;){var e=e.value;if(e.is("element","table"))return e}}catch(e){t.e(e)}finally{t.f()}}())&&t.consumable.test(r,{name:!0})&&((r=So(t.convertItem(r,n.modelCursor).modelRange.getItems()))&&(t.convertChildren(n.viewItem,t.writer.createPositionAt(r,"end")),t.updateConversionResult(r,n)))})}),a.for("upcast").add(function(e){e.on("element:table",function(e,t,n){var r,i,o,a,s,c=t.viewItem;n.consumable.test(c,{name:!0})&&(s=(i=function(){for(var e,t={headingRows:0,headingColumns:0},n=[],r=[],i=0,o=Array.from(c.getChildren());i<o.length;i++){var a=o[i];if("tbody"===a.name||"thead"===a.name||"tfoot"===a.name){"thead"!==a.name||e||(e=a);var s=HS(Array.from(a.getChildren()).filter(function(e){return e.is("element","tr")}));try{for(s.s();!(l=s.n()).done;){var l=l.value;"thead"===l.parent.name&&l.parent===e?(t.headingRows++,n.push(l)):(r.push(l),(l=function(e){for(var t=0,n=0,r=Array.from(e.getChildren()).filter(function(e){return"th"===e.name||"td"===e.name});n<r.length&&"th"===r[n].name;)t+=parseInt(r[n].getAttribute("colspan")||1),n++;return t}(l))>t.headingColumns&&(t.headingColumns=l))}}catch(e){s.e(e)}finally{s.f()}}}return t.rows=[].concat(n,r),t}()).rows,r=i.headingRows,o={},(i=i.headingColumns)&&(o.headingColumns=i),r&&(o.headingRows=r),a=n.writer.createElement("table",o),n.safeInsert(a,t.modelCursor)&&(n.consumable.consume(c,{name:!0}),s.forEach(function(e){return n.convertItem(e,n.writer.createPositionAt(a,"end"))}),n.convertChildren(c,n.writer.createPositionAt(a,"end")),a.isEmpty&&(s=n.writer.createElement("tableRow"),n.writer.insert(s,n.writer.createPositionAt(a,"end")),ng(n.writer,n.writer.createPositionAt(s,"end"))),n.updateConversionResult(a,t)))})}),a.for("editingDowncast").add(cg({asWidget:!0})),a.for("dataDowncast").add(cg()),a.for("upcast").elementToElement({model:"tableRow",view:"tr"}),a.for("upcast").add(function(e){e.on("element:tr",function(e,t){t.viewItem.isEmpty&&0==t.modelCursor.index&&e.stop()},{priority:"high"})}),a.for("editingDowncast").add(function(e){return e.on("insert:tableRow",function(e,t,n){var r=t.item;if(n.consumable.consume(r,"insert")){var i=r.parent,o=function(){var t=HS(n.mapper.toViewElement(i).getChildren());try{for(t.s();!(e=t.n()).done;){var e=e.value;if("table"===e.name)return e}}catch(e){t.e(e)}finally{t.f()}}(),a=i.getChildIndex(r),t=new og(i,{row:a}),s={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},l=new Map,c=HS(t);try{for(c.s();!(h=c.n()).done;){var u=h.value,h=l.get(a)||fg(o,r,a,s,n);l.set(a,h),n.consumable.consume(u.cell,"insert"),dg(u,s,n.writer.createPositionAt(h,"end"),n,{asWidget:!0})}}catch(e){c.e(e)}finally{c.f()}}})}),a.for("editingDowncast").add(function(e){return e.on("remove:tableRow",function(e,t,n){e.stop();var r=n.writer,i=n.mapper,e=i.toViewPosition(t.position).getLastMatchingPosition(function(e){return!e.item.is("element","tr")}).nodeAfter,t=e.parent.parent,e=r.createRangeOn(e),e=r.remove(e),o=HS(r.createRangeIn(e).getItems());try{for(o.s();!(a=o.n()).done;){var a=a.value;i.unbindViewElement(a)}}catch(e){o.e(e)}finally{o.f()}vg("thead",t,n),vg("tbody",t,n)},{priority:"higher"})}),a.for("upcast").elementToElement({model:"tableCell",view:"td"}),a.for("upcast").elementToElement({model:"tableCell",view:"th"}),a.for("upcast").add(ig("td")),a.for("upcast").add(ig("th")),a.for("editingDowncast").add(function(e){return e.on("insert:tableCell",function(e,t,n){var r=t.item;if(n.consumable.consume(r,"insert")){var i=r.parent,o=i.parent,t=o.getChildIndex(i),t=new og(o,{row:t}),a={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},s=HS(t);try{for(s.s();!(c=s.n()).done;){var l=c.value;if(l.cell===r){var c=n.mapper.toViewElement(i);return void dg(l,a,n.writer.createPositionAt(c,i.getChildIndex(r)),n,{asWidget:!0})}}}catch(e){s.e(e)}finally{s.f()}}})}),a.for("editingDowncast").elementToElement({model:"paragraph",view:ug,converterPriority:"high"}),a.attributeToAttribute({model:"colspan",view:"colspan"}),a.attributeToAttribute({model:"rowspan",view:"rowspan"}),a.for("editingDowncast").add(function(e){return e.on("attribute:headingColumns:table",function(e,t,n){var r,i,o,a,s=t.item;if(n.consumable.consume(t.item,e.name)){var l,c={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0},e=t.attributeOldValue,t=t.attributeNewValue,u=HS(new og(s,{endColumn:(t<e?e:t)-1}));try{for(u.s();!(l=u.n()).done;)r=l.value,i=c,o=n,l=a=void 0,a=r.cell,l=pg(r,i),(r=o.mapper.toViewElement(a))&&r.name!==l&&(i=a,r=l,l=(a=o).writer,o=a.mapper.toViewElement(i),Ku(r=Gu(l.createEditableElement(r,o.getAttributes()),l),l,function(e,t,n){return n.addClass(Zt(t.classes),e)},function(e,t,n){return n.removeClass(Zt(t.classes),e)}),l.insert(l.createPositionAfter(o),r),l.move(l.createRangeIn(o),l.createPositionAt(r,0)),l.remove(l.createRangeOn(o)),a.mapper.unbindViewElement(o),a.mapper.bindElements(i,r))}catch(e){u.e(e)}finally{u.f()}}})}),n.commands.add("insertTable",new yg(n)),n.commands.add("insertTableRowAbove",new Pg(n,{order:"above"})),n.commands.add("insertTableRowBelow",new Pg(n,{order:"below"})),n.commands.add("insertTableColumnLeft",new Rg(n,{order:"left"})),n.commands.add("insertTableColumnRight",new Rg(n,{order:"right"})),n.commands.add("removeTableRow",new Wg(n)),n.commands.add("removeTableColumn",new $g(n)),n.commands.add("splitTableCellVertically",new Ig(n,{direction:"vertically"})),n.commands.add("splitTableCellHorizontally",new Ig(n,{direction:"horizontally"})),n.commands.add("mergeTableCells",new Xg(n)),n.commands.add("mergeTableCellRight",new Ug(n,{direction:"right"})),n.commands.add("mergeTableCellLeft",new Ug(n,{direction:"left"})),n.commands.add("mergeTableCellDown",new Ug(n,{direction:"down"})),n.commands.add("mergeTableCellUp",new Ug(n,{direction:"up"})),n.commands.add("setTableColumnHeader",new Gg(n)),n.commands.add("setTableRowHeader",new Kg(n)),n.commands.add("selectTableRow",new nv(n)),n.commands.add("selectTableColumn",new rv(n)),(s=r).document.registerPostFixer(function(){var e=s.document.differ,t=new Set,n=HS(e.getChanges());try{for(n.s();!(r=n.n()).done;){var r,i=r.value;"attribute"!=i.type||(r=i.range.start.nodeAfter)&&r.is("element","table")&&"headingRows"==i.attributeKey&&t.add(r)}}catch(e){n.e(e)}finally{n.f()}if(t.size){var o=HS(t.values());try{for(o.s();!(a=o.n()).done;){var a=a.value;e.refreshItem(a)}}catch(e){o.e(e)}finally{o.f()}return!0}return!1}),(c=r).document.registerPostFixer(function(e){var t,n,r=c.document.differ.getChanges(),i=!1,o=new Set,a=HS(r);try{for(a.s();!(t=a.n()).done;){var s=t.value,l=void 0;"table"==s.name&&"insert"==s.type&&(l=s.position.nodeAfter),"tableRow"!=s.name&&"tableCell"!=s.name||(l=s.position.findAncestor("table")),n=void 0,n=(t=s).attributeKey,"attribute"!==t.type||"headingRows"!==n&&"colspan"!==n&&"rowspan"!==n||(l=s.range.start.findAncestor("table")),l&&!o.has(l)&&(i=function(e,t){var n=!1;if((e=function(e){var t=parseInt(e.getAttribute("headingRows")||0),n=Array.from(e.getChildren()).reduce(function(e,t){return t.is("element","tableRow")?e+1:e},0),r=[],i=HS(new og(e));try{for(i.s();!(l=i.n()).done;){var o=l.value,a=o.row,s=o.cell,l=o.cellHeight;l<2||(o=a<t?t:n)<a+l&&r.push({cell:s,rowspan:o-a})}}catch(e){i.e(e)}finally{i.f()}return r}(e)).length){n=!0;var r=HS(e);try{for(r.s();!(i=r.n()).done;){var i=i.value;tg("rowspan",i.rowspan,i.cell,t,1)}}catch(e){r.e(e)}finally{r.f()}}return n}(l,e)||i,i=function(n,e){var t=!1,r=function(e){var t,n=new Array(e.childCount).fill(0),r=HS(new og(e,{includeAllSlots:!0}));try{for(r.s();!(t=r.n()).done;)n[t.value.rowIndex]++}catch(e){r.e(e)}finally{r.f()}return n}(n),i=[],o=HS(r.entries());try{for(o.s();!(s=o.n()).done;){var a=BS(s.value,2),s=a[0];!a[1]&&n.getChild(s).is("element","tableRow")&&i.push(s)}}catch(e){o.e(e)}finally{o.f()}if(i.length){t=!0;var l=HS(i.reverse());try{for(l.s();!(c=l.n()).done;){var c=c.value;e.remove(n.getChild(c)),r.splice(c,1)}}catch(e){l.e(e)}finally{l.f()}}var u=r.filter(function(e,t){return n.getChild(t).is("element","tableRow")}),h=u[0];if(!u.every(function(e){return e===h})){var d=u.reduce(function(e,t){return e<t?t:e},0),f=HS(u.entries());try{for(f.s();!(p=f.n()).done;){var p=BS(p.value,2),g=p[0],v=d-p[1];if(v){for(var m=0;m<v;m++)ng(e,e.createPositionAt(n.getChild(g),"end"));t=!0}}}catch(e){f.e(e)}finally{f.f()}}return t}(l,e)||i,o.add(l))}}catch(e){a.e(e)}finally{a.f()}return i}),e=r,t=n.editing.mapper,e.document.registerPostFixer(function(){return function(e,n){var t=new Set,r=HS(e.getChanges());try{for(r.s();!(i=r.n()).done;){var i=i.value,i=("attribute"==i.type?i.range.start:i.position).parent;i.is("element","tableCell")&&t.add(i)}}catch(e){r.e(e)}finally{r.f()}var o,a=HS(t.values());try{for(a.s();!(o=a.n()).done;){var s=HS(US(o.value.getChildren()).filter(function(e){return t=n,!!(e=e).is("element","paragraph")&&(!!(t=t.toViewElement(e))&&hg(e)!==t.is("element","span"));var t}));try{for(s.s();!(l=s.n()).done;){var l=l.value;e.refreshItem(l)}}catch(e){s.e(e)}finally{s.f()}}}catch(e){a.e(e)}finally{a.f()}return!1}(e.document.differ,t)}),(o=r).document.registerPostFixer(function(e){var t,n=!1,r=HS(o.document.differ.getChanges());try{for(r.s();!(t=r.n()).done;){var i=t.value;"insert"==i.type&&"table"==i.name&&(n=function(e,t){var n=!1,r=HS(e.getChildren());try{for(r.s();!(i=r.n()).done;){var i=i.value;i.is("element","tableRow")&&(n=iv(i,t)||n)}}catch(e){r.e(e)}finally{r.f()}return n}(i.position.nodeAfter,e)||n),"insert"==i.type&&"tableRow"==i.name&&(n=iv(i.position.nodeAfter,e)||n),"insert"==i.type&&"tableCell"==i.name&&(n=ov(i.position.nodeAfter,e)||n),(t=i).position&&t.position.parent.is("element","tableCell")&&("insert"==t.type&&"$text"==t.name||"remove"==t.type)&&(n=ov(i.position.parent,e)||n)}}catch(e){r.e(e)}finally{r.f()}return n})}}],[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[Zg]}}]),t}();n(95);var sv=function(){$S(n,Fl);var t=KS(n);function n(e){var r;qS(this,n);e=(r=t.call(this,e)).bindTemplate;return r.items=r._createGridCollection(),r.set("rows",0),r.set("columns",0),r.bind("label").to(ZS(r),"columns",ZS(r),"rows",function(e,t){return"".concat(t," × ").concat(e)}),r.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:r.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to(function(e){e.preventDefault()}),click:e.to(function(){r.fire("execute")})}}),r.on("boxover",function(e,t){var n=t.target.dataset,t=n.row,n=n.column;r.set({rows:parseInt(t),columns:parseInt(n)})}),r.on("change:columns",function(){r._highlightGridBoxes()}),r.on("change:rows",function(){r._highlightGridBoxes()}),r}return WS(n,[{key:"focus",value:function(){}},{key:"focusLast",value:function(){}},{key:"_highlightGridBoxes",value:function(){var n=this.rows,r=this.columns;this.items.map(function(e,t){t=Math.floor(t/10)<n&&t%10<r;e.set("isOn",t)})}},{key:"_createGridCollection",value:function(){for(var e=[],t=0;t<100;t++){var n=Math.floor(t/10);e.push(new lv(this.locale,n+1,t%10+1))}return this.createCollection(e)}}]),n}(),lv=function(){$S(o,Fl);var i=KS(o);function o(e,t,n){var r;qS(this,o);e=(r=i.call(this,e)).bindTemplate;return r.set("isOn",!1),r.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",e.if("isOn","ck-on")],"data-row":t,"data-column":n}}),r}return o}(),cv=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this,i=this.editor,o=this.editor.t,r="ltr"===i.locale.contentLanguageDirection;i.ui.componentFactory.add("insertTable",function(e){var t,n=i.commands.get("insertTable"),r=Mc(e);return r.bind("isEnabled").to(n),r.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("Insert table"),tooltip:!0}),r.on("change:isOpen",function(){t||(t=new sv(e),r.panelView.children.add(t),t.delegate("execute").to(r),r.buttonView.on("open",function(){t.rows=0,t.columns=0}),r.on("execute",function(){i.execute("insertTable",{rows:t.rows,columns:t.columns}),i.editing.view.focus()}))}),r}),i.ui.componentFactory.add("tableColumn",function(e){var t=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:r?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:r?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return n._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',t,e)}),i.ui.componentFactory.add("tableRow",function(e){var t=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return n._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',t,e)}),i.ui.componentFactory.add("mergeTableCells",function(e){var t=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:r?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:r?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return n._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',t,e)})}},{key:"_prepareDropdown",value:function(e,t,n,r){var i=this.editor,r=Mc(r),n=this._fillDropdownWithListOptions(r,n);return r.buttonView.set({label:e,icon:t,tooltip:!0}),r.bind("isEnabled").toMany(n,"isEnabled",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return e})}),this.listenTo(r,"execute",function(e){i.execute(e.source.commandName),i.editing.view.focus()}),r}},{key:"_prepareMergeSplitButtonDropdown",value:function(e,t,n,r){var i=this.editor,o=Mc(r,pc),r=i.commands.get("mergeTableCells"),n=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([r].concat(US(n)),"isEnabled",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return e})}),this.listenTo(o.buttonView,"execute",function(){i.execute("mergeTableCells"),i.editing.view.focus()}),this.listenTo(o,"execute",function(e){i.execute(e.source.commandName),i.editing.view.focus()}),o}},{key:"_fillDropdownWithListOptions",value:function(e,t){var n,r,i,o,a,s,l,c=this.editor,u=[],h=new Wt,d=HS(t);try{for(d.s();!(l=d.n()).done;)n=l.value,r=c,i=u,o=h,l=s=a=void 0,a=n.model=new qc(n.model),s=(l=n.model).commandName,l=l.bindIsOn,"button"!==n.type&&"switchbutton"!==n.type||(r=r.commands.get(s),i.push(r),a.set({commandName:s}),a.bind("isEnabled").to(r),l&&a.bind("isOn").to(r,"value")),a.set({withText:!0}),!void o.add(n)}catch(e){d.e(e)}finally{d.f()}return Lc(e,h),u}}],[{key:"pluginName",get:function(){return"TableUI"}}]),t}();n(97);var uv=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this;this.listenTo(this.editor.model,"deleteContent",function(e,t){return n._handleDeleteContent(e,t)},{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var e=kg(this.editor.model.document.selection);return 0==e.length?null:e}},{key:"getSelectionAsFragment",value:function(){var u=this,h=this.getSelectedTableCells();return h?this.editor.model.change(function(e){var t=e.createDocumentFragment(),n=u.editor.plugins.get("TableUtils"),r=Cg(h),i=r.first,o=r.last,a=wg(h),s=a.first,l=a.last,c=h[0].findAncestor("table"),r=l,a=o;xg(h,n)&&(r=Bg(c,l={firstColumn:i,lastColumn:o,firstRow:s,lastRow:l}),a=Hg(c,l));a=Og(c,{startRow:s,startColumn:i,endRow:r,endColumn:a},e);return e.insert(a,t,0),t}):null}},{key:"setCellSelection",value:function(e,t){var n=this._getCellsToSelect(e,t);this.editor.model.change(function(t){t.setSelection(n.cells.map(function(e){return t.createRangeOn(e)}),{backward:n.backward})})}},{key:"getFocusCell",value:function(){var e=US(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"getAnchorCell",value:function(){var e=So(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"_defineSelectionConverter",value:function(){var s=this,e=this.editor,l=new Set;e.conversion.for("editingDowncast").add(function(e){return e.on("selection",function(e,t,n){var r=n.writer;!function(e){var t=HS(l);try{for(t.s();!(n=t.n()).done;){var n=n.value;e.removeClass("ck-editor__editable_selected",n)}}catch(e){t.e(e)}finally{t.f()}l.clear()}(r);var i=s.getSelectedTableCells();if(i){var o=HS(i);try{for(o.s();!(a=o.n()).done;){var a=a.value,a=n.mapper.toViewElement(a);r.addClass("ck-editor__editable_selected",a),l.add(a)}}catch(e){o.e(e)}finally{o.f()}i=n.mapper.toViewElement(i[i.length-1]);r.setSelection(i,0)}},{priority:"lowest"})})}},{key:"_enablePluginDisabling",value:function(){var e=this,r=this.editor;this.on("change:isEnabled",function(){var n;e.isEnabled||(n=e.getSelectedTableCells())&&r.model.change(function(e){var t=e.createPositionAt(n[0],0),t=r.model.schema.getNearestSelectionRange(t);e.setSelection(t)})})}},{key:"_handleDeleteContent",value:function(e,t){var t=BS(t,2),n=t[0],t=t[1],r=this.editor.model,i=!t||"backward"==t.direction,o=kg(n);o.length&&(e.stop(),r.change(function(e){var t=o[i?o.length-1:0];r.change(function(e){var t=HS(o);try{for(t.s();!(n=t.n()).done;){var n=n.value;r.deleteContent(e.createSelection(n,"in"))}}catch(e){t.e(e)}finally{t.f()}});t=r.schema.getNearestSelectionRange(e.createPositionAt(t,0));n.is("documentSelection")?e.setSelection(t):n.setTo(t)}))}},{key:"_getCellsToSelect",value:function(e,t){var n=this.editor.plugins.get("TableUtils"),r=n.getCellLocation(e),i=n.getCellLocation(t),o=Math.min(r.row,i.row),a=Math.max(r.row,i.row),n=Math.min(r.column,i.column),t=Math.max(r.column,i.column),s=new Array(a-o+1).fill(null).map(function(){return[]}),t={startRow:o,endRow:a,startColumn:n,endColumn:t},l=HS(new og(e.findAncestor("table"),t));try{for(l.s();!(u=l.n()).done;){var c=u.value,u=c.row,c=c.cell;s[u-o].push(c)}}catch(e){l.e(e)}finally{l.f()}t=i.row<r.row,r=i.column<r.column;return t&&s.reverse(),r&&s.forEach(function(e){return e.reverse()}),{cells:s.flat(),backward:t||r}}}],[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[Zg]}}]),t}(),hv=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this,e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",function(e,t){return n._onCopyCut(e,t)}),this.listenTo(t,"cut",function(e,t){return n._onCopyCut(e,t)}),this.listenTo(e.model,"insertContent",function(e,t){return n._onInsertContent.apply(n,[e].concat(US(t)))},{priority:"high"}),this.decorate("_replaceTableSlotCell")}},{key:"_onCopyCut",value:function(e,t){var n,r=this.editor.plugins.get(uv);!r.getSelectedTableCells()||"cut"==e.name&&this.editor.isReadOnly||(t.preventDefault(),e.stop(),n=this.editor.editing.view.document,r=this.editor.data.toView(r.getSelectionAsFragment()),n.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:r,method:e.name}))}},{key:"_onInsertContent",value:function(e,t,n){var p,g,v,m=this;n&&!n.is("documentSelection")||(n=this.editor.model,p=this.editor.plugins.get(Zg),(g=function(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(1==e.childCount&&e.getChild(0).is("element","table"))return e.getChild(0);var n=t.createRangeIn(e),r=HS(n.getItems());try{for(r.s();!(o=r.n()).done;){var i=o.value;if(i.is("element","table")){var o=t.createRange(n.start,t.createPositionBefore(i));if(t.hasContent(o,{ignoreWhitespaces:!0}))return null;o=t.createRange(t.createPositionAfter(i),n.end);return t.hasContent(o,{ignoreWhitespaces:!0})?null:i}}}catch(e){r.e(e)}finally{r.f()}return null}(t,n))&&((v=_g(n.document.selection)).length?(e.stop(),n.change(function(t){var e,n,r,i,o,a,s,l,c,u,h={width:p.getColumns(g),height:p.getRows(g)},d=(n=h,r=t,i=p,d=(e=v)[0].findAncestor("table"),l=Cg(e),c=wg(e),f={firstColumn:l.first,lastColumn:l.last,firstRow:c.first,lastRow:c.last},(u=1===e.length)&&(f.lastRow+=n.height-1,f.lastColumn+=n.width-1,o=d,a=f.lastRow+1,l=f.lastColumn+1,n=(c=i).getColumns(o),s=c.getRows(o),n<l&&c.insertColumns(o,{at:n,columns:l-n}),s<a&&c.insertRows(o,{at:s,rows:a-s})),u||!xg(e,i)?(o=d,a=r,s=f.firstRow,u=f.lastRow,e=f.firstColumn,i=f.lastColumn,r={first:e,last:i},fv(o,e,e={first:s,last:u},a),fv(o,i+1,e,a),dv(o,s,r,a),dv(o,u+1,r,a,s)):(f.lastRow=Bg(d,f),f.lastColumn=Hg(d,f)),f),f=d.lastColumn-d.firstColumn+1,f={startRow:0,startColumn:0,endRow:Math.min(d.lastRow-d.firstRow+1,h.height)-1,endColumn:Math.min(f,h.width)-1};g=Og(g,f,t);var d,f=v[0].findAncestor("table"),f=m._replaceSelectedCellsWithPasted(g,h,f,d,t);m.editor.plugins.get("TableSelection").isEnabled?(d=Sg(f.map(function(e){return t.createRangeOn(e)})),t.setSelection(d)):t.setSelection(f[0],0)})):zg(g,p)))}},{key:"_replaceSelectedCellsWithPasted",value:function(e,t,n,r,i){for(var o,a=t.width,s=t.height,l=function(e,t){var n=new Array(s).fill(null).map(function(){return new Array(t).fill(null)}),r=HS(new og(e));try{for(r.s();!(a=r.n()).done;){var i=a.value,o=i.column,a=i.row,i=i.cell;n[a][o]=i}}catch(e){r.e(e)}finally{r.f()}return n}(e,a),c=[],u=0,h=US(new og(n,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0}));u<h.length;u++){var d=h[u],f=d.row,p=d.column;p===r.firstColumn&&(o=d.getPositionBefore());var g=l[(f-r.firstRow)%s][(p-r.firstColumn)%a],g=g?i.cloneElement(g):null,g=this._replaceTableSlotCell(d,g,o,i);g&&(jg(g,f,p,r.lastRow,r.lastColumn,i),c.push(g),o=i.createPositionAfter(g))}var v=parseInt(n.getAttribute("headingRows")||0),t=parseInt(n.getAttribute("headingColumns")||0),e=r.firstColumn<t&&t<=r.lastColumn;return r.firstRow<v&&v<=r.lastRow&&(v=dv(n,v,{first:r.firstColumn,last:r.lastColumn},i,r.firstRow),c.push.apply(c,US(v))),e&&(t=fv(n,t,{first:r.firstRow,last:r.lastRow},i),c.push.apply(c,US(t))),c}},{key:"_replaceTableSlotCell",value:function(e,t,n,r){var i=e.cell;return e.isAnchor&&r.remove(i),t?(r.insert(t,n),t):null}}],[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[uv,Zg]}}]),t}();function dv(e,t,n,r,i){if(!(t<1))return Mg(e,t,4<arguments.length&&void 0!==i?i:0).filter(function(e){return pv(e.column,e.cellWidth,n)}).map(function(e){return Ng(e.cell,t,r)})}function fv(e,t,n,r){if(!(t<1))return Lg(e,t).filter(function(e){return pv(e.row,e.cellHeight,n)}).map(function(e){return Dg(e.cell,e.column,t,r)})}function pv(e,t,n){var r=e+t-1,t=n.first,n=n.last;return t<=e&&e<=n||e<t&&t<=r}var gv=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this,t=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",function(){return e._handleTabOnSelectedTable.apply(e,arguments)},{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(t,"arrowKey",function(){return e._onArrowKey.apply(e,arguments)},{context:"table"})}},{key:"_handleTabOnSelectedTable",value:function(e,t){var n=this.editor,r=n.model.document.selection.getSelectedElement();r&&r.is("element","table")&&(t(),n.model.change(function(e){e.setSelection(e.createRangeIn(r.getChild(0).getChild(0)))}))}},{key:"_getTabHandler",value:function(u){var h=this,d=this.editor;return function(e,t){var n,r,i,o,a,s,l,c=bg(d.model.document.selection)[0];(c=c||h.editor.plugins.get("TableSelection").getFocusCell())&&(t(),n=c.parent,l=(r=n.parent).getChildIndex(n),o=0===(i=n.getChildIndex(c)),u||!o||0!==l?(a=h.editor.plugins.get("TableUtils"),t=i===n.childCount-1,c=l===a.getRows(r)-1,u&&c&&t&&(d.execute("insertTableRowBelow"),l===a.getRows(r)-1)?d.model.change(function(e){e.setSelection(e.createRangeOn(r))}):(s=u&&t?r.getChild(l+1).getChild(0):!u&&o?(l=r.getChild(l-1)).getChild(l.childCount-1):n.getChild(i+(u?1:-1)),d.model.change(function(e){e.setSelection(e.createRangeIn(s))}))):d.model.change(function(e){e.setSelection(e.createRangeOn(r))}))}}},{key:"_onArrowKey",value:function(e,t){var n=Ir(t.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(n,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}},{key:"_handleArrowKeys",value:function(e,t){var n=this.editor.model.document.selection,r=["right","down"].includes(e),i=kg(n);if(i.length)return o=t?this.editor.plugins.get("TableSelection").getFocusCell():r?i[i.length-1]:i[0],this._navigateFromCellInDirection(o,e,t),!0;var o=n.focus.findAncestor("tableCell");return!(!o||t&&!n.isCollapsed&&n.isBackward==r||!this._isSelectionAtCellEdge(n,o,r)||(this._navigateFromCellInDirection(o,e,t),0))}},{key:"_isSelectionAtCellEdge",value:function(e,t,n){var r=this.editor.model,i=this.editor.model.schema,e=n?e.getLastPosition():e.getFirstPosition();if(!i.getLimitElement(e).is("element","tableCell"))return r.createPositionAt(t,n?"end":0).isTouching(e);t=r.createSelection(e);return r.modifySelection(t,{direction:n?"forward":"backward"}),e.isEqual(t.focus)}},{key:"_navigateFromCellInDirection",value:function(t,e){var n,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=this.editor.model,o=t.findAncestor("table"),a=US(new og(o,{includeAllSlots:!0})),s=a[a.length-1],l=s.row,s=s.column,c=a.find(function(e){return e.cell==t}),u=c.row,h=c.column;switch(e){case"left":h--;break;case"up":u--;break;case"right":h+=c.cellWidth;break;case"down":u+=c.cellHeight}u<0||l<u||h<0&&u<=0||s<h&&l<=u?i.change(function(e){e.setSelection(e.createRangeOn(o))}):(h<0?(h=r?0:s,u--):s<h&&(h=r?s:0,u++),s=a.find(function(e){return e.row==u&&e.column==h}).cell,a=["right","down"].includes(e),e=this.editor.plugins.get("TableSelection"),r&&e.isEnabled?(r=e.getAnchorCell()||t,e.setCellSelection(r,s)):(n=i.createPositionAt(s,a?0:"end"),i.change(function(e){e.setSelection(n)})))}}],[{key:"pluginName",get:function(){return"TableKeyboard"}},{key:"requires",get:function(){return[uv]}}]),t}(),vv=function(){$S(n,Wi);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).domEventType=["mousemove","mouseleave"],e}return WS(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(),mv=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){this.editor.editing.view.addObserver(vv),this._enableShiftClickSelection(),this._enableMouseDragSelection()}},{key:"_enableShiftClickSelection",value:function(){var i=this,o=this.editor,a=!1,s=o.plugins.get(uv);this.listenTo(o.editing.view.document,"mousedown",function(e,t){var n,r;i.isEnabled&&s.isEnabled&&t.domEvent.shiftKey&&(!(n=s.getAnchorCell()||bg(o.model.document.selection)[0])||(r=i._getModelTableCellFromDomEvent(t))&&yv(n,r)&&(a=!0,s.setCellSelection(n,r),t.preventDefault()))}),this.listenTo(o.editing.view.document,"mouseup",function(){a=!1}),this.listenTo(o.editing.view.document,"selectionChange",function(e){a&&e.stop()},{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var r,i,o=this,e=this.editor,a=!1,s=!1,l=e.plugins.get(uv);this.listenTo(e.editing.view.document,"mousedown",function(e,t){o.isEnabled&&l.isEnabled&&(t.domEvent.shiftKey||t.domEvent.ctrlKey||t.domEvent.altKey||(r=o._getModelTableCellFromDomEvent(t)))}),this.listenTo(e.editing.view.document,"mousemove",function(e,t){var n;t.domEvent.buttons&&r&&((n=o._getModelTableCellFromDomEvent(t))&&yv(r,n)&&(i=n,a||i==r||(a=!0)),a&&(s=!0,l.setCellSelection(r,i),t.preventDefault()))}),this.listenTo(e.editing.view.document,"mouseup",function(){s=a=!1,i=r=null}),this.listenTo(e.editing.view.document,"selectionChange",function(e){s&&e.stop()},{priority:"highest"})}},{key:"_getModelTableCellFromDomEvent",value:function(e){e=this.editor.editing.view.createPositionAt(e.target,0);return this.editor.editing.mapper.toModelPosition(e).parent.findAncestor("tableCell",{includeSelf:!0})}}],[{key:"pluginName",get:function(){return"TableMouse"}},{key:"requires",get:function(){return[uv]}}]),t}();function yv(e,t){return e.parent.parent==t.parent.parent}function kv(e){e=e.getSelectedElement();return e&&_v(e)?e:null}function bv(e){for(var t=e.getFirstPosition().parent;t;){if(t.is("element")&&_v(t))return t;t=t.parent}return null}function _v(e){return e.getCustomProperty("table")&&Uu(e)}n(99);var wv={autoRefresh:!0},Be=(WS(Cv,[{key:"init",value:function(){var n=this;return new Promise(function(e,t){n.value?(n._options.autoRefresh&&n._registerRefreshTokenTimeout(),e(n)):n.refreshToken().then(e).catch(t)})}},{key:"refreshToken",value:function(){var t=this;return this._refresh().then(function(e){t._validateTokenValue(e),t.set("value",e),t._options.autoRefresh&&t._registerRefreshTokenTimeout()}).then(function(){return t})}},{key:"destroy",value:function(){clearTimeout(this._tokenRefreshTimeout)}},{key:"_validateTokenValue",value:function(e){var t="string"==typeof e,n=!/^".*"$/.test(e),e=t&&3===e.split(".").length;if(!n||!e)throw new C.a("token-not-in-jwt-format",this)}},{key:"_registerRefreshTokenTimeout",value:function(){var e=this,t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(function(){e.refreshToken()},t)}},{key:"_getTokenRefreshTimeoutTime",value:function(){try{var e=BS(this.value.split("."),2)[1],e=JSON.parse(atob(e)).exp;return e?Math.floor((1e3*e-Date.now())/2):36e5}catch(e){return 36e5}}}],[{key:"create",value:function(e){return new Cv(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:wv).init()}}]),Cv);function Cv(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:wv;if(qS(this,Cv),!t)throw new C.a("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),this._refresh="function"==typeof t?t:function(){return e=t,new Promise(function(n,r){var i=new XMLHttpRequest;i.open("GET",e),i.addEventListener("load",function(){var e=i.status,t=i.response;return e<200||299<e?r(new C.a("token-cannot-download-new-token",null)):n(t)}),i.addEventListener("error",function(){return r(new Error("Network Error"))}),i.addEventListener("abort",function(){return r(new Error("Abort"))}),i.send()});var e},this._options=Object.assign({},wv,e)}Ie(Be,Se);var xv=Be,Sv=/^data:(\S*?);base64,/,Ev=(WS(Tv,[{key:"onProgress",value:function(n){return this.on("progress",function(e,t){return n(t)}),this}},{key:"onError",value:function(n){return this.once("error",function(e,t){return n(t)}),this}},{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:"_prepareRequest",value:function(){var e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}},{key:"_attachXHRListeners",value:function(){var n=this,t=this,r=this.xhr;function e(e){return function(){return t.fire("error",e)}}r.addEventListener("error",e("Network Error")),r.addEventListener("abort",e("Abort")),r.upload&&r.upload.addEventListener("progress",function(e){e.lengthComputable&&n.fire("progress",{total:e.total,uploaded:e.loaded})}),r.addEventListener("load",function(){var e=r.status,t=r.response;if(e<200||299<e)return n.fire("error",t.message||t.error)})}},{key:"_sendRequest",value:function(){var i=this,e=new FormData,o=this.xhr;return e.append("file",this.file),new Promise(function(n,r){o.addEventListener("load",function(){var e=o.status,t=o.response;return e<200||299<e?r(t.message?new C.a("fileuploader-uploading-data-failed",i,{message:t.message}):t.error):n(t)}),o.addEventListener("error",function(){return r(new Error("Network Error"))}),o.addEventListener("abort",function(){return r(new Error("Abort"))}),o.send(e)})}}]),Tv);function Tv(e,t,n){if(qS(this,Tv),!e)throw new C.a("fileuploader-missing-file",null);if(!t)throw new C.a("fileuploader-missing-token",null);if(!n)throw new C.a("fileuploader-missing-api-address",null);this.file=function(e){if("string"==typeof e){e=e.match(Sv);return e&&e.length}}(e)?function(e,t){var n=1<arguments.length&&void 0!==t?t:512;try{for(var r=e.match(Sv)[1],i=atob(e.replace(Sv,"")),o=[],a=0;a<i.length;a+=n){for(var s=i.slice(a,a+n),l=new Array(s.length),c=0;c<s.length;c++)l[c]=s.charCodeAt(c);o.push(new Uint8Array(l))}return new Blob(o,{type:r})}catch(e){throw new C.a("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=n}Ie(Ev,c);var Av=(WS(Ov,[{key:"upload",value:function(e){return new Ev(e,this._token,this._apiAddress)}}]),Ov),Pv=function(){$S(t,en);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"createToken",value:function(e,t){return new xv(e,t)}},{key:"createUploadGateway",value:function(e,t){return new Av(e,t)}}],[{key:"pluginName",get:function(){return"CloudServicesCore"}}]),t}(),Rv=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"strikethrough"}),e.model.schema.setAttributeProperties("strikethrough",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"strikethrough",view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add("strikethrough",new _d(e,"strikethrough")),e.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}],[{key:"pluginName",get:function(){return"StrikethroughEditing"}}]),t}(),Iv=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("strikethrough",function(e){var t=r.commands.get("strikethrough"),e=new sc(e);return e.set({label:i("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("strikethrough"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"StrikethroughUI"}}]),t}();function Ov(e,t){if(qS(this,Ov),!e)throw new C.a("uploadgateway-missing-token",null);if(!t)throw new C.a("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}function Mv(e){var t=e.t,e=e.config.get("codeBlock.languages"),n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;"Plain text"===r.label&&(r.label=t("Plain text")),void 0===r.class&&(r.class="language-"+r.language)}}catch(e){n.e(e)}finally{n.f()}return e}function Nv(e,t,n){var r={},i=HS(e);try{for(i.s();!(o=i.n()).done;){var o=o.value;"class"===t?r[o[t].split(" ").shift()]=o[n]:r[o[t]]=o[n]}}catch(e){i.e(e)}finally{i.f()}return r}function Lv(e){return e.data.match(/^(\s*)/)[0]}function Dv(e){var t=e.document.selection,n=[];if(t.isCollapsed)n.push(t.anchor);else{var r=HS(t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"}));try{for(r.s();!(i=r.n()).done;){var i,o,a=i.value.item;a.is("$textProxy")&&a.parent.is("element","codeBlock")&&(o=Lv(a.textNode),a=(i=a.textNode).parent,i=i.startOffset,o=e.createPositionAt(a,i+o.length),n.push(o))}}catch(e){r.e(e)}finally{r.f()}}return n}function jv(e){e=So(e.getSelectedBlocks());return e&&e.is("element","codeBlock")}var Fv=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,r=n.model,i=r.document.selection,n=Mv(n)[0],o=Array.from(i.getSelectedBlocks()),a=void 0===e.forceValue?!this.value:e.forceValue,s=e.language||n.language;r.change(function(e){a?t._applyCodeBlock(e,o,s):t._removeCodeBlock(e,o)})}},{key:"_getValue",value:function(){var e=So(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!e.is("element","codeBlock"))&&e.getAttribute("language")}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.schema,t=So(this.editor.model.document.selection.getSelectedBlocks());return!!t&&Vv(e,t)}},{key:"_applyCodeBlock",value:function(n,e,t){var r=this.editor.model.schema,i=e.filter(function(e){return Vv(r,e)}),o=HS(i);try{for(o.s();!(a=o.n()).done;){var a=a.value;n.rename(a,"codeBlock"),n.setAttribute("language",t,a),r.removeDisallowedAttributes([a],n)}}catch(e){o.e(e)}finally{o.f()}i.reverse().forEach(function(e,t){t=i[t+1];e.previousSibling===t&&(n.appendElement("softBreak",t),n.merge(n.createPositionBefore(e)))})}},{key:"_removeCodeBlock",value:function(e,t){var n=HS(t.filter(function(e){return e.is("element","codeBlock")}));try{for(n.s();!(i=n.n()).done;){var r=i.value,i=e.createRangeOn(r),o=HS(Array.from(i.getItems()).reverse());try{for(o.s();!(a=o.n()).done;){var a,s=a.value;s.is("element","softBreak")&&s.parent.is("element","codeBlock")&&(a=e.split(e.createPositionBefore(s)).position,e.rename(a.nodeAfter,"paragraph"),e.removeAttribute("language",a.nodeAfter),e.remove(s))}}catch(e){o.e(e)}finally{o.f()}e.rename(r,"paragraph"),e.removeAttribute("language",r)}}catch(e){n.e(e)}finally{n.f()}}}]),t}();function Vv(e,t){return!t.is("rootElement")&&!e.isLimit(t)&&e.checkChild(t.parent,"codeBlock")}var zv=function(){$S(r,Le);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e))._indentSequence=e.config.get("codeBlock.indentSequence"),t}return WS(r,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var r=this,i=this.editor.model;i.change(function(e){var t=HS(Dv(i));try{for(t.s();!(n=t.n()).done;){var n=n.value;e.insertText(r._indentSequence,n)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"_checkEnabled",value:function(){return!!this._indentSequence&&jv(this.editor.model.document.selection)}}]),r}(),Bv=function(){$S(r,Le);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e))._indentSequence=e.config.get("codeBlock.indentSequence"),t}return WS(r,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var r=this,i=this.editor.model;i.change(function(e){var t=HS(Dv(i));try{for(t.s();!(n=t.n()).done;){var n=n.value,n=Hv(r.editor.model,n,r._indentSequence);n&&e.remove(n)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"_checkEnabled",value:function(){var t=this;if(!this._indentSequence)return!1;var n=this.editor.model;return!!jv(n.document.selection)&&Dv(n).some(function(e){return Hv(n,e,t._indentSequence)})}}]),r}();function Hv(e,t,n){(i=(r=t).parent.getChild(r.index))&&!i.is("element","softBreak")||(i=r.nodeBefore),t=!i||i.is("element","softBreak")?null:i;if(!t)return null;var r=Lv(t),i=r.lastIndexOf(n);if(i+n.length!==r.length)return null;if(-1===i)return null;r=t.parent,t=t.startOffset;return e.createRange(e.createPositionAt(r,t+i),e.createPositionAt(r,t+i+n.length))}function Uv(s,e,t){var l=2<arguments.length&&void 0!==t&&t,c=Nv(e,"language","class"),u=Nv(e,"language","label");return function(e,t,n){var r,i,o=n.writer,a=n.mapper;n.consumable.consume(t.item,"insert")&&(i=t.item.getAttribute("language"),r=a.toViewPosition(s.createPositionBefore(t.item)),n={},l&&(n["data-language"]=u[i],n.spellcheck="false"),n=o.createContainerElement("pre",n),i=o.createContainerElement("code",{class:c[i]||null}),o.insert(o.createPositionAt(n,0),i),o.insert(r,n),a.bindElements(t.item,i))}}var qv=function(){$S(r,Oe);var n=KS(r);function r(e){var t;return qS(this,r),t=n.call(this,e),e.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"\t"}),t}return WS(r,null,[{key:"pluginName",get:function(){return"CodeBlockEditing"}},{key:"requires",get:function(){return[_h]}}]),WS(r,[{key:"init",value:function(){var r=this,a=this.editor,s=a.model.schema,l=a.model,e=Mv(a);a.commands.add("codeBlock",new Fv(a)),a.commands.add("indentCodeBlock",new zv(a)),a.commands.add("outdentCodeBlock",new Bv(a));function t(n){return function(e,t){r.editor.commands.get(n).isEnabled&&(r.editor.execute(n),t())}}var u,h,o;a.keystrokes.set("Tab",t("indentCodeBlock")),a.keystrokes.set("Shift+Tab",t("outdentCodeBlock")),s.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),s.addAttributeCheck(function(e){if(e.endsWith("codeBlock $text"))return!1}),a.editing.downcastDispatcher.on("insert:codeBlock",Uv(l,e,!0)),a.data.downcastDispatcher.on("insert:codeBlock",Uv(l,e)),a.data.downcastDispatcher.on("insert:softBreak",(o=l,function(e,t,n){var r,i;"codeBlock"===t.item.parent.name&&(r=n.writer,i=n.mapper,n.consumable.consume(t.item,"insert")&&(t=i.toViewPosition(o.createPositionBefore(t.item)),r.insert(t,r.createText("\n"))))}),{priority:"high"}),a.data.upcastDispatcher.on("element:code",(u=Nv(e=e,"class","language"),h=e[0].language,function(e,t,n){var r=t.viewItem,i=r.parent;if(i&&i.is("element","pre")&&!t.modelCursor.findAncestor("codeBlock")){var o=n.consumable,a=n.writer;if(o.test(r,{name:!0})){var s=a.createElement("codeBlock"),i=US(r.getClassNames());i.length||i.push("");var l=HS(i);try{for(l.s();!(c=l.n()).done;){var c=c.value,c=u[c];if(c){a.setAttribute("language",c,s);break}}}catch(e){l.e(e)}finally{l.f()}s.hasAttribute("language")||a.setAttribute("language",h,s),n.convertChildren(r,s),n.safeInsert(s,t.modelCursor)&&(o.consume(r,{name:!0}),n.updateConversionResult(s,t))}}})),a.data.upcastDispatcher.on("text",function(e,t,n){var r=n.consumable,i=n.writer,o=t.modelCursor;if(r.test(t.viewItem)&&o.findAncestor("codeBlock")){r.consume(t.viewItem);var r=t.viewItem.data.split("\n").map(function(e){return i.createText(e)}),a=r[r.length-1],s=HS(r);try{for(s.s();!(l=s.n()).done;){var l=l.value;i.insert(l,o),o=o.getShiftedBy(l.offsetSize),l!==a&&(l=i.createElement("softBreak"),i.insert(l,o),o=i.createPositionAfter(l))}}catch(e){s.e(e)}finally{s.f()}t.modelRange=i.createRange(t.modelCursor,o),t.modelCursor=o}}),this.listenTo(a.editing.view.document,"clipboardInput",function(e,t){var r,n,i,o=l.createRange(l.document.selection.anchor);t.targetRanges&&(o=a.editing.mapper.toModelRange(t.targetRanges[0])),o.start.parent.is("element","codeBlock")&&(n=t.dataTransfer.getData("text/plain"),o=new ku(a.editing.view.document),t.content=(n=n,o=(r=o).createDocumentFragment(),n=(i=n.split("\n")).reduce(function(e,t,n){return e.push(t),n<i.length-1&&e.push(r.createElement("br")),e},[]),r.appendChild(n,o),o))}),this.listenTo(l,"getSelectedContent",function(i,e){var o=BS(e,1)[0],a=o.anchor;!o.isCollapsed&&a.parent.is("element","codeBlock")&&a.hasSameParentAs(o.focus)&&l.change(function(e){var t,n,r=i.return;1<r.childCount||o.containsEntireContent(a.parent)?(t=e.createElement("codeBlock",a.parent.getAttributes()),e.append(r,t),n=e.createDocumentFragment(),e.append(t,n),i.return=n):(r=r.getChild(0),s.checkAttribute(r,"code")&&e.setAttribute("code",!0,r))})})}},{key:"afterInit",value:function(){var h=this.editor,e=h.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentCodeBlock")),n&&n.registerChildCommand(e.get("outdentCodeBlock")),this.listenTo(h.editing.view.document,"enter",function(e,t){var n,r,i,o,a,s,l,c,u;h.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(o=h,a=t.isSoft,s=o.model.document,l=o.editing.view,c=s.selection.getLastPosition(),u=c.nodeAfter,(!a&&s.selection.isCollapsed&&c.isAtStart&&u&&u.is("element","softBreak")?(o.model.change(function(e){o.execute("enter");var t=s.selection.anchor.parent.previousSibling;e.rename(t,"paragraph"),e.setSelection(t,"in"),o.model.schema.removeDisallowedAttributes([t],e),e.remove(u)}),l.scrollToTheSelection(),1):function(n,e){var r,t=n.model,i=t.document,o=n.editing.view,a=i.selection.getLastPosition(),s=a.nodeBefore;if(!e&&i.selection.isCollapsed&&a.isAtEnd&&s){if(s.is("element","softBreak"))r=t.createRangeOn(s);else{if(!s.is("$text")||s.data.match(/\S/)||!s.previousSibling||!s.previousSibling.is("element","softBreak"))return;r=t.createRange(t.createPositionBefore(s.previousSibling),t.createPositionAfter(s))}return n.model.change(function(e){e.remove(r),n.execute("enter");var t=i.selection.anchor.parent;e.rename(t,"paragraph"),n.model.schema.removeDisallowedAttributes([t],e)}),o.scrollToTheSelection(),1}}(h,t.isSoft))||(i=(n=h).model.document,(l=(l=i.selection.getLastPosition()).nodeBefore||l.textNode)&&l.is("$text")&&(r=Lv(l)),n.model.change(function(e){n.execute("shiftEnter"),r&&e.insertText(r,i.selection.anchor)})),t.preventDefault(),e.stop())},{context:"pre"})}}]),r}();n(101);var Wv=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var r=this,i=this.editor,o=i.t,e=i.ui.componentFactory,a=Mv(i),s=a[0];e.add("codeBlock",function(e){var t=i.commands.get("codeBlock"),n=Mc(e,pc),e=n.buttonView;return e.set({label:o("Insert code block"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),e.bind("isOn").to(t,"value",function(e){return!!e}),e.on("execute",function(){i.execute("codeBlock",{language:s.language}),i.editing.view.focus()}),n.on("execute",function(e){i.execute("codeBlock",{language:e.source._codeBlockLanguage,forceValue:!0}),i.editing.view.focus()}),n.class="ck-code-block-dropdown",n.bind("isEnabled").to(t),Lc(n,r._getLanguageListItemDefinitions(a)),n})}},{key:"_getLanguageListItemDefinitions",value:function(e){var n,r=this.editor.commands.get("codeBlock"),i=new Wt,t=HS(e);try{for(t.s();!(n=t.n()).done;)!function(){var e=n.value,t={type:"button",model:new qc({_codeBlockLanguage:e.language,label:e.label,withText:!0})};t.model.bind("isOn").to(r,"value",function(e){return e===t.model._codeBlockLanguage}),i.add(t)}()}catch(e){t.e(e)}finally{t.f()}return i}}],[{key:"pluginName",get:function(){return"CodeBlockUI"}}]),t}(),$v=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=this.editor.model;this.isEnabled=e.schema.checkAttributeInSelection(e.document.selection,"mention")}},{key:"execute",value:function(e){var r=this.editor.model,i=r.document.selection,t="string"==typeof e.mention?{id:e.mention}:e.mention,n=t.id,o=e.range||i.getFirstRange(),a=e.text||n,s=Gv({_text:a,id:n},t);if(1!=e.marker.length)throw new C.a("mentioncommand-incorrect-marker",this);if(n.charAt(0)!=e.marker)throw new C.a("mentioncommand-incorrect-id",this);r.change(function(e){var t=dn(i.getAttributes()),n=new Map(t.entries());n.set("mention",s),r.insertContent(e.createText(a,n),o),r.insertContent(e.createText(" ",t),o.start.getShiftedBy(a.length))})}}]),t}(),Kv=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor,t=e.model,c=t.document;t.schema.extend("$text",{allowAttributes:"mention"}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:function(e){return Zv(e)}}}),e.conversion.for("downcast").attributeToElement({model:"mention",view:Qv}),e.conversion.for("downcast").add(Jv),c.registerPostFixer(function(e){return function(e,t){var n=!1,r=HS(c.differ.getChanges());try{for(r.s();!(o=r.n()).done;){var i=o.value,o=i.position;if("$text"==i.name&&(s=o.textNode&&o.textNode.nextSibling,n=Xv(o.textNode,e)||n,n=Xv(s,e)||n,n=Xv(o.nodeBefore,e)||n,n=Xv(o.nodeAfter,e)||n),"$text"!=i.name&&"insert"==i.type){var a,s=o.nodeAfter,l=HS(e.createRangeIn(s).getItems());try{for(l.s();!(a=l.n()).done;)n=Xv(a.value,e)||n}catch(e){l.e(e)}finally{l.f()}}"insert"==i.type&&t.isInline(i.name)&&(i=o.nodeAfter&&o.nodeAfter.nextSibling,n=Xv(o.nodeBefore,e)||n,n=Xv(i,e)||n)}}catch(e){r.e(e)}finally{r.f()}return n}(e,t.schema)}),c.registerPostFixer(function(e){var t=!1,n=HS(c.differ.getChanges());try{for(n.s();!(o=n.n()).done;){var r=o.value;if("attribute"===r.type&&"mention"!=r.attributeKey)for(var i=r.range.start.nodeBefore,o=r.range.end.nodeAfter,a=0,s=[i,o];a<s.length;a++){var l=s[a];Yv(l)&&l.getAttribute(r.attributeKey)!=r.attributeNewValue&&(e.setAttribute(r.attributeKey,r.attributeNewValue,l),t=!0)}}}catch(e){n.e(e)}finally{n.f()}return t}),c.registerPostFixer(function(e){var t=c.selection,n=t.focus;if(t.isCollapsed&&t.hasAttribute("mention")&&(t=n.isAtStart,n.nodeBefore&&n.nodeBefore.is("$text")||t))return e.removeSelectionAttribute("mention"),!0}),e.commands.add("mention",new $v(e))}}],[{key:"pluginName",get:function(){return"MentionEditing"}}]),t}();function Gv(e,t){return Object.assign({uid:u()},e,t||{})}function Zv(e,t){var n=e.getAttribute("data-mention"),e=e.getChild(0);if(e)return Gv({id:n,_text:e.data},t)}function Jv(e){e.on("attribute:mention",function(e,t,n){var r,i=t.attributeNewValue;t.item.is("$textProxy")&&i&&(((r=t.range.start).textNode||r.nodeAfter).data!=i._text&&n.consumable.consume(t.item,e.name))},{priority:"highest"})}function Qv(e,t){t=t.writer;if(e)return t.createAttributeElement("span",{class:"mention","data-mention":e.id},{id:e.uid,priority:20})}function Yv(e){return e&&(e.is("$text")||e.is("$textProxy"))&&e.hasAttribute("mention")&&e.data!=e.getAttribute("mention")._text}function Xv(e,t){return!!Yv(e)&&(t.removeAttribute("mention",e),!0)}n(103);var em=function(){$S(n,Rc);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}}),e}return WS(n,[{key:"selectFirst",value:function(){this.select(0)}},{key:"selectNext",value:function(){var e=this.items.getIndex(this.selected);this.select(e+1)}},{key:"selectPrevious",value:function(){var e=this.items.getIndex(this.selected);this.select(e-1)}},{key:"select",value:function(e){var t=0;0<e&&e<this.items.length?t=e:e<0&&(t=this.items.length-1);t=this.items.get(t);this.selected!==t&&(this.selected&&this.selected.removeHighlight(),t.highlight(),this.selected=t,this._isItemVisibleInScrolledArea(t)||(this.element.scrollTop=t.element.offsetTop))}},{key:"executeSelected",value:function(){this.selected.fire("execute")}},{key:"_isItemVisibleInScrolledArea",value:function(e){return new vo(this.element).contains(new vo(e.element))}}]),n}(),tm=function(){$S(i,Fl);var n=KS(i);function i(e,t){var r;return qS(this,i),(r=n.call(this,e)).template=!1,r.domElement=t,r.domElement.classList.add("ck-button"),r.set("isOn",!1),r.on("change:isOn",function(e,t,n){n?(r.domElement.classList.add("ck-on"),r.domElement.classList.remove("ck-off")):(r.domElement.classList.add("ck-off"),r.domElement.classList.remove("ck-on"))}),r.listenTo(r.domElement,"click",function(){r.fire("execute")}),r}return WS(i,[{key:"render",value:function(){zS(YS(i.prototype),"render",this).call(this),this.element=this.domElement}}]),i}(),nm=function(){$S(t,Ic);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"highlight",value:function(){this.children.first.isOn=!0}},{key:"removeHighlight",value:function(){this.children.first.isOn=!1}}]),t}(),rm=[Er.arrowup,Er.arrowdown,Er.enter,Er.tab,Er.esc],im=function(){$S(r,Oe);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e))._mentionsView=t._createMentionView(),t._mentionsConfigurations=new Map,t._requestFeedDebounced=to(t._requestFeed,100),e.config.define("mention",{feeds:[]}),t}return WS(r,null,[{key:"pluginName",get:function(){return"MentionUI"}},{key:"requires",get:function(){return[Yc]}}]),WS(r,[{key:"init",value:function(){var n=this,e=this.editor;this._balloon=e.plugins.get(Yc),e.editing.view.document.on("keydown",function(e,t){rm.includes(t.keyCode)&&n._isUIVisible&&(t.preventDefault(),e.stop(),t.keyCode==Er.arrowdown&&n._mentionsView.selectNext(),t.keyCode==Er.arrowup&&n._mentionsView.selectPrevious(),t.keyCode!=Er.enter&&t.keyCode!=Er.tab||n._mentionsView.executeSelected(),t.keyCode==Er.esc&&n._hideUIAndRemoveMarker())},{priority:"highest"}),Nl({emitter:this._mentionsView,activator:function(){return n._isUIVisible},contextElements:[this._balloon.view.element],callback:function(){return n._hideUIAndRemoveMarker()}});var t=HS(e.config.get("mention.feeds"));try{for(t.s();!(a=t.n()).done;){var r=a.value,i=r.feed,o=r.marker;if(!(a=o)||1!=a.length)throw new C.a("mentionconfig-incorrect-marker",null,{marker:o});var a=r.minimumCharacters||0,i="function"==typeof i?i.bind(this.editor):function(e){return function(t){return e.filter(function(e){return("string"==typeof e?e:String(e.id)).toLowerCase().includes(t.toLowerCase())}).slice(0,10)}}(i),r={watcher:this._setupTextWatcherForFeed(o,a),marker:o,feedCallback:i,itemRenderer:r.itemRenderer};this._mentionsConfigurations.set(o,r)}}catch(e){t.e(e)}finally{t.f()}this.on("requestFeed:response",function(e,t){return n._handleFeedResponse(t)}),this.on("requestFeed:error",function(){return n._hideUIAndRemoveMarker()})}},{key:"destroy",value:function(){zS(YS(r.prototype),"destroy",this).call(this),this._mentionsView.destroy()}},{key:"_createMentionView",value:function(){var s=this,i=this.editor.locale,o=new em(i);return this._items=new Wt,o.items.bindTo(this._items).using(function(e){var t=e.item,n=e.marker,r=new nm(i),e=s._renderItem(t,n);return e.delegate("execute").to(r),r.children.add(e),r.item=t,r.marker=n,r.on("execute",function(){o.fire("execute",{item:t,marker:n})}),r}),o.on("execute",function(e,t){var n=s.editor,r=n.model,i=t.item,o=t.marker,a=n.model.markers.get("mention"),t=r.createPositionAt(r.document.selection.focus),a=r.createPositionAt(a.getStart()),t=r.createRange(a,t);s._hideUIAndRemoveMarker(),n.execute("mention",{mention:i,text:i.text,marker:o,range:t}),n.editing.view.focus()}),o}},{key:"_getItemRenderer",value:function(e){return this._mentionsConfigurations.get(e).itemRenderer}},{key:"_requestFeed",value:function(t,n){var r=this;this._lastRequested=n;var e=(0,this._mentionsConfigurations.get(t).feedCallback)(n);e instanceof Promise?e.then(function(e){r.fire(r._lastRequested==n?"requestFeed:response":"requestFeed:discarded",{feed:e,marker:t,feedText:n})}).catch(function(e){r.fire("requestFeed:error",{error:e}),Object(C.b)("mention-feed-callback-error",{marker:t})}):this.fire("requestFeed:response",{feed:e,marker:t,feedText:n})}},{key:"_setupTextWatcherForFeed",value:function(s,e){var t,l=this,c=this.editor,n=new Fh(c.model,(t=om(s,e),function(e){return t.test(e)}));n.on("matched",function(e,t){var n,r,i,o,a=c.model.document.selection.focus;o=(i=a).textNode&&i.textNode.hasAttribute("mention"),i=i.nodeBefore,o||i&&i.is("$text")&&i.hasAttribute("mention")?l._hideUIAndRemoveMarker():(i=t.text,t=om(s,0),i=i.match(t)[2],t=a.getShiftedBy(-(s.length+i.length)),a=a.getShiftedBy(-i.length),n=c.model.createRange(t,a),am(c)?(r=c.model.markers.get("mention"),c.model.change(function(e){e.updateMarker(r,{range:n})})):c.model.change(function(e){e.addMarker("mention",{range:n,usingOperation:!1,affectsData:!1})}),l._requestFeedDebounced(s,i))}),n.on("unmatched",function(){l._hideUIAndRemoveMarker()});e=c.commands.get("mention");return n.bind("isEnabled").to(e),n}},{key:"_handleFeedResponse",value:function(e){var t=e.feed,n=e.marker;if(am(this.editor)){this._items.clear();var r=HS(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;this._items.add({item:"object"!=typeof i?{id:i,text:i}:i,marker:n})}}catch(e){r.e(e)}finally{r.f()}t=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(t):this._hideUIAndRemoveMarker()}}},{key:"_showOrUpdateUI",value:function(e){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(e,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(e,this._mentionsView.position),withArrow:!1,singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}},{key:"_hideUIAndRemoveMarker",value:function(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),am(this.editor)&&this.editor.model.change(function(e){return e.removeMarker("mention")}),this._mentionsView.position=void 0}},{key:"_renderItem",value:function(e,t){var n,r=this.editor,i=e.id,t=this._getItemRenderer(t);return t&&("string"!=typeof(e=t(e))?n=new tm(r.locale,e):i=e),n||((r=new sc(r.locale)).label=i,r.withText=!0,n=r),n}},{key:"_getBalloonPanelPositionData",value:function(t,e){var n=this,r=this.editor,i=r.editing,o=i.view.domConverter,a=i.mapper;return{target:function(){var e=t.getRange();"$graveyard"==e.start.root.rootName&&(e=r.model.document.selection.getFirstRange());e=a.toViewRange(e);return vo.getDomRangeRects(o.viewRangeToDom(e)).pop()},limiter:function(){var e=n.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},positions:(i=e,e={caret_se:function(e){return{top:e.bottom+3,left:e.right,name:"caret_se"}},caret_ne:function(e,t){return{top:e.top-t.height-3,left:e.right,name:"caret_ne"}},caret_sw:function(e,t){return{top:e.bottom+3,left:e.right-t.width,name:"caret_sw"}},caret_nw:function(e,t){return{top:e.top-t.height-3,left:e.right-t.width,name:"caret_nw"}}},Object.prototype.hasOwnProperty.call(e,i)?[e[i]]:[e.caret_se,e.caret_sw,e.caret_ne,e.caret_nw])}}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView===this._mentionsView}}]),r}();function om(e,t){return new RegExp("(?:^|[ ".concat(Cr?"\\p{Ps}\\p{Pi}\"'":"\\(\\[{\"'","])([").concat(e,"])([\\S]").concat(0==t?"*":"{".concat(t,",}"),")$"),"u")}function am(e){return e.model.markers.has("mention")}n(105);var sm=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("removeFormat",function(e){var t=r.commands.get("removeFormat"),e=new sc(e);return e.set({label:i("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("removeFormat"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"RemoveFormatUI"}}]),t}(),lm=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=this.editor.model;this.isEnabled=!!So(this._getFormattingItems(e.document.selection,e.schema))}},{key:"execute",value:function(){var l=this,c=this.editor.model,u=c.schema;c.change(function(e){var t=HS(l._getFormattingItems(c.document.selection,u));try{for(t.s();!(n=t.n()).done;){var n=n.value;if(n.is("selection")){var r=HS(l._getFormattingAttributes(n,u));try{for(r.s();!(i=r.n()).done;){var i=i.value;e.removeSelectionAttribute(i)}}catch(e){r.e(e)}finally{r.f()}}else{var o=e.createRangeOn(n),a=HS(l._getFormattingAttributes(n,u));try{for(a.s();!(s=a.n()).done;){var s=s.value;e.removeAttribute(s,o)}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){t.e(e)}finally{t.f()}})}},{key:"_getFormattingItems",value:regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,l,c,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e){return!!So(u._getFormattingAttributes(e,n))},i=HS(t.getRanges()),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=27;break}s=o.value,a=HS(s.getItems()),e.prev=7,a.s();case 9:if((s=a.n()).done){e.next=17;break}if(c=s.value,e.t0=!n.isBlock(c)&&r(c),e.t0)return e.next=15,c;e.next=15;break;case 15:e.next=9;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(7),a.e(e.t1);case 22:return e.prev=22,a.f(),e.finish(22);case 25:e.next=4;break;case 27:e.next=32;break;case 29:e.prev=29,e.t2=e.catch(2),i.e(e.t2);case 32:return e.prev=32,i.f(),e.finish(32);case 35:l=HS(t.getSelectedBlocks()),e.prev=36,l.s();case 38:if((c=l.n()).done){e.next=46;break}if(c=c.value,e.t3=r(c),e.t3)return e.next=44,c;e.next=44;break;case 44:e.next=38;break;case 46:e.next=51;break;case 48:e.prev=48,e.t4=e.catch(36),l.e(e.t4);case 51:return e.prev=51,l.f(),e.finish(51);case 54:if(e.t5=r(t),e.t5)return e.next=58,t;e.next=58;break;case 58:case"end":return e.stop()}},e,null,[[2,29,32,35],[7,19,22,25],[36,48,51,54]])})},{key:"_getFormattingAttributes",value:regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=HS(t.getAttributes()),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=12;break}if(o=BS(i.value,1),i=o[0],o=n.getAttributeProperties(i),e.t0=o&&o.isFormatting,e.t0)return e.next=10,i;e.next=10;break;case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(1),r.e(e.t1);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,14,17,20]])})}]),t}(),cm=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor;e.commands.add("removeFormat",new lm(e))}}],[{key:"pluginName",get:function(){return"RemoveFormatEditing"}}]),t}(),um=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e,t,n;this.isEnabled=(e=this.editor.model,t=e.schema,function(e,t,n){n=(n=Zu(e,n).parent).isEmpty&&!n.is("element","$root")?n.parent:n;return t.checkChild(n,"horizontalLine")}(n=e.document.selection,t,e)&&!Ju(n,t))}},{key:"execute",value:function(){var r=this.editor.model;r.change(function(e){var t=e.createElement("horizontalLine");r.insertContent(t);var n=t.nextSibling;n&&r.schema.checkChild(n,"$text")||!r.schema.checkChild(t.parent,"paragraph")||(n=e.createElement("paragraph"),r.insertContent(n,e.createPositionAfter(t))),n&&e.setSelection(n,0)})}}]),t}();n(107);var hm=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor,o=e.t,t=e.conversion;e.model.schema.register("horizontalLine",{isObject:!0,allowWhere:"$block"}),t.for("dataDowncast").elementToElement({model:"horizontalLine",view:function(e,t){return t.writer.createEmptyElement("hr")}}),t.for("editingDowncast").elementToElement({model:"horizontalLine",view:function(e,t){var n=t.writer,r=o("Horizontal line"),i=n.createContainerElement("div"),t=n.createEmptyElement("hr");return n.addClass("ck-horizontal-line",i),n.setCustomProperty("hr",!0,i),n.insert(n.createPositionAt(i,0),t),i=i,r=r,(n=n).setCustomProperty("horizontalLine",!0,i),qu(i,n,{label:r})}}),t.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new um(e))}}],[{key:"pluginName",get:function(){return"HorizontalLineEditing"}}]),t}(),dm=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("horizontalLine",function(e){var t=r.commands.get("horizontalLine"),e=new sc(e);return e.set({label:i("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),e.bind("isEnabled").to(t,"isEnabled"),n.listenTo(e,"execute",function(){r.execute("horizontalLine"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"HorizontalLineUI"}}]),t}(),fm=function(){$S(r,Le);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e))._selectedElements=[],t.on("execute",function(){t.refresh()},{priority:"highest"}),t}return WS(r,[{key:"refresh",value:function(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(function(e){return!!e.getAttribute("todoListChecked")}),this.isEnabled=!!this._selectedElements.length}},{key:"_getSelectedItems",value:function(){var e=this.editor.model,t=e.schema,n=e.document.selection.getFirstRange(),e=n.start.parent,r=[];t.checkAttribute(e,"todoListChecked")&&r.push(e);var i=HS(n.getItems());try{for(i.s();!(o=i.n()).done;){var o=o.value;t.checkAttribute(o,"todoListChecked")&&!r.includes(o)&&r.push(o)}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"execute",value:function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.editor.model.change(function(e){var t=HS(r._selectedElements);try{for(t.s();!(n=t.n()).done;){var n=n.value;(void 0===i.forceValue?!r.value:i.forceValue)?e.setAttribute("todoListChecked",!0,n):e.removeAttribute("todoListChecked",n)}}catch(e){t.e(e)}finally{t.f()}})}}]),r}();function pm(e,t,n){var r=t.modelCursor,i=r.parent,o=t.viewItem;"checkbox"==o.getAttribute("type")&&"listItem"==i.name&&r.isAtStart&&n.consumable.consume(o,{name:!0})&&((n=n.writer).setAttribute("listType","todo",i),t.viewItem.hasAttribute("checked")&&n.setAttribute("todoListChecked",!0,i),t.modelRange=n.createRange(r))}function gm(i){return function(e,t){var n=t.modelPosition,r=n.parent;!r.is("element","listItem")||"todo"!=r.getAttribute("listType")||(r=mm(t.mapper.toViewElement(r),i))&&(t.viewPosition=t.mapper.findPositionIn(r,n.offset))}}function vm(n,e,r,i){return e.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(e){var t=ho(document,"input",{type:"checkbox"});r&&t.setAttribute("checked","checked"),t.addEventListener("change",function(){return i(n)});e=this.toDomElement(e);return e.appendChild(t),e})}function mm(e,t){var n=HS(t.createRangeIn(e));try{for(n.s();!(r=n.n()).done;){var r=r.value;if(r.item.is("containerElement","span")&&r.item.hasClass("todo-list__label__description"))return r.item}}catch(e){n.e(e)}finally{n.f()}}var ym=Pr("Ctrl+Enter"),km=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var t=this,n=this.editor,e=n.editing,r=n.data,i=n.model;i.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),i.schema.addAttributeCheck(function(e,t){e=e.last;if("todoListChecked"==t&&"listItem"==e.name&&"todo"!=e.getAttribute("listType"))return!1}),n.commands.add("todoList",new kp(n,"todo"));var u,h,a,s,o,l,c,d,f=new fm(n);n.commands.add("checkTodoList",f),n.commands.add("todoListCheck",f),r.downcastDispatcher.on("insert:listItem",(d=i,function(e,t,n){var r,i,o,a,s=n.consumable;s.test(t.item,"insert")&&s.test(t.item,"attribute:listType")&&s.test(t.item,"attribute:listIndent")&&"todo"==t.item.getAttribute("listType")&&(r=t.item,s.consume(r,"insert"),s.consume(r,"attribute:listType"),s.consume(r,"attribute:listIndent"),s.consume(r,"attribute:todoListChecked"),i=n.writer,o=Cp(r,n),i.addClass("todo-list",o.parent),a=i.createContainerElement("label",{class:"todo-list__label"}),t=i.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),s=i.createContainerElement("span",{class:"todo-list__label__description"}),r.getAttribute("todoListChecked")&&i.setAttribute("checked","checked",t),i.insert(i.createPositionAt(o,0),a),i.insert(i.createPositionAt(a,0),t),i.insert(i.createPositionAfter(t),s),xp(r,o,n,d))}),{priority:"high"}),r.upcastDispatcher.on("element:input",pm,{priority:"high"}),e.downcastDispatcher.on("insert:listItem",(l=i,c=function(e){return t._handleCheckmarkChange(e)},function(e,t,n){var r,i,o,a=n.consumable;a.test(t.item,"insert")&&a.test(t.item,"attribute:listType")&&a.test(t.item,"attribute:listIndent")&&"todo"==t.item.getAttribute("listType")&&(r=t.item,a.consume(r,"insert"),a.consume(r,"attribute:listType"),a.consume(r,"attribute:listIndent"),a.consume(r,"attribute:todoListChecked"),i=n.writer,o=Cp(r,n),t=!!r.getAttribute("todoListChecked"),a=vm(r,i,t,c),t=i.createContainerElement("span",{class:"todo-list__label__description"}),i.addClass("todo-list",o.parent),i.insert(i.createPositionAt(o,0),a),i.insert(i.createPositionAfter(a),t),xp(r,o,n,l))}),{priority:"high"}),e.downcastDispatcher.on("attribute:listType:listItem",(u=function(e){return t._handleCheckmarkChange(e)},h=e.view,function(e,t,n){var r,i,o,a,s=n.mapper.toViewElement(t.item),l=n.writer,c=function(){var t=HS(h.createRangeIn(s));try{for(t.s();!(e=t.n()).done;){var e=e.value;if(e.item.is("uiElement","label"))return e.item}}catch(e){t.e(e)}finally{t.f()}}();"todo"==t.attributeNewValue?(o=!!t.item.getAttribute("todoListChecked"),r=vm(t.item,l,o,u),i=l.createContainerElement("span",{class:"todo-list__label__description"}),a=l.createRangeIn(s),n=Pp(s),o=Ep(a.start),a=n?l.createPositionBefore(n):a.end,a=l.createRange(o,a),l.addClass("todo-list",s.parent),l.move(a,l.createPositionAt(i,0)),l.insert(l.createPositionAt(s,0),r),l.insert(l.createPositionAfter(r),i)):"todo"==t.attributeOldValue&&(t=mm(s,h),l.removeClass("todo-list",s.parent),l.remove(c),l.move(l.createRangeIn(t),l.createPositionBefore(t)),l.remove(t))})),e.downcastDispatcher.on("attribute:todoListChecked:listItem",(o=function(e){return t._handleCheckmarkChange(e)},function(e,t,n){var r,i;"todo"==t.item.getAttribute("listType")&&n.consumable.consume(t.item,"attribute:todoListChecked")&&(i=n.mapper,r=n.writer,n=!!t.item.getAttribute("todoListChecked"),i=i.toViewElement(t.item).getChild(0),n=vm(t.item,r,n,o),r.insert(r.createPositionAfter(i),n),r.remove(i))})),e.mapper.on("modelToViewPosition",gm(e.view)),r.mapper.on("modelToViewPosition",gm(e.view)),this.listenTo(e.view.document,"arrowKey",(a=i,s=n.locale,function(e,t){var n,r,i,o;"left"==Ir(t.keyCode,s.contentLanguageDirection)&&(n=a.schema,!(i=a.document.selection).isCollapsed||"listItem"===(i=(r=i.getFirstPosition()).parent).name&&"todo"==i.getAttribute("listType")&&r.isAtStart&&((o=n.getNearestSelectionRange(a.createPositionBefore(i),"backward"))&&a.change(function(e){return e.setSelection(o)}),t.preventDefault(),t.stopPropagation(),e.stop()))}),{context:"li"}),this.listenTo(e.view.document,"keydown",function(e,t){Ar(t)===ym&&(n.execute("checkTodoList"),e.stop())},{priority:"high"});var p=new Set;this.listenTo(i,"applyOperation",function(e,t){var n=t[0];if("rename"==n.type&&"listItem"==n.oldName){t=n.position.nodeAfter;t.hasAttribute("todoListChecked")&&p.add(t)}else if("changeAttribute"==n.type&&"listType"==n.key&&"todo"===n.oldValue){var r=HS(n.range.getItems());try{for(r.s();!(i=r.n()).done;){var i=i.value;i.hasAttribute("todoListChecked")&&"todo"!==i.getAttribute("listType")&&p.add(i)}}catch(e){r.e(e)}finally{r.f()}}}),i.document.registerPostFixer(function(e){var t=!1,n=HS(p);try{for(n.s();!(r=n.n()).done;){var r=r.value;e.removeAttribute("todoListChecked",r),t=!0}}catch(e){n.e(e)}finally{n.f()}return p.clear(),t})}},{key:"_handleCheckmarkChange",value:function(t){var n=this.editor,e=n.model,r=Array.from(e.document.selection.getRanges());e.change(function(e){e.setSelection(t,"end"),n.execute("checkTodoList"),e.setSelection(r)})}}],[{key:"pluginName",get:function(){return"TodoListEditing"}},{key:"requires",get:function(){return[Up]}}]),t}(),bm=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){Ap(this.editor,"todoList",(0,this.editor.t)("To-do List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>')}}],[{key:"pluginName",get:function(){return"TodoListUI"}}]),t}();n(109),n(111);var _m=function(){$S(i,Fl);var r=KS(i);function i(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};qS(this,i);e=(t=r.call(this,e)).bindTemplate;return t.set("class",n.class||null),t.children=t.createCollection(),n.children&&n.children.forEach(function(e){return t.children.add(e)}),t.set("_role",null),t.set("_ariaLabelledBy",null),n.labelView&&t.set({_role:"group",_ariaLabelledBy:n.labelView.id}),t.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",e.to("class")],role:e.to("_role"),"aria-labelledby":e.to("_ariaLabelledBy")},children:t.children}),t}return i}();n(113);var wm=function(){$S(l,Fl);var s=KS(l);function l(e,t){var r;qS(this,l);var n=(r=s.call(this,e))._createActionButtons(e),i=n.insertButtonView,n=n.cancelButtonView;if(r.insertButtonView=i,r.cancelButtonView=n,r.dropdownView=r._createDropdownView(e),r.set("imageURLInputValue",""),r.focusTracker=new Eo,r.keystrokes=new Ao,r._focusables=new jl,r._focusCycler=new cc({focusables:r._focusables,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r.set("_integrations",new Wt),t)for(var o=0,a=Object.entries(t);o<a.length;o++)!function(){var e=BS(a[o],2),t=e[0],n=e[1];"insertImageViaUrl"===t&&(n.fieldView.bind("value").to(ZS(r),"imageURLInputValue",function(e){return e||""}),n.fieldView.on("input",function(){r.imageURLInputValue=n.fieldView.element.value.trim()})),n.name=t,r._integrations.add(n)}();return r.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:"-1"},children:[].concat(US(r._integrations),[new _m(e,{children:[r.insertButtonView,r.cancelButtonView],class:"ck-image-insert-form__action-row"})])}),r}return WS(l,[{key:"render",value:function(){var t=this;zS(YS(l.prototype),"render",this).call(this),Dl({view:this});var e=[].concat(US(this._integrations),[this.insertButtonView,this.cancelButtonView]);e.forEach(function(e){t._focusables.add(e),t.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element);function n(e){return e.stopPropagation()}this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n),this.listenTo(e[0].element,"selectstart",function(e,t){t.stopPropagation()},{priority:"high"})}},{key:"getIntegration",value:function(t){return this._integrations.find(function(e){return e.name===t})}},{key:"_createDropdownView",value:function(e){var t=e.t,n=Mc(e,pc),e=n.panelView;return n.buttonView.set({label:t("Insert image"),icon:Ml,tooltip:!0}),e.extendTemplate({attributes:{class:"ck-image-insert__panel"}}),n}},{key:"_createActionButtons",value:function(e){var t=e.t,n=new sc(e),e=new sc(e);return n.set({label:t("Insert"),icon:Ol,class:"ck-button-save",type:"submit",withText:!0,isEnabled:this.imageURLInputValue}),e.set({label:t("Cancel"),icon:Il,class:"ck-button-cancel",withText:!0}),n.bind("isEnabled").to(this,"imageURLInputValue",function(e){return!!e}),n.delegate("execute").to(this,"submit"),e.delegate("execute").to(this,"cancel"),{insertButtonView:n,cancelButtonView:e}}},{key:"focus",value:function(){this._focusCycler.focusFirst()}}]),l}();var Cm=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){function e(e){return t._createDropdownView(e)}var t=this,n=this.editor;n.ui.componentFactory.add("insertImage",e),n.ui.componentFactory.add("imageInsert",e)}},{key:"_createDropdownView",value:function(e){var n,t,r,i,o,a=this.editor,e=new wm(e,(r=(n=a).config.get("image.insert.integrations"),i=n.plugins.get("ImageInsertUI"),o={insertImageViaUrl:(t=n.locale,e=t.t,(t=new Bc(t,Hc)).set({label:e("Insert image via URL")}),t.fieldView.placeholder="https://example.com/image.png",t)},r?(r.find(function(e){return"openCKFinder"===e})&&n.ui.componentFactory.has("ckfinder")&&((t=n.ui.componentFactory.create("ckfinder")).set({withText:!0,class:"ck-image-insert__ck-finder-button"}),t.delegate("execute").to(i,"cancel"),o.openCKFinder=t),r.reduce(function(e,t){return o[t]?e[t]=o[t]:n.ui.componentFactory.has(t)&&(e[t]=n.ui.componentFactory.create(t)),e},{})):o)),i=a.commands.get("uploadImage"),t=e.dropdownView,r=t.buttonView;return r.actionView=a.ui.componentFactory.create("uploadImage"),r.actionView.extendTemplate({attributes:{class:"ck ck-button ck-splitbutton__action"}}),this._setUpDropdown(t,e,i)}},{key:"_setUpDropdown",value:function(t,n,e){var r=this.editor,i=r.t,o=n.insertButtonView,a=n.getIntegration("insertImageViaUrl"),s=t.panelView;function l(){r.editing.view.focus(),t.isOpen=!1}return t.bind("isEnabled").to(e),t.buttonView.once("open",function(){s.children.add(n)}),t.on("change:isOpen",function(){var e=r.model.document.selection.getSelectedElement();t.isOpen&&(n.focus(),of(e)?(n.imageURLInputValue=e.getAttribute("src"),o.label=i("Update"),a.label=i("Update image URL")):(n.imageURLInputValue="",o.label=i("Insert"),a.label=i("Insert image via URL")))},{priority:"low"}),n.delegate("submit","cancel").to(t),this.delegate("cancel").to(t),t.on("submit",function(){var t;l(),of(t=r.model.document.selection.getSelectedElement())?r.model.change(function(e){e.setAttribute("src",n.imageURLInputValue,t),e.removeAttribute("srcset",t),e.removeAttribute("sizes",t)}):r.execute("insertImage",{source:n.imageURLInputValue})}),t.on("cancel",function(){l()}),t}}],[{key:"pluginName",get:function(){return"ImageInsertUI"}}]),t}(),xm=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("image",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(function(e){e.on("element:a",function(e,t,n){var r,i=t.viewItem,o=Em(i);o&&n.consumable.consume(i,{attributes:["href"]})&&((r=i.getAttribute("href"))&&((i=t.modelCursor.parent).is("element","image")||(o=n.convertItem(o,t.modelCursor),t.modelRange=o.modelRange,t.modelCursor=o.modelCursor,i=t.modelCursor.nodeBefore),i&&i.is("element","image")&&n.writer.setAttribute("linkHref",r,i)))},{priority:"high"})}),e.conversion.for("editingDowncast").add(Sm({attachIconIndicator:!0})),e.conversion.for("dataDowncast").add(Sm({attachIconIndicator:!1})),this._enableAutomaticDecorators(),this._enableManualDecorators()}},{key:"_enableAutomaticDecorators",value:function(){var e=this.editor,t=e.commands.get("link").automaticDecorators;t.length&&e.conversion.for("downcast").add(t.getDispatcherForLinkedImage())}},{key:"_enableManualDecorators",value:function(){var e=this.editor,t=e.commands.get("link"),n=t.manualDecorators,r=HS(t.manualDecorators);try{for(r.s();!(i=r.n()).done;){var i=i.value;e.model.schema.extend("image",{allowAttributes:i.id}),e.conversion.for("downcast").add(function(l,c){return function(e){e.on("attribute:".concat(c.id,":image"),function(e,t,n){var r=l.get(c.id).attributes,t=n.mapper.toViewElement(t.item),i=Array.from(t.getChildren()).find(function(e){return"a"===e.name});if(i){var o=HS(dn(r));try{for(o.s();!(s=o.n()).done;){var a=BS(s.value,2),s=a[0],a=a[1];n.writer.setAttribute(s,a,i)}}catch(e){o.e(e)}finally{o.f()}}})}}(n,i)),e.conversion.for("upcast").add(function(o,a){return function(e){e.on("element:a",function(e,t,n){var r,i=t.viewItem;Em(i)&&(r={attributes:o.get(a.id).attributes},(r=new fn(r).match(i))&&n.consumable.consume(i,r.match)&&n.writer.setAttribute(a.id,!0,t.modelCursor.nodeBefore||t.modelCursor.parent))},{priority:"high"})}}(n,i))}}catch(e){r.e(e)}finally{r.f()}}}],[{key:"requires",get:function(){return["ImageEditing",sp]}},{key:"pluginName",get:function(){return"LinkImageEditing"}}]),t}();function Sm(s){return function(e){e.on("attribute:linkHref:image",function(e,t,n){var r,i=n.mapper.toViewElement(t.item),o=n.writer,a=Array.from(i.getChildren()).find(function(e){return"a"===e.name});s.attachIconIndicator&&(r=o.createUIElement("span",{class:"ck ck-link-image_icon"},function(e){e=this.toDomElement(e);return e.innerHTML=fp,e})),a?t.attributeNewValue?o.setAttribute("href",t.attributeNewValue,a):(n=Array.from(a.getChildren()).find(function(e){return"img"===e.name}),o.move(o.createRangeOn(n),o.createPositionAt(i,0)),o.remove(a)):(t=o.createContainerElement("a",{href:t.attributeNewValue}),o.insert(o.createPositionAt(i,0),t),o.move(o.createRangeOn(i.getChild(1)),o.createPositionAt(t,0)),r&&o.insert(o.createPositionAt(t,"end"),r))})}}function Em(e){return Array.from(e.getChildren()).find(function(e){return"img"===e.name})}var Tm=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this.editor,r=n.editing.view.document;this.listenTo(r,"click",function(e,t){Am(r.selection.getSelectedElement(),n.plugins.get("Image"))&&t.preventDefault()}),this._createToolbarLinkImageButton()}},{key:"_createToolbarLinkImageButton",value:function(){var r=this,i=this.editor,o=i.t;i.ui.componentFactory.add("linkImage",function(e){var t=new sc(e),n=i.plugins.get("LinkUI"),e=i.commands.get("link");return t.set({isEnabled:!0,label:o("Link image"),icon:fp,keystroke:"Ctrl+K",tooltip:!0,isToggleable:!0}),t.bind("isEnabled").to(e,"isEnabled"),t.bind("isOn").to(e,"value",function(e){return!!e}),r.listenTo(t,"execute",function(){Am(i.editing.view.document.selection.getSelectedElement(),i.plugins.get("Image"))?n._addActionsView():n._showUI(!0)}),t})}}],[{key:"requires",get:function(){return[sp,pp,"Image"]}},{key:"pluginName",get:function(){return"LinkImageUI"}}]),t}();function Am(e,t){return e&&t.isImageWidget(e)&&e.getChild(0).is("element","a")}n(115);var Pm="code",Rm=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:Pm}),e.model.schema.setAttributeProperties(Pm,{isFormatting:!0,copyOnEnter:!1}),e.conversion.attributeToElement({model:Pm,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),e.commands.add(Pm,new _d(e,Pm)),e.plugins.get(zh).registerAttribute(Pm),Xh(e,Pm,"code","ck-code_selected")}}],[{key:"pluginName",get:function(){return"CodeEditing"}},{key:"requires",get:function(){return[zh]}}]),t}();n(13);var Im=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this,r=this.editor,i=r.t;r.ui.componentFactory.add("code",function(e){var t=r.commands.get("code"),e=new sc(e);return e.set({label:i("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),e.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.listenTo(e,"execute",function(){r.execute("code"),r.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"CodeUI"}}]),t}(),Om=["left","right","center","justify"];function Mm(e){return Om.includes(e)}function Nm(e,t){return"rtl"==t.contentLanguageDirection?"right"===e:"left"===e}function Lm(r){var e=r.map(function(e){return"string"==typeof e?{name:e}:e}).filter(function(e){var t=!!Om.includes(e.name);return t||Object(C.b)("alignment-config-name-not-recognized",{option:e}),t}),t=e.filter(function(e){return!!e.className}).length;if(t&&t<e.length)throw new C.a("alignment-config-classnames-are-missing",{configuredOptions:r});return e.forEach(function(t,e,n){e=n.slice(e+1);if(e.some(function(e){return e.name==t.name}))throw new C.a("alignment-config-name-already-defined",{option:t,configuredOptions:r});if(t.className&&e.some(function(e){return e.className==t.className}))throw new C.a("alignment-config-classname-already-defined",{option:t,configuredOptions:r})}),e}var Dm=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=this.editor.locale,t=So(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.value=this.isEnabled&&t.hasAttribute("alignment")?t.getAttribute("alignment"):"rtl"===e.contentLanguageDirection?"right":"left"}},{key:"execute",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.editor,r=t.locale,t=t.model,o=t.document,a=e.value;t.change(function(e){var i=Array.from(o.selection.getSelectedBlocks()).filter(function(e){return n._canBeAligned(e)}),t=i[0].getAttribute("alignment");Nm(a,r)||t===a||!a?function(e){var t=HS(i);try{for(t.s();!(n=t.n()).done;){var n=n.value;e.removeAttribute("alignment",n)}}catch(e){t.e(e)}finally{t.f()}}(e):function(e,t){var n=HS(i);try{for(n.s();!(r=n.n()).done;){var r=r.value;e.setAttribute("alignment",t,r)}}catch(e){n.e(e)}finally{n.f()}}(e,a)})}},{key:"_canBeAligned",value:function(e){return this.editor.model.schema.checkAttribute(e,"alignment")}}]),t}(),jm=function(){$S(r,Oe);var n=KS(r);function r(e){var t;return qS(this,r),t=n.call(this,e),e.config.define("alignment",{options:US(Om.map(function(e){return{name:e}}))}),t}return WS(r,null,[{key:"pluginName",get:function(){return"AlignmentEditing"}}]),WS(r,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.model.schema,r=Lm(e.config.get("alignment.options")).filter(function(e){return Mm(e.name)&&!Nm(e.name,t)}),i=r.some(function(e){return!!e.className});n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),i?e.conversion.attributeToAttribute(function(e){var t={model:{key:"alignment",values:e.map(function(e){return e.name})},view:{}},n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;t.view[r.name]={key:"class",value:r.className}}}catch(e){n.e(e)}finally{n.f()}return t}(r)):e.conversion.for("downcast").attributeToAttribute(function(e){var t={model:{key:"alignment",values:e.map(function(e){return e.name})},view:{}},n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value.name;t.view[r]={key:"style",value:{"text-align":r}}}}catch(e){n.e(e)}finally{n.f()}return t}(r));var i=function(){var e=[],t=HS(r);try{for(t.s();!(n=t.n()).done;){var n=n.value.name;e.push({view:{key:"style",value:{"text-align":n}},model:{key:"alignment",value:n}})}}catch(e){t.e(e)}finally{t.f()}return e}(),o=HS(i);try{for(o.s();!(a=o.n()).done;){var a=a.value;e.conversion.for("upcast").attributeToAttribute(a)}}catch(e){o.e(e)}finally{o.f()}var i=function(){var e=[],t=HS(r);try{for(t.s();!(n=t.n()).done;){var n=n.value.name;e.push({view:{key:"align",value:n},model:{key:"alignment",value:n}})}}catch(e){t.e(e)}finally{t.f()}return e}(),s=HS(i);try{for(s.s();!(l=s.n()).done;){var l=l.value;e.conversion.for("upcast").attributeToAttribute(l)}}catch(e){s.e(e)}finally{s.f()}e.commands.add("alignment",new Dm(e))}}]),r}(),Fm=new Map([["left",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>'],["right",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>'],["center",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>'],["justify",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>']]),Vm=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var t=this,e=this.editor,n=e.ui.componentFactory,r=e.t,a=Lm(e.config.get("alignment.options"));a.map(function(e){return e.name}).filter(Mm).forEach(function(e){return t._addButton(e)}),n.add("alignment",function(e){var t=Mc(e),i=a.map(function(e){return n.create("alignment:"+e.name)});Nc(t,i),t.buttonView.set({label:r("Text alignment"),tooltip:!0}),t.toolbarView.isVertical=!0,t.toolbarView.ariaLabel=r("Text alignment toolbar"),t.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});var o=Fm.get("rtl"===e.contentLanguageDirection?"right":"left");return t.buttonView.bind("icon").toMany(i,"isOn",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.findIndex(function(e){return e});return r<0?o:i[r].icon}),t.bind("isEnabled").toMany(i,"isEnabled",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return e})}),t})}},{key:"_addButton",value:function(n){var r=this,i=this.editor;i.ui.componentFactory.add("alignment:"+n,function(e){var t=i.commands.get("alignment"),e=new sc(e);return e.set({label:r.localizedOptionTitles[n],icon:Fm.get(n),tooltip:!0,isToggleable:!0}),e.bind("isEnabled").to(t),e.bind("isOn").to(t,"value",function(e){return e===n}),r.listenTo(e,"execute",function(){i.execute("alignment",{value:n}),i.editing.view.focus()}),e})}},{key:"localizedOptionTitles",get:function(){var e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}}],[{key:"pluginName",get:function(){return"AlignmentUI"}}]),t}();function zm(e,t){return"".concat(e,":").concat(t=t||Qt(e))}var Bm=function(){$S(t,Le);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"language")}},{key:"execute",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.languageCode,e=e.textDirection,r=this.editor.model,i=r.document.selection,o=!!t&&zm(t,e);r.change(function(e){if(i.isCollapsed)o?e.setSelectionAttribute("language",o):e.removeSelectionAttribute("language");else{var t=HS(r.schema.getValidRanges(i.getRanges(),"language"));try{for(t.s();!(n=t.n()).done;){var n=n.value;o?e.setAttribute("language",o,n):e.removeAttribute("language",n)}}catch(e){t.e(e)}finally{t.f()}}})}},{key:"_getValueFromFirstAllowedNode",value:function(){var e=this.editor.model,t=e.schema,e=e.document.selection;if(e.isCollapsed)return e.getAttribute("language")||!1;var n,r=HS(e.getRanges());try{for(r.s();!(n=r.n()).done;){var i=HS(n.value.getItems());try{for(i.s();!(o=i.n()).done;){var o=o.value;if(t.checkAttribute(o,"language"))return o.getAttribute("language")||!1}}catch(e){i.e(e)}finally{i.f()}}}catch(e){r.e(e)}finally{r.f()}return!1}}]),t}(),Hm=function(){$S(r,Oe);var n=KS(r);function r(e){var t;return qS(this,r),t=n.call(this,e),e.config.define("language",{textPartLanguage:[{title:"Arabic",languageCode:"ar"},{title:"French",languageCode:"fr"},{title:"Spanish",languageCode:"es"}]}),t}return WS(r,null,[{key:"pluginName",get:function(){return"TextPartLanguageEditing"}}]),WS(r,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"language"}),e.model.schema.setAttributeProperties("language",{copyOnEnter:!0}),this._defineConverters(),e.commands.add("textPartLanguage",new Bm(e))}},{key:"_defineConverters",value:function(){var e=this.editor.conversion;e.for("upcast").elementToAttribute({model:{key:"language",value:function(e){return zm(e.getAttribute("lang"),e.getAttribute("dir"))}},view:{name:"span",attributes:{lang:/[\s\S]+/}}}),e.for("downcast").attributeToElement({model:"language",view:function(e,t){var n=t.writer;if(e){e={languageCode:(t=BS(e.split(":"),2))[0],textDirection:t[1]},t=e.languageCode,e=e.textDirection;return n.createAttributeElement("span",{lang:t,dir:e})}}})}}]),r}();n(118);var Um=function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var n=this,s=this.editor,e=s.t,l=s.config.get("language.textPartLanguage"),c=e("Choose language"),u=e("Remove language"),h=e("Language");s.ui.componentFactory.add("textPartLanguage",function(e){var r,i=new Wt,o={},a=s.commands.get("textPartLanguage"),t=HS(l);try{for(t.s();!(r=t.n()).done;)!function(){var e=r.value,t={type:"button",model:new qc({label:e.title,languageCode:e.languageCode,textDirection:e.textDirection,withText:!0})},n=zm(e.languageCode,e.textDirection);t.model.bind("isOn").to(a,"value",function(e){return e===n}),i.add(t),o[n]=e.title}()}catch(e){t.e(e)}finally{t.f()}i.add({type:"separator"}),i.add({type:"button",model:new qc({label:u,languageCode:!1,withText:!0})});e=Mc(e);return Lc(e,i),e.buttonView.set({isOn:!1,withText:!0,tooltip:h}),e.extendTemplate({attributes:{class:["ck-text-fragment-language-dropdown"]}}),e.bind("isEnabled").to(a,"isEnabled"),e.buttonView.bind("label").to(a,"value",function(e){return o[e]||c}),n.listenTo(e,"execute",function(e){a.execute({languageCode:e.source.languageCode,textDirection:e.source.textDirection}),s.editing.view.focus()}),e})}}],[{key:"pluginName",get:function(){return"TextPartLanguageUI"}}]),t}(),qm=function(){$S(t,Cu);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return t}();qm.builtinPlugins=[function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[jm,Vm]}},{key:"pluginName",get:function(){return"Alignment"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[mh,Mu,Th,_h,Dh,sd]}},{key:"pluginName",get:function(){return"Essentials"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var t=this,n=this.editor.config.get("ckfinder.uploadUrl");n&&(this.editor.plugins.get(ud).createUploadAdapter=function(e){return new gd(e,n,t.editor.t)})}}],[{key:"requires",get:function(){return[ud]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"afterInit",value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}},{key:"_addListAutoformats",value:function(){var e=this,t=this.editor.commands;t.get("bulletedList")&&md(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&md(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&md(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&md(this.editor,this,/^\[\s?x\s?\]\s$/,function(){e.editor.execute("todoList"),e.editor.execute("checkTodoList")})}},{key:"_addBasicStylesAutoformats",value:function(){var e,t,n=this.editor.commands;n.get("bold")&&(e=bd(this.editor,"bold"),yd(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),yd(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)),n.get("italic")&&(t=bd(this.editor,"italic"),yd(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),yd(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)),n.get("code")&&(t=bd(this.editor,"code"),yd(this.editor,this,/(`)([^`]+)(`)$/g,t)),n.get("strikethrough")&&(n=bd(this.editor,"strikethrough"),yd(this.editor,this,/(~~)([^~]+)(~~)$/g,n))}},{key:"_addHeadingAutoformats",value:function(){var n=this,r=this.editor.commands.get("heading");r&&r.modelElements.filter(function(e){return e.match(/^heading[1-6]$/)}).forEach(function(e){var t=new RegExp("^(#{".concat(e[7],"})\\s$"));md(n.editor,n,t,function(){return!(!r.isEnabled||r.value===e)&&void n.editor.execute("heading",{value:e})})})}},{key:"_addBlockQuoteAutoformats",value:function(){this.editor.commands.get("blockQuote")&&md(this.editor,this,/^>\s$/,"blockQuote")}},{key:"_addCodeBlockAutoformats",value:function(){this.editor.commands.get("codeBlock")&&md(this.editor,this,/^```$/,"codeBlock")}},{key:"_addHorizontalLineAutoformats",value:function(){this.editor.commands.get("horizontalLine")&&md(this.editor,this,/^---$/,"horizontalLine")}}],[{key:"pluginName",get:function(){return"Autoformat"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[wd,Cd]}},{key:"pluginName",get:function(){return"Bold"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[xd,Sd]}},{key:"pluginName",get:function(){return"Italic"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[Rd,Id]}},{key:"pluginName",get:function(){return"BlockQuote"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return["Image","Link","CKFinderUploadAdapter",Ld,Od]}}]),t}(),function(){$S(n,en);var e=KS(n);function n(){return qS(this,n),e.apply(this,arguments)}return WS(n,[{key:"init",value:function(){var e,t=this.context.config.get("cloudServices")||{};for(e in t)this[e]=t[e];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}},{key:"registerTokenUrl",value:function(e){if(this._tokens.has(e))return Promise.resolve(this.getTokenFor(e));var t=this.context.plugins.get("CloudServicesCore").createToken(e);return this._tokens.set(e,t),t.init()}},{key:"getTokenFor",value:function(e){e=this._tokens.get(e);if(!e)throw new C.a("cloudservices-token-not-registered",this);return e}},{key:"destroy",value:function(){zS(YS(n.prototype),"destroy",this).call(this);var e,t=HS(this._tokens.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}}}],[{key:"pluginName",get:function(){return"CloudServices"}},{key:"requires",get:function(){return[Pv]}}]),n}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[Dd,"Image","ImageUpload"]}},{key:"pluginName",get:function(){return"EasyImage"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[Wd,$d]}},{key:"pluginName",get:function(){return"Heading"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"isImageWidget",value:nf}],[{key:"requires",get:function(){return[hf,ch,yf]}},{key:"pluginName",get:function(){return"Image"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[Sf,Ef]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"afterInit",value:function(){var e=this.editor,t=e.t;e.plugins.get(Kd).register("image",{ariaLabel:t("Image toolbar"),items:e.config.get("image.toolbar")||[],getRelatedElement:rf})}}],[{key:"requires",get:function(){return[Kd]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),t}(),zf,function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[Bf,qf]}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[sp,pp,mp]}},{key:"pluginName",get:function(){return"Link"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[Up,Wp]}},{key:"pluginName",get:function(){return"List"}}]),t}(),Hd,function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var e=this.editor,t=e.editing.view.document,i=[];i.push(new Xp(t)),i.push(new Gp(t)),e.plugins.get("ClipboardPipeline").on("inputTransformation",function(e,t){var n,r;t.isTransformedWithPasteFromOffice||(n=t.dataTransfer.getData("text/html"),(r=i.find(function(e){return e.isActive(n)}))&&(r.execute(t),t.isTransformedWithPasteFromOffice=!0))},{priority:"high"})}}],[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[Tu]}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[av,cv,uv,mv,gv,hv,ch]}},{key:"pluginName",get:function(){return"Table"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"afterInit",value:function(){var e=this.editor,t=e.t,n=e.plugins.get(Kd),r=e.config.get("table.contentToolbar"),e=e.config.get("table.tableToolbar");r&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:bv}),e&&n.register("table",{ariaLabel:t("Table toolbar"),items:e,getRelatedElement:kv})}}],[{key:"requires",get:function(){return[Kd]}},{key:"pluginName",get:function(){return"TableToolbar"}}]),t}(),function(){$S(r,Oe);var n=KS(r);function r(e){var t;return qS(this,r),t=n.call(this,e),e.config.define("typing",{transformations:{include:Zh}}),t}return WS(r,null,[{key:"pluginName",get:function(){return"TextTransformation"}}]),WS(r,[{key:"init",value:function(){var e=this,t=this.editor.model.document.selection;t.on("change:range",function(){e.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}},{key:"_enableTransformationWatchers",value:function(){var e,t,n=this.editor,u=n.model,i=n.plugins.get("Input"),r=(e=n.config.get("typing.transformations"),t=e.remove||[],function(e){var t=new Set,n=HS(e);try{for(n.s();!(r=n.n()).done;){var r=r.value;if(Gh[r]){var i=HS(Gh[r]);try{for(i.s();!(o=i.n()).done;){var o=o.value;t.add(o)}}catch(e){i.e(e)}finally{i.f()}}else t.add(r)}}catch(e){n.e(e)}finally{n.f()}return Array.from(t)}(e.include.concat(e.extra||[]).filter(o)).filter(o).map(function(e){return Kh[e]||e}).map(function(e){return{from:"string"==typeof(n=e.from)?new RegExp("(".concat((r=bn(r=n))&&$h.test(r)?r.replace(Wh,"\\$&"):r,")$")):n,to:"string"==typeof(t=e.to)?function(){return[t]}:t instanceof Array?function(){return t}:t};var t,n,r})),n=new Fh(n.model,function(e){var t=HS(r);try{for(t.s();!(n=t.n()).done;){var n=n.value;if(n.from.test(e))return{normalizedTransformation:n}}}catch(e){t.e(e)}finally{t.f()}});function o(e){return!t.includes(e)}n.on("matched:data",function(e,t){var n,r,a,s,l,c;i.isInput(t.batch)&&(n=(r=t.normalizedTransformation).from,r=r.to,a=n.exec(t.text),s=r(a.slice(1)),l=t.range,c=a.index,u.enqueueChange(function(e){for(var t=1;t<a.length;t++){var n,r,i=a[t],o=s[t-1];null!=o?(r=l.start.getShiftedBy(c),n=u.createRange(r,r.getShiftedBy(i.length)),r=((r=r).textNode||r.nodeAfter).getAttributes(),u.insertContent(e.createText(o,r),n),c+=o.length):c+=i.length}}))}),n.bind("isEnabled").to(this)}}]),r}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[Rv,Iv]}},{key:"pluginName",get:function(){return"Strikethrough"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[Rm,Im]}},{key:"pluginName",get:function(){return"Code"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[qv,Wv]}},{key:"pluginName",get:function(){return"CodeBlock"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"toMentionAttribute",value:Zv}],[{key:"pluginName",get:function(){return"Mention"}},{key:"requires",get:function(){return[Kv,im]}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var t=this,n=this.editor,r=this.editor.editing.view.document;n.editing.view.addObserver(yu),n.conversion.for("upcast").elementToAttribute({view:{name:"a",key:"data-mention",classes:"mention",attributes:{href:!0}},model:{key:"mention",value:function(e){return n.plugins.get("Mention").toMentionAttribute(e,{link:e.getAttribute("href")})}},converterPriority:"high"}),n.conversion.for("downcast").attributeToElement({model:"mention",view:function(e,t){t=t.writer;if(e&&e.id)return e.id.startsWith(":")?t.createAttributeElement("span",{class:"mention"},{priority:20,id:e.uid}):t.createAttributeElement("a",{class:"mention",href:e.link,target:"_blank"},{priority:20,id:e.uid})},converterPriority:"high"}),this.listenTo(r,"click",function(){var e=r.selection.getFirstPosition().getAncestors().find(function(e){return t.isMentionLink(e)});e&&window.open(e.getAttribute("href"))})}},{key:"isMentionLink",value:function(e){return e.is("attributeElement")&&e.hasClass("mention")&&e.getAttribute("href")}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[cm,sm]}},{key:"pluginName",get:function(){return"RemoveFormat"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"init",value:function(){var i=this.editor,o=i.config.get("image.upload.types").map(function(e){return"image/"+e});this.listenTo(i.editing.view.document,"clipboardInput",function(t,e){var n,r=Array.from(e.dataTransfer.files).filter(function(e){return!!e&&!o.includes(e.type)});e.targetRanges&&(n=e.targetRanges.map(function(e){return i.editing.mapper.toModelRange(e)}),i.model.change(function(e){e.setSelection(n),r.length&&(t.stop(),i.model.enqueueChange("default",function(){var t=i.plugins.get(ud);r.forEach(function(e){e=t.createLoader(e);e&&e.upload().then(function(r){i.model.change(function(e){var t=e.createText(r.text,{linkHref:r.default}),n=i.model.document.selection.getFirstPosition();i.model.insertContent(t,n);n=e.createText(" ");i.model.insertContent(n,e.createPositionAfter(t)),e.setSelection(e.createPositionAfter(n))})})})}))}))})}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[km,bm]}},{key:"pluginName",get:function(){return"TodoList"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[hm,dm,ch]}},{key:"pluginName",get:function(){return"HorizontalLine"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"pluginName",get:function(){return"ImageInsert"}},{key:"requires",get:function(){return[zf,Cm]}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[xm,Tm]}},{key:"pluginName",get:function(){return"LinkImage"}}]),t}(),function(){$S(t,Oe);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,null,[{key:"requires",get:function(){return[Hm,Um]}},{key:"pluginName",get:function(){return"TextPartLanguage"}}]),t}()],qm.defaultConfig={alignment:{options:["left","right"]},toolbar:{items:["heading","|","bold","italic","strikethrough","link","todoList","bulletedList","numberedList","alignment","|","imageInsert","blockQuote","insertTable","codeBlock","removeFormat","horizontalLine","undo","redo","textPartLanguage"]},image:{toolbar:["imageTextAlternative","|","linkImage"]},table:{contentToolbar:["tableColumn","tableRow"]},language:{content:"en",textPartLanguage:[{title:"العربية",languageCode:"ar"},{title:"Deutsch",languageCode:"de"},{title:"English",languageCode:"en"},{title:"Español",languageCode:"es"},{title:"Français",languageCode:"fr"},{title:"日本語",languageCode:"ja"},{title:"한국어",languageCode:"ko"},{title:"Português",languageCode:"pt"},{title:"русский",languageCode:"ru"},{title:"中文",languageCode:"zh"}]}}}],o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=120).default)},"7Km7":function(e){e.exports=JSON.parse('{"100":"💯","1234":"🔢","umbrella_with_rain_drops":"☔","coffee":"☕","aries":"♈","taurus":"♉","sagittarius":"♐","capricorn":"♑","aquarius":"♒","pisces":"♓","anchor":"⚓","white_check_mark":"✅","sparkles":"✨","question":"❓","grey_question":"❔","grey_exclamation":"❕","exclamation":"❗","heavy_exclamation_mark":"❗","heavy_plus_sign":"➕","heavy_minus_sign":"➖","heavy_division_sign":"➗","hash":"#️⃣","keycap_star":"*️⃣","zero":"0️⃣","one":"1️⃣","two":"2️⃣","three":"3️⃣","four":"4️⃣","five":"5️⃣","six":"6️⃣","seven":"7️⃣","eight":"8️⃣","nine":"9️⃣","copyright":"©️","registered":"®️","mahjong":"🀄","black_joker":"🃏","a":"🅰️","b":"🅱️","o2":"🅾️","parking":"🅿️","ab":"🆎","cl":"🆑","cool":"🆒","free":"🆓","id":"🆔","new":"🆕","ng":"🆖","ok":"🆗","sos":"🆘","up":"🆙","vs":"🆚","flag-ac":"🇦🇨","flag-ad":"🇦🇩","flag-ae":"🇦🇪","flag-af":"🇦🇫","flag-ag":"🇦🇬","flag-ai":"🇦🇮","flag-al":"🇦🇱","flag-am":"🇦🇲","flag-ao":"🇦🇴","flag-aq":"🇦🇶","flag-ar":"🇦🇷","flag-as":"🇦🇸","flag-at":"🇦🇹","flag-au":"🇦🇺","flag-aw":"🇦🇼","flag-ax":"🇦🇽","flag-az":"🇦🇿","flag-ba":"🇧🇦","flag-bb":"🇧🇧","flag-bd":"🇧🇩","flag-be":"🇧🇪","flag-bf":"🇧🇫","flag-bg":"🇧🇬","flag-bh":"🇧🇭","flag-bi":"🇧🇮","flag-bj":"🇧🇯","flag-bl":"🇧🇱","flag-bm":"🇧🇲","flag-bn":"🇧🇳","flag-bo":"🇧🇴","flag-bq":"🇧🇶","flag-br":"🇧🇷","flag-bs":"🇧🇸","flag-bt":"🇧🇹","flag-bv":"🇧🇻","flag-bw":"🇧🇼","flag-by":"🇧🇾","flag-bz":"🇧🇿","flag-ca":"🇨🇦","flag-cc":"🇨🇨","flag-cd":"🇨🇩","flag-cf":"🇨🇫","flag-cg":"🇨🇬","flag-ch":"🇨🇭","flag-ci":"🇨🇮","flag-ck":"🇨🇰","flag-cl":"🇨🇱","flag-cm":"🇨🇲","cn":"🇨🇳","flag-cn":"🇨🇳","flag-co":"🇨🇴","flag-cp":"🇨🇵","flag-cr":"🇨🇷","flag-cu":"🇨🇺","flag-cv":"🇨🇻","flag-cw":"🇨🇼","flag-cx":"🇨🇽","flag-cy":"🇨🇾","flag-cz":"🇨🇿","de":"🇩🇪","flag-de":"🇩🇪","flag-dg":"🇩🇬","flag-dj":"🇩🇯","flag-dk":"🇩🇰","flag-dm":"🇩🇲","flag-do":"🇩🇴","flag-dz":"🇩🇿","flag-ea":"🇪🇦","flag-ec":"🇪🇨","flag-ee":"🇪🇪","flag-eg":"🇪🇬","flag-eh":"🇪🇭","flag-er":"🇪🇷","es":"🇪🇸","flag-es":"🇪🇸","flag-et":"🇪🇹","flag-eu":"🇪🇺","flag-fi":"🇫🇮","flag-fj":"🇫🇯","flag-fk":"🇫🇰","flag-fm":"🇫🇲","flag-fo":"🇫🇴","fr":"🇫🇷","flag-fr":"🇫🇷","flag-ga":"🇬🇦","gb":"🇬🇧","uk":"🇬🇧","flag-gb":"🇬🇧","flag-gd":"🇬🇩","flag-ge":"🇬🇪","flag-gf":"🇬🇫","flag-gg":"🇬🇬","flag-gh":"🇬🇭","flag-gi":"🇬🇮","flag-gl":"🇬🇱","flag-gm":"🇬🇲","flag-gn":"🇬🇳","flag-gp":"🇬🇵","flag-gq":"🇬🇶","flag-gr":"🇬🇷","flag-gs":"🇬🇸","flag-gt":"🇬🇹","flag-gu":"🇬🇺","flag-gw":"🇬🇼","flag-gy":"🇬🇾","flag-hk":"🇭🇰","flag-hm":"🇭🇲","flag-hn":"🇭🇳","flag-hr":"🇭🇷","flag-ht":"🇭🇹","flag-hu":"🇭🇺","flag-ic":"🇮🇨","flag-id":"🇮🇩","flag-ie":"🇮🇪","flag-il":"🇮🇱","flag-im":"🇮🇲","flag-in":"🇮🇳","flag-io":"🇮🇴","flag-iq":"🇮🇶","flag-ir":"🇮🇷","flag-is":"🇮🇸","it":"🇮🇹","flag-it":"🇮🇹","flag-je":"🇯🇪","flag-jm":"🇯🇲","flag-jo":"🇯🇴","jp":"🇯🇵","flag-jp":"🇯🇵","flag-ke":"🇰🇪","flag-kg":"🇰🇬","flag-kh":"🇰🇭","flag-ki":"🇰🇮","flag-km":"🇰🇲","flag-kn":"🇰🇳","flag-kp":"🇰🇵","kr":"🇰🇷","flag-kr":"🇰🇷","flag-kw":"🇰🇼","flag-ky":"🇰🇾","flag-kz":"🇰🇿","flag-la":"🇱🇦","flag-lb":"🇱🇧","flag-lc":"🇱🇨","flag-li":"🇱🇮","flag-lk":"🇱🇰","flag-lr":"🇱🇷","flag-ls":"🇱🇸","flag-lt":"🇱🇹","flag-lu":"🇱🇺","flag-lv":"🇱🇻","flag-ly":"🇱🇾","flag-ma":"🇲🇦","flag-mc":"🇲🇨","flag-md":"🇲🇩","flag-me":"🇲🇪","flag-mf":"🇲🇫","flag-mg":"🇲🇬","flag-mh":"🇲🇭","flag-mk":"🇲🇰","flag-ml":"🇲🇱","flag-mm":"🇲🇲","flag-mn":"🇲🇳","flag-mo":"🇲🇴","flag-mp":"🇲🇵","flag-mq":"🇲🇶","flag-mr":"🇲🇷","flag-ms":"🇲🇸","flag-mt":"🇲🇹","flag-mu":"🇲🇺","flag-mv":"🇲🇻","flag-mw":"🇲🇼","flag-mx":"🇲🇽","flag-my":"🇲🇾","flag-mz":"🇲🇿","flag-na":"🇳🇦","flag-nc":"🇳🇨","flag-ne":"🇳🇪","flag-nf":"🇳🇫","flag-ng":"🇳🇬","flag-ni":"🇳🇮","flag-nl":"🇳🇱","flag-no":"🇳🇴","flag-np":"🇳🇵","flag-nr":"🇳🇷","flag-nu":"🇳🇺","flag-nz":"🇳🇿","flag-om":"🇴🇲","flag-pa":"🇵🇦","flag-pe":"🇵🇪","flag-pf":"🇵🇫","flag-pg":"🇵🇬","flag-ph":"🇵🇭","flag-pk":"🇵🇰","flag-pl":"🇵🇱","flag-pm":"🇵🇲","flag-pn":"🇵🇳","flag-pr":"🇵🇷","flag-ps":"🇵🇸","flag-pt":"🇵🇹","flag-pw":"🇵🇼","flag-py":"🇵🇾","flag-qa":"🇶🇦","flag-re":"🇷🇪","flag-ro":"🇷🇴","flag-rs":"🇷🇸","ru":"🇷🇺","flag-ru":"🇷🇺","flag-rw":"🇷🇼","flag-sa":"🇸🇦","flag-sb":"🇸🇧","flag-sc":"🇸🇨","flag-sd":"🇸🇩","flag-se":"🇸🇪","flag-sg":"🇸🇬","flag-sh":"🇸🇭","flag-si":"🇸🇮","flag-sj":"🇸🇯","flag-sk":"🇸🇰","flag-sl":"🇸🇱","flag-sm":"🇸🇲","flag-sn":"🇸🇳","flag-so":"🇸🇴","flag-sr":"🇸🇷","flag-ss":"🇸🇸","flag-st":"🇸🇹","flag-sv":"🇸🇻","flag-sx":"🇸🇽","flag-sy":"🇸🇾","flag-sz":"🇸🇿","flag-ta":"🇹🇦","flag-tc":"🇹🇨","flag-td":"🇹🇩","flag-tf":"🇹🇫","flag-tg":"🇹🇬","flag-th":"🇹🇭","flag-tj":"🇹🇯","flag-tk":"🇹🇰","flag-tl":"🇹🇱","flag-tm":"🇹🇲","flag-tn":"🇹🇳","flag-to":"🇹🇴","flag-tr":"🇹🇷","flag-tt":"🇹🇹","flag-tv":"🇹🇻","flag-tw":"🇹🇼","flag-tz":"🇹🇿","flag-ua":"🇺🇦","flag-ug":"🇺🇬","flag-um":"🇺🇲","flag-un":"🇺🇳","us":"🇺🇸","flag-us":"🇺🇸","flag-uy":"🇺🇾","flag-uz":"🇺🇿","flag-va":"🇻🇦","flag-vc":"🇻🇨","flag-ve":"🇻🇪","flag-vg":"🇻🇬","flag-vi":"🇻🇮","flag-vn":"🇻🇳","flag-vu":"🇻🇺","flag-wf":"🇼🇫","flag-ws":"🇼🇸","flag-xk":"🇽🇰","flag-ye":"🇾🇪","flag-yt":"🇾🇹","flag-za":"🇿🇦","flag-zm":"🇿🇲","flag-zw":"🇿🇼","koko":"🈁","sa":"🈂️","u7121":"🈚","u6307":"🈯","u7981":"🈲","u7a7a":"🈳","u5408":"🈴","u6e80":"🈵","u6709":"🈶","u6708":"🈷️","u7533":"🈸","u5272":"🈹","u55b6":"🈺","ideograph_advantage":"🉐","accept":"🉑","cyclone":"🌀","foggy":"🌁","closed_umbrella":"🌂","night_with_stars":"🌃","sunrise_over_mountains":"🌄","sunrise":"🌅","city_sunset":"🌆","city_sunrise":"🌇","rainbow":"🌈","bridge_at_night":"🌉","ocean":"🌊","volcano":"🌋","milky_way":"🌌","earth_africa":"🌍","earth_americas":"🌎","earth_asia":"🌏","globe_with_meridians":"🌐","new_moon":"🌑","waxing_crescent_moon":"🌒","first_quarter_moon":"🌓","moon":"🌔","waxing_gibbous_moon":"🌔","full_moon":"🌕","waning_gibbous_moon":"🌖","last_quarter_moon":"🌗","waning_crescent_moon":"🌘","crescent_moon":"🌙","new_moon_with_face":"🌚","first_quarter_moon_with_face":"🌛","last_quarter_moon_with_face":"🌜","full_moon_with_face":"🌝","sun_with_face":"🌞","star2":"🌟","stars":"🌠","thermometer":"🌡️","mostly_sunny":"🌤️","sun_small_cloud":"🌤️","barely_sunny":"🌥️","sun_behind_cloud":"🌥️","partly_sunny_rain":"🌦️","sun_behind_rain_cloud":"🌦️","rain_cloud":"🌧️","snow_cloud":"🌨️","lightning":"🌩️","lightning_cloud":"🌩️","tornado":"🌪️","tornado_cloud":"🌪️","fog":"🌫️","wind_blowing_face":"🌬️","hotdog":"🌭","taco":"🌮","burrito":"🌯","chestnut":"🌰","seedling":"🌱","evergreen_tree":"🌲","deciduous_tree":"🌳","palm_tree":"🌴","cactus":"🌵","hot_pepper":"🌶️","tulip":"🌷","cherry_blossom":"🌸","rose":"🌹","hibiscus":"🌺","sunflower":"🌻","blossom":"🌼","corn":"🌽","ear_of_rice":"🌾","herb":"🌿","four_leaf_clover":"🍀","maple_leaf":"🍁","fallen_leaf":"🍂","leaves":"🍃","mushroom":"🍄","tomato":"🍅","eggplant":"🍆","grapes":"🍇","melon":"🍈","watermelon":"🍉","tangerine":"🍊","lemon":"🍋","banana":"🍌","pineapple":"🍍","apple":"🍎","green_apple":"🍏","pear":"🍐","peach":"🍑","cherries":"🍒","strawberry":"🍓","hamburger":"🍔","pizza":"🍕","meat_on_bone":"🍖","poultry_leg":"🍗","rice_cracker":"🍘","rice_ball":"🍙","rice":"🍚","curry":"🍛","ramen":"🍜","spaghetti":"🍝","bread":"🍞","fries":"🍟","sweet_potato":"🍠","dango":"🍡","oden":"🍢","sushi":"🍣","fried_shrimp":"🍤","fish_cake":"🍥","icecream":"🍦","shaved_ice":"🍧","ice_cream":"🍨","doughnut":"🍩","cookie":"🍪","chocolate_bar":"🍫","candy":"🍬","lollipop":"🍭","custard":"🍮","honey_pot":"🍯","cake":"🍰","bento":"🍱","stew":"🍲","fried_egg":"🍳","cooking":"🍳","fork_and_knife":"🍴","tea":"🍵","sake":"🍶","wine_glass":"🍷","cocktail":"🍸","tropical_drink":"🍹","beer":"🍺","beers":"🍻","baby_bottle":"🍼","knife_fork_plate":"🍽️","champagne":"🍾","popcorn":"🍿","ribbon":"🎀","gift":"🎁","birthday":"🎂","jack_o_lantern":"🎃","christmas_tree":"🎄","santa":"🎅","fireworks":"🎆","sparkler":"🎇","balloon":"🎈","tada":"🎉","confetti_ball":"🎊","tanabata_tree":"🎋","crossed_flags":"🎌","bamboo":"🎍","dolls":"🎎","flags":"🎏","wind_chime":"🎐","rice_scene":"🎑","school_satchel":"🎒","mortar_board":"🎓","medal":"🎖️","reminder_ribbon":"🎗️","studio_microphone":"🎙️","level_slider":"🎚️","control_knobs":"🎛️","film_frames":"🎞️","admission_tickets":"🎟️","carousel_horse":"🎠","ferris_wheel":"🎡","roller_coaster":"🎢","fishing_pole_and_fish":"🎣","microphone":"🎤","movie_camera":"🎥","cinema":"🎦","headphones":"🎧","art":"🎨","tophat":"🎩","circus_tent":"🎪","ticket":"🎫","clapper":"🎬","performing_arts":"🎭","video_game":"🎮","dart":"🎯","slot_machine":"🎰","8ball":"🎱","game_die":"🎲","bowling":"🎳","flower_playing_cards":"🎴","musical_note":"🎵","notes":"🎶","saxophone":"🎷","guitar":"🎸","musical_keyboard":"🎹","trumpet":"🎺","violin":"🎻","musical_score":"🎼","running_shirt_with_sash":"🎽","tennis":"🎾","ski":"🎿","basketball":"🏀","checkered_flag":"🏁","snowboarder":"🏂","woman-running":"🏃‍♀️","man-running":"🏃‍♂️","runner":"🏃‍♂️","running":"🏃‍♂️","woman-surfing":"🏄‍♀️","man-surfing":"🏄‍♂️","surfer":"🏄‍♂️","sports_medal":"🏅","trophy":"🏆","horse_racing":"🏇","football":"🏈","rugby_football":"🏉","woman-swimming":"🏊‍♀️","man-swimming":"🏊‍♂️","swimmer":"🏊‍♂️","woman-lifting-weights":"🏋️‍♀️","man-lifting-weights":"🏋️‍♂️","weight_lifter":"🏋️‍♂️","woman-golfing":"🏌️‍♀️","man-golfing":"🏌️‍♂️","golfer":"🏌️‍♂️","racing_motorcycle":"🏍️","racing_car":"🏎️","cricket_bat_and_ball":"🏏","volleyball":"🏐","field_hockey_stick_and_ball":"🏑","ice_hockey_stick_and_puck":"🏒","table_tennis_paddle_and_ball":"🏓","snow_capped_mountain":"🏔️","camping":"🏕️","beach_with_umbrella":"🏖️","building_construction":"🏗️","house_buildings":"🏘️","cityscape":"🏙️","derelict_house_building":"🏚️","classical_building":"🏛️","desert":"🏜️","desert_island":"🏝️","national_park":"🏞️","stadium":"🏟️","house":"🏠","house_with_garden":"🏡","office":"🏢","post_office":"🏣","european_post_office":"🏤","hospital":"🏥","bank":"🏦","atm":"🏧","hotel":"🏨","love_hotel":"🏩","convenience_store":"🏪","school":"🏫","department_store":"🏬","factory":"🏭","izakaya_lantern":"🏮","lantern":"🏮","japanese_castle":"🏯","european_castle":"🏰","rainbow-flag":"🏳️‍🌈","waving_white_flag":"🏳️","flag-england":"🏴󠁧󠁢󠁥󠁮󠁧󠁿","flag-scotland":"🏴󠁧󠁢󠁳󠁣󠁴󠁿","flag-wales":"🏴󠁧󠁢󠁷󠁬󠁳󠁿","waving_black_flag":"🏴","rosette":"🏵️","label":"🏷️","badminton_racquet_and_shuttlecock":"🏸","bow_and_arrow":"🏹","amphora":"🏺","skin-tone-2":"🏻","skin-tone-3":"🏼","skin-tone-4":"🏽","skin-tone-5":"🏾","skin-tone-6":"🏿","rat":"🐀","mouse2":"🐁","ox":"🐂","water_buffalo":"🐃","cow2":"🐄","tiger2":"🐅","leopard":"🐆","rabbit2":"🐇","cat2":"🐈","dragon":"🐉","crocodile":"🐊","whale2":"🐋","snail":"🐌","snake":"🐍","racehorse":"🐎","ram":"🐏","goat":"🐐","sheep":"🐑","monkey":"🐒","rooster":"🐓","chicken":"🐔","dog2":"🐕","pig2":"🐖","boar":"🐗","elephant":"🐘","octopus":"🐙","shell":"🐚","bug":"🐛","ant":"🐜","bee":"🐝","honeybee":"🐝","beetle":"🐞","fish":"🐟","tropical_fish":"🐠","blowfish":"🐡","turtle":"🐢","hatching_chick":"🐣","baby_chick":"🐤","hatched_chick":"🐥","bird":"🐦","penguin":"🐧","koala":"🐨","poodle":"🐩","dromedary_camel":"🐪","camel":"🐫","dolphin":"🐬","flipper":"🐬","mouse":"🐭","cow":"🐮","tiger":"🐯","rabbit":"🐰","cat":"🐱","dragon_face":"🐲","whale":"🐳","horse":"🐴","monkey_face":"🐵","dog":"🐶","pig":"🐷","frog":"🐸","hamster":"🐹","wolf":"🐺","bear":"🐻","panda_face":"🐼","pig_nose":"🐽","feet":"🐾","paw_prints":"🐾","chipmunk":"🐿️","eyes":"👀","eye-in-speech-bubble":"👁️‍🗨️","eye":"👁️","ear":"👂","nose":"👃","lips":"👄","tongue":"👅","point_up_2":"👆","point_down":"👇","point_left":"👈","point_right":"👉","facepunch":"👊","punch":"👊","wave":"👋","ok_hand":"👌","+1":"👍","thumbsup":"👍","-1":"👎","thumbsdown":"👎","clap":"👏","open_hands":"👐","crown":"👑","womans_hat":"👒","eyeglasses":"👓","necktie":"👔","shirt":"👕","tshirt":"👕","jeans":"👖","dress":"👗","kimono":"👘","bikini":"👙","womans_clothes":"👚","purse":"👛","handbag":"👜","pouch":"👝","mans_shoe":"👞","shoe":"👞","athletic_shoe":"👟","high_heel":"👠","sandal":"👡","boot":"👢","footprints":"👣","bust_in_silhouette":"👤","busts_in_silhouette":"👥","boy":"👦","girl":"👧","male-farmer":"👨‍🌾","male-cook":"👨‍🍳","male-student":"👨‍🎓","male-singer":"👨‍🎤","male-artist":"👨‍🎨","male-teacher":"👨‍🏫","male-factory-worker":"👨‍🏭","man-boy-boy":"👨‍👦‍👦","man-boy":"👨‍👦","man-girl-boy":"👨‍👧‍👦","man-girl-girl":"👨‍👧‍👧","man-girl":"👨‍👧","man-man-boy":"👨‍👨‍👦","man-man-boy-boy":"👨‍👨‍👦‍👦","man-man-girl":"👨‍👨‍👧","man-man-girl-boy":"👨‍👨‍👧‍👦","man-man-girl-girl":"👨‍👨‍👧‍👧","man-woman-boy":"👨‍👩‍👦","family":"👨‍👩‍👦","man-woman-boy-boy":"👨‍👩‍👦‍👦","man-woman-girl":"👨‍👩‍👧","man-woman-girl-boy":"👨‍👩‍👧‍👦","man-woman-girl-girl":"👨‍👩‍👧‍👧","male-technologist":"👨‍💻","male-office-worker":"👨‍💼","male-mechanic":"👨‍🔧","male-scientist":"👨‍🔬","male-astronaut":"👨‍🚀","male-firefighter":"👨‍🚒","male-doctor":"👨‍⚕️","male-judge":"👨‍⚖️","male-pilot":"👨‍✈️","man-heart-man":"👨‍❤️‍👨","man-kiss-man":"👨‍❤️‍💋‍👨","man":"👨","female-farmer":"👩‍🌾","female-cook":"👩‍🍳","female-student":"👩‍🎓","female-singer":"👩‍🎤","female-artist":"👩‍🎨","female-teacher":"👩‍🏫","female-factory-worker":"👩‍🏭","woman-boy-boy":"👩‍👦‍👦","woman-boy":"👩‍👦","woman-girl-boy":"👩‍👧‍👦","woman-girl-girl":"👩‍👧‍👧","woman-girl":"👩‍👧","woman-woman-boy":"👩‍👩‍👦","woman-woman-boy-boy":"👩‍👩‍👦‍👦","woman-woman-girl":"👩‍👩‍👧","woman-woman-girl-boy":"👩‍👩‍👧‍👦","woman-woman-girl-girl":"👩‍👩‍👧‍👧","female-technologist":"👩‍💻","female-office-worker":"👩‍💼","female-mechanic":"👩‍🔧","female-scientist":"👩‍🔬","female-astronaut":"👩‍🚀","female-firefighter":"👩‍🚒","female-doctor":"👩‍⚕️","female-judge":"👩‍⚖️","female-pilot":"👩‍✈️","woman-heart-man":"👩‍❤️‍👨","couple_with_heart":"👩‍❤️‍👨","woman-heart-woman":"👩‍❤️‍👩","woman-kiss-man":"👩‍❤️‍💋‍👨","couplekiss":"👩‍❤️‍💋‍👨","woman-kiss-woman":"👩‍❤️‍💋‍👩","woman":"👩","couple":"👫","man_and_woman_holding_hands":"👫","two_men_holding_hands":"👬","two_women_holding_hands":"👭","female-police-officer":"👮‍♀️","male-police-officer":"👮‍♂️","cop":"👮‍♂️","woman-with-bunny-ears-partying":"👯‍♀️","dancers":"👯‍♀️","man-with-bunny-ears-partying":"👯‍♂️","bride_with_veil":"👰","blond-haired-woman":"👱‍♀️","blond-haired-man":"👱‍♂️","person_with_blond_hair":"👱‍♂️","man_with_gua_pi_mao":"👲","woman-wearing-turban":"👳‍♀️","man-wearing-turban":"👳‍♂️","man_with_turban":"👳‍♂️","older_man":"👴","older_woman":"👵","baby":"👶","female-construction-worker":"👷‍♀️","male-construction-worker":"👷‍♂️","construction_worker":"👷‍♂️","princess":"👸","japanese_ogre":"👹","japanese_goblin":"👺","ghost":"👻","angel":"👼","alien":"👽","space_invader":"👾","imp":"👿","skull":"💀","woman-tipping-hand":"💁‍♀️","information_desk_person":"💁‍♀️","man-tipping-hand":"💁‍♂️","female-guard":"💂‍♀️","male-guard":"💂‍♂️","guardsman":"💂‍♂️","dancer":"💃","lipstick":"💄","nail_care":"💅","woman-getting-massage":"💆‍♀️","massage":"💆‍♀️","man-getting-massage":"💆‍♂️","woman-getting-haircut":"💇‍♀️","haircut":"💇‍♀️","man-getting-haircut":"💇‍♂️","barber":"💈","syringe":"💉","pill":"💊","kiss":"💋","love_letter":"💌","ring":"💍","gem":"💎","bouquet":"💐","wedding":"💒","heartbeat":"💓","broken_heart":"💔","two_hearts":"💕","sparkling_heart":"💖","heartpulse":"💗","cupid":"💘","blue_heart":"💙","green_heart":"💚","yellow_heart":"💛","purple_heart":"💜","gift_heart":"💝","revolving_hearts":"💞","heart_decoration":"💟","diamond_shape_with_a_dot_inside":"💠","bulb":"💡","anger":"💢","bomb":"💣","zzz":"💤","boom":"💥","collision":"💥","sweat_drops":"💦","droplet":"💧","dash":"💨","hankey":"💩","poop":"💩","shit":"💩","muscle":"💪","dizzy":"💫","speech_balloon":"💬","thought_balloon":"💭","white_flower":"💮","moneybag":"💰","currency_exchange":"💱","heavy_dollar_sign":"💲","credit_card":"💳","yen":"💴","dollar":"💵","euro":"💶","pound":"💷","money_with_wings":"💸","chart":"💹","seat":"💺","computer":"💻","briefcase":"💼","minidisc":"💽","floppy_disk":"💾","cd":"💿","dvd":"📀","file_folder":"📁","open_file_folder":"📂","page_with_curl":"📃","page_facing_up":"📄","date":"📅","calendar":"📆","card_index":"📇","chart_with_upwards_trend":"📈","chart_with_downwards_trend":"📉","bar_chart":"📊","clipboard":"📋","pushpin":"📌","round_pushpin":"📍","paperclip":"📎","straight_ruler":"📏","triangular_ruler":"📐","bookmark_tabs":"📑","ledger":"📒","notebook":"📓","notebook_with_decorative_cover":"📔","closed_book":"📕","book":"📖","open_book":"📖","green_book":"📗","blue_book":"📘","orange_book":"📙","books":"📚","name_badge":"📛","scroll":"📜","memo":"📝","pencil":"📝","telephone_receiver":"📞","pager":"📟","fax":"📠","satellite_antenna":"📡","loudspeaker":"📢","mega":"📣","outbox_tray":"📤","inbox_tray":"📥","package":"📦","e-mail":"📧","email":"📧","incoming_envelope":"📨","envelope_with_arrow":"📩","mailbox_closed":"📪","mailbox":"📫","mailbox_with_mail":"📬","mailbox_with_no_mail":"📭","postbox":"📮","postal_horn":"📯","newspaper":"📰","iphone":"📱","calling":"📲","vibration_mode":"📳","mobile_phone_off":"📴","no_mobile_phones":"📵","signal_strength":"📶","camera":"📷","camera_with_flash":"📸","video_camera":"📹","tv":"📺","radio":"📻","vhs":"📼","film_projector":"📽️","prayer_beads":"📿","twisted_rightwards_arrows":"🔀","repeat":"🔁","repeat_one":"🔂","arrows_clockwise":"🔃","arrows_counterclockwise":"🔄","low_brightness":"🔅","high_brightness":"🔆","mute":"🔇","speaker":"🔈","sound":"🔉","loud_sound":"🔊","battery":"🔋","electric_plug":"🔌","mag":"🔍","mag_right":"🔎","lock_with_ink_pen":"🔏","closed_lock_with_key":"🔐","key":"🔑","lock":"🔒","unlock":"🔓","bell":"🔔","no_bell":"🔕","bookmark":"🔖","link":"🔗","radio_button":"🔘","back":"🔙","end":"🔚","on":"🔛","soon":"🔜","top":"🔝","underage":"🔞","keycap_ten":"🔟","capital_abcd":"🔠","abcd":"🔡","symbols":"🔣","abc":"🔤","fire":"🔥","flashlight":"🔦","wrench":"🔧","hammer":"🔨","nut_and_bolt":"🔩","hocho":"🔪","knife":"🔪","gun":"🔫","microscope":"🔬","telescope":"🔭","crystal_ball":"🔮","six_pointed_star":"🔯","beginner":"🔰","trident":"🔱","black_square_button":"🔲","white_square_button":"🔳","red_circle":"🔴","large_blue_circle":"🔵","large_orange_diamond":"🔶","large_blue_diamond":"🔷","small_orange_diamond":"🔸","small_blue_diamond":"🔹","small_red_triangle":"🔺","small_red_triangle_down":"🔻","arrow_up_small":"🔼","arrow_down_small":"🔽","om_symbol":"🕉️","dove_of_peace":"🕊️","kaaba":"🕋","mosque":"🕌","synagogue":"🕍","menorah_with_nine_branches":"🕎","clock1":"🕐","clock2":"🕑","clock3":"🕒","clock4":"🕓","clock5":"🕔","clock6":"🕕","clock7":"🕖","clock8":"🕗","clock9":"🕘","clock10":"🕙","clock11":"🕚","clock12":"🕛","clock130":"🕜","clock230":"🕝","clock330":"🕞","clock430":"🕟","clock530":"🕠","clock630":"🕡","clock730":"🕢","clock830":"🕣","clock930":"🕤","clock1030":"🕥","clock1130":"🕦","clock1230":"🕧","candle":"🕯️","mantelpiece_clock":"🕰️","hole":"🕳️","man_in_business_suit_levitating":"🕴️","female-detective":"🕵️‍♀️","male-detective":"🕵️‍♂️","sleuth_or_spy":"🕵️‍♂️","dark_sunglasses":"🕶️","spider":"🕷️","spider_web":"🕸️","joystick":"🕹️","man_dancing":"🕺","linked_paperclips":"🖇️","lower_left_ballpoint_pen":"🖊️","lower_left_fountain_pen":"🖋️","lower_left_paintbrush":"🖌️","lower_left_crayon":"🖍️","raised_hand_with_fingers_splayed":"🖐️","middle_finger":"🖕","reversed_hand_with_middle_finger_extended":"🖕","spock-hand":"🖖","black_heart":"🖤","desktop_computer":"🖥️","printer":"🖨️","three_button_mouse":"🖱️","trackball":"🖲️","frame_with_picture":"🖼️","card_index_dividers":"🗂️","card_file_box":"🗃️","file_cabinet":"🗄️","wastebasket":"🗑️","spiral_note_pad":"🗒️","spiral_calendar_pad":"🗓️","compression":"🗜️","old_key":"🗝️","rolled_up_newspaper":"🗞️","dagger_knife":"🗡️","speaking_head_in_silhouette":"🗣️","left_speech_bubble":"🗨️","right_anger_bubble":"🗯️","ballot_box_with_ballot":"🗳️","world_map":"🗺️","mount_fuji":"🗻","tokyo_tower":"🗼","statue_of_liberty":"🗽","japan":"🗾","moyai":"🗿","grinning":"😀","grin":"😁","joy":"😂","smiley":"😃","smile":"😄","sweat_smile":"😅","laughing":"😆","satisfied":"😆","innocent":"😇","smiling_imp":"😈","wink":"😉","blush":"😊","yum":"😋","relieved":"😌","heart_eyes":"😍","sunglasses":"😎","smirk":"😏","neutral_face":"😐","expressionless":"😑","unamused":"😒","sweat":"😓","pensive":"😔","confused":"😕","confounded":"😖","kissing":"😗","kissing_heart":"😘","kissing_smiling_eyes":"😙","kissing_closed_eyes":"😚","stuck_out_tongue":"😛","stuck_out_tongue_winking_eye":"😜","stuck_out_tongue_closed_eyes":"😝","disappointed":"😞","worried":"😟","angry":"😠","rage":"😡","cry":"😢","persevere":"😣","triumph":"😤","disappointed_relieved":"😥","frowning":"😦","anguished":"😧","fearful":"😨","weary":"😩","sleepy":"😪","tired_face":"😫","grimacing":"😬","sob":"😭","open_mouth":"😮","hushed":"😯","cold_sweat":"😰","scream":"😱","astonished":"😲","flushed":"😳","sleeping":"😴","dizzy_face":"😵","no_mouth":"😶","mask":"😷","smile_cat":"😸","joy_cat":"😹","smiley_cat":"😺","heart_eyes_cat":"😻","smirk_cat":"😼","kissing_cat":"😽","pouting_cat":"😾","crying_cat_face":"😿","scream_cat":"🙀","slightly_frowning_face":"🙁","slightly_smiling_face":"🙂","upside_down_face":"🙃","face_with_rolling_eyes":"🙄","woman-gesturing-no":"🙅‍♀️","no_good":"🙅‍♀️","man-gesturing-no":"🙅‍♂️","woman-gesturing-ok":"🙆‍♀️","ok_woman":"🙆‍♀️","man-gesturing-ok":"🙆‍♂️","woman-bowing":"🙇‍♀️","man-bowing":"🙇‍♂️","bow":"🙇‍♂️","see_no_evil":"🙈","hear_no_evil":"🙉","speak_no_evil":"🙊","woman-raising-hand":"🙋‍♀️","raising_hand":"🙋‍♀️","man-raising-hand":"🙋‍♂️","raised_hands":"🙌","woman-frowning":"🙍‍♀️","person_frowning":"🙍‍♀️","man-frowning":"🙍‍♂️","woman-pouting":"🙎‍♀️","person_with_pouting_face":"🙎‍♀️","man-pouting":"🙎‍♂️","pray":"🙏","rocket":"🚀","helicopter":"🚁","steam_locomotive":"🚂","railway_car":"🚃","bullettrain_side":"🚄","bullettrain_front":"🚅","train2":"🚆","metro":"🚇","light_rail":"🚈","station":"🚉","tram":"🚊","train":"🚋","bus":"🚌","oncoming_bus":"🚍","trolleybus":"🚎","busstop":"🚏","minibus":"🚐","ambulance":"🚑","fire_engine":"🚒","police_car":"🚓","oncoming_police_car":"🚔","taxi":"🚕","oncoming_taxi":"🚖","car":"🚗","red_car":"🚗","oncoming_automobile":"🚘","blue_car":"🚙","truck":"🚚","articulated_lorry":"🚛","tractor":"🚜","monorail":"🚝","mountain_railway":"🚞","suspension_railway":"🚟","mountain_cableway":"🚠","aerial_tramway":"🚡","ship":"🚢","woman-rowing-boat":"🚣‍♀️","man-rowing-boat":"🚣‍♂️","rowboat":"🚣‍♂️","speedboat":"🚤","traffic_light":"🚥","vertical_traffic_light":"🚦","construction":"🚧","rotating_light":"🚨","triangular_flag_on_post":"🚩","door":"🚪","no_entry_sign":"🚫","smoking":"🚬","no_smoking":"🚭","put_litter_in_its_place":"🚮","do_not_litter":"🚯","potable_water":"🚰","non-potable_water":"🚱","bike":"🚲","no_bicycles":"🚳","woman-biking":"🚴‍♀️","man-biking":"🚴‍♂️","bicyclist":"🚴‍♂️","woman-mountain-biking":"🚵‍♀️","man-mountain-biking":"🚵‍♂️","mountain_bicyclist":"🚵‍♂️","woman-walking":"🚶‍♀️","man-walking":"🚶‍♂️","walking":"🚶‍♂️","no_pedestrians":"🚷","children_crossing":"🚸","mens":"🚹","womens":"🚺","restroom":"🚻","baby_symbol":"🚼","toilet":"🚽","wc":"🚾","shower":"🚿","bath":"🛀","bathtub":"🛁","passport_control":"🛂","customs":"🛃","baggage_claim":"🛄","left_luggage":"🛅","couch_and_lamp":"🛋️","sleeping_accommodation":"🛌","shopping_bags":"🛍️","bellhop_bell":"🛎️","bed":"🛏️","place_of_worship":"🛐","octagonal_sign":"🛑","shopping_trolley":"🛒","hammer_and_wrench":"🛠️","shield":"🛡️","oil_drum":"🛢️","motorway":"🛣️","railway_track":"🛤️","motor_boat":"🛥️","small_airplane":"🛩️","airplane_departure":"🛫","airplane_arriving":"🛬","satellite":"🛰️","passenger_ship":"🛳️","scooter":"🛴","motor_scooter":"🛵","canoe":"🛶","sled":"🛷","flying_saucer":"🛸","zipper_mouth_face":"🤐","money_mouth_face":"🤑","face_with_thermometer":"🤒","nerd_face":"🤓","thinking_face":"🤔","face_with_head_bandage":"🤕","robot_face":"🤖","hugging_face":"🤗","the_horns":"🤘","sign_of_the_horns":"🤘","call_me_hand":"🤙","raised_back_of_hand":"🤚","left-facing_fist":"🤛","right-facing_fist":"🤜","handshake":"🤝","crossed_fingers":"🤞","hand_with_index_and_middle_fingers_crossed":"🤞","i_love_you_hand_sign":"🤟","face_with_cowboy_hat":"🤠","clown_face":"🤡","nauseated_face":"🤢","rolling_on_the_floor_laughing":"🤣","drooling_face":"🤤","lying_face":"🤥","woman-facepalming":"🤦‍♀️","man-facepalming":"🤦‍♂️","face_palm":"🤦","sneezing_face":"🤧","face_with_raised_eyebrow":"🤨","face_with_one_eyebrow_raised":"🤨","star-struck":"🤩","grinning_face_with_star_eyes":"🤩","zany_face":"🤪","grinning_face_with_one_large_and_one_small_eye":"🤪","shushing_face":"🤫","face_with_finger_covering_closed_lips":"🤫","face_with_symbols_on_mouth":"🤬","serious_face_with_symbols_covering_mouth":"🤬","face_with_hand_over_mouth":"🤭","smiling_face_with_smiling_eyes_and_hand_covering_mouth":"🤭","face_vomiting":"🤮","face_with_open_mouth_vomiting":"🤮","exploding_head":"🤯","shocked_face_with_exploding_head":"🤯","pregnant_woman":"🤰","breast-feeding":"🤱","palms_up_together":"🤲","selfie":"🤳","prince":"🤴","man_in_tuxedo":"🤵","mrs_claus":"🤶","mother_christmas":"🤶","woman-shrugging":"🤷‍♀️","man-shrugging":"🤷‍♂️","shrug":"🤷","woman-cartwheeling":"🤸‍♀️","man-cartwheeling":"🤸‍♂️","person_doing_cartwheel":"🤸","woman-juggling":"🤹‍♀️","man-juggling":"🤹‍♂️","juggling":"🤹","fencer":"🤺","woman-wrestling":"🤼‍♀️","man-wrestling":"🤼‍♂️","wrestlers":"🤼","woman-playing-water-polo":"🤽‍♀️","man-playing-water-polo":"🤽‍♂️","water_polo":"🤽","woman-playing-handball":"🤾‍♀️","man-playing-handball":"🤾‍♂️","handball":"🤾","wilted_flower":"🥀","drum_with_drumsticks":"🥁","clinking_glasses":"🥂","tumbler_glass":"🥃","spoon":"🥄","goal_net":"🥅","first_place_medal":"🥇","second_place_medal":"🥈","third_place_medal":"🥉","boxing_glove":"🥊","martial_arts_uniform":"🥋","curling_stone":"🥌","croissant":"🥐","avocado":"🥑","cucumber":"🥒","bacon":"🥓","potato":"🥔","carrot":"🥕","baguette_bread":"🥖","green_salad":"🥗","shallow_pan_of_food":"🥘","stuffed_flatbread":"🥙","egg":"🥚","glass_of_milk":"🥛","peanuts":"🥜","kiwifruit":"🥝","pancakes":"🥞","dumpling":"🥟","fortune_cookie":"🥠","takeout_box":"🥡","chopsticks":"🥢","bowl_with_spoon":"🥣","cup_with_straw":"🥤","coconut":"🥥","broccoli":"🥦","pie":"🥧","pretzel":"🥨","cut_of_meat":"🥩","sandwich":"🥪","canned_food":"🥫","crab":"🦀","lion_face":"🦁","scorpion":"🦂","turkey":"🦃","unicorn_face":"🦄","eagle":"🦅","duck":"🦆","bat":"🦇","shark":"🦈","owl":"🦉","fox_face":"🦊","butterfly":"🦋","deer":"🦌","gorilla":"🦍","lizard":"🦎","rhinoceros":"🦏","shrimp":"🦐","squid":"🦑","giraffe_face":"🦒","zebra_face":"🦓","hedgehog":"🦔","sauropod":"🦕","t-rex":"🦖","cricket":"🦗","cheese_wedge":"🧀","face_with_monocle":"🧐","adult":"🧑","child":"🧒","older_adult":"🧓","bearded_person":"🧔","person_with_headscarf":"🧕","woman_in_steamy_room":"🧖‍♀️","man_in_steamy_room":"🧖‍♂️","person_in_steamy_room":"🧖‍♂️","woman_climbing":"🧗‍♀️","person_climbing":"🧗‍♀️","man_climbing":"🧗‍♂️","woman_in_lotus_position":"🧘‍♀️","person_in_lotus_position":"🧘‍♀️","man_in_lotus_position":"🧘‍♂️","female_mage":"🧙‍♀️","mage":"🧙‍♀️","male_mage":"🧙‍♂️","female_fairy":"🧚‍♀️","fairy":"🧚‍♀️","male_fairy":"🧚‍♂️","female_vampire":"🧛‍♀️","vampire":"🧛‍♀️","male_vampire":"🧛‍♂️","mermaid":"🧜‍♀️","merman":"🧜‍♂️","merperson":"🧜‍♂️","female_elf":"🧝‍♀️","male_elf":"🧝‍♂️","elf":"🧝‍♂️","female_genie":"🧞‍♀️","male_genie":"🧞‍♂️","genie":"🧞‍♂️","female_zombie":"🧟‍♀️","male_zombie":"🧟‍♂️","zombie":"🧟‍♂️","brain":"🧠","orange_heart":"🧡","billed_cap":"🧢","scarf":"🧣","gloves":"🧤","coat":"🧥","socks":"🧦","bangbang":"‼️","interrobang":"⁉️","tm":"™️","information_source":"ℹ️","left_right_arrow":"↔️","arrow_up_down":"↕️","arrow_upper_left":"↖️","arrow_upper_right":"↗️","arrow_lower_right":"↘️","arrow_lower_left":"↙️","leftwards_arrow_with_hook":"↩️","arrow_right_hook":"↪️","watch":"⌚","hourglass":"⌛","keyboard":"⌨️","eject":"⏏️","fast_forward":"⏩","rewind":"⏪","arrow_double_up":"⏫","arrow_double_down":"⏬","black_right_pointing_double_triangle_with_vertical_bar":"⏭️","black_left_pointing_double_triangle_with_vertical_bar":"⏮️","black_right_pointing_triangle_with_double_vertical_bar":"⏯️","alarm_clock":"⏰","stopwatch":"⏱️","timer_clock":"⏲️","hourglass_flowing_sand":"⏳","double_vertical_bar":"⏸️","black_square_for_stop":"⏹️","black_circle_for_record":"⏺️","m":"Ⓜ️","black_small_square":"▪️","white_small_square":"▫️","arrow_forward":"▶️","arrow_backward":"◀️","white_medium_square":"◻️","black_medium_square":"◼️","white_medium_small_square":"◽","black_medium_small_square":"◾","sunny":"☀️","cloud":"☁️","umbrella":"☂️","snowman":"☃️","comet":"☄️","phone":"☎️","telephone":"☎️","ballot_box_with_check":"☑️","shamrock":"☘️","point_up":"☝️","skull_and_crossbones":"☠️","radioactive_sign":"☢️","biohazard_sign":"☣️","orthodox_cross":"☦️","star_and_crescent":"☪️","peace_symbol":"☮️","yin_yang":"☯️","wheel_of_dharma":"☸️","white_frowning_face":"☹️","relaxed":"☺️","female_sign":"♀️","male_sign":"♂️","gemini":"♊","cancer":"♋","leo":"♌","virgo":"♍","libra":"♎","scorpius":"♏","spades":"♠️","clubs":"♣️","hearts":"♥️","diamonds":"♦️","hotsprings":"♨️","recycle":"♻️","wheelchair":"♿","hammer_and_pick":"⚒️","crossed_swords":"⚔️","medical_symbol":"⚕️","staff_of_aesculapius":"⚕️","scales":"⚖️","alembic":"⚗️","gear":"⚙️","atom_symbol":"⚛️","fleur_de_lis":"⚜️","warning":"⚠️","zap":"⚡","white_circle":"⚪","black_circle":"⚫","coffin":"⚰️","funeral_urn":"⚱️","soccer":"⚽","baseball":"⚾","snowman_without_snow":"⛄","partly_sunny":"⛅","thunder_cloud_and_rain":"⛈️","ophiuchus":"⛎","pick":"⛏️","helmet_with_white_cross":"⛑️","chains":"⛓️","no_entry":"⛔","shinto_shrine":"⛩️","church":"⛪","mountain":"⛰️","umbrella_on_ground":"⛱️","fountain":"⛲","golf":"⛳","ferry":"⛴️","boat":"⛵","sailboat":"⛵","skier":"⛷️","ice_skate":"⛸️","woman-bouncing-ball":"⛹️‍♀️","man-bouncing-ball":"⛹️‍♂️","person_with_ball":"⛹️‍♂️","tent":"⛺","fuelpump":"⛽","scissors":"✂️","airplane":"✈️","envelope":"✉️","fist":"✊","hand":"✋","raised_hand":"✋","v":"✌️","writing_hand":"✍️","pencil2":"✏️","black_nib":"✒️","heavy_check_mark":"✔️","heavy_multiplication_x":"✖️","latin_cross":"✝️","star_of_david":"✡️","eight_spoked_asterisk":"✳️","eight_pointed_black_star":"✴️","snowflake":"❄️","sparkle":"❇️","x":"❌","negative_squared_cross_mark":"❎","heavy_heart_exclamation_mark_ornament":"❣️","heart":"❤️","arrow_right":"➡️","curly_loop":"➰","loop":"➿","arrow_heading_up":"⤴️","arrow_heading_down":"⤵️","arrow_left":"⬅️","arrow_up":"⬆️","arrow_down":"⬇️","black_large_square":"⬛","white_large_square":"⬜","star":"⭐","o":"⭕","wavy_dash":"〰️","part_alternation_mark":"〽️","congratulations":"㊗️","secret":"㊙️"}')},BSTl:function(e,t,i){"use strict";function c(e){return"function"==typeof e}i.r(t);var n=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){var t;e?(t=new Error,console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)):n&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),n=e},get useDeprecatedSynchronousErrorHandling(){return n}};function l(e){setTimeout(function(){throw e},0)}var u={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;l(e)},complete:function(){}},h=Array.isArray||function(e){return e&&"number"==typeof e.length};function d(e){return null!==e&&"object"==typeof e}var f=(r.prototype=Object.create(Error.prototype),r),p=(WS(g,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var e=this._parentOrParents,n=this._ctorUnsubscribe,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof g)e.remove(this);else if(null!==e)for(var o=0;o<e.length;++o)e[o].remove(this);if(c(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){t=e instanceof f?v(e.errors):[e]}}if(h(i))for(var a=-1,s=i.length;++a<s;){var l=i[a];if(d(l))try{l.unsubscribe()}catch(e){t=t||[],e instanceof f?t=t.concat(v(e.errors)):t.push(e)}}if(t)throw new f(t)}}},{key:"add",value:function(e){var t,n=e;if(!e)return g.EMPTY;switch(typeof e){case"function":n=new g(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;n instanceof g||(t=n,(n=new g)._subscriptions=[t]);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof g){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;!t||-1!==(e=t.indexOf(e))&&t.splice(e,1)}}]),(dc=g).EMPTY=((cc=new dc).closed=!0,cc),dc);function g(e){qS(this,g),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}function r(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}function v(e){return e.reduce(function(e,t){return e.concat(t instanceof f?t.errors:t)},[])}var a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(){$S(o,p);var i=KS(o);function o(e,t,n){var r;switch(qS(this,o),(r=i.call(this)).syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=u;break;case 1:if(!e){r.destination=u;break}if("object"==typeof e){e instanceof o?(r.syncErrorThrowable=e.syncErrorThrowable,(r.destination=e).add(ZS(r))):(r.syncErrorThrowable=!0,r.destination=new s(ZS(r),e));break}default:r.syncErrorThrowable=!0,r.destination=new s(ZS(r),e,t,n)}return r}return WS(o,[{key:a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,zS(YS(o.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,n){n=new o(e,t,n);return n.syncErrorThrowable=!1,n}}]),o}(),s=function(){$S(s,m);var a=KS(s);function s(e,t,n,r){var i,o;qS(this,s),(i=a.call(this))._parentSubscriber=e;e=ZS(i);return c(t)?o=t:t&&(o=t.next,n=t.error,r=t.complete,t!==u&&(c((e=Object.create(t)).unsubscribe)&&i.add(e.unsubscribe.bind(e)),e.unsubscribe=i.unsubscribe.bind(ZS(i)))),i._context=e,i._next=o,i._error=n,i._complete=r,i}return WS(s,[{key:"next",value:function(e){var t;!this.isStopped&&this._next&&(t=this._parentSubscriber,o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e))}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):l(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;l(e)}}}},{key:"complete",value:function(){var e,t,n=this;this.isStopped||(e=this._parentSubscriber,this._complete&&(t=function(){return n._complete.call(n._context)},o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,t):this.__tryOrUnsub(t)),this.unsubscribe())}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw e;l(e)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0):l(e),!0}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),s}(),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function k(e){return e}var b,_=(WS(w,[{key:"lift",value:function(e){var t=new w;return t.source=this,t.operator=e,t}},{key:"subscribe",value:function(e,t,n){var r=this.operator,n=function(e,t,n){if(e){if(e instanceof m)return e;if(e[a])return e[a]()}return e||t||n?new m(e,t,n):new m(u)}(e,t,n);if(n.add(r?r.call(n,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),o.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(e){for(;e;){var t=e.closed,n=e.destination,r=e.isStopped;if(t||r)return;e=n&&n instanceof m?n:null}return 1}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(r,e){var i=this;return new(e=C(e))(function(e,t){var n=i.subscribe(function(e){try{r(e)}catch(e){t(e),n&&n.unsubscribe()}},t,e)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:y,value:function(){return this}},{key:"pipe",value:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?this:(0===(t=n).length?k:1===t.length?t[0]:function(e){return t.reduce(function(e,t){return t(e)},e)})(this)}},{key:"toPromise",value:function(e){var r=this;return new(e=C(e))(function(e,t){var n;r.subscribe(function(e){return n=e},function(e){return t(e)},function(){return e(n)})})}}]),(b=w).create=function(e){return new b(e)},b);function w(e){qS(this,w),this._isScalar=!1,e&&(this._subscribe=e)}function C(e){if(!(e=e||(o.Promise||Promise)))throw new Error("no Promise impl found");return e}var x=(P.prototype=Object.create(Error.prototype),P),S=function(){$S(i,p);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this)).subject=e,n.subscriber=t,n.closed=!1,n}return WS(i,[{key:"unsubscribe",value:function(){var e,t;this.closed||(this.closed=!0,e=(t=this.subject).observers,this.subject=null,!e||0===e.length||t.isStopped||t.closed||-1!==(t=e.indexOf(this.subscriber))&&e.splice(t,1))}}]),i}(),E=function(){$S(r,m);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e)).destination=e,t}return r}(),T=((fc=function(){$S(n,_);var t=KS(n);function n(){var e;return qS(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return WS(n,[{key:a,value:function(){return new E(this)}},{key:"lift",value:function(e){var t=new A(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new x;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new x;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new x;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new x;return zS(YS(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new x;return this.hasError?(e.error(this.thrownError),p.EMPTY):this.isStopped?(e.complete(),p.EMPTY):(this.observers.push(e),new S(this,e))}},{key:"asObservable",value:function(){var e=new _;return e.source=this,e}}]),n}()).create=function(e,t){return new A(e,t)},fc),A=function(){$S(i,T);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this)).destination=e,n.source=t,n}return WS(i,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):p.EMPTY}}]),i}();function P(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}function R(e){return e&&"function"==typeof e.schedule}function I(t,n){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new O(t,n))}}var O=(WS(L,[{key:"call",value:function(e,t){return t.subscribe(new M(e,this.project,this.thisArg))}}]),L),M=function(){$S(i,m);var r=KS(i);function i(e,t,n){return qS(this,i),(e=r.call(this,e)).project=t,e.count=0,e.thisArg=n||ZS(e),e}return WS(i,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)}}]),i}(),N=function(r){return function(e){for(var t=0,n=r.length;t<n&&!e.closed;t++)e.next(r[t]);e.complete()}};function L(e,t){qS(this,L),this.project=e,this.thisArg=t}var D="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",j=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function F(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var V=function(e){if(e&&"function"==typeof e[y])return i=e,function(e){var t=i[y]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(j(e))return N(e);if(F(e))return n=e,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,l),t};if(e&&"function"==typeof e[D])return r=e,function(t){for(var e=r[D]();;){var n=void 0;try{n=e.next()}catch(e){return t.error(e),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof e.return&&t.add(function(){e.return&&e.return()}),t};var r,n,i,e=d(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(e," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function z(r,i){return new _(function(e){var t=new p,n=0;return t.add(i.schedule(function(){n!==r.length?(e.next(r[n++]),e.closed||t.add(this.schedule())):e.complete()})),t})}function B(e,t){return t?function(e,t){if(null!=e){if(e&&"function"==typeof e[y])return o=e,a=t,new _(function(t){var n=new p;return n.add(a.schedule(function(){var e=o[y]();n.add(e.subscribe({next:function(e){n.add(a.schedule(function(){return t.next(e)}))},error:function(e){n.add(a.schedule(function(){return t.error(e)}))},complete:function(){n.add(a.schedule(function(){return t.complete()}))}}))})),n});if(F(e))return r=e,i=t,new _(function(t){var n=new p;return n.add(i.schedule(function(){return r.then(function(e){n.add(i.schedule(function(){t.next(e),n.add(i.schedule(function(){return t.complete()}))}))},function(e){n.add(i.schedule(function(){return t.error(e)}))})})),n});if(j(e))return z(e,t);if(e&&"function"==typeof e[D]||"string"==typeof e)return function(t,n){if(!t)throw new Error("Iterable cannot be null");return new _(function(r){var i,e=new p;return e.add(function(){i&&"function"==typeof i.return&&i.return()}),e.add(n.schedule(function(){i=t[D](),e.add(n.schedule(function(){if(!r.closed){try{var e=i.next(),t=e.value,n=e.done}catch(e){return void r.error(e)}n?r.complete():(r.next(t),this.schedule())}}))})),e})}(e,t)}var r,i,o,a;throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof _?e:new _(V(e))}var H=function(){$S(r,m);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this)).parent=e,t}return WS(r,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),r}(),U=function(){$S(t,m);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),t}();function q(e,t){if(!t.closed)return e instanceof _?e.subscribe(t):V(e)(t)}function W(t,i,e){var n=2<arguments.length&&void 0!==e?e:Number.POSITIVE_INFINITY;return"function"==typeof i?function(e){return e.pipe(W(function(n,r){return B(t(n,r)).pipe(I(function(e,t){return i(n,e,r,t)}))},n))}:("number"==typeof i&&(n=i),function(e){return e.lift(new $(t,n))})}var $=(WS(G,[{key:"call",value:function(e,t){return t.subscribe(new K(e,this.project,this.concurrent))}}]),G),K=function(){$S(i,U);var r=KS(i);function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return qS(this,i),(e=r.call(this,e)).project=t,e.concurrent=n,e.hasCompleted=!1,e.buffer=[],e.active=0,e.index=0,e}return WS(i,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new H(this),n=this.destination;n.add(t);e=q(e,t);e!==t&&n.add(e)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),i}();function G(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;qS(this,G),this.project=e,this.concurrent=t}function Z(e){return W(k,0<arguments.length&&void 0!==e?e:Number.POSITIVE_INFINITY)}function J(e,t){return t?z(e,t):new _(N(e))}function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return R(o)?(i=t.pop(),1<t.length&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof _?t[0]:Z(r)(J(t,i))}function Y(){return function(e){return e.lift(new X(e))}}var X=(WS(re,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;e=new ee(e,n),t=t.subscribe(e);return e.closed||(e.connection=n.connect()),t}}]),re),ee=function(){$S(r,m);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).connectable=t,e}return WS(r,[{key:"_unsubscribe",value:function(){var e,t=this.connectable;t?(this.connectable=null,(e=t._refCount)<=0?this.connection=null:(t._refCount=e-1,1<e?this.connection=null:(e=this.connection,t=t._connection,this.connection=null,!t||e&&t!==e||t.unsubscribe()))):this.connection=null}}]),r}(),te={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(pc=function(){$S(i,_);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this)).source=e,n.subjectFactory=t,n._refCount=0,n._isComplete=!1,n}return WS(i,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new p).add(this.source.subscribe(new ne(this.getSubject(),this))),e.closed&&(this._connection=null,e=p.EMPTY)),e}},{key:"refCount",value:function(){return Y()(this)}}]),i}().prototype)._subscribe},_isComplete:{value:pc._isComplete,writable:!0},getSubject:{value:pc.getSubject},connect:{value:pc.connect},refCount:{value:pc.refCount}},ne=function(){$S(r,E);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).connectable=t,e}return WS(r,[{key:"_error",value:function(e){this._unsubscribe(),zS(YS(r.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),zS(YS(r.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e,t=this.connectable;t&&(this.connectable=null,e=t._connection,t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe())}}]),r}();function re(e){qS(this,re),this.connectable=e}function ie(){return new T}function oe(e){return{toString:e}.toString()}function ae(e,t,r){return oe(function(){var n,o=(n=t,function(){if(n){var e,t=n.apply(void 0,arguments);for(e in t)this[e]=t[e]}});function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof a)return o.apply(this,t),this;var i=QS(a,t);return r.annotation=i,r;function r(e,t,n){for(var r=(e.hasOwnProperty("__parameters__")?e:Object.defineProperty(e,"__parameters__",{value:[]})).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(i),e}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a})}var se=ae("Inject",function(e){return{token:e}}),le=ae("Optional"),ce=ae("Self"),ue=ae("SkipSelf"),he=((ap={})[ap.Default=0]="Default",ap[ap.Host=1]="Host",ap[ap.Self=2]="Self",ap[ap.SkipSelf=4]="SkipSelf",ap[ap.Optional=8]="Optional",ap);function de(e){for(var t in e)if(e[t]===de)return t;throw Error("Could not find renamed property on target object.")}function fe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pe(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function ge(e){return ve(e,e[ye])||ve(e,e[_e])}function ve(e,t){return t&&t.token===e?t:null}function me(e){return e&&(e.hasOwnProperty(ke)||e.hasOwnProperty(we))?e[ke]:null}var ye=de({"ɵprov":de}),ke=de({"ɵinj":de}),be=de({"ɵprovFallback":de}),_e=de({ngInjectableDef:de}),we=de({ngInjectorDef:de});function Ce(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ce).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function xe(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Se=de({__forward_ref__:de});function Ee(e){return e.__forward_ref__=Ee,e.toString=function(){return Ce(this())},e}function Te(e){return Ae(e)?e():e}function Ae(e){return"function"==typeof e&&e.hasOwnProperty(Se)&&e.__forward_ref__===Ee}var Pe,Re="undefined"!=typeof globalThis&&globalThis,Ie="undefined"!=typeof window&&window,Oe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Me="undefined"!=typeof global&&global,Ne=Re||Me||Ie||Oe,Le=de({"ɵcmp":de}),De=de({"ɵdir":de}),je=de({"ɵpipe":de}),Fe=de({"ɵmod":de}),Ve=de({"ɵloc":de}),ze=de({"ɵfac":de}),Be=de({__NG_ELEMENT_ID__:de}),He=(WS(Ge,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),Ge),Ue=new He("INJECTOR",-1),qe={},We=/\n/gm,$e=de({provide:String,useValue:de}),Ke=void 0;function Ge(e,t){qS(this,Ge),this._desc=e,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ɵprov=fe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}function Ze(e){var t=Ke;return Ke=e,t}function Je(e){var t=Pe;return Pe=e,t}function Qe(e,t){t=1<arguments.length&&void 0!==t?t:he.Default;return(Pe||function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:he.Default;if(void 0===Ke)throw new Error("inject() must be called from an injection context");return null===Ke?Ye(e,void 0,t):Ke.get(e,t&he.Optional?null:void 0,t)})(Te(e),t)}function Ye(e,t,n){var r=ge(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&he.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(Ce(e),"]"))}function Xe(e){for(var t=[],n=0;n<e.length;n++){var r=Te(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=he.Default,a=0;a<r.length;a++){var s=r[a];s instanceof le||"Optional"===s.ngMetadataName||s===le?o|=he.Optional:s instanceof ue||"SkipSelf"===s.ngMetadataName||s===ue?o|=he.SkipSelf:s instanceof ce||"Self"===s.ngMetadataName||s===ce?o|=he.Self:i=s instanceof se||s===se?s.token:s}t.push(Qe(i,o))}else t.push(Qe(r))}return t}function et(){qS(this,et)}var tt=(WS(rt,[{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:qe;if(t!==qe)return t;e=new Error("NullInjectorError: No provider for ".concat(Ce(e),"!"));throw e.name="NullInjectorError",e}}]),rt),nt=function e(){qS(this,e)};function rt(){qS(this,rt)}function it(e,t){e.forEach(function(e){return Array.isArray(e)?it(e,t):t(e)})}function ot(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function at(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function st(e,t){t=lt(e,t);if(0<=t)return e[1|t]}function lt(e,t){return function(e,t){for(var n=0,r=e.length>>1;r!==n;){var i=n+(r-n>>1),o=e[i<<1];if(t===o)return i<<1;t<o?r=i:n=i+1}return~(r<<1)}(e,t)}var ct=((iu={})[iu.OnPush=0]="OnPush",iu[iu.Default=1]="Default",iu),ut=((ou={})[ou.Emulated=0]="Emulated",ou[ou.Native=1]="Native",ou[ou.None=2]="None",ou[ou.ShadowDom=3]="ShadowDom",ou),ht={},dt=[],ft=0;function pt(o){return oe(function(){var e={},t={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ct.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||dt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||ut.Emulated,id:"c",styles:o.styles||dt,_:null,setInput:null,schemas:o.schemas||null,tView:null},n=o.directives,r=o.features,i=o.pipes;return t.id+=ft++,t.inputs=kt(o.inputs,e),t.outputs=kt(o.outputs),r&&r.forEach(function(e){return e(t)}),t.directiveDefs=n?function(){return("function"==typeof n?n():n).map(gt)}:null,t.pipeDefs=i?function(){return("function"==typeof i?i():i).map(vt)}:null,t})}function gt(e){return wt(e)||e[De]||null}function vt(e){return e[je]||null}var mt={};function yt(e){var t={type:e.type,bootstrap:e.bootstrap||dt,declarations:e.declarations||dt,imports:e.imports||dt,exports:e.exports||dt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&oe(function(){mt[e.id]=e.type}),t}function kt(e,t){if(null==e)return ht;var n,r,i,o={};for(n in e)e.hasOwnProperty(n)&&(i=r=e[n],Array.isArray(r)&&(i=r[1],r=r[0]),o[r]=n,t&&(t[r]=i));return o}var bt=pt;function _t(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function wt(e){return e[Le]||null}function Ct(e){return e.hasOwnProperty(ze)?e[ze]:null}function xt(e,t){var n=e[Fe]||null;if(!n&&!0===t)throw new Error("Type ".concat(Ce(e)," does not have 'ɵmod' property."));return n}function St(e){return Array.isArray(e)&&"object"==typeof e[1]}function Et(e){return Array.isArray(e)&&!0===e[1]}function Tt(e){return 0!=(8&e.flags)}function At(e){return 2==(2&e.flags)}function Pt(e){return 1==(1&e.flags)}function Rt(e){return null!==e.template}function It(e){return 0!=(512&e[2])}var Ot=(WS(Mt,[{key:"isFirstChange",value:function(){return this.firstChange}}]),Mt);function Mt(e,t,n){qS(this,Mt),this.previousValue=e,this.currentValue=t,this.firstChange=n}function Nt(){return Lt}function Lt(e){return e.type.prototype.ngOnChanges&&(e.setInput=jt),Dt}function Dt(){var e=Ft(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===ht)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function jt(e,t,n,r){var i,o=Ft(e)||(i={previous:ht,current:null},e.__ngSimpleChanges__=i),a=o.current||(o.current={}),i=o.previous,o=this.declaredInputs[n],n=i[o];a[o]=new Ot(n&&n.currentValue,t,i===ht),e[r]=t}function Ft(e){return e.__ngSimpleChanges__||null}Nt.ngInherit=!0;var Vt=void 0;function zt(e){return!!e.listen}var Bt={createRenderer:function(e,t){return void 0!==Vt?Vt:"undefined"!=typeof document?document:void 0}};function Ht(e){for(;Array.isArray(e);)e=e[0];return e}function Ut(e,t){return Ht(t[e+20])}function qt(e,t){return Ht(t[e.index])}function Wt(e,t){return e.data[t+20]}function $t(e,t){e=t[e];return St(e)?e:e[0]}function Kt(e){e=e.__ngContext__||null;return e?Array.isArray(e)?e:e.lView:null}function Gt(e){return 4==(4&e[2])}function Zt(e){return 128==(128&e[2])}function Jt(e,t){return null===e||null==t?null:e[t]}function Qt(e){e[18]=0}function Yt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,r=(n=r)[3]}var Xt={lFrame:bn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function en(){return Xt.bindingsEnabled}function tn(){return Xt.lFrame.lView}function nn(){return Xt.lFrame.tView}function rn(e){Xt.lFrame.contextLView=e}function on(){return Xt.lFrame.previousOrParentTNode}function an(e,t){Xt.lFrame.previousOrParentTNode=e,Xt.lFrame.isParent=t}function sn(){return Xt.lFrame.isParent}function ln(){Xt.lFrame.isParent=!1}function cn(){return Xt.checkNoChangesMode}function un(e){Xt.checkNoChangesMode=e}function hn(){var e=Xt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function dn(){return Xt.lFrame.bindingIndex++}function fn(e){Xt.lFrame.currentDirectiveIndex=e}function pn(e){var t=Xt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function gn(){return Xt.lFrame.currentQueryIndex}function vn(e){Xt.lFrame.currentQueryIndex=e}function mn(e,t){var n=kn();(Xt.lFrame=n).previousOrParentTNode=t,n.lView=e}function yn(e,t){var n=kn(),r=e[1];(Xt.lFrame=n).previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function kn(){var e=Xt.lFrame,t=null===e?null:e.child;return null===t?bn(e):t}function bn(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function _n(){var e=Xt.lFrame;return Xt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var wn=_n;function Cn(){var e=_n();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function xn(){return Xt.lFrame.selectedIndex}function Sn(e){Xt.lFrame.selectedIndex=e}function En(){var e=Xt.lFrame;return Wt(e.tView,e.selectedIndex)}function Tn(){Xt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function An(){Xt.lFrame.currentNamespace=null}function Pn(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,l=i.ngAfterViewChecked,i=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=i&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i)}}function Rn(e,t,n){Mn(e,t,3,n)}function In(e,t,n,r){(3&e[2])===n&&Mn(e,t,n,r)}function On(e,t){var n=e[2];(3&n)===t&&(n&=2047,++n,e[2]=n)}function Mn(e,t,n,r){for(var i,o,a,s,l,c,u=null!=r?r:-1,h=0,d=void 0!==r?65535&e[18]:0;d<t.length;d++)if("number"==typeof t[d+1]){if(h=t[d],null!=r&&r<=h)break}else t[d]<0&&(e[18]+=65536),(h<u||-1==u)&&(i=e,o=n,c=l=void 0,l=(a=t)[s=d]<0,c=a[s+1],s=i[l?-a[s]:a[s]],l?i[2]>>11<i[18]>>16&&(3&i[2])===o&&(i[2]+=2048,c.call(s)):c.call(s),e[18]=(4294901760&e[18])+d+2),d++}var Nn=function e(t,n,r){qS(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Ln(e,t,n){for(var r=zt(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],l=n[i++];r?e.setAttribute(t,s,l,a):t.setAttributeNS(a,s,l)}else{l=o,o=n[++i];jn(l)?r&&e.setProperty(t,l,o):r?e.setAttribute(t,l,o):t.setAttribute(l,o),i++}}return i}function Dn(e){return 3===e||4===e||6===e}function jn(e){return 64===e.charCodeAt(0)}function Fn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||function(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(t<s){a=o-1;break}}}for(;o<e.length;){var l=e[o];if("number"==typeof l)break;if(l===n){if(null===r)return null!==i&&(e[o+1]=i);if(r===e[o+1])return e[o+2]=i}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Vn(e){return 32767&e}function zn(e,t){for(var n=e>>16,r=t;0<n;)r=r[15],n--;return r}function Bn(e){return"string"==typeof e?e:null==e?"":""+e}function Hn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Bn(e)}var Un=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ne);function qn(e){return e instanceof Function?e():e}var Wn=!0;function $n(e){var t=Wn;return Wn=e,t}var Kn=0;function Gn(e,t){var n=Jn(e,t);if(-1!==n)return n;n=t[1];n.firstCreatePass&&(e.injectorIndex=t.length,Zn(n.data,e),Zn(t,null),Zn(n.blueprint,null));var n=Qn(e,t),r=e.injectorIndex;if(-1!==n)for(var i=Vn(n),o=zn(n,t),a=o[1].data,s=0;s<8;s++)t[r+s]=o[i+s]|a[i+s];return t[r+8]=n,r}function Zn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Qn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Yn(e,t,n){!function(e,t,n){"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(Be)&&(o=n[Be]),null==o&&(o=n[Be]=Kn++);var r=255&o,i=1<<r,n=64&r,o=32&r,t=t.data;128&r?n?o?t[e+7]|=i:t[e+6]|=i:o?t[e+5]|=i:t[e+4]|=i:n?o?t[e+3]|=i:t[e+2]|=i:o?t[e+1]|=i:t[e]|=i}(e,t,n)}function Xn(e,t,n,r,i){var o,a,s,l,c,u,h=3<arguments.length&&void 0!==r?r:he.Default,d=4<arguments.length?i:void 0;if(null!==e){var f=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;e=e.hasOwnProperty(Be)?e[Be]:void 0;return"number"==typeof e&&0<e?255&e:e}(n);if("function"==typeof f){mn(t,e);try{var p=f();if(null!=p||h&he.Optional)return p;throw new Error("No provider for ".concat(Hn(n),"!"))}finally{wn()}}else if("number"==typeof f){if(-1===f)return new or(e,t);var g=null,v=Jn(e,t),m=-1,y=h&he.Host?t[16][6]:null;for((-1===v||h&he.SkipSelf)&&(m=-1===v?Qn(e,t):t[v+8],ir(h,!1)?(g=t[1],v=Vn(m),t=zn(m,t)):v=-1);-1!==v;){m=t[v+8];var k=t[1];if(rr(f,v,k.data)){var b=(b=v,a=n,s=g,l=h,c=y,u=void 0,u=(o=t)[1],b=u.data[b+8],null!==(c=tr(b,u,a,null==s?At(b)&&Wn:s!=u&&3===b.type,l&he.Host&&c===b))?nr(o,u,c,b):er);if(b!==er)return b}ir(h,t[1].data[v+8]===y)&&rr(f,v,t)?(g=k,v=Vn(m),t=zn(m,t)):v=-1}}}if(h&he.Optional&&void 0===d&&(d=null),0==(h&(he.Self|he.Host))){var _=t[9],e=Je(void 0);try{return _?_.get(n,d,h&he.Optional):Ye(n,d,h&he.Optional)}finally{Je(e)}}if(h&he.Optional)return d;throw new Error("NodeInjector: NOT_FOUND [".concat(Hn(n),"]"))}var er={};function tr(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,t=1048575&o,s=e.directiveStart,o=o>>20,l=i?t+o:e.directiveEnd,c=r?t:t+o;c<l;c++){var u=a[c];if(c<s&&n===u||s<=c&&u.type===n)return c}if(i){i=a[s];if(i&&Rt(i)&&i.type===n)return s}return null}function nr(e,t,n,r){var i,o,a,s,l,c,u=e[n],h=t.data;if(u instanceof Nn){var d=u;if(d.resolving)throw new Error("Circular dep for "+Hn(h[n]));var f,p=$n(d.canSeeViewProviders);d.resolving=!0,d.injectImpl&&(f=Je(d.injectImpl)),mn(e,r);try{u=e[n]=d.factory(void 0,h,e,r),t.firstCreatePass&&n>=r.directiveStart&&(o=h[i=n],a=t,s=o.type.prototype,l=s.ngOnChanges,c=s.ngOnInit,s=s.ngDoCheck,l&&(o=Lt(o),(a.preOrderHooks||(a.preOrderHooks=[])).push(i,o),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,o)),c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),s&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,s),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,s)))}finally{d.injectImpl&&Je(f),$n(p),d.resolving=!1,wn()}}return u}function rr(e,t,n){var r=64&e,i=32&e;return(128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e}function ir(e,t){return!(e&he.Self||e&he.Host&&t)}var or=(WS(ar,[{key:"get",value:function(e,t){return Xn(this._tNode,this._lView,e,void 0,t)}}]),ar);function ar(e,t){qS(this,ar),this._tNode=e,this._lView=t}function sr(e){var t=e;if(Ae(e))return function(){var e=sr(Te(t));return e?e():null};var n=Ct(t);return null===n&&(n=(e=me(t))&&e.factory),n||null}function lr(o){return oe(function(){for(var e=o.prototype.constructor,t=e[ze]||sr(e),n=Object.prototype,r=Object.getPrototypeOf(o.prototype).constructor;r&&r!==n;){var i=r[ze]||sr(r);if(i&&i!==t)return i;r=Object.getPrototypeOf(r)}return function(e){return new e}})}function cr(e){return e.ngDebugContext}function ur(e){return e.ngOriginalError}function hr(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var dr=(WS(gr,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=e.ngErrorLogger||hr;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?cr(e)?cr(e):this._findContext(ur(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=ur(e);t&&ur(t);)t=ur(t);return t}}]),gr),fr=(WS(pr,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),pr);function pr(e){qS(this,pr),this.changingThisBreaksApplicationSecurity=e}function gr(){qS(this,gr),this._console=console}function vr(e){return e instanceof fr?e.changingThisBreaksApplicationSecurity:e}function mr(e,t){e=e instanceof fr&&e.getTypeName()||null;if(null==e||e===t)return e===t;if("ResourceURL"===e&&"URL"===t)return 1;throw new Error("Required a safe ".concat(t,", got a ").concat(e," (see http://g.co/ng/security#xss)"))}var yr=!0,kr=!1;function br(){return kr=!0,yr}var _r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,wr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Cr=((Jp={})[Jp.NONE=0]="NONE",Jp[Jp.HTML=1]="HTML",Jp[Jp.STYLE=2]="STYLE",Jp[Jp.SCRIPT=3]="SCRIPT",Jp[Jp.URL=4]="URL",Jp[Jp.RESOURCE_URL=5]="RESOURCE_URL",Jp);function xr(e){var t=Tr();return t?t.sanitize(Cr.URL,e)||"":mr(e,"URL")?vr(e):(e=Bn(e),(e=String(e)).match(_r)||e.match(wr)?e:(br()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e))}function Sr(e){var t=Tr();if(t)return t.sanitize(Cr.RESOURCE_URL,e)||"";if(mr(e,"ResourceURL"))return vr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Er(e,t,n){return("src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Sr:xr)(e)}function Tr(){var e=tn();return e&&e[12]}function Ar(e,t){e.__ngContext__=t}function Pr(){throw new Error("Cannot mix multi providers and regular providers")}function Rr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Ir(e){return 0===e.type&&"ng-template"!==e.tagName}function Or(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Dn(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var l=t[s];if("number"!=typeof l){if(!a)if(4&r){if(r=2|1&r,""!==l&&(u=n,l!==(0!==(h=e).type||u?h.tagName:"ng-template"))||""===l&&1===t.length){if(Mr(r))return;a=!0}}else{var c=8&r?l:t[++s];if(8&r&&null!==e.attrs){if(!function(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Rr((i=e[r]).toLowerCase(),t,0))return 1}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return 1;return}}}(e.attrs,c,n)){if(Mr(r))return;a=!0}}else{var u=function(e,t,n,r){if(null===t)return-1;var i=0;if(!r&&n)return function(e,t){var n=e.indexOf(4);if(-1<n)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e);for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}(8&r?"class":l,i,Ir(e),n);if(-1!==u){if(""!==c){var h=o<u?"":i[u+1].toLowerCase(),u=8&r?h:null;if(u&&-1!==Rr(u,c,0)||2&r&&c!==h){if(Mr(r))return;a=!0}}}else{if(Mr(r))return;a=!0}}}}else{if(!a&&!Mr(r)&&!Mr(l))return;a&&Mr(l)||(a=!1,r=l|1&r)}}return Mr(r)||a}function Mr(e){return 0==(1&e)}function Nr(e,t){return e?":not("+t.trim()+")":t}function Lr(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a,s=e[n];"string"==typeof s?2&r?i+="["+s+(0<(a=e[++n]).length?'="'+a+'"':"")+"]":8&r?i+="."+s:4&r&&(i+=" "+s):(""===i||Mr(s)||(t+=Nr(o,i),i=""),r=s,o=o||!Mr(r)),n++}return""!==i&&(t+=Nr(o,i)),t}var Dr={};function jr(e){e=e[3];return Et(e)?e[3]:e}function Fr(e){return zr(e[13])}function Vr(e){return zr(e[4])}function zr(e){for(;null!==e&&!Et(e);)e=e[4];return e}function Br(e){Hr(nn(),tn(),xn()+e,cn())}function Hr(e,t,n,r){r||(3==(3&t[2])?null!==(r=e.preOrderCheckHooks)&&Rn(t,r,n):null!==(e=e.preOrderHooks)&&In(t,e,0,n)),Sn(n)}function Ur(e,t){return e<<17|t<<2}function qr(e){return e>>17&32767}function Wr(e){return(131068&e)>>2}function $r(e,t){return-131069&e|t<<2}function Kr(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i,o=n[r],a=n[r+1];-1!==a&&(i=e.data[a],vn(o),i.contentQueries(2,t[a],a))}}function Gr(e,t,n){return zt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Zr(e,t,n,r,i,o,a,s,l,c){var u=t.blueprint.slice();return u[0]=i,u[2]=140|r,Qt(u),u[3]=u[15]=e,u[8]=n,u[10]=a||e&&e[10],u[11]=s||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=o,u[16]=2==t.type?e[16]:u,u}function Jr(e,t,n,r,i,o){var a,s,l=n+20,s=e.data[l]||(a=e,n=on(),e=sn(),s=e?n:n&&n.parent,s=a.data[l]=ai(0,s&&s!==t?s:null,r,l,i,o),null===a.firstChild&&(a.firstChild=s),n&&(!e||null!=n.child||null===s.parent&&2!==n.type?e||(n.next=s):n.child=s),s);return an(s,!0),s}function Qr(t,e,n){yn(e,e[6]);try{var r=t.viewQuery;null!==r&&wi(1,r,n);r=t.template;null!==r&&Xr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Kr(t,e),t.staticViewQueries&&wi(2,t.viewQuery,n);r=t.components;null!==r&&function(e,t){for(var n,r,i=0;i<t.length;i++)n=e,r=$t(r=t[i],n),function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(n=r[1],r),!void Qr(n,r,r[8])}(e,r)}catch(e){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),e}finally{e[2]&=-5,Cn()}}function Yr(e,o,t,n){var r=o[2];if(256!=(256&r)){yn(o,o[6]);var i=cn();try{Qt(o),Xt.lFrame.bindingIndex=e.bindingStartIndex,null!==t&&Xr(e,o,t,2,n);var a,s,l=3==(3&r);i||(l?null!==(a=e.preOrderCheckHooks)&&Rn(o,a,null):(null!==(s=e.preOrderHooks)&&In(o,s,0,null),On(o,0))),function(){for(var e=Fr(o);null!==e;e=Vr(e))if(e[2])for(var t=e[9],n=0;n<t.length;n++){var r=t[n],i=r[3];0==(1024&r[2])&&Yt(i,1),r[2]|=1024}}(),function(){for(var e=Fr(o);null!==e;e=Vr(e))for(var t=10;t<e.length;t++){var n=e[t],r=n[1];Zt(n)&&Yr(r,n,r.template,n[8])}}(),null!==e.contentQueries&&Kr(e,o),i||(l?null!==(s=e.contentCheckHooks)&&Rn(o,s):(null!==(c=e.contentHooks)&&In(o,c,1),On(o,1))),function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Sn(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(s=r,l=i,c=void 0,(c=Xt.lFrame).bindingIndex=c.bindingRootIndex=s,fn(l),a(2,t[i])),i++)}}finally{Sn(-1)}var s,l,c}(e,o);var c=e.components;null!==c&&function(e,t){for(var n,r,i=0;i<t.length;i++)n=e,!void(Zt(r=$t(r=t[i],n))&&(n=r[1],80&r[2]?Yr(n,r,n.template,r[8]):0<r[5]&&function e(t){for(var n=Fr(t);null!==n;n=Vr(n))for(var r=10;r<n.length;r++){var i,o=n[r];1024&o[2]?Yr(i=o[1],o,i.template,o[8]):0<o[5]&&e(o)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var l=$t(a[s],t);Zt(l)&&0<l[5]&&e(l)}}(r)))}(o,c);var u,c=e.viewQuery;null!==c&&wi(2,c,n),i||(l?null!==(u=e.viewCheckHooks)&&Rn(o,u):(null!==(u=e.viewHooks)&&In(o,u,2),On(o,2))),!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Yt(o[3],-1))}finally{Cn()}}}function Xr(e,t,n,r,i){var o=xn();try{Sn(-1),2&r&&20<t.length&&Hr(e,t,0,cn()),n(r,i)}finally{Sn(o)}}function ei(e,t,n){if(Tt(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function ti(e,t,h){en()&&(function(e,t,n,r){var l=n.directiveStart,i=n.directiveEnd;e.firstCreatePass||Gn(n,t),Ar(r,t);for(var o,a,s,c,u,h=n.initialInputs,d=l;d<i;d++){var f=e.data[d],p=Rt(f);p&&(g=f,u=c=s=void 0,s=qt(a=n,o=t),c=ri(g),u=o[10],g=yi(o,Zr(o,c,null,g.onPush?64:16,s,a,u,u.createRenderer(s,g))),o[a.index]=g);var g=nr(t,e,d,n);Ar(g,t),null!==h&&function(e,t){var n=h[d-l];if(null!==n)for(var r=t.setInput,i=0;i<n.length;){var o=n[i++],a=n[i++],s=n[i++];null!==r?t.setInput(e,s,o,a):e[a]=s}}(g,f),p&&($t(n.index,t)[8]=g)}}(e,t,h,qt(h,t)),128==(128&h.flags)&&function(e,t){var n=h.directiveStart,r=h.directiveEnd,i=e.expandoInstructions,o=e.firstCreatePass,a=h.index-20,s=Xt.lFrame.currentDirectiveIndex;try{Sn(a);for(var l=n;l<r;l++){var c=e.data[l],u=t[l];fn(l),null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?di(c,u):o&&i.push(null)}}finally{Sn(-1),fn(s)}}(e,t))}function ni(e,t,n){var r=2<arguments.length&&void 0!==n?n:qt,i=t.localNames;if(null!==i)for(var o=t.index+1,a=0;a<i.length;a+=2){var s=i[a+1],s=-1===s?r(t,e):e[s];e[o++]=s}}function ri(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ii(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ii(e,t,n,r,i,o,a,s,l,c){var u=20+r,r=u+i,i=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Dr);return n}(u,r);return i[1]={type:e,id:t,blueprint:i,template:n,queries:null,viewQuery:s,node:null,data:i.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:r,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function oi(e,t,n,r){t=xi(t);t.push(n),e.firstCreatePass&&(e.cleanup||(e.cleanup=[])).push(r,t.length-1)}function ai(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function si(e,t,n){for(var r in e){var i;e.hasOwnProperty(r)&&(i=e[r],(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i])}return n}function li(e,t,n,r,i,o,a,s){var l,c=qt(t,n),u=t.inputs;!s&&null!=u&&(l=u[r])?(Ti(e,n,l,r,i),At(t)&&(16&(n=$t(t.index,n))[2]||(n[2]|=64))):3===t.type&&(r="class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r,i=null!=a?a(i,t.tagName||"",r):i,zt(o)?o.setProperty(c,r,i):jn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ci(h,e,o,t){var n=!1;if(en()){var r=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];!function(e,t,n){for(var r=2<arguments.length&&void 0!==n&&n,i=0;i<t.length;i++)if(Or(e,t[i],r))return 1}(n,a.selectors,!1)||(i=i||[],Yn(Gn(n,t),e,a.type),Rt(a)?(2&n.flags&&function(){throw new Error("Multiple components match node with tagname "+n.tagName)}(),pi(e,n),i.unshift(a)):i.push(a))}return i}(h,e,o),i=null===t?null:{"":-1};if(null!==r){var a=0,n=!0;gi(o,h.data.length,r.length);for(var s=0;s<r.length;s++){var l=r[s];l.providersResolver&&l.providersResolver(l)}fi(h,o,r.length);for(var c=!1,u=!1,d=0;d<r.length;d++){var f=r[d];o.mergedAttrs=Fn(o.mergedAttrs,f.hostAttrs),vi(h,e,f),function(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Rt(t)&&(n[""]=e)}}(h.data.length-1,f,i),null!==f.contentQueries&&(o.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(o.flags|=128);var p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((h.preOrderHooks||(h.preOrderHooks=[])).push(o.index-20),c=!0),u||!p.ngOnChanges&&!p.ngDoCheck||((h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(o.index-20),u=!0),ui(h,f),a+=f.hostVars}!function(e){for(var t=e.directiveEnd,n=h.data,r=e.attrs,i=[],o=null,a=null,s=e.directiveStart;s<t;s++){var l=n[s],c=l.inputs,u=null===r||Ir(e)?null:function(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}(c,r);i.push(u),o=si(c,s,o),a=si(l.outputs,s,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=i,e.inputs=o,e.outputs=a}(o),hi(h,e,a)}i&&function(e,t){if(e)for(var n=o.localNames=[],r=0;r<e.length;r+=2){var i=t[e[r+1]];if(null==i)throw new Error("Export of name '".concat(e[r+1],"' not found!"));n.push(e[r],i)}}(t,i)}return o.mergedAttrs=Fn(o.mergedAttrs,o.attrs),n}function ui(e,t){e=e.expandoInstructions;e.push(t.hostBindings),0!==t.hostVars&&e.push(t.hostVars)}function hi(e,t,n){for(var r=0;r<n;r++)t.push(Dr),e.blueprint.push(Dr),e.data.push(null)}function di(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function fi(e,t,n){var r=20-t.index,t=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,t,n)}function pi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function gi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function vi(e,t,n){e.data.push(n);var r=n.factory||(n.factory=Ct(n.type)),n=new Nn(r,Rt(n),null);e.blueprint.push(n),t.push(n)}function mi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function yi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t}function ki(e){for(;e;){e[2]|=64;var t=jr(e);if(It(e)&&!t)return e;e=t}}function bi(e,t,n){var r=t[10];r.begin&&r.begin();try{Yr(e,t,e.template,n)}catch(e){throw Ei(t,e),e}finally{r.end&&r.end()}}function _i(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Kt(n),i=r[1];!function(e,t,n,r){var i=t[10],o=!cn(),a=Gt(t);try{o&&!a&&i.begin&&i.begin(),a&&Qr(e,t,r),Yr(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}(i,r,i.template,n)}}(e[8])}function wi(e,t,n){vn(0),t(e,n)}var Ci=Promise.resolve(null);function xi(e){return e[7]||(e[7]=[])}function Si(e,t,n){return null!==e&&!Rt(e)||(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function Ei(e,t){e=e[9],e=e?e.get(dr,null):null;e&&e.handleError(t)}function Ti(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],l=t[a],a=e.data[a];null!==a.setInput?a.setInput(l,i,r,s):l[s]=i}}function Ai(e,t){t=t[3];return-1!==e.index||Et(t)?t:null}function Pi(e,t){e=Ai(e,t);return e?Vi(t[11],e[7]):null}function Ri(e,t,n,r,i){var o,a,s,l,c;null!=r&&(c=!1,Et(r)?o=r:St(r)&&(c=!0,r=r[0]),a=Ht(r),0===e&&null!==n?null==i?ji(t,n,a):Di(t,n,a,i||null):1===e&&null!==n?Di(t,n,a,i||null):2===e?(l=c,(c=Vi(s=t,r=a))&&(c=c,r=r,zt(s)?s.removeChild(c,r,l):c.removeChild(r))):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Ht(n)&&Ri(t,e,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Ui(s[1],s,e,t,r,o)}}(t,e,o,n,i))}function Ii(e,t,n,r){var i=Pi(e.node,t);i&&Ui(e,t,t[11],n?1:2,i,r)}function Oi(e,t){var n=e[9],e=n.indexOf(t);1024&t[2]&&Yt(t[3],-1),n.splice(e,1)}function Mi(e,t){if(!(e.length<=10)){var n,r=10+t,i=e[r];return i&&(null!==(n=i[17])&&n!==e&&Oi(n,i),0<t&&(e[r-1][4]=i[4]),e=at(e,10+t),Ii(i[1],i,!1,null),null!==(t=e[19])&&t.detachView(e[1]),i[3]=null,i[4]=null,i[2]&=-129),i}}function Ni(e,t){var n;256&t[2]||(zt(n=t[11])&&n.destroyNode&&Ui(e,t,n,3,null,null),function(e){var t,n,r,i=e[13];if(!i)return Li(e[1],e);for(;i;){var o,a=null;if(St(i)?a=i[13]:(o=i[10])&&(a=o),!a){for(;i&&!i[4]&&i!==e;)St(i)&&Li(i[1],i),n=e,r=void 0,i=St(t=i)&&(r=t[6])&&2===r.type?Ai(r,t):t[3]===n?null:t[3];null===i&&(i=e),St(i)&&Li(i[1],i),a=i&&i[4]}i=a}}(t))}function Li(s,e){var t;256&e[2]||(e[2]&=-129,e[2]|=256,function(e){var t;if(null!=s&&null!=(t=s.destroyHooks))for(var n=0;n<t.length;n+=2){var r=e[t[n]];if(!(r instanceof Nn)){var i=t[n+1];if(Array.isArray(i))for(var o=0;o<i.length;o+=2)i[o+1].call(r[i[o]]);else i.call(r)}}}(e),function(e){var t=s.cleanup;if(null!==t){for(var n,r,i,o=e[7],a=0;a<t.length-1;a+=2)"string"==typeof t[a]?(n="function"==typeof(i=t[a+1])?i(e):Ht(e[i]),r=o[t[a+2]],"boolean"==typeof(i=t[a+3])?n.removeEventListener(t[a],r,i):0<=i?o[i]():o[-i].unsubscribe(),a+=2):t[a].call(o[t[a+1]]);e[7]=null}}(e),(t=e[6])&&3===t.type&&zt(e[11])&&e[11].destroy(),null!==(t=e[17])&&Et(e[3])&&(t!==e[3]&&Oi(t,e),null!==(e=e[19])&&e.detachView(s)))}function Di(e,t,n,r){zt(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function ji(e,t,n){zt(e)?e.appendChild(t,n):t.appendChild(n)}function Fi(e,t,n,r){null!==r?Di(e,t,n,r):ji(e,t,n)}function Vi(e,t){return zt(e)?e.parentNode(t):t.parentNode}function zi(e,t,n,r){var i=function(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Pi(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return qt(t,n).parentNode;if(2&r.flags){e=e.data,e=e[e[r.index].directiveStart].encapsulation;if(e!==ut.ShadowDom&&e!==ut.Native)return null}return qt(r,n)}(e,r,t);if(null!=i){var o=t[11],a=function(e,t){if(2!==e.type)return 4===e.type||5===e.type?qt(e,t):null;e=Ai(e,t);return null===e?null:Bi(e.indexOf(t,10)-10,e)}(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)Fi(o,i,n[s],a);else Fi(o,i,n,a)}}function Bi(e,t){var n=10+e+1;if(n<t.length){e=t[n],n=e[1].firstChild;if(null!==n)return function e(t,n){if(null===n)return null;var r=n.type;if(3===r)return qt(n,t);if(0===r)return Bi(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Et(o)?Bi(-1,o):Ht(o)}i=t[16],o=i[6],i=jr(i),o=o.projection[n.projection];return null!=o?e(i,o):e(t,n.next)}(e,n)}return t[7]}function Hi(e,t,s,n,r,i,o){for(;null!=s;){var a=n[s.index],l=s.type;o&&0===t&&(a&&Ar(Ht(a),n),s.flags|=4),64!=(64&s.flags)&&(4===l||5===l?(Hi(e,t,s.child,n,r,i,!1),Ri(t,e,r,a,i)):1===l?function(e,t,n,r,i){var o=(n=n[16])[6].projection[s.projection];if(Array.isArray(o))for(var a=0;a<o.length;a++)Ri(t,e,r,o[a],i);else Hi(e,t,o,n[3],r,i,!0)}(e,t,n,r,i):Ri(t,e,r,a,i)),s=o?s.projectionNext:s.next}}function Ui(e,t,n,r,i,o){Hi(n,r,e.node.child,t,i,o,!1)}function qi(e,t,n){zt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Wi(e,t,n){zt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var $i,Ki,Gi,Zi=(WS(Qi,[{key:"destroy",value:function(){var e;this._appRef?this._appRef.detachView(this):this._viewContainerRef&&(-1<(e=this._viewContainerRef.indexOf(this))&&this._viewContainerRef.detach(e),this._viewContainerRef=null),Ni(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){oi(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){ki(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){bi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){un(!0);try{bi(e,t,n)}finally{un(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Ui(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Ht(a)),Et(a))for(var s=10;s<a.length;s++){var l=a[s],c=l[1].firstChild;null!==c&&e(l[1],l,c,i)}var u,h=r.type;4===h||5===h?e(t,n,r.child,i):1===h&&(h=(u=n[16])[6].projection[r.projection],Array.isArray(h)?i.push.apply(i,US(h)):e((u=jr(u))[1],u,h,i,!0)),r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),Qi),Ji=function(){$S(r,Zi);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e))._view=e,t}return WS(r,[{key:"detectChanges",value:function(){_i(this._view)}},{key:"checkNoChanges",value:function(){!function(e){un(!0);try{_i(e)}finally{un(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),r}();function Qi(e,t){qS(this,Qi),this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}function Yi(n,e,t){return new($i=$i||function(){$S(t,n);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return t}())(qt(e,t))}function Xi(e,t,n,r){return Ki=Ki||function(){$S(o,e);var i=KS(o);function o(e,t,n){var r;return qS(this,o),(r=i.call(this))._declarationView=e,r._declarationTContainer=t,r.elementRef=n,r}return WS(o,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Zr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Qr(t,n,e),new Zi(n)}}]),o}(),0===n.type?new Ki(r,n,Yi(t,n,r)):null}function eo(e,t,n,r){var i;Gi=Gi||function(){$S(o,e);var i=KS(o);function o(e,t,n){var r;return qS(this,o),(r=i.call(this))._lContainer=e,r._hostTNode=t,r._hostView=n,r}return WS(o,[{key:"clear",value:function(){for(;0<this.length;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){t=e.createEmbeddedView(t||{});return this.insert(t,n),t}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;i||null!=e.ngModule||!o||(n=o.get(nt,null))&&(i=n);i=e.create(o,r,void 0,i);return this.insert(i.hostView,t),i}},{key:"insert",value:function(e,t){var n,r=e._lView,i=r[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");this.allocateContainerIfNeeded(),Et(r[3])&&(-1!==(n=this.indexOf(e))?this.detach(n):(n=r[3],(n=new Gi(n,n[6],n[3])).detach(n.indexOf(e))));t=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;0<r&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],ot(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;r=t[17];null!==r&&n!==r&&(a=t,r=(n=r)[9],a[16]!==a[3][3][16]&&(n[2]=!0),null===r?n[9]=[a]:r.push(a));var a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,r,this._lContainer,t),Ii(i,r,!0,Bi(t,this._lContainer)),e.attachToViewContainerRef(this),ot(this._lContainer[8],t,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),e=Mi(this._lContainer,t);e&&(at(this._lContainer[8],t),Ni(e[1],e))}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),e=Mi(this._lContainer,t);return e&&null!=at(this._lContainer[8],t)?new Zi(e):null}},{key:"_adjustIndex",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Yi(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new or(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Qn(this._hostTNode,this._hostView),t=zn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=e>>16,a=t,s=t[6];1<o;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return-1!==e&&null!=n?new or(n,t):new or(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),o}();var o,a,s,l=r[n.index];return Et(l)?i=l:(4===n.type?o=Ht(l):(o=r[11].createComment(""),It(r)?Di(a=r[11],Vi(a,s=qt(n,r)),o,(s=s,zt(a)?a.nextSibling(s):s.nextSibling)):zi(r[1],r,o,n)),r[n.index]=i=mi(l,r,o,n),yi(r,i)),new Gi(i,n,r)}function to(){var n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return function(e,t){if(n||!At(e))return 3===e.type||0===e.type||4===e.type||5===e.type?new Zi(t[16],t):null;t=$t(e.index,t);return new Zi(t,t)}(on(),tn())}var no=(uo.__NG_ELEMENT_ID__=function(){return ro()},uo),ro=to,io=Function,oo=new He("Set Injector scope."),ao={},so={},lo=[],co=void 0;function uo(){qS(this,uo)}function ho(){return void 0===co&&(co=new tt),co}function fo(e,t,n,r){t=1<arguments.length&&void 0!==t?t:null,n=2<arguments.length&&void 0!==n?n:null,r=3<arguments.length?r:void 0;return new po(e,n,t||ho(),r)}var po=(WS(go,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(r){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:qe,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:he.Default;this.assertNotDestroyed();var n=Ze(this);try{if(!(t&he.SkipSelf)){var i,o=this.records.get(r);if(void 0===o&&(o=(i=("function"==typeof r||"object"==typeof r&&r instanceof He)&&ge(r))&&this.injectableDefInScope(i)?yo(vo(r),ao):null,this.records.set(r,o)),null!=o)return this.hydrate(r,o)}return(t&he.Self?ho():this.parent).get(r,e=t&he.Optional&&e===qe?null:e)}catch(e){if("NullInjectorError"!==e.name)throw e;if((e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(Ce(r)),n)throw e;return function(e,t){var n=e.ngTempTokenPath;throw r.__source&&n.unshift(r.__source),e.message=function(e,t,n,r){var i=3<arguments.length&&void 0!==r?r:null;e=e&&"\n"===e.charAt(0)&&"ɵ"==e.charAt(1)?e.substr(2):e;r=Ce(t);if(Array.isArray(t))r=t.map(Ce).join(" -> ");else if("object"==typeof t){var o,a,s=[];for(o in t)t.hasOwnProperty(o)&&(a=t[o],s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ce(a))));r="{".concat(s.join(", "),"}")}return"".concat("R3InjectorError").concat(i?"("+i+")":"","[").concat(r,"]: ").concat(e.replace(We,"\n  "))}("\n"+e.message,n,"R3InjectorError",t),e.ngTokenPath=n,e.ngTempTokenPath=null,e}(e,this.source)}finally{Ze(n)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var n=[];return this.records.forEach(function(e,t){return n.push(Ce(t))}),"R3Injector[".concat(n.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Te(e)))return!1;var i,o=me(e),a=null==o&&e.ngModule||void 0,s=void 0===a?e:a,l=-1!==n.indexOf(s);if(void 0!==a&&(o=me(a)),null==o)return!1;if(null!=o.imports&&!l&&(n.push(s),it(o.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===i&&(i=[]),i.push(e))}),void 0!==i))for(var c=0;c<i.length;c++)!function(e){var t=(e=i[e]).ngModule,n=e.providers;it(n,function(e){return r.processProvider(e,t,n||lo)})}(c);this.injectorDefTypes.add(s),this.records.set(s,yo(o.factory,ao));var u,h=o.providers;return null==h||l||(u=e,it(h,function(e){return r.processProvider(e,u,h)})),void 0!==a&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r,i,o=bo(e=Te(e))?e:Te(e&&e.provide),r=(r=t,t=n,ko(n=e)?yo(void 0,n.useValue):yo(mo(n,r,t),ao));bo(e)||!0!==e.multi?(t=this.records.get(o))&&void 0!==t.multi&&Pr():((i=this.records.get(o))?void 0===i.multi&&Pr():((i=yo(void 0,ao,!0)).factory=function(){return Xe(i.multi)},this.records.set(o,i)),o=e,i.multi.push(e)),this.records.set(o,r)}},{key:"hydrate",value:function(e,t){var n;return t.value===so?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(Ce(e)):t.value===ao&&(t.value=so,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),go);function go(t,n,e){var r=this,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;qS(this,go),this.parent=e,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&it(n,function(e){return r.processProvider(e,t,n)}),it([t],function(e){return r.processInjectorType(e,[],o)}),this.records.set(Ue,yo(void 0,this));e=this.records.get(oo);this.scope=null!=e?e.value:null,this.source=i||("object"==typeof t?null:Ce(t))}function vo(e){var t=ge(e),t=null!==t?t.factory:Ct(e);if(null!==t)return t;t=me(e);if(null!==t)return t.factory;if(e instanceof He)throw new Error("Token ".concat(Ce(e)," is missing a ɵprov definition."));if(e instanceof Function)return function(e){var t=e.length;if(0<t){t=function(e){for(var t=[],n=0;n<e;n++)t.push("?");return t}(t);throw new Error("Can't resolve all parameters for ".concat(Ce(e),": (").concat(t.join(", "),")."))}var n=function(e){var t=e&&(e[ye]||e[_e]||e[be]&&e[be]());if(t){e=function(e){if(e.hasOwnProperty("name"))return e.name;e=(""+e).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(e,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(e,'" class.')),t}return null}(e);return null!==n?function(){return n.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function mo(e,t,r){var n=void 0;if(bo(e)){var i=Te(e);return Ct(i)||vo(i)}if(ko(e))n=function(){return Te(e.useValue)};else if(e&&e.useFactory)n=function(){return e.useFactory.apply(e,US(Xe(e.deps||[])))};else if(e&&e.useExisting)n=function(){return Qe(Te(e.useExisting))};else{var o=Te(e&&(e.useClass||e.provide));if(o||function(e,t){var n="";throw e&&r&&(n=" - only instances of Provider and Type are allowed, got: [".concat(r.map(function(e){return e==t?"?"+t+"?":"..."}).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(Ce(e),"'")+n)}(t,e),!e.deps)return Ct(o)||vo(o);n=function(){return QS(o,US(Xe(e.deps)))}}return n}function yo(e,t,n){return{factory:e,value:t,multi:2<arguments.length&&void 0!==n&&n?[]:void 0}}function ko(e){return null!==e&&"object"==typeof e&&$e in e}function bo(e){return"function"==typeof e}function _o(e,t,n){return function(e,t,n,r){r=fo(e,1<arguments.length&&void 0!==t?t:null,2<arguments.length&&void 0!==n?n:null,3<arguments.length?r:void 0);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)}var wo=(WS(xo,null,[{key:"create",value:function(e,t){return Array.isArray(e)?_o(e,t,""):_o(e.providers,e.parent,e.name||"")}}]),(Vu=xo).THROW_IF_NOT_FOUND=qe,Vu.NULL=new tt,Vu.ɵprov=fe({token:Vu,providedIn:"any",factory:function(){return Qe(Ue)}}),Vu.__NG_ELEMENT_ID__=-1,Vu),Co=new He("AnalyzeForEntryComponents");function xo(){qS(this,xo)}function So(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=xe(i,s):2==o&&(r=xe(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Eo=null;function To(){if(!Eo){var e=Ne.Symbol;if(e&&e.iterator)Eo=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Eo=r)}}return Eo}var Ao=(WS(Po,null,[{key:"wrap",value:function(e){return new Po(e)}},{key:"unwrap",value:function(e){return Po.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof Po}}]),Po);function Po(e){qS(this,Po),this.wrapped=e}function Ro(e){return!!Io(e)&&(Array.isArray(e)||!(e instanceof Map)&&To()in e)}function Io(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Oo(e,t,n){return e[t]=n}function Mo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function No(e,t,n,r){n=Mo(e,t,n);return Mo(e,t+1,r)||n}function Lo(e,t,n,r){var i,o,a=tn();return Mo(a,dn(),t)&&(nn(),i=En(),o=e,e=t,t=n,n=r,a=qt(i,r=a),r=r[11],null==e?zt(r)?r.removeAttribute(a,o,n):a.removeAttribute(o):(i=null==t?Bn(e):t(e,i.tagName||"",o),zt(r)?r.setAttribute(a,o,i,n):n?a.setAttributeNS(n,o,i):a.setAttribute(o,i))),1}function Do(e,t,n,r){return Mo(e,dn(),n)?t+Bn(n)+r:Dr}function jo(l,e,t,n,c,u,r,i){var o=tn(),a=nn(),s=l+20,t=a.firstCreatePass?function(e,t,n,r,i,o){var a=e.consts,s=Jr(e,t[6],l,0,c||null,Jt(a,u));ci(e,t,s,Jt(a,o)),Pn(e,s);i=s.tViews=ii(2,-1,n,r,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,a),a=ai(0,null,2,-1,null,null);return a.injectorIndex=s.injectorIndex,i.node=a,null!==e.queries&&(e.queries.template(e,s),i.queries=e.queries.embeddedTView(s)),s}(a,o,e,t,n,r):a.data[s];an(t,!1);n=o[11].createComment("");zi(a,o,n,t),Ar(n,o),yi(o,o[s]=mi(n,o,n,t)),Pt(t)&&ti(a,o,t),null!=r&&ni(o,t,i)}function Fo(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:he.Default,n=tn();return null==n?Qe(e,t):Xn(on(),n,Te(e),t)}function Vo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Dn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(on(),e)}function zo(e,t,n){var r=tn();return Mo(r,dn(),t)&&li(nn(),En(),r,e,t,r[11],n,!1),zo}function Bo(e,t,n,r,i){i=i?"class":"style";Ti(e,n,t.inputs[i],i,r)}function Ho(e,t,n,r){var i,o,a,s,l,c=tn(),u=nn(),h=20+e,d=c[11],f=c[h]=Gr(t,d,Xt.lFrame.currentNamespace),l=u.firstCreatePass?(o=c,a=r,s=(i=u).consts,l=Jt(s,n),l=Jr(i,o[6],e,3,t,l),ci(i,o,l,Jt(s,a)),null!==l.attrs&&So(l,l.attrs,!1),null!==l.mergedAttrs&&So(l,l.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,l),l):u.data[h];an(l,!0);h=l.mergedAttrs;null!==h&&Ln(d,f,h);h=l.classes;null!==h&&Wi(d,f,h);h=l.styles;null!==h&&qi(d,f,h),zi(u,c,f,l),0===Xt.lFrame.elementDepthCount&&Ar(f,c),Xt.lFrame.elementDepthCount++,Pt(l)&&(ti(u,c,l),ei(u,l,c)),null!==r&&ni(c,l)}function Uo(){var e=on();sn()?ln():an(e=e.parent,!1);var t=e;Xt.lFrame.elementDepthCount--;var n=nn();n.firstCreatePass&&(Pn(n,e),Tt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&0!=(16&t.flags)&&Bo(n,t,tn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&0!=(32&t.flags)&&Bo(n,t,tn(),t.stylesWithoutHost,!1)}function qo(e,t,n,r){Ho(e,t,n,r),Uo()}function Wo(e,t,n){var r,i,o,a,s,l=tn(),c=nn(),u=e+20,s=c.firstCreatePass?(i=l,o=n,a=(r=c).consts,t=Jt(a,t),s=Jr(r,i[6],e,4,"ng-container",t),null!==t&&So(s,t,!0),ci(r,i,s,Jt(a,o)),null!==r.queries&&r.queries.elementStart(r,s),s):c.data[u];an(s,!0);u=l[u]=l[11].createComment("");zi(c,l,u,s),Ar(u,l),Pt(s)&&(ti(c,l,s),ei(c,s,l)),null!=n&&ni(l,s)}function $o(){var e=on(),t=nn();sn()?ln():an(e=e.parent,!1),t.firstCreatePass&&(Pn(t,e),Tt(e)&&t.queries.elementEnd(e))}function Ko(e){return e&&"function"==typeof e.then}function Go(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length?arguments[3]:void 0,i=tn(),o=nn(),a=on();return Jo(o,i,i[11],a,e,t,n,r),Go}function Zo(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length?arguments[3]:void 0,i=on(),o=tn(),a=nn();return Jo(a,o,Si(pn(a.data),i,o),i,e,t,n,r),1}function Jo(l,e,t,n,r,i,o,a){var s,c,u,h=6<arguments.length&&void 0!==o&&o,d=7<arguments.length?a:void 0,f=Pt(n),p=l.firstCreatePass&&(l.cleanup||(l.cleanup=[])),g=xi(e),v=!0;3===n.type&&(c=qt(n,e),s=(u=d?d(c):ht).target||c,o=g.length,a=d?function(e){return d(Ht(e[n.index])).target}:n.index,zt(t)?(c=null,!d&&f&&(c=function(e,t,n){var r=l.cleanup;if(null!=r)for(var i=0;i<r.length-1;i+=2){var o=r[i];if(o===t&&r[i+1]===n){var a=e[7],s=r[i+2];return a.length>s?a[s]:null}"string"==typeof o&&(i+=2)}return null}(e,r,n.index)),null!==c?((c.__ngLastListenerFn__||c).__ngNextListenerFn__=i,c.__ngLastListenerFn__=i,v=!1):(i=Yo(n,e,i,!1),u=t.listen(u.name||s,r,i),g.push(i,u),p&&p.push(r,a,o,o+1))):(i=Yo(n,e,i,!0),s.addEventListener(r,i,h),g.push(i),p&&p.push(r,a,o,h)));var m,h=n.outputs;if(v&&null!==h&&(m=h[r])){var y=m.length;if(y)for(var k=0;k<y;k+=2){var b=e[m[k]][m[k+1]].subscribe(i),_=g.length;g.push(i,b),p&&p.push(r,n.index,_,-(_+1))}}}function Qo(t,e,n){try{return!1!==e(n)}catch(e){return Ei(t,e),!1}}function Yo(o,a,s,l){return function e(t){if(t===Function)return s;var n=2&o.flags?$t(o.index,a):a;0==(32&a[2])&&ki(n);for(var r=Qo(a,s,t),i=e.__ngNextListenerFn__;i;)r=Qo(a,i,t)&&r,i=i.__ngNextListenerFn__;return l&&!1===r&&(t.preventDefault(),t.returnValue=!1),r}}function Xo(e){e=0<arguments.length&&void 0!==e?e:1;return(Xt.lFrame.contextLView=function(e,t){for(;0<e;)t=t[15],e--;return t}(e,Xt.lFrame.contextLView))[8]}function ea(e,t,n){return ta(e,"",t,"",n),1}function ta(e,t,n,r,i){var o=tn(),r=Do(o,t,n,r);return r!==Dr&&li(nn(),En(),o,e,r,o[11],i,!1),1}var na=[];function ra(e,t,n,r){for(var i,o,a=e[n+1],s=null===t,l=(r?qr:Wr)(a),c=!1;0!==l&&(!1===c||s);){var u=e[l+1];i=e[l],o=t,(null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&0<=lt(i,o))&&(c=!0,e[l+1]=r?1|u:2|u),l=(r?qr:Wr)(u)}c&&(e[n+1]=r?2|a:1|a)}function ia(e,t,n){return aa(e,t,n,!1),ia}function oa(e,t){return aa(e,t,null,!0),oa}function aa(e,t,n,r){var i,o,a,s,l,c,u,h,d,f,p,g,v,m,y,k=tn(),b=nn(),_=(g=(p=Xt.lFrame).bindingIndex,p.bindingIndex=p.bindingIndex+2,g);b.firstUpdatePass&&(o=e,a=_,s=r,null===(y=(i=b).data)[a+1]&&(l=y[xn()+20],c=a>=i.expandoStartIndex,0==(l.flags&(s?16:32))||null!==o||c||(o=!1),h=l,d=o,f=s,v=pn(u=y),m=f?h.residualClasses:h.residualStyles,null===v?0===(f?h.classBindings:h.styleBindings)&&(d=la(d=sa(null,u,h,d,f),h.attrs,f),m=null):-1!==(p=h.directiveStylingLast)&&u[p]===v||(d=sa(v,u,h,d,f),null===m?void 0!==(g=function(){var e=f?h.classBindings:h.styleBindings;if(0!==Wr(e))return u[qr(e)]}())&&Array.isArray(g)&&(i=f,g=g=la(g=sa(null,p=u,v=h,g[1],f),h.attrs,f),p[qr(i?v.classBindings:v.styleBindings)]=g):m=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=la(r,e[o].hostAttrs,n);return la(r,t.attrs,n)}(u,h,f)),void 0!==m&&(f?h.residualClasses=m:h.residualStyles=m),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=qr(a),l=Wr(a);e[r]=n;var c,u=!1;Array.isArray(n)?(null===(c=n[1])||0<lt(n,c))&&(u=!0):c=n,i?0!==l?(i=qr(e[s+1]),e[r+1]=Ur(i,s),0!==i&&(e[i+1]=$r(e[i+1],r)),e[s+1]=131071&e[s+1]|r<<17):(e[r+1]=Ur(s,0),0!==s&&(e[s+1]=$r(e[s+1],r)),s=r):(e[r+1]=Ur(l,0),0===s?s=r:e[l+1]=$r(e[l+1],r),l=r),u&&(e[r+1]=2|e[r+1]),ra(e,c,r,!0),ra(e,c,r,!1),u=e,e=r,null!=(r=o?t.residualClasses:t.residualStyles)&&"string"==typeof c&&0<=lt(r,c)&&(u[e+1]=1|u[e+1]),a=Ur(s,l),o?t.classBindings=a:t.styleBindings=a}(y,l,o=d,a,c,s))),t!==Dr&&Mo(k,_,t)&&(c=(a=b).data[xn()+20],b=(s=k)[11],e=e,n=k[_+1]=(null==(t=t)||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ce(vr(t)))),t),t=r,r=_,3===c.type&&(ua(1==(1&(a=(_=a.data)[r+1]))?ca(_,c,s,e,Wr(a),t):void 0)||(ua(n)||2==(2&a)&&(n=ca(_,null,s,e,r,t)),r=b,b=t,t=Ut(xn(),s),s=e,e=n,n=zt(r),b?e?n?r.addClass(t,s):t.classList.add(s):n?r.removeClass(t,s):t.classList.remove(s):(b=-1==s.indexOf("-")?void 0:2,null==e?n?r.removeStyle(t,s,b):t.style.removeProperty(s):n?r.setStyle(t,s,e,b):t.style.setProperty(s,e)))))}function sa(e,t,n,r,i){var o,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=la(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function la(e,t,n){var r,i,o,a=n?1:2,s=-1;if(null!==t)for(var l=0;l<t.length;l++){var c=t[l];"number"==typeof c?s=c:s===a&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),r=e,i=c,o=!!n||t[++l],c=void 0,0<=(c=lt(r,i))?r[1|c]=o:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);t<i;)e[i]=e[i-2],i--;e[t]=n,e[1+t]=r}}(r,c=~c,i,o))}return void 0===e?null:e}function ca(e,t,n,r,i,o){for(var a=null===t,s=void 0;0<i;){var l=e[i],c=Array.isArray(l),u=c?l[1]:l,h=null===u,d=n[i+1];d===Dr&&(d=h?na:void 0);d=h?st(d,r):u===r?d:void 0;if(c&&!ua(d)&&(d=st(l,r)),ua(d)&&(s=d,a))return s;d=e[i+1];i=(a?qr:Wr)(d)}return null===t||null!=(t=o?t.residualClasses:t.residualStyles)&&(s=st(t,r)),s}function ua(e){return void 0!==e}function ha(e,t){var n=1<arguments.length&&void 0!==t?t:"",r=tn(),i=nn(),t=e+20,e=i.firstCreatePass?Jr(i,r[6],e,3,null,null):i.data[t],t=r[t]=(t=n,zt(n=r[11])?n.createText(t):n.createTextNode(t));zi(i,r,t,e),an(e,!1)}function da(e,t,n){var r=tn(),n=Do(r,e,t,n);return n!==Dr&&function(e,t,n){t=Ut(t,e),e=e[11];zt(e)?e.setValue(t,n):t.textContent=n}(r,xn(),n),1}function fa(e,t,n){var r=tn();return Mo(r,dn(),t)&&li(nn(),En(),r,e,t,r[11],n,!0),1}function pa(e,t,n){var r,i,o=tn();return Mo(o,dn(),t)&&li(r=nn(),i=En(),o,e,t,Si(pn(r.data),i,o),n,!0),1}function ga(e,t){var n=Kt(e)[1],e=n.data.length-1;Pn(n,{directiveStart:e,directiveEnd:1+e})}function va(e,t,n,r,i){if(e=Te(e),Array.isArray(e))for(var o=0;o<e.length;o++)va(e[o],t,n,r,i);else{var a,s,l=nn(),c=tn(),u=bo(e)?e:Te(e.provide),h=mo(e),d=on(),f=1048575&d.providerIndexes,p=d.directiveStart,g=d.providerIndexes>>20;bo(e)||!e.multi?(s=new Nn(h,i,Fo),-1===(a=ka(u,t,i?f:f+g,p))?(Yn(Gn(d,c),l,u),ma(l,e,t.length),t.push(u),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),n.push(s),c.push(s)):(n[a]=s,c[a]=s)):(s=ka(u,t,f+g,p),p=ka(u,t,f,f+g),f=0<=s&&n[s],g=0<=p&&n[p],i&&!g||!i&&!f?(Yn(Gn(d,c),l,u),f=function(e,t,n,r,i){e=new Nn(e,n,Fo);return e.multi=[],e.index=t,e.componentProviders=0,ya(e,i,r&&!n),e}(i?_a:ba,n.length,i,r,h),!i&&g&&(n[p].providerFactory=f),ma(l,e,t.length,0),t.push(u),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),n.push(f),c.push(f)):ma(l,e,-1<s?s:p,ya(n[i?p:s],h,!i&&r)),!i&&r&&g&&n[p].componentProviders++)}}function ma(e,t,n,r){var i,o=bo(t);!o&&!t.useClass||(i=(t.useClass||t).prototype.ngOnDestroy)&&(e=e.destroyHooks||(e.destroyHooks=[]),!o&&t.multi?-1===(t=e.indexOf(n))?e.push(n,[r,i]):e[t+1].push(r,i):e.push(n,i))}function ya(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ka(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function ba(e,t,n,r){return wa(this.multi,[])}function _a(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=nr(n,n[1],this.providerFactory.index,r);wa(o,i=s.slice(0,a));for(var l=a;l<s.length;l++)i.push(s[l])}else wa(o,i=[]);return i}function wa(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ca(){qS(this,Ca)}function xa(){qS(this,xa)}var Sa=(WS(Ga,[{key:"resolveComponentFactory",value:function(e){throw t=e,(e=Error("No component factory found for ".concat(Ce(t),". Did you add it to @NgModule.entryComponents?"))).ngComponent=t,e;var t}}]),Ga),Ea=(Ka.NULL=new Sa,Ka),Ta=($a.__NG_ELEMENT_ID__=function(){return Aa($a)},$a),Aa=function(e){return Yi(e,on(),tn())},Pa=((Ku={})[Ku.Important=1]="Important",Ku[Ku.DashCase=2]="DashCase",Ku),Ra=(Wa.__NG_ELEMENT_ID__=function(){return Ia()},Wa),Ia=function(){var t=tn(),n=$t(on().index,t);return function(){var e=(St(n)?n:t)[11];if(zt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}()},Oa=(qa.ɵprov=fe({token:qa,providedIn:"root",factory:function(){return null}}),qa),Ma=new function e(t){qS(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("10.0.14"),Na=(WS(Ua,[{key:"supports",value:Ro},{key:"create",value:function(e){return new Da(e)}}]),Ua),La=function(e,t){return t},Da=(WS(Ha,[{key:"forEachItem",value:function(e){for(var t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Za(n,r,i)?t:n,a=Za(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i=i||[];var l=a-r,c=s-r;if(l!=c){for(var u=0;u<l;u++){var h=u<i.length?i[u]:i[u]=0,d=h+u;c<=d&&d<l&&(i[u]=h+1)}i[o.previousIndex]=c-l}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){for(var t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){for(var t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){for(var t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){for(var t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){for(var t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Ro(e))throw new Error("Error trying to diff '".concat(Ce(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[To()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){for(var e,t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new ja(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==n?e=this._reinsertAfter(n,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Va),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Va),this._unlinkedRecords.put(e),e.currentIndex=null,(e._nextRemoved=null)===this._removalsTail?(this._removalsTail=this._removalsHead=e)._prevRemoved=null:(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),Ha),ja=function e(t,n){qS(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Fa=(WS(Ba,[{key:"add",value:function(e){null===this._head?((this._head=this._tail=e)._nextDup=null,e._prevDup=null):((this._tail._nextDup=e)._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){for(var n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,e=e._nextDup;return null===t?this._head=e:t._nextDup=e,null===e?this._tail=t:e._prevDup=t,null===this._head}}]),Ba),Va=(WS(za,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Fa,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),za);function za(){qS(this,za),this.map=new Map}function Ba(){qS(this,Ba),this._head=null,this._tail=null}function Ha(e){qS(this,Ha),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||La}function Ua(){qS(this,Ua)}function qa(){qS(this,qa)}function Wa(){qS(this,Wa)}function $a(e){qS(this,$a),this.nativeElement=e}function Ka(){qS(this,Ka)}function Ga(){qS(this,Ga)}function Za(e,t,n){var r=e.previousIndex;if(null===r)return r;e=0;return n&&r<n.length&&(e=n[r]),r+t+e}var Ja,Qa,Ya=(WS(ms,[{key:"supports",value:function(e){return e instanceof Map||Io(e)}},{key:"create",value:function(){return new Xa}}]),ms),Xa=(WS(vs,[{key:"forEachItem",value:function(e){for(var t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){for(var t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){for(var t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){for(var t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){for(var t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Io(e)))throw new Error("Error trying to diff '".concat(Ce(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var n=this;this._reset();var r=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,t){r=r&&r.key===t?(n._maybeAddToChanges(r,e),(n._appendAfter=r)._next):(e=n._getOrCreateRecordForKey(t,e),n._insertBeforeOrAppend(r,e))}),r){r._prev&&(r._prev._next=null);for(var t=this._removalsHead=r;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e}return this._appendAfter?(this._appendAfter._next=t)._prev=this._appendAfter:this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}n=new es(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(function(e){return n(t[e],e)})}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),vs),es=function e(t){qS(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},ts=(WS(gs,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat(t.name||typeof t,"'"))}}],[{key:"create",value:function(e,t){return null!=t&&(t=t.factories.slice(),e=e.concat(t)),new gs(e)}},{key:"extend",value:function(t){return{provide:gs,useFactory:function(e){if(!e)throw new Error("Cannot extend IterableDiffers without a parent injector");return gs.create(t,e)},deps:[[gs,new ue,new le]]}}}]),(Qa=gs).ɵprov=fe({token:Qa,providedIn:"root",factory:function(){return new Qa([new Na])}}),Qa),ns=(WS(ps,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,t){return t&&(t=t.factories.slice(),e=e.concat(t)),new ps(e)}},{key:"extend",value:function(t){return{provide:ps,useFactory:function(e){if(!e)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return ps.create(t,e)},deps:[[ps,new ue,new le]]}}}]),(Ja=ps).ɵprov=fe({token:Ja,providedIn:"root",factory:function(){return new Ja([new Ya])}}),Ja),rs=[new Ya],is=new ts([new Na]),os=new ns(rs),as=(fs.__NG_ELEMENT_ID__=function(){return ss(fs,Ta)},fs),ss=function(e,t){return Xi(e,t,on(),tn())},ls=(ds.__NG_ELEMENT_ID__=function(){return cs(ds,Ta)},ds),cs=function(e,t){return eo(e,t,on(),tn())},us={},hs=function(){$S(r,Ea);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this)).ngModule=e,t}return WS(r,[{key:"resolveComponentFactory",value:function(e){e=wt(e);return new bs(e,this.ngModule)}}]),r}();function ds(){qS(this,ds)}function fs(){qS(this,fs)}function ps(e){qS(this,ps),this.factories=e}function gs(e){qS(this,gs),this.factories=e}function vs(){qS(this,vs),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}function ms(){qS(this,ms)}function ys(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}var ks=new He("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Un}}),bs=function(){$S(i,Ca);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this)).componentDef=e,n.ngModule=t,n.componentType=e.type,n.selector=e.selectors.map(Lr).join(","),n.ngContentSelectors=e.ngContentSelectors||[],n.isBoundToModule=!!t,n}return WS(i,[{key:"create",value:function(e,t,n,r){var i,o,a,s,l,c=(r=r||this.ngModule)?(s=e,l=r.injector,{get:function(e,t,n){var r=s.get(e,us,n);return r!==us||t===us?r:l.get(e,t,n)}}):e,u=c.get(xa,Bt),r=c.get(Oa,null),h=u.createRenderer(null,this.componentDef),e=this.componentDef.selectors[0][0]||"div",d=n?function(e,t,n){if(zt(e))return e.selectRootElement(t,n===ut.ShadowDom);t="string"==typeof t?e.querySelector(t):t;return t.textContent="",t}(h,n,this.componentDef.encapsulation):Gr(e,u.createRenderer(null,this.componentDef),"svg"===(a=e.toLowerCase())?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null),a=this.componentDef.onPush?576:528,f={components:[],scheduler:Un,clean:Ci,playerHandler:null,flags:0},p=ii(0,-1,null,1,0,null,null,null,null,null),g=Zr(null,p,f,a,null,null,u,h,r,c);yn(g,null);try{var v,m,y=function(e,t,n,r,i){var o=n[1];n[20]=e;var a=Jr(o,null,0,3,null,null),s=a.mergedAttrs=t.hostAttrs;null!==s&&(So(a,s,!0),null!==e&&(Ln(i,e,s),null!==a.classes&&Wi(i,e,a.classes),null!==a.styles&&qi(i,e,a.styles)));e=r.createRenderer(e,t),e=Zr(n,ri(t),null,t.onPush?64:16,n[20],a,r,e,void 0);return o.firstCreatePass&&(Yn(Gn(a,n),o,t.type),pi(o,a),gi(a,n.length,1)),yi(n,e),n[20]=e}(d,this.componentDef,g,u,h);if(d&&(n?Ln(h,d,["ng-version",Ma.full]):(v=(m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Mr(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0])).attrs,m=m.classes,v&&Ln(h,d,v),m&&0<m.length&&Wi(h,d,m.join(" ")))),o=Wt(p,0),void 0!==t)for(var k=o.projection=[],b=0;b<this.ngContentSelectors.length;b++){var _=t[b];k.push(null!=_?Array.from(_):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=on();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),fi(e,r,1),vi(e,t,n));e=nr(t,e,t.length-1,r);Ar(e,t);r=qt(r,t);return r&&Ar(r,t),e}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach(function(e){return e(a,t)}),t.contentQueries&&t.contentQueries(1,a,n.length-1);i=on();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Sn(i.index-20),ui(i=n[1],t),hi(i,n,t.hostVars),di(t,a)),a}(y,this.componentDef,g,f,[ga]),Qr(p,g,null)}finally{Cn()}c=new _s(this.componentType,i,Yi(Ta,o,g),g,o);return p.node.child=o,c}},{key:"inputs",get:function(){return ys(this.componentDef.inputs)}},{key:"outputs",get:function(){return ys(this.componentDef.outputs)}}]),i}(),_s=function(){$S(s,function(){return function e(){qS(this,e)}}());var a=KS(s);function s(e,t,n,r,i){var o;return qS(this,s),(o=a.call(this)).location=n,o._rootLView=r,o._tNode=i,o.destroyCbs=[],o.instance=t,o.hostView=o.changeDetectorRef=new Ji(r),null==(r=(t=(i=r)[1]).node)&&(t.node=r=ai(0,null,2,-1,null,null)),i[6]=r,o.componentType=e,o}return WS(s,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null,this.hostView.destroyed||this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new or(this._tNode,this._rootLView)}}]),s}(),ws=void 0,Cs=["en",[["a","p"],["AM","PM"],ws],[["AM","PM"],ws,ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ws,"{1} 'at' {0}",ws],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),e=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}],xs={};function Ss(e){return e in xs||(xs[e]=Ne.ng&&Ne.ng.common&&Ne.ng.common.locales&&Ne.ng.common.locales[e]),xs[e]}var Es=((Gu={})[Gu.LocaleId=0]="LocaleId",Gu[Gu.DayPeriodsFormat=1]="DayPeriodsFormat",Gu[Gu.DayPeriodsStandalone=2]="DayPeriodsStandalone",Gu[Gu.DaysFormat=3]="DaysFormat",Gu[Gu.DaysStandalone=4]="DaysStandalone",Gu[Gu.MonthsFormat=5]="MonthsFormat",Gu[Gu.MonthsStandalone=6]="MonthsStandalone",Gu[Gu.Eras=7]="Eras",Gu[Gu.FirstDayOfWeek=8]="FirstDayOfWeek",Gu[Gu.WeekendRange=9]="WeekendRange",Gu[Gu.DateFormat=10]="DateFormat",Gu[Gu.TimeFormat=11]="TimeFormat",Gu[Gu.DateTimeFormat=12]="DateTimeFormat",Gu[Gu.NumberSymbols=13]="NumberSymbols",Gu[Gu.NumberFormats=14]="NumberFormats",Gu[Gu.CurrencyCode=15]="CurrencyCode",Gu[Gu.CurrencySymbol=16]="CurrencySymbol",Gu[Gu.CurrencyName=17]="CurrencyName",Gu[Gu.Currencies=18]="Currencies",Gu[Gu.Directionality=19]="Directionality",Gu[Gu.PluralCase=20]="PluralCase",Gu[Gu.ExtraData=21]="ExtraData",Gu);function Ts(e){var t;null==(t=e)&&function(){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var As=new Map,Ps=function(){$S(a,nt);var o=KS(a);function a(e,t){var n;qS(this,a),(n=o.call(this))._parent=t,n._bootstrapComponents=[],n.injector=ZS(n),n.destroyCbs=[],n.componentFactoryResolver=new hs(ZS(n));var r=xt(e),i=e[Ve]||null;return i&&Ts(i),n._bootstrapComponents=qn(r.bootstrap),n._r3Injector=fo(e,t,[{provide:nt,useValue:ZS(n)},{provide:Ea,useValue:n.componentFactoryResolver}],Ce(e)),n._r3Injector._resolveInjectorDefTypes(),n.instance=n.get(e),n}return WS(a,[{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:wo.THROW_IF_NOT_FOUND,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:he.Default;return e===wo||e===nt||e===Ue?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;e.destroyed||e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),a}(),Rs=function(){$S(r,et);var n=KS(r);function r(e){var t;return qS(this,r),null!==xt((t=n.call(this)).moduleType=e)&&function e(n){null!==n.ɵmod.id&&(function(e,t){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(Ce(t)," vs ").concat(Ce(t.name)))}(t=n.ɵmod.id,As.get(t)),As.set(t,n));var t=n.ɵmod.imports;t instanceof Function&&(t=t()),t&&t.forEach(e)}(e),t}return WS(r,[{key:"create",value:function(e){return new Ps(this.moduleType,e)}}]),r}();function Is(a,e,t,n,r){return function(e,t,n,r,i,o){t+=a;return No(e,t,r,i)?Oo(e,t+2,o?n.call(o,r,i):n(r,i)):Os(e,t+2)}(tn(),hn(),e,t,n,r)}function Os(e,t){t=e[t];return t===Dr?void 0:t}function Ms(e,t){var n=nn(),r=e+20;n.firstCreatePass?(i=function(e,t){if(t)for(var n=t.length-1;0<=n;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,n.pipeRegistry),(n.data[r]=i).onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];var t=i.factory||(i.factory=Ct(i.type)),r=Je(Fo),i=$n(!1),t=t();return $n(i),Je(r),i=n,r=tn(),n=t,(e=e+20)>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),r[e]=n,t}function Ns(e,o,t){var n,r=tn(),i=r[e+20];return t=(n=r)[1].data[e+20].pure?function(e,t,n,r,i){t+=o;return Mo(e,t,r)?Oo(e,t+1,i?n.call(i,r):n(r)):Os(e,t+1)}(r,hn(),i.transform,t,i):i.transform(t),Ao.isWrapped(t)&&(t=Ao.unwrap(t),n[Xt.lFrame.bindingIndex]=Dr),t}var Ls=function(){$S(a,T);var n=KS(a);function a(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return qS(this,a),(e=n.call(this)).__isAsync=t,e}return WS(a,[{key:"emit",value:function(e){zS(YS(a.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(t,n,e){var r,i=function(e){return null},o=function(){return null};t&&"object"==typeof t?(r=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(i=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(o=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(r=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(i=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),e&&(o=this.__isAsync?function(){setTimeout(function(){return e()})}:function(){e()}));o=zS(YS(a.prototype),"subscribe",this).call(this,r,i,o);return t instanceof p&&t.add(o),o}}]),a}();function Ds(){return this._results[To()]()}function js(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;qS(this,js),this.predicate=e,this.descendants=t,this.isStatic=n,this.read=r}var Fs=(WS(Ks,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),Ks),Vs=(WS($s,[{key:"clone",value:function(){return new $s(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),$s),zs=(WS(Ws,[{key:"createEmbeddedView",value:function(e){var t=e.queries;if(null===t)return null;for(var n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[],i=0;i<n;i++){var o=t.getByIndex(i);r.push(this.queries[o.indexInDeclarationView].clone())}return new Ws(r)}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==tl(e,t).matches&&this.queries[t].setDirty()}}]),Ws),Bs=(WS(qs,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(e){for(var t=null,n=0;n<this.length;n++){var r=null!==t?t.length:0,r=this.getByIndex(n).embeddedTView(e,r);r&&(r.indexInDeclarationView=n,null!==t?t.push(r):t=[r])}return null!==t?new qs(t):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),qs),Hs=(WS(Us,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Us(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,function(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}(t,i)),this.matchTNodeWithReadOption(e,t,tr(t,e,i,!1,!1))}else n===as?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,tr(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){var r;null!==n&&(null!==(r=this.metadata.read)?r===Ta||r===ls||r===as&&0===t.type?this.addMatch(t.index,-2):null!==(r=tr(t,e,r,!1,!1))&&this.addMatch(t.index,r):this.addMatch(t.index,n))}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),Us);function Us(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;qS(this,Us),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}function qs(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];qS(this,qs),this.queries=e}function Ws(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];qS(this,Ws),this.queries=e}function $s(e){qS(this,$s),this.queryList=e,this.matches=null}function Ks(){qS(this,Ks),this.dirty=!0,this._results=[],this.changes=new Ls,this.length=0;var e=To(),t=Ks.prototype;t[e]||(t[e]=Ds)}function Gs(e,t,n,r){var i,o,a,s,l,r=t[19].queries[r];if(null===r.matches){for(var c=e.data,u=n.matches,h=[],d=0;d<u.length;d+=2){var f=u[d];h.push(f<0?null:(i=t,o=c[f],a=u[d+1],s=n.metadata.read,f=l=void 0,-1===a?(f=i,3===(l=o).type||4===l.type?Yi(Ta,l,f):0===l.type?Xi(as,Ta,l,f):null):-2===a?(l=i,f=o,(s=s)===Ta?Yi(Ta,f,l):s===as?Xi(as,Ta,f,l):s===ls?eo(ls,Ta,f,l):void 0):nr(i,i[1],a,o)))}r.matches=h}return r.matches}function Zs(e){var t=tn(),n=nn(),r=gn();vn(r+1);var i=tl(n,r);return e.dirty&&Gt(t)===i.metadata.isStatic&&(null===i.matches?e.reset([]):(r=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Gs(t,n,o,r),l=0;l<a.length;l+=2){var c=a[l];if(0<c)i.push(s[l/2]);else{for(var u=a[l+1],h=n[-c],d=10;d<h.length;d++){var f=h[d];f[17]===f[3]&&e(f[1],f,u,i)}if(null!==h[9])for(var p=h[9],g=0;g<p.length;g++){var v=p[g];e(v[1],v,u,i)}}}return i}(n,t,r,[]):Gs(n,t,i,r),e.reset(r),e.notifyOnChanges()),1)}function Js(e,t,n){var r,i;r=nn(),i=tn(),r.firstCreatePass&&el(r,new js(e,t,!1,n),-1),Xs(r,i)}function Qs(e,t,n,r){var i,o,a;i=nn(),o=tn(),a=on(),e=e,i.firstCreatePass&&(el(i,new js(t,n,!1,r),a.index),r=e,e=(a=i).contentQueries||(a.contentQueries=[]),r!==(a.contentQueries.length?e[e.length-1]:-1)&&e.push(a.queries.length-1,r)),Xs(i,o)}function Ys(){return e=tn(),t=gn(),e[19].queries[t].queryList;var e,t}function Xs(e,t){var n=new Fs;oi(e,t,n,n.destroy),null===t[19]&&(t[19]=new zs),t[19].queries.push(new Vs(n))}function el(e,t,n){null===e.queries&&(e.queries=new Bs),e.queries.track(new Hs(t,n))}function tl(e,t){return e.queries.getByIndex(t)}var nl,rl=new He("Application Initializer"),il=(WS(sl,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ko(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),(nl=sl).ɵfac=function(e){return new(e||nl)(Qe(rl,8))},nl.ɵprov=fe({token:nl,factory:nl.ɵfac}),nl),ol=new He("AppId"),al={provide:ol,useFactory:function(){return"".concat(ll()).concat(ll()).concat(ll())},deps:[]};function sl(e){var n=this;qS(this,sl),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}function ll(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function cl(e,t){qS(this,cl),this.ngModuleFactory=e,this.componentFactories=t}function ul(e){return new Rs(e)}function hl(e){var t=ul(e),e=qn(xt(e).declarations).reduce(function(e,t){t=wt(t);return t&&e.push(new bs(t)),e},[]);return new cl(t,e)}var dl,fl,pl=new He("Platform Initializer"),gl=new He("Platform ID"),vl=new He("appBootstrapListener"),ml=(WS(El,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),(fl=El).ɵfac=function(e){return new(e||fl)},fl.ɵprov=fe({token:fl,factory:fl.ɵfac}),fl),yl=new He("LocaleId"),t=new He("DefaultCurrencyCode"),kl=ul,bl=function(e){return Promise.resolve(ul(e))},_l=hl,wl=function(e){return Promise.resolve(hl(e))},Cl=(WS(Sl,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),(dl=Sl).ɵfac=function(e){return new(e||dl)},dl.ɵprov=fe({token:dl,factory:dl.ɵfac}),dl),xl=Promise.resolve(0);function Sl(){qS(this,Sl),this.compileModuleSync=kl,this.compileModuleAsync=bl,this.compileModuleAndAllComponentsSync=_l,this.compileModuleAndAllComponentsAsync=wl}function El(){qS(this,El)}function Tl(e){"undefined"==typeof Zone?xl.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Al=(WS(Pl,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Il,Rl,Rl);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!Pl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(Pl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),Pl);function Pl(e){var s,a,t=e.enableLongStackTrace,n=void 0!==t&&t,t=e.shouldCoalesceEventChangeDetection,e=void 0!==t&&t;if(qS(this,Pl),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ls(!1),this.onMicrotaskEmpty=new Ls(!1),this.onStable=new Ls(!1),this.onError=new Ls(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=(t=Ne.requestAnimationFrame,n=Ne.cancelAnimationFrame,"undefined"!=typeof Zone&&t&&n&&((e=t[Zone.__symbol__("OriginalDelegate")])&&(t=e),(e=n[Zone.__symbol__("OriginalDelegate")])&&(n=e)),{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}.nativeRequestAnimationFrame),a=!!(s=this).shouldCoalesceEventChangeDetection&&s.nativeRequestAnimationFrame&&function(){var e;-1===(e=s).lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ne,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Ml(e),Ol(e)},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Ml(e))},s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:a},onInvokeTask:function(e,t,n,r,i,o){try{return Nl(s),e.invokeTask(n,r,i,o)}finally{a&&"eventTask"===r.type&&a(),Ll(s)}},onInvoke:function(e,t,n,r,i,o,a){try{return Nl(s),e.invoke(n,r,i,o,a)}finally{Ll(s)}},onHasTask:function(e,t,n,r){e.hasTask(n,r),t===n&&("microTask"==r.change?(s._hasPendingMicrotasks=r.microTask,Ml(s),Ol(s)):"macroTask"==r.change&&(s.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,n,r){return e.handleError(n,r),s.runOutsideAngular(function(){return s.onError.emit(r)}),!1}})}function Rl(){}var Il={};function Ol(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Ml(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Nl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ll(e){e._nesting--,Ol(e)}function Dl(e,t){qS(this,Dl),this.name=e,this.token=t}var jl,Fl,Vl,zl=(WS(Gl,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),Gl),Bl=(WS(Kl,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Al.assertNotInAngularZone(),Tl(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(--this._pendingCount,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t,n=this;this.isStable()?Tl(function(){for(;0!==n._callbacks.length;){var e=n._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(n._didWork)}n._didWork=!1}):(t=this.getPendingTasks(),this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0)}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&0<t&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),(Vl=Kl).ɵfac=function(e){return new(e||Vl)(Qe(Al))},Vl.ɵprov=fe({token:Vl,factory:Vl.ɵfac}),Vl),Hl=(WS($l,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return Ul.findTestabilityInTree(this,e,t)}}]),(Fl=$l).ɵfac=function(e){return new(e||Fl)},Fl.ɵprov=fe({token:Fl,factory:Fl.ɵfac}),Fl),Ul=(WS(Wl,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),new Wl),ql=new He("AllowMultipleToken");function Wl(){qS(this,Wl)}function $l(){qS(this,$l),this._applications=new Map,Ul.addToWindow(this)}function Kl(e){var t=this;qS(this,Kl),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){t.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}function Gl(){qS(this,Gl),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ls,this.onMicrotaskEmpty=new Ls,this.onStable=new Ls,this.onError=new Ls}function Zl(n,e,t){var r=2<arguments.length&&void 0!==t?t:[],i="Platform: "+e,o=new He(i);return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=Jl();return t&&!t.injector.get(ql,!1)||(n?n(r.concat(e).concat({provide:o,useValue:!0})):(e=r.concat(e).concat({provide:o,useValue:!0},{provide:oo,useValue:"platform"}),function(e){if(jl&&!jl.destroyed&&!jl.injector.get(ql,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");jl=e.get(Yl),(e=e.get(pl,null))&&e.forEach(function(e){return e()})}(wo.create({providers:e,name:i})))),function(e){var t=Jl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(o)}}function Jl(){return jl&&!jl.destroyed?jl:null}var Ql,Yl=(WS(Xl,[{key:"bootstrapModuleFactory",value:function(n,e){var t,i=this,o=(t=e?e.ngZone:void 0,e=e&&e.ngZoneEventCoalescing||!1,"noop"===t?new zl:("zone.js"===t?void 0:t)||new Al({enableLongStackTrace:br(),shouldCoalesceEventChangeDetection:e})),a=[{provide:Al,useValue:o}];return o.run(function(){var e=wo.create({providers:a,parent:i.injector,name:n.moduleType.name}),r=n.create(e),t=r.injector.get(dr,null);if(!t)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(function(){return ic(i._modules,r)}),o.runOutsideAngular(function(){return o.onError.subscribe({next:function(e){t.handleError(e)}})}),function(t,n){try{e=((e=r.injector.get(il)).runInitializers(),e.donePromise.then(function(){return Ts(r.injector.get(yl,"en-US")||"en-US"),i._moduleDoBootstrap(r),r}));return Ko(e)?e.catch(function(e){throw n.runOutsideAngular(function(){return t.handleError(e)}),e}):e}catch(e){throw n.runOutsideAngular(function(){return t.handleError(e)}),e}var e}(t,o)})}},{key:"bootstrapModule",value:function(e){var t=this,n=ec({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]);return e=new Rs(e),Promise.resolve(e).then(function(e){return t.bootstrapModuleFactory(e,n)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(nc);if(0<e._bootstrapComponents.length)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(Ce(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),(Ql=Xl).ɵfac=function(e){return new(e||Ql)(Qe(wo))},Ql.ɵprov=fe({token:Ql,factory:Ql.ɵfac}),Ql);function Xl(e){qS(this,Xl),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}function ec(e,t){return Array.isArray(t)?t.reduce(ec,e):Object.assign(Object.assign({},e),t)}var tc,nc=(WS(rc,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Ca?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var e=n.isBoundToModule?void 0:this._injector.get(nt),i=n.create(wo.NULL,[],t||n.selector,e);i.onDestroy(function(){r._unloadComponent(i)});e=i.injector.get(Bl,null);return e&&i.injector.get(Hl).registerApplication(i.location.nativeElement,e),this._loadComponent(i),br()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=HS(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(e){n.e(e)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=HS(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(e){i.e(e)}finally{i.f()}}}catch(e){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(e)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(e){ic(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(vl,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),ic(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()})}},{key:"viewCount",get:function(){return this._views.length}}]),(tc=rc).ɵfac=function(e){return new(e||tc)(Qe(Al),Qe(ml),Qe(wo),Qe(dr),Qe(Ea),Qe(il))},tc.ɵprov=fe({token:tc,factory:tc.ɵfac}),tc);function rc(e,t,n,r,i,o){var a=this;qS(this,rc),this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=br(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});i=new _(function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){e.next(a._stable),e.complete()})}),o=new _(function(e){var t;a._zone.runOutsideAngular(function(){t=a._zone.onStable.subscribe(function(){Al.assertNotInAngularZone(),Tl(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Al.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=Q(i,o.pipe(function(e){return Y()((t=e,n="function"==typeof(r=ie)?r:function(){return r},(e=Object.create(t,te)).source=t,e.subjectFactory=n,e));var t,n,r}))}function ic(e,t){t=e.indexOf(t);-1<t&&e.splice(t,1)}function oc(){qS(this,oc)}function ac(){qS(this,ac)}var sc,lc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},cc=(WS(uc,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,e=BS(e.split("#"),2),n=e[0],r=e[1];return void 0===r&&(r="default"),i("zn8P")(n).then(function(e){return e[r]}).then(function(e){return hc(e,n,r)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var e=BS(e.split("#"),2),t=e[0],n=e[1],r="NgFactory";return void 0===n&&(n="default",r=""),i("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(function(e){return e[n+r]}).then(function(e){return hc(e,t,n)})}}]),(sc=uc).ɵfac=function(e){return new(e||sc)(Qe(Cl),Qe(ac,8))},sc.ɵprov=fe({token:sc,factory:sc.ɵfac}),sc);function uc(e,t){qS(this,uc),this._compiler=e,this._config=t||lc}function hc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var dc=Zl(null,"core",[{provide:gl,useValue:"unknown"},{provide:Yl,deps:[wo]},{provide:Hl,deps:[]},{provide:ml,deps:[]}]),fc=[{provide:nc,useClass:nc,deps:[Al,ml,wo,dr,Ea,il]},{provide:ks,deps:[Al],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:il,useClass:il,deps:[[new le,rl]]},{provide:Cl,useClass:Cl,deps:[]},al,{provide:ts,useFactory:function(){return is},deps:[]},{provide:ns,useFactory:function(){return os},deps:[]},{provide:yl,useFactory:function(e){return Ts(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new se(yl),new le,new ue]]},{provide:t,useValue:"USD"}],pc=(mc.ɵmod=yt({type:mc}),mc.ɵinj=pe({factory:function(e){return new(e||mc)(Qe(nc))},providers:fc}),mc),gc={production:!0,configLocal:i("ek6d")},vc=null;function mc(e){qS(this,mc)}var yc,kc=new He("DocumentToken"),bc=((yc=function e(){qS(this,e)}).ɵfac=function(e){return new(e||yc)},yc.ɵprov=fe({factory:function(){return Qe(Cc)},token:yc,providedIn:"platform"}),yc);var _c,wc=new He("Location Initialized"),Cc=((_c=function(){$S(r,bc);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this))._doc=e,t._init(),t}return WS(r,[{key:"_init",value:function(){this.location=vc.getLocation(),this._history=vc.getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return vc.getBaseHref(this._doc)}},{key:"onPopState",value:function(e){vc.getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){vc.getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){xc()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){xc()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),r}()).ɵfac=function(e){return new(e||_c)(Qe(kc))},_c.ɵprov=fe({factory:function(){return new Cc(Qe(kc))},token:_c,providedIn:"platform"}),_c);function xc(){return window.history.pushState}function Sc(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Ec(e){var t=e.match(/#|\?|$/),t=t&&t.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Tc(e){return e&&"?"!==e[0]?"?"+e:e}var Ac,Pc=((Ac=function e(){qS(this,e)}).ɵfac=function(e){return new(e||Ac)},Ac.ɵprov=fe({factory:function(e){var t=Qe(kc).location;return new Nc(Qe(bc),t&&t.origin||"")},token:Ac,providedIn:"root"}),Ac);var Rc,Ic,Oc,Mc=new He("appBaseHref"),Nc=((Oc=function(){$S(i,Pc);var r=KS(i);function i(e,t){var n;if(qS(this,i),(n=r.call(this))._platformLocation=e,null==t&&(t=n._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return n._baseHref=t,GS(n)}return WS(i,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Sc(this._baseHref,e)}},{key:"path",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Tc(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){r=this.prepareExternalUrl(n+Tc(r));this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,r){r=this.prepareExternalUrl(n+Tc(r));this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),i}()).ɵfac=function(e){return new(e||Oc)(Qe(bc),Qe(Mc,8))},Oc.ɵprov=fe({token:Oc,factory:Oc.ɵfac}),Oc),Lc=((Ic=function(){$S(i,Pc);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this))._platformLocation=e,n._baseHref="",null!=t&&(n._baseHref=t),n}return WS(i,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),0<e.length?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){e=Sc(this._baseHref,e);return 0<e.length?"#"+e:e}},{key:"pushState",value:function(e,t,n,r){r=this.prepareExternalUrl(n+Tc(r));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,r){r=this.prepareExternalUrl(n+Tc(r));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),i}()).ɵfac=function(e){return new(e||Ic)(Qe(bc),Qe(Mc,8))},Ic.ɵprov=fe({token:Ic,factory:Ic.ɵfac}),Ic),Dc=(WS(jc,[{key:"path",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Tc(t))}},{key:"normalize",value:function(e){return jc.stripTrailingSlash((t=this._baseHref,e=Fc(e),t&&e.startsWith(t)?e.substring(t.length):e));var t}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Tc(t)),n)}},{key:"replaceState",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Tc(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length?arguments[1]:void 0;this._urlChangeListeners.forEach(function(e){return e(t,n)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),(Rc=jc).ɵfac=function(e){return new(e||Rc)(Qe(Pc),Qe(bc))},Rc.normalizeQueryParams=Tc,Rc.joinWithSlash=Sc,Rc.stripTrailingSlash=Ec,Rc.ɵprov=fe({factory:function(){return new Dc(Qe(Pc),Qe(bc))},token:Rc,providedIn:"root"}),Rc);function jc(e,t){var n=this;qS(this,jc),this._subject=new Ls,this._urlChangeListeners=[],this._platformStrategy=e;e=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Ec(Fc(e)),this._platformStrategy.onPopState(function(e){n._subject.emit({url:n.path(!0),pop:!0,state:e.state,type:e.type})})}function Fc(e){return e.replace(/\/index.html$/,"")}function Vc(){qS(this,Vc)}var zc,Bc=((ap={})[ap.Zero=0]="Zero",ap[ap.One=1]="One",ap[ap.Two=2]="Two",ap[ap.Few=3]="Few",ap[ap.Many=4]="Many",ap[ap.Other=5]="Other",ap),Re=((zc=function(){$S(r,Vc);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this)).locale=e,t}return WS(r,[{key:"getPluralCategory",value:function(e,t){switch(function(e){var t=e.toLowerCase().replace(/_/g,"-"),n=Ss(t);if(n)return n;t=t.split("-")[0];if(n=Ss(t))return n;if("en"===t)return Cs;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(t||this.locale)[Es.PluralCase](e)){case Bc.Zero:return"zero";case Bc.One:return"one";case Bc.Two:return"two";case Bc.Few:return"few";case Bc.Many:return"many";default:return"other"}}}]),r}()).ɵfac=function(e){return new(e||zc)(Qe(yl))},zc.ɵprov=fe({token:zc,factory:zc.ɵfac}),zc);function Hc(e,t){t=encodeURIComponent(t);var n=HS(e.split(";"));try{for(n.s();!(i=n.n()).done;){var r=i.value,i=r.indexOf("="),r=BS(-1==i?[r,""]:[r.slice(0,i),r.slice(i+1)],2),i=r[0],r=r[1];if(i.trim()===t)return decodeURIComponent(r)}}catch(e){n.e(e)}finally{n.f()}return null}var Uc,qc,Wc=(WS(Jc,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),Jc),Me=(WS(Zc,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat(t.name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;!this._differ||(e=this._differ.diff(this._ngForOf))&&this._applyChanges(e)}},{key:"_applyChanges",value:function(e){var i=this,o=[];e.forEachOperation(function(e,t,n){var r;null==e.previousIndex?(r=i._viewContainer.createEmbeddedView(i._template,new Wc(null,i._ngForOf,-1,-1),null===n?void 0:n),r=new $c(e,r),o.push(r)):null==n?i._viewContainer.remove(null===t?void 0:t):null!==t&&(t=i._viewContainer.get(t),i._viewContainer.move(t,n),t=new $c(e,t),o.push(t))});for(var t=0;t<o.length;t++)this._perViewChange(o[t].view,o[t].record);for(var n=0,r=this._viewContainer.length;n<r;n++){var a=this._viewContainer.get(n);a.context.index=n,a.context.count=r,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){i._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){br()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),(Uc=Zc).ɵfac=function(e){return new(e||Uc)(Fo(ls),Fo(as),Fo(ts))},Uc.ɵdir=bt({type:Uc,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Uc),$c=function e(t,n){qS(this,e),this.record=t,this.view=n},Ie=(WS(Gc,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Qc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Qc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),(qc=Gc).ɵfac=function(e){return new(e||qc)(Fo(ls),Fo(as))},qc.ɵdir=bt({type:qc,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),qc),Kc=function e(){qS(this,e),this.$implicit=null,this.ngIf=null};function Gc(e,t){qS(this,Gc),this._viewContainer=e,this._context=new Kc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}function Zc(e,t,n){qS(this,Zc),this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}function Jc(e,t,n,r){qS(this,Jc),this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}function Qc(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Ce(t),"'."))}var Yc,Xc,eu,tu,nu=(WS(hu,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),hu),ru=(WS(uu,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){e=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),(tu=uu).ɵfac=function(e){return new(e||tu)},tu.ɵdir=bt({type:tu,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),tu),Oe=(WS(cu,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),(eu=cu).ɵfac=function(e){return new(e||eu)(Fo(ls),Fo(as),Fo(ru,1))},eu.ɵdir=bt({type:eu,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),eu),iu=((Xc=function e(t,n,r){qS(this,e),r._addDefault(new nu(t,n))}).ɵfac=function(e){return new(e||Xc)(Fo(ls),Fo(as),Fo(ru,1))},Xc.ɵdir=bt({type:Xc,selectors:[["","ngSwitchDefault",""]]}),Xc),ou=((Yc=function e(){qS(this,e)}).ɵmod=yt({type:Yc}),Yc.ɵinj=pe({factory:function(e){return new(e||Yc)},providers:[{provide:Vc,useClass:Re}]}),Yc),au=((Jp=function e(){qS(this,e)}).ɵprov=fe({token:Jp,providedIn:"root",factory:function(){return new su(Qe(kc),window,Qe(dr))}}),Jp),su=(WS(lu,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){!this.supportsScrolling()||(e=this.document.getElementById(e)||this.document.getElementsByName(e)[0])&&this.scrollToElement(e)}},{key:"setHistoryScrollRestoration",value:function(e){var t;!this.supportScrollRestoration()||(t=this.window.history)&&t.scrollRestoration&&(t.scrollRestoration=e)}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,e=t.top+this.window.pageYOffset,t=this.offset();this.window.scrollTo(n-t[0],e-t[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.window||!this.window.scrollTo)return!1;var e=du(this.window.history)||du(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window.scrollTo}catch(e){return!1}}}]),lu);function lu(e,t,n){qS(this,lu),this.document=e,this.window=t,this.errorHandler=n,this.offset=function(){return[0,0]}}function cu(e,t,n){qS(this,cu),(this.ngSwitch=n)._addCase(),this._view=new nu(e,t)}function uu(){qS(this,uu),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}function hu(e,t){qS(this,hu),this._viewContainerRef=e,this._templateRef=t,this._created=!1}function du(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var fu,pu,gu,vu,mu=function(e){$S(n,e);var t=KS(n);function n(){return qS(this,n),t.apply(this,arguments)}return WS(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t=(yu=yu||document.querySelector("base"))?yu.getAttribute("href"):null;return null==t?null:(t=t,(fu=fu||document.createElement("a")).setAttribute("href",t),"/"===fu.pathname.charAt(0)?fu.pathname:"/"+fu.pathname)}},{key:"resetBaseElement",value:function(){yu=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Hc(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e=new n;vc=vc||e}}]),n}(function(){$S(t,function(){return function e(){qS(this,e)}}());var e=KS(t);function t(){return qS(this,t),e.call(this)}return WS(t,[{key:"supportsDOMEvents",value:function(){return!0}}]),t}()),yu=null,ku=new He("TRANSITION_ID"),bu=[{provide:rl,useFactory:function(n,e,t){return function(){t.get(il).donePromise.then(function(){var t=vc;Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===n}).forEach(function(e){return t.remove(e)})})}},deps:[ku,kc,wo],multi:!0}],_u=(WS(Ou,[{key:"addToWindow",value:function(n){Ne.getAngularTestability=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],t=n.findTestabilityInTree(e,t);if(null==t)throw new Error("Could not find testability for element.");return t},Ne.getAllAngularTestabilities=function(){return n.getAllTestabilities()},Ne.getAllAngularRootElements=function(){return n.getAllRootElements()},Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(function(t){function n(e){i=i||e,0==--r&&t(i)}var e=Ne.getAllAngularTestabilities(),r=e.length,i=!1;e.forEach(function(e){e.whenStable(n)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?vc.isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var e=new Ou;Ul=e}}]),Ou),wu=new He("EventManagerPlugins"),Cu=(WS(Iu,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),(pu=Iu).ɵfac=function(e){return new(e||pu)(Qe(wu),Qe(Al))},pu.ɵprov=fe({token:pu,factory:pu.ɵfac}),pu),xu=(WS(Ru,[{key:"addGlobalEventListener",value:function(e,t,n){e=vc.getGlobalEventTarget(this._doc,e);if(!e)throw new Error("Unsupported event target ".concat(e," for event ").concat(t));return this.addEventListener(e,t,n)}}]),Ru),Su=(WS(Pu,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),(vu=Pu).ɵfac=function(e){return new(e||vu)},vu.ɵprov=fe({token:vu,factory:vu.ɵfac}),vu),Eu=((gu=function(){$S(r,Su);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this))._doc=e,t._hostNodes=new Set,t._styleNodes=new Set,t._hostNodes.add(e.head),t}return WS(r,[{key:"_addStylesToHost",value:function(e,n){var r=this;e.forEach(function(e){var t=r._doc.createElement("style");t.textContent=e,r._styleNodes.add(n.appendChild(t))})}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(t){var n=this;this._hostNodes.forEach(function(e){return n._addStylesToHost(t,e)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(e){return vc.remove(e)})}}]),r}()).ɵfac=function(e){return new(e||gu)(Qe(kc))},gu.ɵprov=fe({token:gu,factory:gu.ɵfac}),gu),Tu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Au=/%COMP%/g;function Pu(){qS(this,Pu),this._stylesSet=new Set}function Ru(e){qS(this,Ru),this._doc=e}function Iu(e,t){var n=this;qS(this,Iu),this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=n}),this._plugins=e.slice().reverse()}function Ou(){qS(this,Ou)}function Mu(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Mu(e,i,n):(i=i.replace(Au,e),n.push(i))}return n}function Nu(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Lu,Du,ju,Fu,Vu=(WS(Qu,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ut.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Bu(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case ut.Native:case ut.ShadowDom:return new Hu(this.eventManager,this.sharedStylesHost,e,t);default:return this.rendererByCompId.has(t.id)||(n=Mu(t.id,t.styles,[]),this.sharedStylesHost.addStyles(n),this.rendererByCompId.set(t.id,this.defaultRenderer)),this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),(Lu=Qu).ɵfac=function(e){return new(e||Lu)(Qe(Cu),Qe(Eu),Qe(ol))},Lu.ɵprov=fe({token:Lu,factory:Lu.ɵfac}),Lu),zu=(WS(Ju,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Tu[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){r?(t=r+":"+t,(r=Tu[r])?e.setAttributeNS(r,t,n):e.setAttribute(t,n)):e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){var r;n?(r=Tu[n])?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t)):e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&Pa.DashCase?e.style.setProperty(t,n,r&Pa.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&Pa.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Nu(n)):this.eventManager.addEventListener(e,t,Nu(n))}}]),Ju),Bu=function(){$S(a,zu);var o=KS(a);function a(e,t,n,r){var i;qS(this,a);e=Mu(r+"-"+((i=o.call(this,e)).component=n).id,n.styles,[]);return t.addStyles(e),i.contentAttr="_ngcontent-%COMP%".replace(Au,r+"-"+n.id),i.hostAttr=(n=r+"-"+n.id,"_nghost-%COMP%".replace(Au,n)),i}return WS(a,[{key:"applyToHost",value:function(e){zS(YS(a.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){t=zS(YS(a.prototype),"createElement",this).call(this,e,t);return zS(YS(a.prototype),"setAttribute",this).call(this,t,this.contentAttr,""),t}}]),a}(),Hu=function(){$S(c,zu);var l=KS(c);function c(e,t,n,r){var i;qS(this,c),(i=l.call(this,e)).sharedStylesHost=t,i.hostEl=n,i.component=r,i.shadowRoot=r.encapsulation===ut.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var o=Mu(r.id,r.styles,[]),a=0;a<o.length;a++){var s=document.createElement("style");s.textContent=o[a],i.shadowRoot.appendChild(s)}return i}return WS(c,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return zS(YS(c.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,n){return zS(YS(c.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,n)}},{key:"removeChild",value:function(e,t){return zS(YS(c.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(zS(YS(c.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),c}(),Sa=((Du=function(){$S(n,xu);var t=KS(n);function n(e){return qS(this,n),t.call(this,e)}return WS(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}()).ɵfac=function(e){return new(e||Du)(Qe(kc))},Du.ɵprov=fe({token:Du,factory:Du.ɵfac}),Du),Uu=["alt","control","meta","shift"],qu={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},$u={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Ku=((ju=function(){$S(o,xu);var t=KS(o);function o(e){return qS(this,o),t.call(this,e)}return WS(o,[{key:"supports",value:function(e){return null!=o.parseEventName(e)}},{key:"addEventListener",value:function(e,t,n){var r=o.parseEventName(t),i=o.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return vc.onAndCancel(e,r.domEventName,i)})}}],[{key:"parseEventName",value:function(e){var n=e.toLowerCase().split("."),t=n.shift();if(0===n.length||"keydown"!==t&&"keyup"!==t)return null;var e=o._normalizeKey(n.pop()),r="";if(Uu.forEach(function(e){var t=n.indexOf(e);-1<t&&(n.splice(t,1),r+=e+".")}),r+=e,0!=n.length||0===e.length)return null;e={};return e.domEventName=t,e.fullKey=r,e}},{key:"getEventFullKey",value:function(t){var n="",r=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Wu.hasOwnProperty(t)&&(t=Wu[t]))}return qu[t]||t}(t);return" "===(r=r.toLowerCase())?r="space":"."===r&&(r="dot"),Uu.forEach(function(e){e!=r&&(0,$u[e])(t)&&(n+=e+".")}),n+=r}},{key:"eventCallback",value:function(t,n,r){return function(e){o.getEventFullKey(e)===t&&r.runGuarded(function(){return n(e)})}}},{key:"_normalizeKey",value:function(e){return"esc"!==e?e:"escape"}}]),o}()).ɵfac=function(e){return new(e||ju)(Qe(kc))},ju.ɵprov=fe({token:ju,factory:ju.ɵfac}),ju),rs=Zl(dc,"browser",[{provide:gl,useValue:"browser"},{provide:pl,useValue:function(){mu.makeCurrent(),_u.init()},multi:!0},{provide:kc,useFactory:function(){return e=document,Vt=e,document;var e},deps:[]}]),ws=[[],{provide:oo,useValue:"root"},{provide:dr,useFactory:function(){return new dr},deps:[]},{provide:wu,useClass:Sa,multi:!0,deps:[kc,Al,gl]},{provide:wu,useClass:Ku,multi:!0,deps:[kc]},[],{provide:Vu,useClass:Vu,deps:[Cu,Eu,ol]},{provide:xa,useExisting:Vu},{provide:Su,useExisting:Eu},{provide:Eu,useClass:Eu,deps:[kc]},{provide:Bl,useClass:Bl,deps:[Al]},{provide:Cu,useClass:Cu,deps:[wu,Al]},[]],Gu=(WS(Zu,null,[{key:"withServerTransition",value:function(e){return{ngModule:Zu,providers:[{provide:ol,useValue:e.appId},{provide:ku,useExisting:ol},bu]}}}]),(Fu=Zu).ɵmod=yt({type:Fu}),Fu.ɵinj=pe({factory:function(e){return new(e||Fu)(Qe(Fu,12))},providers:ws,imports:[ou,pc]}),Fu);function Zu(e){if(qS(this,Zu),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}function Ju(e){qS(this,Ju),this.eventManager=e,this.data=Object.create(null)}function Qu(e,t,n){qS(this,Qu),this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new zu(e)}var Yu=function(){$S(r,T);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this))._value=e,t}return WS(r,[{key:"_subscribe",value:function(e){var t=zS(YS(r.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}},{key:"next",value:function(e){zS(YS(r.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),r}(),ks=function(e){$S(i,e);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this,e,t)).scheduler=e,n.work=t,n}return WS(i,[{key:"schedule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return 0<t?zS(YS(i.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return 0<t||this.closed?zS(YS(i.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return null!==n&&0<n||null===n&&0<this.delay?zS(YS(i.prototype),"requestAsyncId",this).call(this,e,t,n):e.flush(this)}}]),i}(function(e){$S(i,e);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this,e,t)).scheduler=e,n.work=t,n.pending=!1,n}return WS(i,[{key:"schedule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,e=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(e,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(e,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;t=this._execute(e,t);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),i}(function(){$S(r,p);var n=KS(r);function r(e,t){return qS(this,r),n.call(this)}return WS(r,[{key:"schedule",value:function(e){return this}}]),r}())),Xu=(WS(rh,[{key:"schedule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),(al=rh).now=function(){return Date.now()},al),eh=new(function(e){$S(n,e);var t=KS(n);function n(){return qS(this,n),t.apply(this,arguments)}return n}(function(){$S(i,Xu);var r=KS(i);function i(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Xu.now;return qS(this,i),(t=r.call(this,e,function(){return i.delegate&&i.delegate!==ZS(t)?i.delegate.now():n()})).actions=[],t.active=!1,t.scheduled=void 0,t}return WS(i,[{key:"schedule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length?arguments[2]:void 0;return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):zS(YS(i.prototype),"schedule",this).call(this,e,t,n)}},{key:"flush",value:function(e){var t,n=this.actions;if(this.active)n.push(e);else{this.active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=n.shift());if(this.active=!1,t){for(;e=n.shift();)e.unsubscribe();throw t}}}}]),i}()))(ks),th=eh,nh=new _(function(e){return e.complete()});function rh(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:rh.now;qS(this,rh),this.SchedulerAction=e,this.now=t}function ih(e){return e?(t=e,new _(function(e){return t.schedule(function(){return e.complete()})})):nh;var t}function oh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return R(r)?(t.pop(),z(t,r)):J(t)}function ah(t,n){return new _(n?function(e){return n.schedule(sh,0,{error:t,subscriber:e})}:function(e){return e.error(t)})}function sh(e){var t=e.error;e.subscriber.error(t)}var lh=(WS(gh,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return oh(this.value);case"E":return ah(this.error);case"C":return ih()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new gh("N",e):gh.undefinedValueNotification}},{key:"createError",value:function(e){return new gh("E",void 0,e)}},{key:"createComplete",value:function(){return gh.completeNotification}}]),(ns=gh).completeNotification=new ns("C"),ns.undefinedValueNotification=new ns("N",void 0),ns),ch=(WS(ph,[{key:"call",value:function(e,t){return t.subscribe(new uh(e,this.scheduler,this.delay))}}]),ph),uh=function(){$S(i,m);var r=KS(i);function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return qS(this,i),(e=r.call(this,e)).scheduler=t,e.delay=n,e}return WS(i,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(i.dispatch,this.delay,new hh(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(lh.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(lh.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(lh.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,e=e.destination;t.observe(e),this.unsubscribe()}}]),i}(),hh=function e(t,n){qS(this,e),this.notification=t,this.destination=n},dh=function(){$S(t,m);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),t}(),fh=function(){$S(o,m);var i=KS(o);function o(e,t,n){var r;return qS(this,o),(r=i.call(this)).parent=e,r.outerValue=t,r.outerIndex=n,r.index=0,r}return WS(o,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),o}();function ph(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;qS(this,ph),this.scheduler=e,this.delay=t}function gh(e,t,n){qS(this,gh),this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}function vh(e,t,n,r,i){r=4<arguments.length&&void 0!==i?i:new fh(e,n,r);if(!r.closed)return t instanceof _?t.subscribe(r):V(t)(r)}var mh=(WS(kh,[{key:"call",value:function(e,t){return t.subscribe(new yh(e,this.observables,this.project))}}]),kh),yh=function(){$S(l,dh);var s=KS(l);function l(e,t,n){var r;qS(this,l),(r=s.call(this,e)).observables=t,r.project=n,r.toRespond=[];var i=t.length;r.values=new Array(i);for(var o=0;o<i;o++)r.toRespond.push(o);for(var a=0;a<i;a++)r.add(vh(ZS(r),t[a],void 0,a));return r}return WS(l,[{key:"notifyNext",value:function(e,t,n){this.values[n]=t;t=this.toRespond;0<t.length&&(-1!==(n=t.indexOf(n))&&t.splice(n,1))}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){0===this.toRespond.length&&(e=[e].concat(US(this.values)),this.project?this._tryProject(e):this.destination.next(e))}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)}}]),l}();function kh(e,t){qS(this,kh),this.observables=e,this.project=t}function bh(t,n){var r=2<=arguments.length?!0:!1;return function(e){return e.lift(new _h(t,n,r))}}var _h=(WS(Ch,[{key:"call",value:function(e,t){return t.subscribe(new wh(e,this.accumulator,this.seed,this.hasSeed))}}]),Ch),wh=function(){$S(o,m);var i=KS(o);function o(e,t,n,r){return qS(this,o),(e=i.call(this,e)).accumulator=t,e._seed=n,e.hasSeed=r,e.index=0,e}return WS(o,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),o}();function Ch(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];qS(this,Ch),this.accumulator=e,this.seed=t,this.hasSeed=n}function xh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return I((i=t,o=r,function(e){for(var t=e,n=0;n<o;n++){var r=null!=t?t[i[n]]:void 0;if(void 0===r)return;t=r}return t}))(e);var i,o}}function Sh(t,n){return function(e){return e.lift(new Th(t,n))}}var Eh,Th=(WS(ed,[{key:"call",value:function(e,t){return t.subscribe(new Ah(e,this.compare,this.keySelector))}}]),ed),Ah=function(){$S(i,m);var r=KS(i);function i(e,t,n){return qS(this,i),(e=r.call(this,e)).keySelector=n,e.hasKey=!1,"function"==typeof t&&(e.compare=t),e}return WS(i,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){try{var t=this.keySelector,n=t?t(e):e}catch(e){return this.destination.error(e)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,n)}catch(e){return this.destination.error(e)}else this.hasKey=!0;r||(this.key=n,this.destination.next(e))}}]),i}(),Ph={},Rh="@ngrx/store/init",Ih=((Eh=function(){$S(t,Yu);var e=KS(t);function t(){return qS(this,t),e.call(this,{type:Rh})}return WS(t,[{key:"next",value:function(e){if("function"==typeof e)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===e)throw new TypeError("Actions must be objects");if(void 0===e.type)throw new TypeError("Actions must have a type property");zS(YS(t.prototype),"next",this).call(this,e)}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){zS(YS(t.prototype),"complete",this).call(this)}}]),t}()).ɵfac=function(e){return new(e||Eh)},Eh.ɵprov=fe({token:Eh,factory:Eh.ɵfac}),Eh),Oh=[Ih],Mh=new He("@ngrx/store Internal Root Guard"),Nh=new He("@ngrx/store Internal Initial State"),Lh=new He("@ngrx/store Initial State"),Dh=new He("@ngrx/store Reducer Factory"),jh=new He("@ngrx/store Internal Reducer Factory Provider"),Fh=new He("@ngrx/store Initial Reducers"),Vh=new He("@ngrx/store Internal Initial Reducers"),zh=new He("@ngrx/store Store Features"),Bh=new He("@ngrx/store Internal Store Reducers"),Hh=new He("@ngrx/store Internal Feature Reducers"),Uh=new He("@ngrx/store Internal Feature Configs"),qh=new He("@ngrx/store Internal Store Features"),Wh=new He("@ngrx/store Internal Feature Reducers Token"),$h=new He("@ngrx/store Feature Reducers"),Kh=new He("@ngrx/store User Provided Meta Reducers"),Gh=new He("@ngrx/store Meta Reducers"),Zh=new He("@ngrx/store Internal Resolved Meta Reducers"),Jh=new He("@ngrx/store User Runtime Checks Config"),Qh=new He("@ngrx/store Internal User Runtime Checks Config"),Yh=new He("@ngrx/store Internal Runtime Checks"),Xh=new He("@ngrx/store Check if Action types are unique");function ed(e,t){qS(this,ed),this.compare=e,this.keySelector=t}function td(e){for(var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=Object.keys(e),c={},n=0;n<t.length;n++){var r=t[n];"function"==typeof e[r]&&(c[r]=e[r])}var u=Object.keys(c);return function(e,t){e=void 0===e?l:e;for(var n=!1,r={},i=0;i<u.length;i++){var o=u[i],a=e[o],s=(0,c[o])(a,t);r[o]=s,n=n||s!==a}return n?r:e}}function nd(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){if(0===n.length)return e;var t=n[n.length-1];return n.slice(0,-1).reduceRight(function(e,t){return t(e)},t(e))}}function rd(t,e){return Array.isArray(e)&&0<e.length&&(t=nd.apply(null,[].concat(US(e),[t]))),function(e,n){var r=t(e);return function(e,t){return r(e=void 0===e?n:e,t)}}}var id,od,ad,sd=function(){$S(t,_);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return t}(),ld=function(){$S(t,Ih);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return t}(),cd=((id=function(){$S(a,Yu);var o=KS(a);function a(e,t,n,r){var i;return qS(this,a),(i=o.call(this,r(n,t))).dispatcher=e,i.initialState=t,i.reducers=n,i.reducerFactory=r,i}return WS(a,[{key:"addFeature",value:function(e){this.addFeatures([e])}},{key:"addFeatures",value:function(e){e=e.reduce(function(e,t){var i,n=t.reducers,r=t.reducerFactory,o=t.metaReducers,a=t.initialState,s=t.key,a="function"==typeof n?(t=o,i=Array.isArray(t)&&0<t.length?nd.apply(void 0,US(t)):function(e){return e},function(n,r){return n=i(n),function(e,t){return n(e=void 0===e?r:e,t)}}(n,a)):rd(r,o)(n,a);return e[s]=a,e},{});this.addReducers(e)}},{key:"removeFeature",value:function(e){this.removeFeatures([e])}},{key:"removeFeatures",value:function(e){this.removeReducers(e.map(function(e){return e.key}))}},{key:"addReducer",value:function(e,t){this.addReducers(VS({},e,t))}},{key:"addReducers",value:function(e){this.reducers=Object.assign(Object.assign({},this.reducers),e),this.updateReducers(Object.keys(e))}},{key:"removeReducer",value:function(e){this.removeReducers([e])}},{key:"removeReducers",value:function(e){var r=this;e.forEach(function(e){var n,t;r.reducers=(n=r.reducers,t=e,Object.keys(n).filter(function(e){return e!==t}).reduce(function(e,t){return Object.assign(e,VS({},t,n[t]))},{}))}),this.updateReducers(e)}},{key:"updateReducers",value:function(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:e})}},{key:"ngOnDestroy",value:function(){this.complete()}}]),a}()).ɵfac=function(e){return new(e||id)(Qe(ld),Qe(Lh),Qe(Fh),Qe(Dh))},id.ɵprov=fe({token:id,factory:id.ɵfac}),id),ud=[cd,{provide:sd,useExisting:cd},{provide:ld,useExisting:Ih}],hd=((od=function(){$S(t,T);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"ngOnDestroy",value:function(){this.complete()}}]),t}()).ɵfac=function(e){return dd(e||od)},od.ɵprov=fe({token:od,factory:od.ɵfac}),od),dd=lr(hd),fd=[hd],pd=function(){$S(t,_);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return t}(),t=((ad=function(){$S(a,Yu);var o=KS(a);function a(e,t,n,r){var i;qS(this,a),i=o.call(this,r);r=e.pipe(function(t,e){var n=1<arguments.length&&void 0!==e?e:0;return function(e){return e.lift(new ch(t,n))}}(eh)).pipe(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){var t;return"function"==typeof n[n.length-1]&&(t=n.pop()),e.lift(new mh(n,t))}}(t)).pipe(bh(gd,{state:r}));return i.stateSubscription=r.subscribe(function(e){var t=e.state,e=e.action;i.next(t),n.next(e)}),i}return WS(a,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}]),a}()).ɵfac=function(e){return new(e||ad)(Qe(Ih),Qe(sd),Qe(hd),Qe(Lh))},ad.ɵprov=fe({token:ad,factory:ad.ɵfac}),ad.INIT=Rh,ad);function gd(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{state:void 0},t=BS(1<arguments.length?arguments[1]:void 0,2),n=t[0];return{state:(0,t[1])(e.state,n),action:n}}var vd,md=[t,{provide:pd,useExisting:t}],yd=((vd=function(){$S(o,_);var i=KS(o);function o(e,t,n){var r;return qS(this,o),(r=i.call(this)).actionsObserver=t,r.reducerManager=n,r.source=e,r}return WS(o,[{key:"select",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bd.call.apply(bd,[null,e].concat(n))(this)}},{key:"lift",value:function(e){var t=new o(this,this.actionsObserver,this.reducerManager);return t.operator=e,t}},{key:"dispatch",value:function(e){this.actionsObserver.next(e)}},{key:"next",value:function(e){this.actionsObserver.next(e)}},{key:"error",value:function(e){this.actionsObserver.error(e)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(e,t){this.reducerManager.addReducer(e,t)}},{key:"removeReducer",value:function(e){this.reducerManager.removeReducer(e)}}]),o}()).ɵfac=function(e){return new(e||vd)(Qe(pd),Qe(Ih),Qe(cd))},vd.ɵprov=fe({token:vd,factory:vd.ɵfac}),vd),kd=[yd];function bd(n,r){for(var e=arguments.length,i=new Array(2<e?e-2:0),t=2;t<e;t++)i[t-2]=arguments[t];return function(e){if("string"==typeof n)var t=[r].concat(i).filter(Boolean),t=e.pipe(xh.apply(void 0,[n].concat(US(t))));else{if("function"!=typeof n)throw new TypeError("Unexpected type '".concat(typeof n,"' in select operator, expected 'string' or 'function'"));t=e.pipe(I(function(e){return n(e,r)}))}return t.pipe(Sh())}}var _d="https://ngrx.io/guide/store/configuration/runtime-checks";function wd(e){return void 0===e}function Cd(e){return null===e}function xd(e){return Array.isArray(e)}function Sd(e){return"object"==typeof e&&null!==e}function Ed(e){return"function"==typeof e}function Td(t){Object.freeze(t);var n=Ed(t);return Object.getOwnPropertyNames(t).forEach(function(e){e.startsWith("ɵ")||!Object.prototype.hasOwnProperty.call(t,e)||n&&("caller"===e||"callee"===e||"arguments"===e)||(!Sd(e=t[e])&&!Ed(e)||Object.isFrozen(e)||Td(e))}),t}function Ad(r,e){var i=1<arguments.length&&void 0!==e?e:[];return(wd(r)||Cd(r))&&0===i.length?{path:["root"],value:r}:Object.keys(r).reduce(function(e,t){if(e)return e;var n=r[t];return Ed(n)&&n.hasOwnProperty("ɵcmp")?e:!(wd(n)||Cd(n)||"number"==typeof n||"boolean"==typeof n||"string"==typeof n||xd(n))&&(function(e){if(Sd(e)&&!xd(e)){e=Object.getPrototypeOf(e);return e===Object.prototype||null===e}}(n)?Ad(n,[].concat(US(i),[t])):{path:[].concat(US(i),[t]),value:n})},!1)}function Pd(e,t){if(!1!==e){var n=e.path.join("."),t=new Error("Detected unserializable ".concat(t,' at "').concat(n,'". ').concat(_d,"#strict").concat(t,"serializability"));throw t.value=e.value,t.unserializablePath=n,t}}function Rd(e){return br()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Id(e){var t=e.strictActionSerializability,i=e.strictStateSerializability;return function(e){return t||i?(n=e,r={action:function(e){return t&&!Md(e)},state:function(){return i}},function(e,t){r.action(t)&&Pd(Ad(t),"action");t=n(e,t);return r.state()&&Pd(Ad(t),"state"),t}):e;var n,r}}function Od(e){var t=e.strictActionImmutability,i=e.strictStateImmutability;return function(e){return t||i?(n=e,r={action:function(e){return t&&!Md(e)},state:function(){return i}},function(e,t){t=r.action(t)?Td(t):t,t=n(e,t);return r.state()?Td(t):t}):e;var n,r}}function Md(e){return e.type.startsWith("@ngrx")}function Nd(e){var t=e.strictActionWithinNgZone;return function(e){return t?(n=e,r={action:function(e){return t&&!Md(e)}},function(e,t){if(r.action(t)&&!Al.isInAngularZone())throw new Error("Action '".concat(t.type,"' running outside NgZone. ").concat(_d,"#strictactionwithinngzone"));return n(e,t)}):e;var n,r}}function Ld(){return[{provide:Xh,multi:!0,deps:[Yh],useFactory:jd}]}function Dd(e){return e}function jd(e){if(e.strictActionTypeUniqueness){e=Object.entries(Ph).filter(function(e){return 1<BS(e,2)[1]}).map(function(e){return BS(e,1)[0]});if(e.length)throw new Error("Action types are registered more than once, ".concat(e.map(function(e){return'"'.concat(e,'"')}).join(", "),". ").concat(_d,"#strictactiontypeuniqueness"))}}var Fd,Vd,zd,Bd=((zd=function e(t,n,r,i,o,a){qS(this,e)}).ɵmod=yt({type:zd}),zd.ɵinj=pe({factory:function(e){return new(e||zd)(Qe(Ih),Qe(sd),Qe(hd),Qe(yd),Qe(Mh,8),Qe(Xh,8))}}),zd),Hd=(WS(qd,[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}]),(Vd=qd).ɵmod=yt({type:Vd}),Vd.ɵinj=pe({factory:function(e){return new(e||Vd)(Qe(qh),Qe($h),Qe(cd),Qe(Bd),Qe(Xh,8))}}),Vd),fc=(WS(Ud,null,[{key:"forRoot",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:Bd,providers:[{provide:Mh,useFactory:Jd,deps:[[yd,new le,new ue]]},{provide:Nh,useValue:t.initialState},{provide:Lh,useFactory:Gd,deps:[Nh]},{provide:Vh,useValue:e},{provide:Bh,useExisting:e instanceof He?e:Vh},{provide:Fh,deps:[wo,Vh,[new se(Bh)]],useFactory:Wd},{provide:Kh,useValue:t.metaReducers||[]},{provide:Zh,deps:[Gh,Kh],useFactory:Zd},{provide:jh,useValue:t.reducerFactory||td},{provide:Dh,deps:[jh,Zh],useFactory:rd},Oh,ud,fd,md,kd,(t=t.runtimeChecks,[{provide:Qh,useValue:t},{provide:Jh,useFactory:Dd,deps:[Qh]},{provide:Yh,deps:[Jh],useFactory:Rd},{provide:Gh,multi:!0,deps:[Yh],useFactory:Od},{provide:Gh,multi:!0,deps:[Yh],useFactory:Id},{provide:Gh,multi:!0,deps:[Yh],useFactory:Nd}]),Ld()]}}},{key:"forFeature",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return{ngModule:Hd,providers:[{provide:Uh,multi:!0,useValue:n},{provide:zh,multi:!0,useValue:{key:e,reducerFactory:n instanceof He||!n.reducerFactory?td:n.reducerFactory,metaReducers:n instanceof He||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof He||!n.initialState?void 0:n.initialState}},{provide:qh,deps:[wo,Uh,zh],useFactory:$d},{provide:Hh,multi:!0,useValue:t},{provide:Wh,multi:!0,useExisting:t instanceof He?t:Hh},{provide:$h,multi:!0,deps:[wo,Hh,[new se(Wh)]],useFactory:Kd},Ld()]}}}]),(Fd=Ud).ɵmod=yt({type:Fd}),Fd.ɵinj=pe({factory:function(e){return new(e||Fd)}}),Fd);function Ud(){qS(this,Ud)}function qd(e,n,t,r,i){qS(this,qd),this.features=e,this.featureReducers=n,this.reducerManager=t;e=e.map(function(e,t){t=n.shift()[t];return Object.assign(Object.assign({},e),{reducers:t,initialState:Gd(e.initialState)})});t.addFeatures(e)}function Wd(e,t){return t instanceof He?e.get(t):t}function $d(n,r,e){return e.map(function(e,t){if(r[t]instanceof He){t=n.get(r[t]);return{key:e.key,reducerFactory:t.reducerFactory||td,metaReducers:t.metaReducers||[],initialState:t.initialState}}return e})}function Kd(t,e){return e.map(function(e){return e instanceof He?t.get(e):e})}function Gd(e){return"function"==typeof e?e():e}function Zd(e,t){return e.concat(t)}function Jd(e){if(e)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Qd(n){return new _(function(t){var e;try{e=n()}catch(e){return void t.error(e)}return(e?B(e):ih()).subscribe(t)})}var Yd=(WS(rf,[{key:"call",value:function(e,t){return t.subscribe(new Xd(e))}}]),rf),Xd=function(){$S(t,m);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"_next",value:function(e){}}]),t}(),ef=(WS(nf,[{key:"call",value:function(e,t){return t.subscribe(new tf(e))}}]),nf),tf=function(){$S(n,m);var t=KS(n);function n(e){return qS(this,n),t.call(this,e)}return WS(n,[{key:"_next",value:function(e){this.destination.next(lh.createNext(e))}},{key:"_error",value:function(e){var t=this.destination;t.next(lh.createError(e)),t.complete()}},{key:"_complete",value:function(){var e=this.destination;e.next(lh.createComplete()),e.complete()}}]),n}();function nf(){qS(this,nf)}function rf(){qS(this,rf)}function of(n){return function(e){var t=new af(n),e=e.lift(t);return t.caught=e}}var af=(WS(lf,[{key:"call",value:function(e,t){return t.subscribe(new sf(e,this.selector,this.caught))}}]),lf),sf=function(){$S(i,U);var r=KS(i);function i(e,t,n){return qS(this,i),(e=r.call(this,e)).selector=t,e.caught=n,e}return WS(i,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(e){return void zS(YS(i.prototype),"error",this).call(this,e)}this._unsubscribeAndRecycle();var n=new H(this);this.add(n);var r=q(t,n);r!==n&&this.add(r)}}}]),i}();function lf(e){qS(this,lf),this.selector=e}function cf(t,n){return function(e){return e.lift(new uf(t,n))}}var uf=(WS(df,[{key:"call",value:function(e,t){return t.subscribe(new hf(e,this.predicate,this.thisArg))}}]),df),hf=function(){$S(i,m);var r=KS(i);function i(e,t,n){return qS(this,i),(e=r.call(this,e)).predicate=t,e.thisArg=n,e.count=0,e}return WS(i,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)}}]),i}();function df(e,t){qS(this,df),this.predicate=e,this.thisArg=t}function ff(t,n,r,i){return function(e){return e.lift(new pf(t,n,r,i))}}var pf=(WS(Tf,[{key:"call",value:function(e,t){return t.subscribe(new gf(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),Tf),gf=function(){$S(a,m);var o=KS(a);function a(e,t,n,r,i){return qS(this,a),(e=o.call(this,e)).keySelector=t,e.elementSelector=n,e.durationSelector=r,e.subjectSelector=i,e.groups=null,e.attemptedToUnsubscribe=!1,e.count=0,e}return WS(a,[{key:"_next",value:function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)}},{key:"_group",value:function(e,t){var n,r=this.groups,i=(r=r||(this.groups=new Map)).get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(e){this.error(e)}else n=e;if(!i){i=this.subjectSelector?this.subjectSelector():new T,r.set(t,i);var o,r=new mf(t,i,this);if(this.destination.next(r),this.durationSelector){try{o=this.durationSelector(new mf(t,i))}catch(e){return void this.error(e)}this.add(o.subscribe(new vf(t,i,this)))}}i.closed||i.next(n)}},{key:"_error",value:function(n){var e=this.groups;e&&(e.forEach(function(e,t){e.error(n)}),e.clear()),this.destination.error(n)}},{key:"_complete",value:function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()}},{key:"removeGroup",value:function(e){this.groups.delete(e)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&zS(YS(a.prototype),"unsubscribe",this).call(this))}}]),a}(),vf=function(){$S(o,m);var i=KS(o);function o(e,t,n){var r;return qS(this,o),(r=i.call(this,t)).key=e,r.group=t,r.parent=n,r}return WS(o,[{key:"_next",value:function(e){this.complete()}},{key:"_unsubscribe",value:function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)}}]),o}(),mf=function(){$S(o,_);var i=KS(o);function o(e,t,n){var r;return qS(this,o),(r=i.call(this)).key=e,r.groupSubject=t,r.refCountSubscription=n,r}return WS(o,[{key:"_subscribe",value:function(e){var t=new p,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new yf(n)),t.add(r.subscribe(e)),t}}]),o}(),yf=function(){$S(r,p);var n=KS(r);function r(e){var t;return qS(this,r),((t=n.call(this)).parent=e).count++,t}return WS(r,[{key:"unsubscribe",value:function(){var e=this.parent;e.closed||this.closed||(zS(YS(r.prototype),"unsubscribe",this).call(this),--e.count,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}]),r}(),kf=(WS(Ef,[{key:"call",value:function(e,t){return t.subscribe(new bf(e,this.project))}}]),Ef),bf=function(){$S(r,U);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).project=t,e.hasSubscription=!1,e.hasCompleted=!1,e.index=0,e}return WS(r,[{key:"_next",value:function(e){this.hasSubscription||this.tryNext(e)}},{key:"tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new H(this),n=this.destination;n.add(t);e=q(e,t);e!==t&&n.add(e)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),r}(),_f=(WS(Sf,[{key:"call",value:function(e,t){return t.subscribe(new wf(e))}}]),Sf),wf=function(){$S(n,m);var t=KS(n);function n(e){return qS(this,n),t.call(this,e)}return WS(n,[{key:"_next",value:function(e){e.observe(this.destination)}}]),n}(),Cf=(xf.prototype=Object.create(Error.prototype),xf);function xf(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}function Sf(){qS(this,Sf)}function Ef(e){qS(this,Ef),this.project=e}function Tf(e,t,n,r){qS(this,Tf),this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}function Af(t){return function(e){return 0===t?ih():e.lift(new Pf(t))}}var Pf=(WS(If,[{key:"call",value:function(e,t){return t.subscribe(new Rf(e,this.total))}}]),If),Rf=function(){$S(r,m);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).total=t,e.count=0,e}return WS(r,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),r}();function If(e){if(qS(this,If),this.total=e,this.total<0)throw new Cf}function Of(e,t){return W(e,t,1)}var Mf=(WS(Lf,[{key:"call",value:function(e,t){return t.subscribe(new Nf(e,this.callback))}}]),Lf),Nf=function(){$S(r,m);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).add(new p(t)),e}return r}();function Lf(e){qS(this,Lf),this.callback=e}function Df(e){return Object.getPrototypeOf(e)}function jf(e){return e.constructor.hasOwnProperty("__@ngrx/effects__")?e.constructor["__@ngrx/effects__"]:[]}function Ff(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10;return t.pipe(of(function(e){return n&&n.handleError(e),r<=1?t:Ff(t,n,r-1)}))}var Vf,zf=((Vf=function(){$S(r,_);var n=KS(r);function r(e){var t;return qS(this,r),t=n.call(this),e&&(t.source=e),t}return WS(r,[{key:"lift",value:function(e){var t=new r;return t.source=this,t.operator=e,t}}]),r}()).ɵfac=function(e){return new(e||Vf)(Qe(hd))},Vf.ɵprov=fe({token:Vf,factory:Vf.ɵfac}),Vf);function Bf(e){return Hf(e,"ngrxOnInitEffects")}function Hf(e,t){return e&&t in e&&"function"==typeof e[t]}var Uf,qf=new He("@ngrx/effects Internal Root Guard"),Wf=new He("ngrx/effects: User Provided Effects"),$f=new He("ngrx/effects: Internal Root Effects"),Kf=new He("ngrx/effects: Root Effects"),Gf=new He("ngrx/effects: Internal Feature Effects"),Zf=new He("ngrx/effects: Feature Effects"),Jf=new He("ngrx/effects: Effects Error Handler"),Qf=((Uf=function(){$S(i,T);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this)).errorHandler=e,n.effectsErrorHandler=t,n}return WS(i,[{key:"addEffects",value:function(e){this.next(e)}},{key:"toActions",value:function(){var l=this;return this.pipe(ff(Df),W(function(e){return e.pipe(ff(Yf))}),W(function(e){return Q(e.pipe(function t(i,o){return o?function(e){return e.pipe(t(function(n,r){return B(i(n,r)).pipe(I(function(e,t){return o(n,e,r,t)}))}))}:function(e){return e.lift(new kf(i))}}(function(e){return t=l.errorHandler,r=l.effectsErrorHandler,o=t,a=r,s=Df(i=r=e).constructor.name,e=Q.apply(void 0,US((n=i,[function(e){return nd(jf,Df)(e)},function(t){return Object.getOwnPropertyNames(t).filter(function(e){return t[e]&&t[e].hasOwnProperty("__@ngrx/effects_create__")}).map(function(e){return Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"])})}].reduce(function(e,t){return e.concat(t(n))},[]).map(function(e){var t=e.propertyName,n=e.dispatch,r=e.useEffectsErrorHandler,e="function"==typeof i[t]?i[t]():i[t],e=r?a(e,o):e;return!1===n?e.pipe(function(e){return e.lift(new Yd)}):e.pipe(function(e){return e.lift(new ef)}).pipe(I(function(e){return{effect:i[t],notification:e,propertyName:t,sourceName:s,sourceInstance:i}}))})))),Hf(r,"ngrxOnRunEffects")?r.ngrxOnRunEffects(e):e;var i,o,a,n,s,t,r}),I(function(e){return t=l.errorHandler,"N"===e.notification.kind&&("function"!=typeof(n=e.notification.value)&&n&&n.type&&"string"==typeof n.type||t.handleError(new Error("Effect ".concat((r=e.propertyName,i=e.sourceInstance,t=e.sourceName,i="function"==typeof i[r],'"'.concat(t,".").concat(String(r)).concat(i?"()":"",'"'))," dispatched an invalid action: ").concat(function(t){try{return JSON.stringify(t)}catch(e){return t}}(n))))),e.notification;var t,n,r,i}),cf(function(e){return"N"===e.kind}),function(e){return e.lift(new _f)}),e.pipe(Af(1),cf(Bf),I(function(e){return e.ngrxOnInitEffects()})))}))}}]),i}()).ɵfac=function(e){return new(e||Uf)(Qe(dr),Qe(Jf))},Uf.ɵprov=fe({token:Uf,factory:Uf.ɵfac}),Uf);function Yf(e){return Hf(e,"ngrxOnIdentifyEffects")?e.ngrxOnIdentifyEffects():""}var Xf,ep,tp,np,rp=(WS(cp,[{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}]),(np=cp).ɵfac=function(e){return new(e||np)(Qe(Qf),Qe(yd))},np.ɵprov=fe({token:np,factory:np.ɵfac}),np),ip=(WS(lp,[{key:"addEffects",value:function(e){this.sources.addEffects(e)}}]),(tp=lp).ɵmod=yt({type:tp}),tp.ɵinj=pe({factory:function(e){return new(e||tp)(Qe(Qf),Qe(rp),Qe(yd),Qe(Kf),Qe(Bd,8),Qe(Hd,8),Qe(qf,8))}}),tp),op=((ep=function e(t,n,r,i){qS(this,e),n.forEach(function(e){return e.forEach(function(e){return t.addEffects(e)})})}).ɵmod=yt({type:ep}),ep.ɵinj=pe({factory:function(e){return new(e||ep)(Qe(ip),Qe(Zf),Qe(Bd,8),Qe(Hd,8))}}),ep),ap=(WS(sp,null,[{key:"forFeature",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:op,providers:[e,{provide:Gf,multi:!0,useValue:e},{provide:Wf,multi:!0,useValue:[]},{provide:Zf,multi:!0,useFactory:up,deps:[wo,Gf,Wf]}]}}},{key:"forRoot",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:ip,providers:[{provide:qf,useFactory:hp,deps:[[rp,new le,new ue]]},{provide:Jf,useValue:Ff},rp,Qf,zf,e,{provide:$f,useValue:[e]},{provide:Wf,multi:!0,useValue:[]},{provide:Kf,useFactory:up,deps:[wo,$f,Wf]}]}}}]),(Xf=sp).ɵmod=yt({type:Xf}),Xf.ɵinj=pe({factory:function(e){return new(e||Xf)}}),Xf);function sp(){qS(this,sp)}function lp(t,e,n,r,i,o,a){qS(this,lp),this.sources=t,e.start(),r.forEach(function(e){return t.addEffects(e)}),n.dispatch({type:"@ngrx/effects/init"})}function cp(e,t){qS(this,cp),this.effectSources=e,this.store=t,this.effectsSubscription=null}function up(e,t,n){var r=[],i=HS(t);try{for(i.s();!(o=i.n()).done;){var o=o.value;r.push.apply(r,US(o))}}catch(e){i.e(e)}finally{i.f()}var a,s=HS(n);try{for(s.s();!(l=s.n()).done;){var l=l.value;r.push.apply(r,US(l))}}catch(e){s.e(e)}finally{s.f()}return a=e,r.map(function(e){return a.get(e)})}function hp(e){if(e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}function dp(){qS(this,dp)}function fp(){qS(this,fp)}var pp=(WS(mp,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();e=this.headers.get(e.toLowerCase());return e&&0<e.length?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof mp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var n=this;t.init(),Array.from(t.headers.keys()).forEach(function(e){n.headers.set(e,t.headers.get(e)),n.normalizedNames.set(e,t.normalizedNames.get(e))})}},{key:"clone",value:function(e){var t=new mp;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof mp?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,US(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){r=this.headers.get(t);if(!r)return;0===(r=r.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,r)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(t){var n=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(e){return t(n.normalizedNames.get(e),n.headers.get(e))})}}]),mp),gp=(WS(vp,[{key:"encodeKey",value:yp},{key:"encodeValue",value:yp},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),vp);function vp(){qS(this,vp)}function mp(r){var i=this;qS(this,mp),this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?function(){i.headers=new Map,r.split("\n").forEach(function(e){var t,n,r=e.indexOf(":");0<r&&(n=(t=e.slice(0,r)).toLowerCase(),r=e.slice(r+1).trim(),i.maybeSetNormalizedName(t,n),i.headers.has(n)?i.headers.get(n).push(r):i.headers.set(n,[r]))})}:function(){i.headers=new Map,Object.keys(r).forEach(function(e){var t=r[e],n=e.toLowerCase();"string"==typeof t&&(t=[t]),0<t.length&&(i.headers.set(n,t),i.maybeSetNormalizedName(e,n))})}:this.headers=new Map}function yp(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var kp=(WS(bp,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();e=this.map.get(e);return e?e[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var n=this;return this.init(),this.keys().map(function(e){var t=n.encoder.encodeKey(e);return n.map.get(e).map(function(e){return t+"="+n.encoder.encodeValue(e)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(e){var t=new bp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}},{key:"init",value:function(){var r=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return r.map.set(e,r.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var t=("a"===e.op?r.map.get(e.param):void 0)||[];t.push(e.value),r.map.set(e.param,t);break;case"d":if(void 0===e.value){r.map.delete(e.param);break}var n=r.map.get(e.param)||[],t=n.indexOf(e.value);-1!==t&&n.splice(t,1),0<n.length?r.map.set(e.param,n):r.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),bp);function bp(){var e,r,i,n=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(qS(this,bp),this.updates=null,this.cloneFrom=null,this.encoder=o.encoder||new gp,o.fromString){if(o.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=o.fromString,r=this.encoder,i=new Map,0<e.length&&e.split("&").forEach(function(e){var t=e.indexOf("="),n=BS(-1==t?[r.decodeKey(e),""]:[r.decodeKey(e.slice(0,t)),r.decodeValue(e.slice(t+1))],2),e=n[0],t=n[1],n=i.get(e)||[];n.push(t),i.set(e,n)}),i)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach(function(e){var t=o.fromObject[e];n.map.set(e,Array.isArray(t)?t:[t])})):this.map=null}function _p(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function wp(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Cp(e){return"undefined"!=typeof FormData&&e instanceof FormData}function xp(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"OK";qS(this,xp),this.headers=e.headers||new pp,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=200<=this.status&&this.status<300}var Sp=(WS(Rp,[{key:"serializeBody",value:function(){return null===this.body?null:_p(this.body)||wp(this.body)||Cp(this.body)||"string"==typeof this.body?this.body:!(this.body instanceof kp)&&("object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body))?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Cp(this.body)?null:wp(this.body)?this.body.type||null:_p(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=n.method||this.method,t=n.url||this.url,r=n.responseType||this.responseType,i=(void 0!==n.body?n:this).body,o=(void 0!==n.withCredentials?n:this).withCredentials,a=(void 0!==n.reportProgress?n:this).reportProgress,s=n.headers||this.headers,l=n.params||this.params;return void 0!==n.setHeaders&&(s=Object.keys(n.setHeaders).reduce(function(e,t){return e.set(t,n.setHeaders[t])},s)),n.setParams&&(l=Object.keys(n.setParams).reduce(function(e,t){return e.set(t,n.setParams[t])},l)),new Rp(e,t,i,{params:l,headers:s,reportProgress:a,responseType:r,withCredentials:o})}}]),Rp),Ep=((Re={})[Re.Sent=0]="Sent",Re[Re.UploadProgress=1]="UploadProgress",Re[Re.ResponseHeader=2]="ResponseHeader",Re[Re.DownloadProgress=3]="DownloadProgress",Re[Re.Response=4]="Response",Re[Re.User=5]="User",Re),Tp=function(){$S(n,xp);var t=KS(n);function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return qS(this,n),(e=t.call(this,e)).type=Ep.ResponseHeader,e}return WS(n,[{key:"clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:(void 0!==e.status?e:this).status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(),Ap=function(){$S(r,xp);var n=KS(r);function r(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return qS(this,r),(e=n.call(this,t)).type=Ep.Response,e.body=void 0!==t.body?t.body:null,e}return WS(r,[{key:"clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new r({body:(void 0!==e.body?e:this).body,headers:e.headers||this.headers,status:(void 0!==e.status?e:this).status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),r}(),Pp=function(){$S(r,xp);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",t.ok=!1,t.message=200<=t.status&&t.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),t.error=e.error||null,t}return r}();function Rp(e,t,n,r){qS(this,Rp),this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),(r=function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return;default:return 1}}(this.method)||r?(this.body=void 0!==n?n:null,r):n)&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new pp),this.params?0===(n=this.params.toString()).length?this.urlWithParams=t:(r=t.indexOf("?"),this.urlWithParams=t+(-1===r?"?":r<t.length-1?"&":"")+n):(this.params=new kp,this.urlWithParams=t)}function Ip(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}function Op(){qS(this,Op)}function Mp(){qS(this,Mp)}var Np,Lp,Dp,jp,Fp,Vp,zp,Bp,Hp,Up,qp,Wp=(WS(dg,[{key:"request",value:function(e,t){var n,r=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=e instanceof Sp?e:(n=void 0,n=i.headers instanceof pp?i.headers:new pp(i.headers),a=void 0,i.params&&(a=i.params instanceof kp?i.params:new kp({fromObject:i.params})),new Sp(e,t,void 0!==i.body?i.body:null,{headers:n,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})),a=oh(o).pipe(Of(function(e){return r.handler.handle(e)}));if(e instanceof Sp||"events"===i.observe)return a;var s=a.pipe(cf(function(e){return e instanceof Ap}));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(I(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(I(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(I(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(I(function(e){return e.body}))}case"response":return s;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new kp).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,Ip(n,t))}},{key:"post",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,Ip(n,t))}},{key:"put",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,Ip(n,t))}}]),(Np=dg).ɵfac=function(e){return new(e||Np)(Qe(dp))},Np.ɵprov=fe({token:Np,factory:Np.ɵfac}),Np),$p=(WS(hg,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),hg),Kp=new He("HTTP_INTERCEPTORS"),Gp=(WS(ug,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),(Lp=ug).ɵfac=function(e){return new(e||Lp)},Lp.ɵprov=fe({token:Lp,factory:Lp.ɵfac}),Lp),Zp=/^\)\]\}',?\n/,Jp=(WS(cg,[{key:"build",value:function(){return new XMLHttpRequest}}]),(jp=cg).ɵfac=function(e){return new(e||jp)},jp.ɵprov=fe({token:jp,factory:jp.ɵfac}),jp),dc=(WS(lg,[{key:"handle",value:function(h){var d=this;if("JSONP"===h.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _(function(s){var e,l=d.xhrFactory.build();l.open(h.method,h.urlWithParams),h.withCredentials&&(l.withCredentials=!0),h.headers.forEach(function(e,t){return l.setRequestHeader(e,t.join(","))}),h.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),h.headers.has("Content-Type")||null!==(e=h.detectContentTypeHeader())&&l.setRequestHeader("Content-Type",e),h.responseType&&(e=h.responseType.toLowerCase(),l.responseType="json"!==e?e:"text");function c(){if(null!==a)return a;var e=1223===l.status?204:l.status,t=l.statusText||"OK",n=new pp(l.getAllResponseHeaders()),r=("responseURL"in(r=l)&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null)||h.url;return a=new Tp({headers:n,status:e,statusText:t,url:r})}function t(){var t=c(),e=t.headers,n=t.status,r=t.statusText,i=t.url,o=null;204!==n&&(o=void 0===l.response?l.responseText:l.response),0===n&&(n=o?200:0);var a=200<=n&&n<300;if("json"===h.responseType&&"string"==typeof o){t=o,o=o.replace(Zp,"");try{o=""!==o?JSON.parse(o):null}catch(e){o=t,a&&(a=!1,o={error:e,text:o})}}a?(s.next(new Ap({body:o,headers:e,status:n,statusText:r,url:i||void 0})),s.complete()):s.error(new Pp({error:o,headers:e,status:n,statusText:r,url:i||void 0}))}function n(e){var t=c().url,t=new Pp({error:e,status:l.status||0,statusText:l.statusText||"Unknown Error",url:t||void 0});s.error(t)}function r(e){u||(s.next(c()),u=!0);var t={type:Ep.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),"text"===h.responseType&&l.responseText&&(t.partialText=l.responseText),s.next(t)}function i(e){var t={type:Ep.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),s.next(t)}var o=h.serializeBody(),a=null,u=!1;return l.addEventListener("load",t),l.addEventListener("error",n),h.reportProgress&&(l.addEventListener("progress",r),null!==o&&l.upload&&l.upload.addEventListener("progress",i)),l.send(o),s.next({type:Ep.Sent}),function(){l.removeEventListener("error",n),l.removeEventListener("load",t),h.reportProgress&&(l.removeEventListener("progress",r),null!==o&&l.upload&&l.upload.removeEventListener("progress",i)),l.readyState!==l.DONE&&l.abort()}})}}]),(Dp=lg).ɵfac=function(e){return new(e||Dp)(Qe(Op))},Dp.ɵprov=fe({token:Dp,factory:Dp.ɵfac}),Dp),Qp=new He("XSRF_COOKIE_NAME"),Yp=new He("XSRF_HEADER_NAME"),Sa=(WS(sg,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),(qp=sg).ɵfac=function(e){return new(e||qp)(Qe(kc),Qe(gl),Qe(Qp))},qp.ɵprov=fe({token:qp,factory:qp.ɵfac}),qp),Xp=(WS(ag,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);n=this.tokenService.getToken();return null===n||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)}}]),(Up=ag).ɵfac=function(e){return new(e||Up)(Qe(Mp),Qe(Yp))},Up.ɵprov=fe({token:Up,factory:Up.ɵfac}),Up),Ku=(WS(og,[{key:"handle",value:function(e){var t;return null===this.chain&&(t=this.injector.get(Kp,[]),this.chain=t.reduceRight(function(e,t){return new $p(e,t)},this.backend)),this.chain.handle(e)}}]),(Hp=og).ɵfac=function(e){return new(e||Hp)(Qe(fp),Qe(wo))},Hp.ɵprov=fe({token:Hp,factory:Hp.ɵfac}),Hp),ws=(WS(ig,null,[{key:"disable",value:function(){return{ngModule:ig,providers:[{provide:Xp,useClass:Gp}]}}},{key:"withOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:ig,providers:[e.cookieName?{provide:Qp,useValue:e.cookieName}:[],e.headerName?{provide:Yp,useValue:e.headerName}:[]]}}}]),(Bp=ig).ɵmod=yt({type:Bp}),Bp.ɵinj=pe({factory:function(e){return new(e||Bp)},providers:[Xp,{provide:Kp,useExisting:Xp,multi:!0},{provide:Mp,useClass:Sa},{provide:Qp,useValue:"XSRF-TOKEN"},{provide:Yp,useValue:"X-XSRF-TOKEN"}]}),Bp),pc=((zp=function e(){qS(this,e)}).ɵmod=yt({type:zp}),zp.ɵinj=pe({factory:function(e){return new(e||zp)},providers:[Wp,{provide:dp,useClass:Ku},dc,{provide:fp,useExisting:dc},Jp,{provide:Op,useExisting:Jp}],imports:[[ws.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),zp),eg=(WS(rg,[{key:"getEnvironment",value:function(){return gc}}]),(Vp=rg).ɵfac=function(e){return new(e||Vp)},Vp.ɵprov=fe({token:Vp,factory:Vp.ɵfac,providedIn:"root"}),Vp),tg=(WS(ng,[{key:"fetch",value:function(){var n=this,r=this.environmentService.getEnvironment();return new Promise(function(t,e){window.taigaConfig?(n._config=window.taigaConfig,t(n.config)):r.configLocal?(n._config=r.configLocal,t(n.config)):r.configRemote?n.http.get(r.configRemote).subscribe(function(e){n._config=e,t(n.config)}):e("No config provided")})}},{key:"config",get:function(){if(window.taigaConfig){var e=Object.assign({},window.taigaConfig);return e.api.endsWith("/")&&(e.api=e.api.slice(0,e.api.length-1)),e}return this._config}},{key:"apiUrl",get:function(){return this.config.api}}]),(Fp=ng).ɵfac=function(e){return new(e||Fp)(Qe(Wp),Qe(eg))},Fp.ɵprov=fe({token:Fp,factory:Fp.ɵfac,providedIn:"root"}),Fp);function ng(e,t){qS(this,ng),this.http=e,this.environmentService=t}function rg(){qS(this,rg)}function ig(){qS(this,ig)}function og(e,t){qS(this,og),this.backend=e,this.injector=t,this.chain=null}function ag(e,t){qS(this,ag),this.tokenService=e,this.headerName=t}function sg(e,t,n){qS(this,sg),this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}function lg(e){qS(this,lg),this.xhrFactory=e}function cg(){qS(this,cg)}function ug(){qS(this,ug)}function hg(e,t){qS(this,hg),this.next=e,this.interceptor=t}function dg(e){qS(this,dg),this.handler=e}function fg(t,i){return"function"==typeof i?function(e){return e.pipe(fg(function(n,r){return B(t(n,r)).pipe(I(function(e,t){return i(n,e,r,t)}))}))}:function(e){return e.lift(new pg(t))}}var pg=(WS(vg,[{key:"call",value:function(e,t){return t.subscribe(new gg(e,this.project))}}]),vg),gg=function(){$S(r,U);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).project=t,e.index=0,e}return WS(r,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new H(this),t=this.destination;t.add(n),this.innerSubscription=q(e,n),this.innerSubscription!==n&&t.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||zS(YS(r.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&zS(YS(r.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),r}();function vg(e){qS(this,vg),this.project=e}function mg(){}function yg(t,n,r){return function(e){return e.lift(new _g(t,n,r))}}var kg,bg,_g=(WS(Ag,[{key:"call",value:function(e,t){return t.subscribe(new wg(e,this.nextOrObserver,this.error,this.complete))}}]),Ag),wg=function(){$S(o,m);var i=KS(o);function o(e,t,n,r){return qS(this,o),(e=i.call(this,e))._tapNext=mg,e._tapError=mg,e._tapComplete=mg,e._tapError=n||mg,e._tapComplete=r||mg,c(t)?(e._context=ZS(e),e._tapNext=t):t&&(e._context=t,e._tapNext=t.next||mg,e._tapError=t.error||mg,e._tapComplete=t.complete||mg),e}return WS(o,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),o}(),al=(WS(Tg,[{key:"createEmbeddedView",value:function(){this.embeddedView=this.viewContainerRef.createEmbeddedView(this.templateRef,this.ViewContext)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.viewContainerRef.clear()}},{key:"ngrxLet",set:function(e){this.cdAware.nextPotentialObservable(e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),(bg=Tg).ɵfac=function(e){return new(e||bg)(Fo(no),Fo(Al),Fo(as),Fo(ls))},bg.ɵdir=bt({type:bg,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet"}}),bg),ks=((kg=function e(){qS(this,e)}).ɵmod=yt({type:kg}),kg.ɵinj=pe({factory:function(e){return new(e||kg)}}),kg),Cg=function(){$S(o,T);var i=KS(o);function o(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,r=2<arguments.length?arguments[2]:void 0;return qS(this,o),(e=i.call(this)).scheduler=r,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=t<1?1:t,e._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return WS(o,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),zS(YS(o.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new xg(this._getNow(),e)),this._trimBufferThenGetEvents(),zS(YS(o.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new x;if(t=this.isStopped||this.hasError?p.EMPTY:(this.observers.push(e),new S(this,e)),i&&e.add(e=new uh(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(var s=0;s<o&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||th).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return t<i&&(o=Math.max(o,i-t)),0<o&&r.splice(0,o),r}}]),o}(),xg=function e(t,n){qS(this,e),this.time=t,this.value=n},Sg=(ns=Element.prototype).matches||ns.matchesSelector||ns.mozMatchesSelector||ns.msMatchesSelector||ns.oMatchesSelector||ns.webkitMatchesSelector,Eg={schedule:function(e,t){var n=setTimeout(e,t);return function(){return clearTimeout(n)}},scheduleBeforeRender:function(e){if("undefined"==typeof window)return Eg.schedule(e,0);if(void 0===window.requestAnimationFrame)return Eg.schedule(e,16);var t=window.requestAnimationFrame(e);return function(){return window.cancelAnimationFrame(t)}}};function Tg(e,t,n,r){var i,o,a,s,l=this;qS(this,Tg),this.templateRef=n,this.viewContainerRef=r,this.ViewContext={$implicit:void 0,ngrxLet:void 0,$error:!1,$complete:!1},this.resetContextObserver={next:function(){l.embeddedView&&(l.ViewContext.$implicit=void 0,l.ViewContext.ngrxLet=void 0,l.ViewContext.$error=!1,l.ViewContext.$complete=!1)}},this.updateViewContextObserver={next:function(e){l.embeddedView||l.createEmbeddedView(),l.ViewContext.$implicit=e,l.ViewContext.ngrxLet=e},error:function(e){l.embeddedView||l.createEmbeddedView(),l.ViewContext.$error=!0},complete:function(){l.embeddedView||l.createEmbeddedView(),l.ViewContext.$complete=!0}},this.cdAware=(o={render:(i={cdRef:e,ngZone:t},function(){i.ngZone instanceof Al?i.cdRef.markForCheck():i.cdRef.detectChanges()}),resetContextObserver:this.resetContextObserver,updateViewContextObserver:this.updateViewContextObserver},a=new T,s=a.pipe(Sh()).pipe(fg(function(e){return null==e?(o.updateViewContextObserver.next(e),o.render(),nh):(o.resetContextObserver.next(),o.render(),e.pipe(Sh(),yg(o.updateViewContextObserver),yg(function(){return o.render()}),of(function(e){return console.error(e),nh})))})),{nextPotentialObservable:function(e){a.next(e)},subscribe:function(){return s.subscribe()}}),this.subscription=this.cdAware.subscribe()}function Ag(e,t,n){qS(this,Ag),this.nextOrObserver=e,this.error=t,this.complete=n}var Pg=(WS(Mg,[{key:"create",value:function(e){return new Rg(this.componentFactory,e)}}]),Mg),Rg=(WS(Og,[{key:"connect",value:function(e){if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)}},{key:"disconnect",value:function(){var e=this;null!==this.componentRef&&null===this.scheduledDestroyFn&&(this.scheduledDestroyFn=Eg.schedule(function(){null!==e.componentRef&&(e.componentRef.destroy(),e.componentRef=null)},10))}},{key:"getInputValue",value:function(e){return null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e]}},{key:"setInputValue",value:function(e,t){var n,r;null!==this.componentRef?((n=t)!==(r=this.getInputValue(e))&&(n==n||r==r)||void 0===t&&this.unchangedInputs.has(e))&&(this.recordInputChange(e,t),this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)}},{key:"initializeComponent",value:function(l){var e=wo.create({providers:[],parent:this.injector}),t=function(e){var t=l.childNodes,n=e.map(function(){return[]}),r=-1;e.some(function(e,t){return"*"===e&&(r=t,!0)});for(var i=0,o=t.length;i<o;++i){var a=t[i],s=function(n,e,t){var r=t;return n&&n.nodeType===Node.ELEMENT_NODE&&e.some(function(e,t){return!("*"===e||!Sg.call(n,e)||(r=t,0))}),r}(a,e,r);-1!==s&&n[s].push(a)}return n}(this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,t,l),this.implementsOnChanges="function"==typeof this.componentRef.instance.ngOnChanges,this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(nc).attachView(this.componentRef.hostView)}},{key:"initializeInputs",value:function(){var t=this;this.componentFactory.inputs.forEach(function(e){e=e.propName;t.implementsOnChanges&&t.unchangedInputs.add(e),t.initialInputValues.has(e)&&t.setInputValue(e,t.initialInputValues.get(e))}),this.initialInputValues.clear()}},{key:"initializeOutputs",value:function(r){var e=this.componentFactory.outputs.map(function(e){var t=e.propName,n=e.templateName;return r.instance[t].pipe(I(function(e){return{name:n,value:e}}))});this.eventEmitters.next(e)}},{key:"callNgOnChanges",value:function(e){var t;this.implementsOnChanges&&null!==this.inputChanges&&(t=this.inputChanges,this.inputChanges=null,e.instance.ngOnChanges(t))}},{key:"scheduleDetectChanges",value:function(){var e=this;this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Eg.scheduleBeforeRender(function(){e.scheduledChangeDetectionFn=null,e.detectChanges()}))}},{key:"recordInputChange",value:function(e,t){var n,r;null!==this.componentRef&&!this.implementsOnChanges||(null===this.inputChanges&&(this.inputChanges={}),(r=this.inputChanges[e])?r.currentValue=t:(n=this.unchangedInputs.has(e),this.unchangedInputs.delete(e),r=n?void 0:this.getInputValue(e),this.inputChanges[e]=new Ot(r,t,n)))}},{key:"detectChanges",value:function(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.componentRef.changeDetectorRef.detectChanges())}}]),Og),Ig=function(){$S(n,JS(HTMLElement));var t=KS(n);function n(){var e;return qS(this,n),(e=t.apply(this,arguments)).ngElementEventsSubscription=null,e}return n}();function Og(e,t){qS(this,Og),this.componentFactory=e,this.injector=t,this.eventEmitters=new Cg(1),this.events=this.eventEmitters.pipe(fg(function(e){return Q.apply(void 0,US(e))})),this.componentRef=null,this.inputChanges=null,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set}function Mg(e,t){qS(this,Mg),this.componentFactory=t.get(Ea).resolveComponentFactory(e)}function Ng(e,i){var n,t,o=(t=e,i.injector.get(Ea).resolveComponentFactory(t).inputs),a=i.strategyFactory||new Pg(e,i.injector),s=(n={},o.forEach(function(e){var t=e.propName,e=e.templateName;n[e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})]=t}),n),e=function(){$S(r,Ig);var n=KS(r);function r(e){var t;return qS(this,r),(t=n.call(this)).injector=e,t}return WS(r,[{key:"attributeChangedCallback",value:function(e,t,n,r){this.ngElementStrategy.setInputValue(s[e],n)}},{key:"connectedCallback",value:function(){var e=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),e=!0),this.ngElementStrategy.connect(this),e||this.subscribeToEvents()}},{key:"disconnectedCallback",value:function(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}},{key:"subscribeToEvents",value:function(){var t=this;this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(function(e){e=function(e,t,n){if("function"==typeof CustomEvent)return new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:n});e=e.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(t.ownerDocument,e.name,e.value);t.dispatchEvent(e)})}},{key:"ngElementStrategy",get:function(){var n,e,t=this;return this._ngElementStrategy||(n=this._ngElementStrategy=a.create(this.injector||i.injector),e=o.filter(function(e){e=e.propName;return t.hasOwnProperty(e)}).map(function(e){e=e.propName;return[e,t[e]]}),this instanceof r?e.forEach(function(e){e=BS(e,1)[0];return delete t[e]}):Lg(o,this),e.forEach(function(e){var t=BS(e,2),e=t[0],t=t[1];return n.setInputValue(e,t)})),this._ngElementStrategy}}]),r}();return e.observedAttributes=Object.keys(s),Object.defineProperty(e.prototype,"ngElementStrategy",{enumerable:!0}),Lg(o,e.prototype),e}function Lg(e,n){e.forEach(function(e){var t=e.propName;Object.defineProperty(n,t,{get:function(){return this.ngElementStrategy.getInputValue(t)},set:function(e){this.ngElementStrategy.setInputValue(t,e)},configurable:!0,enumerable:!0})})}var Dg,jg,t=((jg=function e(){qS(this,e)}).ɵmod=yt({type:jg}),jg.ɵinj=pe({factory:function(e){return new(e||jg)}}),jg),Re=((Dg=function e(){qS(this,e)}).ɵmod=yt({type:Dg}),Dg.ɵinj=pe({factory:function(e){return new(e||Dg)}}),Dg),Fg=function(){return(Fg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Vg(e){return e.toLowerCase()}var zg=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Bg=/[^A-Z0-9]+/gi;function Hg(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=t.stripRegexp,i=void 0===r?Bg:r,r=t.transform,r=void 0===r?Vg:r,t=t.delimiter,t=void 0===t?" ":t,o=Ug(Ug(e,void 0===n?zg:n,"$1\0$2"),i,"\0"),a=0,s=o.length;"\0"===o.charAt(a);)a++;for(;"\0"===o.charAt(s-1);)s--;return o.slice(a,s).split("\0").map(r).join(t)}function Ug(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce(function(e,t){return e.replace(t,n)},e)}function qg(e,t){return void 0===t&&(t={}),e=e,void 0===(t=Fg({delimiter:"_"},t))&&(t={}),Hg(e,Fg({delimiter:"."},t))}function Wg(e,t){var n=e.charAt(0),e=e.substr(1).toLowerCase();return 0<t&&"0"<=n&&n<="9"?"_"+n+e:""+n.toUpperCase()+e}function $g(e,t){return 0===t?e.toLowerCase():Wg(e,t)}function Kg(e,t){return void 0===t&&(t={}),e=e,void 0===(t=Fg({transform:$g},t))&&(t={}),Hg(e,Fg({delimiter:"",transform:Wg},t))}var Gg,Zg=(WS(iv,null,[{key:"buildQueryParams",value:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=new kp;return Object.keys(n).forEach(function(e){var t=n[e],e=e in r?r[e]:e;void 0===t?i=i.append(e,"undefined"):null===t?i=i.append(e,"null"):Array.isArray(t)?i=i.append(e,t.join(",")):t.toString&&(i=i.append(e,t.toString()))}),i}},{key:"buildFormData",value:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=new FormData;return Object.keys(n).forEach(function(e){var t=n[e],e=e in r?r[e]:e;void 0===t?i.append(e,"undefined"):null===t?i.append(e,"null"):t instanceof File?i.append(e,t,t.name):Array.isArray(t)?i.append(e,t.join(",")):t.toString&&i.append(e,t.toString())}),i}},{key:"objKeysTransformer",value:function(e,n){var r=this;return null===e||"object"!=typeof e?e:Array.isArray(e)?e.map(function(e){return r.objKeysTransformer(e,n)}):Object.fromEntries(Object.entries(e).map(function(e){var t=BS(e,2),e=t[0],t=t[1];return"object"==typeof t&&null!==t?[n(e),r.objKeysTransformer(t,n)]:[n(e),t]}))}},{key:"slugify",value:function(e){return e.toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}}]),iv),Jg=(WS(rv,[{key:"get",value:function(e){var t=localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}}},{key:"set",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"contains",value:function(e){return void 0!==localStorage.get(e)}},{key:"clear",value:function(){localStorage.clear()}}]),(Gg=rv).ɵfac=function(e){return new(e||Gg)},Gg.ɵprov=fe({token:Gg,factory:Gg.ɵfac}),Gg),Qg=(nv.prototype=Object.create(Error.prototype),nv),Yg={},Xg=(WS(tv,[{key:"call",value:function(e,t){return t.subscribe(new ev(e,this.resultSelector))}}]),tv),ev=function(){$S(r,dh);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).resultSelector=t,e.active=0,e.values=[],e.observables=[],e}return WS(r,[{key:"_next",value:function(e){this.values.push(Yg),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(vh(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==--this.active&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===Yg?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)}}]),r}();function tv(e){qS(this,tv),this.resultSelector=e}function nv(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}function rv(){qS(this,rv)}function iv(){qS(this,iv)}function ov(){return Z(1)}function av(t){return function(e){return 0===t?ih():e.lift(new sv(t))}}var sv=(WS(cv,[{key:"call",value:function(e,t){return t.subscribe(new lv(e,this.total))}}]),cv),lv=function(){$S(r,m);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).total=t,e.ring=new Array,e.count=0,e}return WS(r,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(0<t)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),r}();function cv(e){if(qS(this,cv),this.total=e,this.total<0)throw new Cf}function uv(e){var t=0<arguments.length&&void 0!==e?e:pv;return function(e){return e.lift(new hv(t))}}var hv=(WS(fv,[{key:"call",value:function(e,t){return t.subscribe(new dv(e,this.errorFactory))}}]),fv),dv=function(){$S(r,m);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).errorFactory=t,e.hasValue=!1,e}return WS(r,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),r}();function fv(e){qS(this,fv),this.errorFactory=e}function pv(){return new Qg}function gv(e){var t=0<arguments.length&&void 0!==e?e:null;return function(e){return e.lift(new vv(t))}}var vv=(WS(yv,[{key:"call",value:function(e,t){return t.subscribe(new mv(e,this.defaultValue))}}]),yv),mv=function(){$S(r,m);var n=KS(r);function r(e,t){return qS(this,r),(e=n.call(this,e)).defaultValue=t,e.isEmpty=!0,e}return WS(r,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),r}();function yv(e){qS(this,yv),this.defaultValue=e}function kv(r,e){var t=2<=arguments.length;return function(n){return n.pipe(r?cf(function(e,t){return r(e,t,n)}):k,Af(1),t?gv(e):uv(function(){return new Qg}))}}var bv=(WS(wv,[{key:"call",value:function(e,t){return t.subscribe(new _v(e,this.predicate,this.thisArg,this.source))}}]),wv),_v=function(){$S(o,m);var i=KS(o);function o(e,t,n,r){return qS(this,o),(e=i.call(this,e)).predicate=t,e.thisArg=n,e.source=r,e.index=0,e.thisArg=n||ZS(e),e}return WS(o,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),o}();function wv(e,t,n){qS(this,wv),this.predicate=e,this.thisArg=t,this.source=n}function Cv(){return ov()(oh.apply(void 0,arguments))}function xv(e,t){qS(this,xv),this.id=e,this.url=t}var Sv=function(){$S(o,xv);var i=KS(o);function o(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"imperative",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return qS(this,o),(t=i.call(this,e,t)).navigationTrigger=n,t.restoredState=r,t}return WS(o,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),o}(),Ev=function(){$S(i,xv);var r=KS(i);function i(e,t,n){return qS(this,i),(t=r.call(this,e,t)).urlAfterRedirects=n,t}return WS(i,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),i}(),Tv=function(){$S(i,xv);var r=KS(i);function i(e,t,n){return qS(this,i),(t=r.call(this,e,t)).reason=n,t}return WS(i,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),i}(),Av=function(){$S(i,xv);var r=KS(i);function i(e,t,n){return qS(this,i),(t=r.call(this,e,t)).error=n,t}return WS(i,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),i}(),Pv=function(){$S(o,xv);var i=KS(o);function o(e,t,n,r){return qS(this,o),(t=i.call(this,e,t)).urlAfterRedirects=n,t.state=r,t}return WS(o,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),o}(),Rv=function(){$S(o,xv);var i=KS(o);function o(e,t,n,r){return qS(this,o),(t=i.call(this,e,t)).urlAfterRedirects=n,t.state=r,t}return WS(o,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),o}(),Iv=function(){$S(a,xv);var o=KS(a);function a(e,t,n,r,i){return qS(this,a),(t=o.call(this,e,t)).urlAfterRedirects=n,t.state=r,t.shouldActivate=i,t}return WS(a,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),a}(),Ov=function(){$S(o,xv);var i=KS(o);function o(e,t,n,r){return qS(this,o),(t=i.call(this,e,t)).urlAfterRedirects=n,t.state=r,t}return WS(o,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),o}(),Mv=function(){$S(o,xv);var i=KS(o);function o(e,t,n,r){return qS(this,o),(t=i.call(this,e,t)).urlAfterRedirects=n,t.state=r,t}return WS(o,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),o}(),Nv=(WS(Zv,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),Zv),Lv=(WS(Gv,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),Gv),Dv=(WS(Kv,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),Kv),jv=(WS($v,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),$v),Fv=(WS(Wv,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),Wv),Vv=(WS(qv,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),qv),zv=(WS(Uv,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),Uv),Bv=(WS(Hv,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){e=this.params[e];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(e){if(this.has(e)){e=this.params[e];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),Hv);function Hv(e){qS(this,Hv),this.params=e||{}}function Uv(e,t,n){qS(this,Uv),this.routerEvent=e,this.position=t,this.anchor=n}function qv(e){qS(this,qv),this.snapshot=e}function Wv(e){qS(this,Wv),this.snapshot=e}function $v(e){qS(this,$v),this.snapshot=e}function Kv(e){qS(this,Kv),this.snapshot=e}function Gv(e){qS(this,Gv),this.route=e}function Zv(e){qS(this,Zv),this.route=e}function Jv(e){return new Bv(e)}function Qv(e){e=Error("NavigationCancelingError: "+e);return e.ngNavigationCancelingError=!0,e}function Yv(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Xv(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!em(e[n=r[o]],t[n]))return!1;return!0}function em(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(function(e){return-1<t.indexOf(e)}):e===t}function tm(e){return Array.prototype.concat.apply([],e)}function nm(e){return 0<e.length?e[e.length-1]:null}function rm(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function im(e){return e&&"function"==typeof e.subscribe?e:Ko(e)?B(Promise.resolve(e)):oh(e)}function om(e,t,n){return n?Xv(e.queryParams,t.queryParams)&&function e(t,n){if(!dm(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):(r=e.queryParams,i=t.queryParams,Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(function(e){return em(r[e],i[e])})&&function a(e,t){return function e(t,n,r){if(t.segments.length>r.length)return!!dm(t.segments.slice(0,r.length),r)&&!n.hasChildren();if(t.segments.length===r.length){if(!dm(t.segments,r))return!1;for(var i in n.children){if(!t.children[i])return!1;if(!a(t.children[i],n.children[i]))return!1}return!0}var o=r.slice(0,t.segments.length),r=r.slice(t.segments.length);return!!dm(t.segments,o)&&!!t.children.primary&&e(t.children.primary,n,r)}(e,t,t.segments)}(e.root,t.root));var r,i}var am=(WS(hm,[{key:"toString",value:function(){return gm.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Jv(this.queryParams)),this._queryParamMap}}]),hm),sm=(WS(um,[{key:"hasChildren",value:function(){return 0<this.numberOfChildren}},{key:"toString",value:function(){return mm(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),um),lm=(WS(cm,[{key:"toString",value:function(){return Cm(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Jv(this.parameters)),this._parameterMap}}]),cm);function cm(e,t){qS(this,cm),this.path=e,this.parameters=t}function um(e,t){var n=this;qS(this,um),this.segments=e,this.children=t,this.parent=null,rm(t,function(e,t){return e.parent=n})}function hm(e,t,n){qS(this,hm),this.root=e,this.queryParams=t,this.fragment=n}function dm(e,n){return e.length===n.length&&e.every(function(e,t){return e.path===n[t].path})}function fm(e,n){var r=[];return rm(e.children,function(e,t){"primary"===t&&(r=r.concat(n(e,t)))}),rm(e.children,function(e,t){"primary"!==t&&(r=r.concat(n(e,t)))}),r}function pm(){qS(this,pm)}var Sa=(WS(vm,[{key:"parse",value:function(e){e=new Am(e);return new am(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function n(r,e){if(!r.hasChildren())return mm(r);if(e){var t=r.children.primary?n(r.children.primary,!1):"",i=[];return rm(r.children,function(e,t){"primary"!==t&&i.push("".concat(t,":").concat(n(e,!1)))}),0<i.length?"".concat(t,"(").concat(i.join("//"),")"):t}t=fm(r,function(e,t){return"primary"===t?[n(r.children.primary,!1)]:["".concat(t,":").concat(n(e,!1))]});return"".concat(mm(r),"/(").concat(t.join("//"),")")}(e.root,!0)).concat((n=e.queryParams,(t=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(km(t),"=").concat(km(e))}).join("&"):"".concat(km(t),"=").concat(km(e))})).length?"?"+t.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var n,t}}]),vm),gm=new Sa;function vm(){qS(this,vm)}function mm(e){return e.segments.map(Cm).join("/")}function ym(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function km(e){return ym(e).replace(/%3B/gi,";")}function bm(e){return ym(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _m(e){return decodeURIComponent(e)}function wm(e){return _m(e.replace(/\+/g,"%20"))}function Cm(e){return"".concat(bm(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat(bm(e),"=").concat(bm(t[e]))}).join("")));var t}var xm=/^[^\/()?;=#]+/;function Sm(e){e=e.match(xm);return e?e[0]:""}var Em=/^[^=?&#]+/,Tm=/^[^?&#]+/,Am=(WS(Im,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sm([],{}):new sm([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))for(;this.parseQueryParam(e),this.consumeOptional("&"););return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(0<e.length||0<Object.keys(t).length)&&(n.primary=new sm(e,t)),n}},{key:"parseSegment",value:function(){var e=Sm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new lm(_m(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t,n,r=Sm(this.remaining);r&&(this.capture(r),t="",!this.consumeOptional("=")||(n=Sm(this.remaining))&&(t=n,this.capture(t)),e[_m(r)]=_m(t))}},{key:"parseQueryParam",value:function(e){var t,n,r=function(e){e=e.match(Em);return e?e[0]:""}(this.remaining);r&&(this.capture(r),n="",!this.consumeOptional("=")||(t=function(e){e=e.match(Tm);return e?e[0]:""}(this.remaining))&&(n=t,this.capture(n)),t=wm(r),r=wm(n),e.hasOwnProperty(t)?(n=e[t],Array.isArray(n)||(n=[n],e[t]=n),n.push(r)):e[t]=r)}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&0<this.remaining.length;){var n=Sm(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));r=void 0;-1<n.indexOf(":")?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary");n=this.parseChildren();t[r]=1===Object.keys(n).length?n.primary:new sm([],n),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),Im),Pm=(WS(Rm,[{key:"parent",value:function(e){e=this.pathFromRoot(e);return 1<e.length?e[e.length-2]:null}},{key:"children",value:function(e){e=Om(e,this._root);return e?e.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){e=Om(e,this._root);return e&&0<e.children.length?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Mm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(e){return e.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(e){return Mm(e,this._root).map(function(e){return e.value})}},{key:"root",get:function(){return this._root.value}}]),Rm);function Rm(e){qS(this,Rm),this._root=e}function Im(e){qS(this,Im),this.url=e,this.remaining=e}function Om(e,t){if(e===t.value)return t;var n=HS(t.children);try{for(n.s();!(r=n.n()).done;){var r=Om(e,r.value);if(r)return r}}catch(e){n.e(e)}finally{n.f()}return null}function Mm(e,t){if(e===t.value)return[t];var n=HS(t.children);try{for(n.s();!(r=n.n()).done;){var r=Mm(e,r.value);if(r.length)return r.unshift(t),r}}catch(e){n.e(e)}finally{n.f()}return[]}var Nm=(WS(Lm,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),Lm);function Lm(e,t){qS(this,Lm),this.value=e,this.children=t}function Dm(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var jm=function(){$S(i,Pm);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this,e)).snapshot=t,Wm(ZS(n),e),n}return WS(i,[{key:"toString",value:function(){return this.snapshot.toString()}}]),i}();function Fm(e,t){var n,r=(n=new Hm([],{},{},"",{},"primary",t,null,e.root,-1,{}),new Um("",new Nm(n,[]))),i=new Yu([new lm("",{})]),o=new Yu({}),a=new Yu({}),e=new Yu({}),n=new Yu(""),t=new Vm(i,o,e,n,a,"primary",t,r.root);return t.snapshot=r.root,new jm(new Nm(t,[]),r)}var Vm=(WS(zm,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(I(Jv))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(I(Jv))),this._queryParamMap}}]),zm);function zm(e,t,n,r,i,o,a,s){qS(this,zm),this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}function Bm(e,t){var t=1<arguments.length&&void 0!==t?t:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;1<=r;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return n.slice(r).reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}var Hm=(WS(qm,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Jv(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Jv(this.queryParams)),this._queryParamMap}}]),qm),Um=function(){$S(i,Pm);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this,t)).url=e,Wm(ZS(n),t),n}return WS(i,[{key:"toString",value:function(){return $m(this._root)}}]),i}();function qm(e,t,n,r,i,o,a,s,l,c,u){qS(this,qm),this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}function Wm(t,e){e.value._routerState=t,e.children.forEach(function(e){return Wm(t,e)})}function $m(e){var t=0<e.children.length?" { ".concat(e.children.map($m).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Km(e){var t,n;e.snapshot?(t=e.snapshot,n=e._futureSnapshot,e.snapshot=n,Xv(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Xv(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length===t.length){for(var n=0;n<e.length;++n)if(!Xv(e[n],t[n]))return;return 1}}(t.url,n.url)||e.url.next(n.url),Xv(t.data,n.data)||e.data.next(n.data)):(e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data))}function Gm(e,t){var n,r;return Xv(e.params,t.params)&&dm(n=e.url,r=t.url)&&n.every(function(e,t){return Xv(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||Gm(e.parent,t.parent))}function Zm(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Jm(e,t,n,r,i){var o={};return r&&rm(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return""+e}):""+e}),new am(n.root===e?t:function n(e,r,i){var o={};return rm(e.children,function(e,t){o[t]=e===r?i:n(e,r,i)}),new sm(e.segments,o)}(n.root,e,t),o,i)}function Qm(e,t,n){qS(this,Qm),this.segmentGroup=e,this.processChildren=t,this.index=n}var Ym=(WS(Xm,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),Xm);function Xm(e,t,n){if(qS(this,Xm),this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&0<n.length&&Zm(n[0]))throw new Error("Root segment cannot have matrix parameters");e=n.find(function(e){return"object"==typeof e&&null!=e&&e.outlets});if(e&&e!==nm(n))throw new Error("{outlets:{}} has to be the last command")}function ey(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function ty(e,l,t){if(0===(e=e||new sm([],{})).segments.length&&e.hasChildren())return ny(e,l,t);var n=function(e,t){for(var n=0,r=l,i={match:!1,pathIndex:0,commandIndex:0};r<e.segments.length;){if(n>=t.length)return i;var o=e.segments[r],a=ey(t[n]),s=n<t.length-1?t[n+1]:null;if(0<r&&void 0===a)break;if(a&&s&&"object"==typeof s&&void 0===s.outlets){if(!iy(a,s,o))return i;n+=2}else{if(!iy(a,{},o))return i;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(e,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){var i=new sm(e.segments.slice(0,n.pathIndex),{});return i.children.primary=new sm(e.segments.slice(n.pathIndex),e.children),ny(i,0,r)}return n.match&&0===r.length?new sm(e.segments,{}):(!n.match||e.hasChildren())&&n.match?ny(e,0,r):ry(e,l,t)}function ny(n,r,e){if(0===e.length)return new sm(n.segments,{});var i="object"==typeof e[0]&&null!==e[0]&&e[0].outlets?e[0].outlets:{primary:e},o={};return rm(i,function(e,t){null!==e&&(o[t]=ty(n.children[t],r,e))}),rm(n.children,function(e,t){void 0===i[t]&&(o[t]=e)}),new sm(n.segments,o)}function ry(e,t,n){for(var r,i=e.segments.slice(0,t),o=0;o<n.length;){if("object"==typeof n[o]&&null!==n[o]&&void 0!==n[o].outlets){var a=function(e){var n={};return rm(e,function(e,t){null!==e&&(n[t]=ry(new sm([],{}),0,e))}),n}(n[o].outlets);return new sm(i,a)}0===o&&Zm(n[0])?(i.push(new lm(e.segments[t].path,n[0])),o++):(r=ey(n[o]),a=o<n.length-1?n[o+1]:null,r&&a&&Zm(a)?(i.push(new lm(r,function(e){var n={};return rm(e,function(e,t){return n[t]=""+e}),n}(a))),o+=2):(i.push(new lm(r,{})),o++))}return new sm(i,{})}function iy(e,t,n){return e==n.path&&Xv(t,n.parameters)}var oy=(WS(ay,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Km(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Dm(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),rm(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;r===i?r.component?(r=n.getContext(r.outlet))&&this.deactivateChildRoutes(e,t,r.children):this.deactivateChildRoutes(e,t,n):i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);n&&n.outlet&&(t=n.outlet.detach(),n=n.children.onOutletDeactivated(),this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:n}))}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n,r,i=this,o=t.getContext(e.value.outlet);o&&(n=Dm(e),r=e.value.component?o.children:t,rm(n,function(e,t){return i.deactivateRouteAndItsChildren(e,r)}),o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()))}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Dm(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Vv(e.value.snapshot))}),e.children.length&&this.forwardEvent(new jv(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r,i=e.value,o=t?t.value:null;Km(i),i===o?i.component?(o=n.getOrCreateContext(i.outlet),this.activateChildRoutes(e,t,o.children)):this.activateChildRoutes(e,t,n):i.component?(t=n.getOrCreateContext(i.outlet),this.routeReuseStrategy.shouldAttach(i.snapshot)?(r=this.routeReuseStrategy.retrieve(i.snapshot),this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(r.contexts),t.attachRef=r.componentRef,t.route=r.route.value,t.outlet&&t.outlet.attach(r.componentRef,r.route.value),sy(r.route)):(r=(r=function(){for(var e=i.snapshot.parent;e;e=e.parent){var t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}())?r.module.componentFactoryResolver:null,t.attachRef=null,t.route=i,t.resolver=r,t.outlet&&t.outlet.activateWith(i,r),this.activateChildRoutes(e,null,t.children))):this.activateChildRoutes(e,null,n)}}]),ay);function ay(e,t,n,r){qS(this,ay),this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}function sy(e){Km(e.value),e.children.forEach(sy)}function ly(e,t){qS(this,ly),this.routes=e,this.module=t}function cy(e){return"function"==typeof e}function uy(e){return e instanceof am}function hy(e){qS(this,hy),this.segmentGroup=e||null}function dy(e){qS(this,dy),this.urlTree=e}function fy(t){return new _(function(e){return e.error(new hy(t))})}function py(t){return new _(function(e){return e.error(new dy(t))})}var gy=(WS(vy,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(I(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(of(function(e){if(e instanceof dy)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof hy)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var n=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(I(function(e){return n.createUrlTree(e,t.queryParams,t.fragment)})).pipe(of(function(e){if(e instanceof hy)throw n.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){e=0<e.segments.length?new sm([],{primary:e}):e;return new am(e,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(I(function(e){return new sm([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(o,a,e){var s=this;return function(e){if(0===Object.keys(e).length)return oh({});var n=[],r=[],i={};return rm(e,function(e,t){e=s.expandSegmentGroup(o,a,e,t).pipe(I(function(e){return i[t]=e}));("primary"===t?n:r).push(e)}),oh.apply(null,n.concat(r)).pipe(ov(),function(){var t=2<=arguments.length;return function(e){return e.pipe(k,av(1),t?gv(void 0):uv(function(){return new Qg}))}}(),I(function(){return i}))}(e.children)}},{key:"expandSegment",value:function(t,n,r,i,o,a){var s=this;return oh.apply(void 0,US(r)).pipe(I(function(e){return s.expandSegmentAgainstRoute(t,n,r,e,i,o,a).pipe(of(function(e){if(e instanceof hy)return oh(null);throw e}))}),ov(),kv(function(e){return!!e}),of(function(e,t){if(e instanceof Qg||"EmptyError"===e.name){if(s.noLeftoversInUrl(n,i,o))return oh(new sm([],{}));throw new hy(n)}throw e}))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return by(r)!==o?fy(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):fy(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(n,r,e,i){var o=this,t=this.applyRedirectCommands([],e.redirectTo,{});return e.redirectTo.startsWith("/")?py(t):this.lineralizeSegments(e,t).pipe(W(function(e){var t=new sm(e,{});return o.expandSegment(n,t,r,e,i,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,n,r,e,i,o){var a=this,s=my(n,e,i),l=s.matched,c=s.consumedSegments,u=s.lastChild,s=s.positionalParamSegments;if(!l)return fy(n);s=this.applyRedirectCommands(c,e.redirectTo,s);return e.redirectTo.startsWith("/")?py(s):this.lineralizeSegments(e,s).pipe(W(function(e){return a.expandSegment(t,n,r,e.concat(i.slice(u)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,u,t,n){var h=this;if("**"===t.path)return t.loadChildren?this.configLoader.load(e.injector,t).pipe(I(function(e){return t._loadedConfig=e,new sm(n,{})})):oh(new sm(n,{}));var r=my(u,t,n),i=r.matched,d=r.consumedSegments,r=r.lastChild;if(!i)return fy(u);var f=n.slice(r);return this.getChildConfig(e,t,n).pipe(W(function(e){var t,n,a,r,i,o,s,l=e.module,c=e.routes,t=(t=u,n=d,a=c,0<(e=f).length&&(o=t,s=e,a.some(function(e){return ky(o,s,e)&&"primary"!==by(e)}))?{segmentGroup:yy(new sm(n,function(e,t){var n={};n.primary=t;var r=HS(e);try{for(r.s();!(i=r.n()).done;){var i=i.value;""===i.path&&"primary"!==by(i)&&(n[by(i)]=new sm([],{}))}}catch(e){r.e(e)}finally{r.f()}return n}(a,new sm(e,t.children)))),slicedSegments:[]}:0===e.length&&(r=t,i=e,a.some(function(e){return ky(r,i,e)}))?{segmentGroup:yy(new sm(t.segments,function(e,t,n){var r={},i=HS(a);try{for(i.s();!(o=i.n()).done;){var o=o.value;ky(e,t,o)&&!n[by(o)]&&(r[by(o)]=new sm([],{}))}}catch(e){i.e(e)}finally{i.f()}return Object.assign(Object.assign({},n),r)}(t,e,t.children))),slicedSegments:e}:{segmentGroup:t,slicedSegments:e}),e=t.segmentGroup,t=t.slicedSegments;return 0===t.length&&e.hasChildren()?h.expandChildren(l,c,e).pipe(I(function(e){return new sm(d,e)})):0===c.length&&0===t.length?oh(new sm(d,{})):h.expandSegment(l,e,c,t,"primary",!0).pipe(I(function(e){return new sm(d.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(n,r,e){var i=this;return r.children?oh(new ly(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?oh(r._loadedConfig):this.runCanLoadGuards(n.injector,r,e).pipe(W(function(e){return e?i.configLoader.load(n.injector,r).pipe(I(function(e){return r._loadedConfig=e})):(t=r,new _(function(e){return e.error(Qv("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}));var t})):oh(new ly([],n))}},{key:"runCanLoadGuards",value:function(n,r,i){var t,o=this,e=r.canLoad;return e&&0!==e.length?B(e).pipe(I(function(e){var t,e=n.get(e);if(e&&cy(e.canLoad))t=e.canLoad(r,i);else{if(!cy(e))throw new Error("Invalid CanLoad guard");t=e(r,i)}return im(t)})).pipe(ov(),yg(function(e){if(uy(e)){var t=Qv('Redirecting to "'.concat(o.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),(t=function(e){return!0===e},function(e){return e.lift(new bv(t,void 0,e))})):oh(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return oh(n);if(1<r.numberOfChildren||!r.children.primary)return function(t){return new _(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){r=this.createSegmentGroup(e,t.root,n,r);return new am(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,r){var i={};return rm(e,function(e,t){var n;"string"==typeof e&&e.startsWith(":")?(n=e.substring(1),i[t]=r[n]):i[t]=e}),i}},{key:"createSegmentGroup",value:function(n,e,r,i){var o=this,t=this.createSegments(n,e.segments,r,i),a={};return rm(e.children,function(e,t){a[t]=o.createSegmentGroup(n,e,r,i)}),new sm(t,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(e,t,n){n=n[t.path.substring(1)];if(!n)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return n}},{key:"findOrReturn",value:function(e,t){var n=0,r=HS(t);try{for(r.s();!(i=r.n()).done;){var i=i.value;if(i.path===e.path)return t.splice(n),i;n++}}catch(e){r.e(e)}finally{r.f()}return e}}]),vy);function vy(e,t,n,r,i){qS(this,vy),this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(nt)}function my(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||0<n.length)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};t=(t.matcher||Yv)(n,e,t);return t?{matched:!0,consumedSegments:t.consumed,lastChild:t.consumed.length,positionalParamSegments:t.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function yy(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new sm(e.segments.concat(t.segments),t.children)}return e}function ky(e,t,n){return(!(e.hasChildren()||0<t.length)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function by(e){return e.outlet||"primary"}function _y(e){qS(this,_y),this.path=e,this.route=this.path[this.path.length-1]}var wy=function e(t,n){qS(this,e),this.component=t,this.route=n};function Cy(e,n,t){var r=function(){if(!n)return null;for(var e=n.parent;e;e=e.parent){var t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}();return(r?r.module.injector:t).get(e)}function xy(e,n,r){var t=Dm(e),i=e.value;rm(t,function(e,t){xy(e,i.component?n?n.children.getContext(t):null:n,r)}),r.canDeactivateChecks.push(new wy(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}var Sy=Symbol("INITIAL_VALUE");function Ey(){return fg(function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0,i=void 0;return R(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&h(t[0])&&(t=t[0]),J(t,i).lift(new Xg(r))}.apply(void 0,US(e.map(function(e){return e.pipe(Af(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return R(r)?(t.pop(),function(e){return Cv(t,e,r)}):function(e){return Cv(t,e)}}(Sy))}))).pipe(bh(function(e,r){var i=!1;return r.reduce(function(e,t,n){if(e!==Sy)return e;if(t===Sy&&(i=!0),!i){if(!1===t)return t;if(n===r.length-1||uy(t))return t}return e},e)},Sy),cf(function(e){return e!==Sy}),I(function(e){return uy(e)?e:!0===e}),Af(1))})}function Ty(r,e,i){var o=e[e.length-1],e=e.slice(0,e.length-1).reverse().map(function(e){return(t=e.routeConfig?e.routeConfig.canActivateChild:null)&&0!==t.length?{node:e,guards:t}:null;var t}).filter(function(e){return null!==e}).map(function(n){return Qd(function(){return oh(n.guards.map(function(e){var t,e=Cy(e,n.node,i);if(e&&cy(e.canActivateChild))t=im(e.canActivateChild(o,r));else{if(!cy(e))throw new Error("Invalid CanActivateChild guard");t=im(e(o,r))}return t.pipe(kv())})).pipe(Ey())})});return oh(e).pipe(Ey())}function Ay(){qS(this,Ay)}var Py=(WS(Ry,[{key:"recognize",value:function(){try{var e=My(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),e=new Hm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),t=new Nm(e,t),t=new Um(this.url,t);return this.inheritParamsAndData(t._root),oh(t)}catch(t){return new _(function(e){return e.error(t)})}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Bm(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(n,e){var r=this,e=fm(e,function(e,t){return r.processSegmentGroup(n,e,t)}),i={};return e.forEach(function(e){var t=i[e.value.outlet];if(t){var n=t.url.map(function(e){return e.toString()}).join("/"),t=e.value.url.map(function(e){return e.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(n,"' and '").concat(t,"'."))}i[e.value.outlet]=e.value}),e.sort(function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}),e}},{key:"processSegment",value:function(e,t,n,r){var i,o=HS(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(e){if(!(e instanceof Ay))throw e}}}catch(e){o.e(e)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new Ay}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Ay;if((e.outlet||"primary")!==r)throw new Ay;var i,o=[],a=[];r="**"===e.path?(i=0<n.length?nm(n).parameters:{},new Hm(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dy(e),r,e.component,e,Iy(t),Oy(t)+n.length,jy(e))):(o=(i=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||0<n.length))throw new Ay;return{consumedSegments:[],lastChild:0,parameters:{}}}e=(t.matcher||Yv)(n,e,t);if(!e)throw new Ay;var r={};rm(e.posParams,function(e,t){r[t]=e.path});t=0<e.consumed.length?Object.assign(Object.assign({},r),e.consumed[e.consumed.length-1].parameters):r;return{consumedSegments:e.consumed,lastChild:e.consumed.length,parameters:t}}(t,e,n)).consumedSegments,a=n.slice(i.lastChild),new Hm(o,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dy(e),r,e.component,e,Iy(t),Oy(t)+o.length,jy(e)));e=(e=e).children||(e.loadChildren?e._loadedConfig.routes:[]),t=My(t,o,a,e,this.relativeLinkResolution),o=t.segmentGroup,a=t.slicedSegments;if(0===a.length&&o.hasChildren()){t=this.processChildren(e,o);return[new Nm(r,t)]}if(0===e.length&&0===a.length)return[new Nm(r,[])];a=this.processSegment(e,o,a,"primary");return[new Nm(r,a)]}}]),Ry);function Ry(e,t,n,r,i,o){qS(this,Ry),this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}function Iy(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Oy(e){for(var t=e,n=t._segmentIndexShift||0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function My(e,t,n,c,r){if(0<n.length&&(o=e,a=n,c.some(function(e){return Ny(o,a,e)&&"primary"!==Ly(e)}))){var i=new sm(t,function(e,t,n,r){var i={};(i.primary=r)._sourceSegment=e,r._segmentIndexShift=t.length;var o=HS(n);try{for(o.s();!(a=o.n()).done;){var a,s=a.value;""===s.path&&"primary"!==Ly(s)&&((a=new sm([],{}))._sourceSegment=e,a._segmentIndexShift=t.length,i[Ly(s)]=a)}}catch(e){o.e(e)}finally{o.f()}return i}(e,t,c,new sm(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}var o,a,s,l;if(0===n.length&&(s=e,l=n,c.some(function(e){return Ny(s,l,e)}))){var u=new sm(e.segments,function(e,t,n,r,i){var o={},a=HS(c);try{for(a.s();!(s=a.n()).done;){var s,l=s.value;Ny(e,n,l)&&!r[Ly(l)]&&((s=new sm([],{}))._sourceSegment=e,s._segmentIndexShift=("legacy"===i?e.segments:t).length,o[Ly(l)]=s)}}catch(e){a.e(e)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(e,t,n,e.children,r));return u._sourceSegment=e,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:n}}u=new sm(e.segments,e.children);return u._sourceSegment=e,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:n}}function Ny(e,t,n){return(!(e.hasChildren()||0<t.length)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ly(e){return e.outlet||"primary"}function Dy(e){return e.data||{}}function jy(e){return e.resolve||{}}function Fy(n){return function(e){return e.pipe(fg(function(e){var t=n(e);return t?B(t).pipe(I(function(){return e})):B([e])}))}}var Vy,zy=(WS(Hy,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),Hy),By=((Vy=function e(){qS(this,e)}).ɵfac=function(e){return new(e||Vy)},Vy.ɵcmp=pt({type:Vy,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&qo(0,"router-outlet")},directives:function(){return[mk]},encapsulation:2}),Vy);function Hy(){qS(this,Hy)}function Uy(e,t){for(var n,r=1<arguments.length&&void 0!==t?t:"",i=0;i<e.length;i++){var o=e[i];!function(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&Uy(e.children,t)}(o,(n=r,(o=o)?n||o.path?n&&!o.path?n+"/":!n&&o.path?o.path:"".concat(n,"/").concat(o.path):"":n))}}function qy(e){var t=e.children&&e.children.map(qy),e=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!e.component&&(t||e.loadChildren)&&e.outlet&&"primary"!==e.outlet&&(e.component=By),e}function Wy(){qS(this,Wy),this.outlet=null,this.route=null,this.resolver=null,this.children=new Gy,this.attachRef=null}var $y=new He("ROUTES"),Ky=(WS(Yy,[{key:"load",value:function(t,n){var r=this;return this.onLoadStartListener&&this.onLoadStartListener(n),this.loadModuleFactory(n.loadChildren).pipe(I(function(e){r.onLoadEndListener&&r.onLoadEndListener(n);e=e.create(t);return new ly(tm(e.injector.get($y)).map(qy),e)}))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?B(this.loader.load(e)):im(e()).pipe(W(function(e){return e instanceof et?oh(e):B(t.compiler.compileModuleAsync(e))}))}}]),Yy),Gy=(WS(Qy,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){e=this.getContext(e);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Wy,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),Qy),Ku=function e(){qS(this,e)},Zy=(WS(Jy,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),Jy);function Jy(){qS(this,Jy)}function Qy(){qS(this,Qy),this.contexts=new Map}function Yy(e,t,n,r){qS(this,Yy),this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}function Xy(e){throw e}function ek(e,t,n){return t.parse("/")}function tk(e,t){return oh(null)}var nk,rk,ik,ok=(WS(uk,[{key:"setupNavigations",value:function(e){var p=this,g=this.events;return e.pipe(cf(function(e){return 0!==e.id}),I(function(e){return Object.assign(Object.assign({},e),{extractedUrl:p.urlHandlingStrategy.extract(e.rawUrl)})}),fg(function(r){var t,n,i,o,u,h,a=!1,s=!1;return oh(r).pipe(yg(function(e){p.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:p.lastSuccessfulNavigation?Object.assign(Object.assign({},p.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fg(function(e){var n,r,i,o,a,s,l,c,t=!p.navigated||e.extractedUrl.toString()!==p.browserUrlTree.toString();if(("reload"===p.onSameUrlNavigation||t)&&p.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return oh(e).pipe(fg(function(e){var t=p.transitions.getValue();return g.next(new Sv(e.id,p.serializeUrl(e.extractedUrl),e.source,e.restoredState)),t!==p.transitions.getValue()?nh:[e]}),fg(function(e){return Promise.resolve(e)}),(n=p.ngModule.injector,r=p.configLoader,i=p.urlSerializer,o=p.config,function(e){return e.pipe(fg(function(t){return e=t.extractedUrl,new gy(n,r,i,e,o).apply().pipe(I(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}));var e}))}),yg(function(e){p.currentNavigation=Object.assign(Object.assign({},p.currentNavigation),{finalUrl:e.urlAfterRedirects})}),(a=p.rootComponentType,s=p.config,l=p.paramsInheritanceStrategy,c=p.relativeLinkResolution,function(e){return e.pipe(W(function(t){return function(e,t,n,r,i,o){return new Py(e,t,n,r,4<arguments.length&&void 0!==i?i:"emptyOnly",5<arguments.length&&void 0!==o?o:"legacy").recognize()}(a,s,t.urlAfterRedirects,(e=t.urlAfterRedirects,p.serializeUrl(e)),l,c).pipe(I(function(e){return Object.assign(Object.assign({},t),{targetSnapshot:e})}));var e}))}),yg(function(e){"eager"===p.urlUpdateStrategy&&(e.extras.skipLocationChange||p.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),p.browserUrlTree=e.urlAfterRedirects)}),yg(function(e){e=new Pv(e.id,p.serializeUrl(e.extractedUrl),p.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);g.next(e)}));if(t&&p.rawUrlTree&&p.urlHandlingStrategy.shouldProcessUrl(p.rawUrlTree)){var u=e.id,h=e.extractedUrl,d=e.source,f=e.restoredState,t=e.extras,f=new Sv(u,p.serializeUrl(h),d,f);g.next(f);f=Fm(h,p.rootComponentType).snapshot;return oh(Object.assign(Object.assign({},e),{targetSnapshot:f,urlAfterRedirects:h,extras:Object.assign(Object.assign({},t),{skipLocationChange:!1,replaceUrl:!1})}))}return p.rawUrlTree=e.rawUrl,p.browserUrlTree=e.urlAfterRedirects,e.resolve(null),nh}),Fy(function(e){var t=e.targetSnapshot,n=e.id,r=e.extractedUrl,i=e.rawUrl,o=e.extras,e=o.skipLocationChange,o=o.replaceUrl;return p.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!e,replaceUrl:!!o})}),yg(function(e){e=new Rv(e.id,p.serializeUrl(e.extractedUrl),p.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);p.triggerEvent(e)}),I(function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,t=e.currentSnapshot,e=p.rootContexts,function c(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Dm(t);return e.children.forEach(function(e){!function(e,t,n,r,i){var o=4<arguments.length&&void 0!==i?i:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=t?t.value:null,l=n?n.getContext(e.value.outlet):null;s&&a.routeConfig===s.routeConfig?((i=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!dm(e.url,t.url);case"pathParamsOrQueryParamsChange":return!dm(e.url,t.url)||!Xv(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gm(e,t)||!Xv(e.queryParams,t.queryParams);case"paramsChange":default:return!Gm(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers))?o.canActivateChecks.push(new _y(r)):(a.data=s.data,a._resolvedData=s._resolvedData),c(e,t,a.component?l?l.children:null:n,r,o),i&&o.canDeactivateChecks.push(new wy(l&&l.outlet&&l.outlet.component||null,s))):(s&&xy(t,l,o),o.canActivateChecks.push(new _y(r)),c(e,null,a.component?l?l.children:null:n,r,o))}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),rm(o,function(e,t){return xy(e,n.getContext(t),i)}),i}(n=n._root,t?t._root:null,e,[n.value]))});var t,n}),(u=p.ngModule.injector,h=function(e){return p.triggerEvent(e)},function(e){return e.pipe(W(function(t){var s,l,c,n=t.targetSnapshot,e=t.currentSnapshot,r=t.guards,i=r.canActivateChecks,r=r.canDeactivateChecks;return 0===r.length&&0===i.length?oh(Object.assign(Object.assign({},t),{guardsResult:!0})):(s=n,l=e,c=u,B(r).pipe(W(function(e){return n=e.component,r=e.route,i=l,o=s,a=c,(e=r&&r.routeConfig?r.routeConfig.canDeactivate:null)&&0!==e.length?oh(e.map(function(e){var t,e=Cy(e,r,a);if(e&&cy(e.canDeactivate))t=im(e.canDeactivate(n,r,i,o));else{if(!cy(e))throw new Error("Invalid CanDeactivate guard");t=im(e(n,r,i,o))}return t.pipe(kv())})).pipe(Ey()):oh(!0);var n,r,i,o,a}),kv(function(e){return!0!==e},!0)).pipe(W(function(e){return e&&"boolean"==typeof e?(a=n,s=u,l=h,B(i).pipe(Of(function(e){return B([(t=e.route.parent,n=l,null!==t&&n&&n(new Dv(t)),oh(!0)),(n=e.route,t=l,null!==n&&t&&t(new Fv(n)),oh(!0)),Ty(a,e.path,s),(r=a,i=e.route,o=s,(e=i.routeConfig?i.routeConfig.canActivate:null)&&0!==e.length?oh(e.map(function(n){return Qd(function(){var e,t=Cy(n,i,o);if(t&&cy(t.canActivate))e=im(t.canActivate(i,r));else{if(!cy(t))throw new Error("Invalid CanActivate guard");e=im(t(i,r))}return e.pipe(kv())})})).pipe(Ey()):oh(!0))]).pipe(ov(),kv(function(e){return!0!==e},!0));var r,i,o,t,n}),kv(function(e){return!0!==e},!0))):oh(e);var a,s,l}),I(function(e){return Object.assign(Object.assign({},t),{guardsResult:e})})))}))}),yg(function(e){if(uy(e.guardsResult)){var t=Qv('Redirecting to "'.concat(p.serializeUrl(e.guardsResult),'"'));throw t.url=e.guardsResult,t}}),yg(function(e){e=new Iv(e.id,p.serializeUrl(e.extractedUrl),p.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);p.triggerEvent(e)}),cf(function(e){if(e.guardsResult)return!0;p.resetUrlToCurrentUrlTree();var t=new Tv(e.id,p.serializeUrl(e.extractedUrl),"");return g.next(t),e.resolve(!1),!1}),Fy(function(e){if(e.guards.canActivateChecks.length)return oh(e).pipe(yg(function(e){e=new Ov(e.id,p.serializeUrl(e.extractedUrl),p.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);p.triggerEvent(e)}),fg(function(t){var o,a,n=!1;return oh(t).pipe((o=p.paramsInheritanceStrategy,a=p.ngModule.injector,function(e){return e.pipe(W(function(t){var r=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return oh(t);var i=0;return B(n).pipe(Of(function(e){return t=e.route,n=o,function(e,n,r,i){var t=Object.keys(e);if(0===t.length)return oh({});var o={};return B(t).pipe(W(function(t){return function(e,t,n){e=Cy(e,t,i);return im(e.resolve?e.resolve(t,n):e(t,n))}(e[t],n,r).pipe(yg(function(e){o[t]=e}))}),av(1),W(function(){return Object.keys(o).length===t.length?oh(o):nh}))}(t._resolve,t,r,a).pipe(I(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Bm(t,n).resolve),null}));var t,n}),yg(function(){return i++}),av(1),W(function(e){return i===n.length?oh(t):nh}))}))}),yg({next:function(){return n=!0},complete:function(){var e;n||(e=new Tv(t.id,p.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value."),g.next(e),t.resolve(!1))}}))}),yg(function(e){e=new Mv(e.id,p.serializeUrl(e.extractedUrl),p.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);p.triggerEvent(e)}))}),Fy(function(e){var t=e.targetSnapshot,n=e.id,r=e.extractedUrl,i=e.rawUrl,o=e.extras,e=o.skipLocationChange,o=o.replaceUrl;return p.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!e,replaceUrl:!!o})}),I(function(e){var t=function(e,t,n){n=function r(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=e.value;var o=(a=t,s=n,e.children.map(function(e){var t=HS(s.children);try{for(t.s();!(n=t.n()).done;){var n=n.value;if(a.shouldReuseRoute(n.value.snapshot,e.value))return r(a,e,n)}}catch(e){t.e(e)}finally{t.f()}return r(a,e)}));return new Nm(i,o)}var a,s,o=t.retrieve(e.value);if(o){var l=o.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(e,l),l}l=new Vm(new Yu((l=e.value).url),new Yu(l.params),new Yu(l.queryParams),new Yu(l.fragment),new Yu(l.data),l.outlet,l.component,l),e=e.children.map(function(e){return r(t,e)});return new Nm(l,e)}(e,t._root,n?n._root:void 0);return new jm(n,t)}(p.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),yg(function(e){p.currentUrlTree=e.urlAfterRedirects,p.rawUrlTree=p.urlHandlingStrategy.merge(p.currentUrlTree,e.rawUrl),p.routerState=e.targetRouterState,"deferred"===p.urlUpdateStrategy&&(e.extras.skipLocationChange||p.setBrowserUrl(p.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),p.browserUrlTree=e.urlAfterRedirects)}),(n=p.rootContexts,i=p.routeReuseStrategy,o=function(e){return p.triggerEvent(e)},I(function(e){return new oy(i,e.targetRouterState,e.currentRouterState,o).activate(n),e})),yg({next:function(){a=!0},complete:function(){a=!0}}),(t=function(){var e;a||s||(p.resetUrlToCurrentUrlTree(),e=new Tv(r.id,p.serializeUrl(r.extractedUrl),"Navigation ID ".concat(r.id," is not equal to the current navigation id ").concat(p.navigationId)),g.next(e),r.resolve(!1)),p.currentNavigation=null},function(e){return e.lift(new Mf(t))}),of(function(t){if(s=!0,t&&t.ngNavigationCancelingError){var e=uy(t.url);e||(p.navigated=!0,p.resetStateAndUrl(r.currentRouterState,r.currentUrlTree,r.rawUrl));var n=new Tv(r.id,p.serializeUrl(r.extractedUrl),t.message);g.next(n),e?setTimeout(function(){var e=p.urlHandlingStrategy.merge(t.url,p.rawUrlTree);return p.scheduleNavigation(e,"imperative",null,{skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===p.urlUpdateStrategy},{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{p.resetStateAndUrl(r.currentRouterState,r.currentUrlTree,r.rawUrl);e=new Av(r.id,p.serializeUrl(r.extractedUrl),t);g.next(e);try{r.resolve(p.errorHandler(t))}catch(e){r.reject(e)}}return nh}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var i=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var t=i.parseUrl(e.url),n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){i.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Uy(e),this.config=e.map(qy),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.preserveQueryParams,a=t.queryParamsHandling,t=t.preserveFragment;br()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var n=n||this.routerState.root,i=t?this.currentUrlTree.fragment:i,s=null;if(a)switch(a){case"merge":s=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":s=this.currentUrlTree.queryParams;break;default:s=r||null}else s=o?this.currentUrlTree.queryParams:r||null;return null!==s&&(s=this.removeEmptyProps(s)),function(e,t,n,r,i){if(0===n.length)return Jm(t.root,t.root,t,r,i);n=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ym(!0,0,e);var i=0,o=!1,e=e.reduce(function(n,e,t){if("object"==typeof e&&null!=e){if(e.outlets){var r={};return rm(e.outlets,function(e,t){r[t]="string"==typeof e?e.split("/"):e}),[].concat(US(n),[{outlets:r}])}if(e.segmentPath)return[].concat(US(n),[e.segmentPath])}return"string"==typeof e&&0===t?(e.split("/").forEach(function(e,t){0==t&&"."===e||(0==t&&""===e?o=!0:".."===e?i++:""!=e&&n.push(e))}),n):[].concat(US(n),[e])},[]);return new Ym(o,i,e)}(n);if(n.toRoot())return Jm(t.root,new sm([],{}),t,r,i);e=function(r,e,i){if(r.isAbsolute)return new Qm(e.root,!0,0);if(-1===i.snapshot._lastPathIndex){var t=i.snapshot._urlSegment;return new Qm(t,t===e.root,0)}var o=Zm(r.commands[0])?0:1;return function(){for(var e=i.snapshot._urlSegment,t=i.snapshot._lastPathIndex+o,n=r.numberOfDoubleDots;t<n;){if(n-=t,!(e=e.parent))throw new Error("Invalid number of '../'");t=e.segments.length}return new Qm(e,!1,t-n)}()}(n,t,e),n=(e.processChildren?ny:ty)(e.segmentGroup,e.index,n.commands);return Jm(e.segmentGroup,n,t,r,i)}(n,this.currentUrlTree,e,s,i)}},{key:"navigateByUrl",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};br()&&this.isNgZoneEnabled&&!Al.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");e=uy(e)?e:this.parseUrl(e),e=this.urlHandlingStrategy.merge(e,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,t)}},{key:"navigate",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(t){var n;try{n=this.urlSerializer.parse(t)}catch(e){n=this.malformedUriErrorHandler(e,this.urlSerializer,t)}return n}},{key:"isActive",value:function(e,t){if(uy(e))return om(this.currentUrlTree,e,t);e=this.parseUrl(e);return om(this.currentUrlTree,e,t)}},{key:"removeEmptyProps",value:function(r){return Object.keys(r).reduce(function(e,t){var n=r[t];return null!=n&&(e[t]=n),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Ev(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s=this.getTransition();if(s&&"imperative"!==t&&"imperative"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"hashchange"==t&&"popstate"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"popstate"==t&&"hashchange"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);s=i?(o=i.resolve,a=i.reject,i.promise):new Promise(function(e,t){o=e,a=t});i=++this.navigationId;return this.setTransition({id:i,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t,n,r){e=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(e)||t?this.location.replaceState(e,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(e,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),(ik=uk).ɵfac=function(e){return new(e||ik)(Qe(io),Qe(pm),Qe(Gy),Qe(Dc),Qe(wo),Qe(oc),Qe(Cl),Qe(void 0))},ik.ɵprov=fe({token:ik,factory:ik.ɵfac}),ik),ak=(WS(ck,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"onClick",value:function(){var e={skipLocationChange:hk(this.skipLocationChange),replaceUrl:hk(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){br()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:hk(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:hk(this.preserveFragment)})}}]),(rk=ck).ɵfac=function(e){return new(e||rk)(Fo(ok),Fo(Vm),Vo("tabindex"),Fo(Ra),Fo(Ta))},rk.ɵdir=bt({type:rk,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Go("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Nt]}),rk),sk=(WS(lk,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;r={skipLocationChange:hk(this.skipLocationChange),replaceUrl:hk(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){br()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:hk(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:hk(this.preserveFragment)})}}]),(nk=lk).ɵfac=function(e){return new(e||nk)(Fo(ok),Fo(Vm),Fo(Pc))},nk.ɵdir=bt({type:nk,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Go("click",function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)}),2&e&&(fa("href",t.href,xr),Lo("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Nt]}),nk);function lk(e,t,n){var r=this;qS(this,lk),this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new T,this.subscription=e.events.subscribe(function(e){e instanceof Ev&&r.updateTargetUrlAndHref()})}function ck(e,t,n,r,i){qS(this,ck),this.router=e,this.route=t,this.commands=[],this.onChanges=new T,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}function uk(e,t,n,r,i,o,a,s){var l=this;qS(this,uk),this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=Xy,this.malformedUriErrorHandler=ek,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:tk,afterPreactivation:tk},this.urlHandlingStrategy=new Zy,this.routeReuseStrategy=new zy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(nt),this.console=i.get(ml);i=i.get(Al);this.isNgZoneEnabled=i instanceof Al,this.resetConfig(s),this.currentUrlTree=new am(new sm([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ky(o,a,function(e){return l.triggerEvent(new Nv(e))},function(e){return l.triggerEvent(new Lv(e))}),this.routerState=Fm(this.currentUrlTree,this.rootComponentType),this.transitions=new Yu({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}function hk(e){return""===e||!!e}function dk(){qS(this,dk)}var fk,pk,gk,vk,dc=(WS(Ik,[{key:"ngAfterContentInit",value:function(){var t=this;B([this.links.changes,this.linksWithHrefs.changes,oh(null)]).pipe(Z()).subscribe(function(e){t.update(),t.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var e=[].concat(US(this.links.toArray()),US(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges});this.linkInputChangesSubscription=B(e).pipe(Z()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var n=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var t=n.hasActiveLinks();n.isActive!==t&&(n.isActive=t,n.cdr.markForCheck(),n.classes.forEach(function(e){t?n.renderer.addClass(n.element.nativeElement,e):n.renderer.removeClass(n.element.nativeElement,e)}))})}},{key:"isLinkActive",value:function(t){var n=this;return function(e){return t.isActive(e.urlTree,n.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){e=Array.isArray(e)?e:e.split(" ");this.classes=e.filter(function(e){return!!e})}}]),(pk=Ik).ɵfac=function(e){return new(e||pk)(Fo(ok),Fo(Ta),Fo(Ra),Fo(no),Fo(ak,8),Fo(sk,8))},pk.ɵdir=bt({type:pk,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){1&e&&(Qs(n,ak,!0),Qs(n,sk,!0)),2&e&&(Zs(e=Ys())&&(t.links=e),Zs(e=Ys())&&(t.linksWithHrefs=e))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Nt]}),pk),mk=(WS(Rk,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){var e;this.activated||(e=this.parentContexts.getContext(this.name))&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){var e;this.activated&&(e=this.component,this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e))}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),t=this.parentContexts.getOrCreateContext(this.name).children,t=new yk(e,t,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,t),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),(fk=Rk).ɵfac=function(e){return new(e||fk)(Fo(Gy),Fo(ls),Fo(Ea),Vo("name"),Fo(no))},fk.ɵdir=bt({type:fk,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),fk),yk=(WS(Pk,[{key:"get",value:function(e,t){return e===Vm?this.route:e===Gy?this.childContexts:this.parent.get(e,t)}}]),Pk),kk=(WS(Ak,[{key:"preload",value:function(e,t){return oh(null)}}]),Ak),bk=(WS(Tk,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(cf(function(e){return e instanceof Ev}),Of(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(nt);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n=[],r=HS(t);try{for(r.s();!(i=r.n()).done;){var i,o=i.value;o.loadChildren&&!o.canLoad&&o._loadedConfig?(i=o._loadedConfig,n.push(this.processRoutes(i.module,i.routes))):o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(e,o)):o.children&&n.push(this.processRoutes(e,o.children))}}catch(e){r.e(e)}finally{r.f()}return B(n).pipe(Z(),I(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return n.loader.load(e.injector,t).pipe(W(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),(vk=Tk).ɵfac=function(e){return new(e||vk)(Qe(ok),Qe(oc),Qe(Cl),Qe(wo),Qe(dk))},vk.ɵprov=fe({token:vk,factory:vk.ɵfac}),vk),_k=(WS(Ek,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Sv?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ev&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof zv&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new zv(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),(gk=Ek).ɵfac=function(e){return new(e||gk)(Qe(ok),Qe(au),Qe(void 0))},gk.ɵprov=fe({token:gk,factory:gk.ɵfac}),gk),wk=new He("ROUTER_CONFIGURATION"),Ck=new He("ROUTER_FORROOT_GUARD"),xk=[Dc,{provide:pm,useClass:Sa},{provide:ok,useFactory:function(e,t,n,r,i,o,a){var s,l=7<arguments.length&&void 0!==arguments[7]?arguments[7]:{},c=8<arguments.length?arguments[8]:void 0,u=9<arguments.length?arguments[9]:void 0,a=new ok(null,e,t,n,r,i,o,tm(a));return c&&(a.urlHandlingStrategy=c),u&&(a.routeReuseStrategy=u),l.errorHandler&&(a.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(a.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing&&(s=vc,a.events.subscribe(function(e){s.logGroup("Router Event: "+e.constructor.name),s.log(e.toString()),s.log(e),s.logGroupEnd()})),l.onSameUrlNavigation&&(a.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(a.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(a.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(a.relativeLinkResolution=l.relativeLinkResolution),a},deps:[pm,Gy,Dc,wo,oc,Cl,$y,wk,[Ku,new le],[function e(){qS(this,e)},new le]]},Gy,{provide:Vm,useFactory:function(e){return e.routerState.root},deps:[ok]},{provide:oc,useClass:cc},bk,kk,(WS(Sk,[{key:"preload",value:function(e,t){return t().pipe(of(function(){return oh(null)}))}}]),Sk),{provide:wk,useValue:{enableTracing:!1}}];function Sk(){qS(this,Sk)}function Ek(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};qS(this,Ek),this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}function Tk(t,e,n,r,i){qS(this,Tk),this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ky(e,n,function(e){return t.triggerEvent(new Nv(e))},function(e){return t.triggerEvent(new Lv(e))})}function Ak(){qS(this,Ak)}function Pk(e,t,n){qS(this,Pk),this.route=e,this.childContexts=t,this.parent=n}function Rk(e,t,n,r,i){qS(this,Rk),this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ls,this.deactivateEvents=new Ls,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}function Ik(e,t,n,r,i,o){var a=this;qS(this,Ik),this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(function(e){e instanceof Ev&&a.update()})}function Ok(){return new Dl("Router",ok)}var Mk,Jp=(WS(Nk,null,[{key:"forRoot",value:function(e,t){return{ngModule:Nk,providers:[xk,Fk(e),{provide:Ck,useFactory:jk,deps:[[ok,new le,new ue]]},{provide:wk,useValue:t||{}},{provide:Pc,useFactory:Dk,deps:[bc,[new se(Mc),new le],wk]},{provide:_k,useFactory:Lk,deps:[ok,au,wk]},{provide:dk,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:kk},{provide:Dl,multi:!0,useFactory:Ok},[zk,{provide:rl,multi:!0,useFactory:Hk,deps:[zk]},{provide:Jk,useFactory:Uk,deps:[zk]},{provide:vl,multi:!0,useExisting:Jk}]]}}},{key:"forChild",value:function(e){return{ngModule:Nk,providers:[Fk(e)]}}}]),(Mk=Nk).ɵmod=yt({type:Mk}),Mk.ɵinj=pe({factory:function(e){return new(e||Mk)(Qe(Ck,8),Qe(ok,8))}}),Mk);function Nk(e,t){qS(this,Nk)}function Lk(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new _k(e,t,n)}function Dk(e,t){return new((2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).useHash?Lc:Nc)(e,t)}function jk(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Fk(e){return[{provide:Co,multi:!0,useValue:e},{provide:$y,multi:!0,useValue:e}]}var Vk,zk=(WS(Bk,[{key:"appInitializer",value:function(){var i=this;return this.injector.get(wc,Promise.resolve(null)).then(function(){var t=null,e=new Promise(function(e){return t=e}),n=i.injector.get(ok),r=i.injector.get(wk);if(i.isLegacyDisabled(r)||i.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));n.hooks.afterPreactivation=function(){return i.initNavigation?oh(null):(i.initNavigation=!0,t(!0),i.resultOfPreactivationDone)},n.initialNavigation()}return e})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(wk),n=this.injector.get(bk),r=this.injector.get(_k),i=this.injector.get(ok),o=this.injector.get(nc);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),(Vk=Bk).ɵfac=function(e){return new(e||Vk)(Qe(wo))},Vk.ɵprov=fe({token:Vk,factory:Vk.ɵfac}),Vk);function Bk(e){qS(this,Bk),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new T}function Hk(e){return e.appInitializer.bind(e)}function Uk(e){return e.bootstrapListener.bind(e)}var qk,Wk,$k,Kk,Gk,Zk,Jk=new He("Router Initializer"),ws=(WS(eb,[{key:"intercept",value:function(e,t){var n=this,r=e;return e.url.startsWith(this.configService.apiUrl)?((r=this.authInterceptor(r))instanceof Sp&&(r=this.snakeCaseRequestInterceptor(r)),this.response(t,r).pipe(of(function(e){return 401===e.status&&n.router.navigateByUrl("/login"),ah(e)}))):this.response(t,r)}},{key:"response",value:function(e,t){var n=this;return e.handle(t).pipe(I(function(e){return e instanceof Ap?n.camelCaseResponseInterceptor(e):e}))}},{key:"snakeCaseRequestInterceptor",value:function(e){var n,r=e;return r.body&&(e=Zg.objKeysTransformer(r.body,qg),r=r.clone({body:e})),r.params&&(n=new kp,r.params.keys().forEach(function(e){var t=r.params.get(e);t&&(n=n.append(qg(e),t))}),r=r.clone({params:n})),r}},{key:"camelCaseResponseInterceptor",value:function(e){var t=Zg.objKeysTransformer(e.body,Kg);return e.clone({body:t})}},{key:"authInterceptor",value:function(e){var t=this.localStorageService.get("token");return t?e.clone({setHeaders:{Authorization:"Bearer "+t}}):e}}]),(Zk=eb).ɵfac=function(e){return new(e||Zk)(Qe(Jg),Qe(ok),Qe(tg))},Zk.ɵprov=fe({token:Zk,factory:Zk.ɵfac}),Zk),ns=((Gk=function e(){qS(this,e)}).ɵmod=yt({type:Gk}),Gk.ɵinj=pe({factory:function(e){return new(e||Gk)},providers:[Jg],imports:[[]]}),Gk),Sa=((Kk=function e(){qS(this,e)}).ɵmod=yt({type:Kk}),Kk.ɵinj=pe({factory:function(e){return new(e||Kk)},providers:[{provide:Kp,useClass:ws,multi:!0}],imports:[[ns]]}),Kk),Qk=(WS(Xk,[{key:"search",value:function(e,t){return this.http.get(this.base,{params:Zg.buildQueryParams({project:e,text:t})})}},{key:"base",get:function(){return this.config.apiUrl+"/search"}}]),($k=Xk).ɵfac=function(e){return new(e||$k)(Qe(Wp),Qe(tg))},$k.ɵprov=fe({token:$k,factory:$k.ɵfac}),$k),cc=((Wk=function e(){qS(this,e)}).ɵmod=yt({type:Wk}),Wk.ɵinj=pe({factory:function(e){return new(e||Wk)},providers:[Qk],imports:[[pc,Sa]]}),Wk),ws=((qk=function e(){qS(this,e)}).ɵmod=yt({type:qk}),qk.ɵinj=pe({factory:function(e){return new(e||qk)},providers:[],imports:[[ou,t,Re,cc]]}),qk),ns=i("M55E"),Yk=i.n(ns);function Xk(e,t){qS(this,Xk),this.http=e,this.config=t}function eb(e,t,n){qS(this,eb),this.localStorageService=e,this.router=t,this.configService=n}function tb(e,t){return Array(t+1).join(e)}var nb=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function rb(e){return-1!==nb.indexOf(e.nodeName.toLowerCase())}var ib=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function ob(e){return-1!==ib.indexOf(e.nodeName.toLowerCase())}var ab=ib.join(),sb={};function lb(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function cb(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(function(e,t,n){var r=e.filter;if("string"==typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(-1<r.indexOf(t.nodeName.toLowerCase()))return!0}else{if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}(i,t,n))return i}}function ub(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function hb(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}sb.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},sb.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},sb.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){t=Number(t.nodeName.charAt(1));return"setext"===n.headingStyle&&t<3?"\n\n"+e+"\n"+tb(1===t?"=":"-",e.length)+"\n\n":"\n\n"+tb("#",t)+" "+e+"\n\n"}},sb.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},sb.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},sb.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",i=t.parentNode;return"OL"===i.nodeName&&(n=i.getAttribute("start"),i=Array.prototype.indexOf.call(i.children,t),r=(n?Number(n)+i:i+1)+".  "),r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},sb.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},sb.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){for(var r,i=((t.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,n=n.fence.charAt(0),a=3,s=new RegExp("^"+n+"{3,}","gm");r=s.exec(o);)r[0].length>=a&&(a=r[0].length+1);n=tb(n,a);return"\n\n"+n+i+"\n"+o.replace(/\n$/,"")+"\n"+n+"\n\n"}},sb.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},sb.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){return"["+e+"]("+t.getAttribute("href")+(t.title?' "'+t.title+'"':"")+")"}},sb.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),i=t.title?' "'+t.title+'"':"";switch(n.linkReferenceStyle){case"collapsed":a="["+e+"][]",s="["+e+"]: "+r+i;break;case"shortcut":a="["+e+"]",s="["+e+"]: "+r+i;break;default:var o=this.references.length+1,a="["+e+"]["+o+"]",s="["+o+"]: "+r+i}return this.references.push(s),a},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},sb.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},sb.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},sb.code={filter:function(e){return"CODE"===e.nodeName&&!("PRE"===e.parentNode.nodeName&&!e.previousSibling&&!e.nextSibling)},replacement:function(e){if(!e.trim())return"";var t="`",n="",r="",i=e.match(/`+/gm);if(i)for(/^`/.test(e)&&(n=" "),/`$/.test(e)&&(r=" ");-1!==i.indexOf(t);)t+="`";return t+n+e+r+t}},sb.image={filter:"img",replacement:function(e,t){var n=t.alt||"",r=t.getAttribute("src")||"",t=t.title||"";return r?"!["+n+"]("+r+(t?' "'+t+'"':"")+")":""}},lb.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=cb(this.array,e,this.options))||(t=cb(this._keep,e,this.options))||(t=cb(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var db,fb,pb="undefined"!=typeof window?window:{},gb=function(){var e=pb.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?pb.DOMParser:(j_=function(){},db=i(1).JSDOM,j_.prototype.parseFromString=function(e){return new db(e).window.document},j_);function vb(e){return function(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!i(t)){for(var o=null,a=!1,s=hb(c=null,t,i);s!==t;){if(3===s.nodeType||4===s.nodeType){var l=s.data.replace(/[ \r\n\t]+/g," ");if(o&&!/ $/.test(o.data)||a||" "!==l[0]||(l=l.substr(1)),!l){s=ub(s);continue}s.data=l,o=s}else{if(1!==s.nodeType){s=ub(s);continue}n(s)||"BR"===s.nodeName?(o&&(o.data=o.data.replace(/ $/,"")),o=null,a=!1):r(s)&&(a=!(o=null))}var l=hb(c,s,i),c=s,s=l}o&&(o.data=o.data.replace(/ $/,""),o.data||ub(o))}}({element:e="string"==typeof e?(fb=fb||new gb).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):e.cloneNode(!0),isBlock:rb,isVoid:ob}),e}function mb(e){return e.isBlock=rb(e),e.isCode="code"===e.nodeName.toLowerCase()||e.parentNode.isCode,e.isBlank=-1===["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf((a=e).nodeName)&&/^\s*$/i.test(a.textContent)&&!ob(a)&&!(a.querySelector&&a.querySelector(ab)),e.flankingWhitespace=(o=i="",(t=e).isBlock||(n=/^\s/.test(t.textContent),r=/\s$/.test(t.textContent),a=t.isBlank&&n&&r,n&&!yb("left",t)&&(i=" "),a||!r||yb("right",t)||(o=" ")),{leading:i,trailing:o}),e;var t,n,r,i,o,a}function yb(e,t){var n,r,t="left"===e?(n=t.previousSibling,/ $/):(n=t.nextSibling,/^ /);return n&&(3===n.nodeType?r=t.test(n.nodeValue):1!==n.nodeType||rb(n)||(r=t.test(n.textContent))),r}var kb=Array.prototype.reduce,bb=/^\n*/,_b=/\n*$/,wb=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Cb(e){if(!(this instanceof Cb))return new Cb(e);this.options=function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e}({},{rules:sb,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}},e),this.rules=new lb(this.options)}function xb(e){var r=this;return kb.call(e.childNodes,function(e,t){var n="";return 3===(t=new mb(t)).nodeType?n=t.isCode?t.nodeValue:r.escape(t.nodeValue):1===t.nodeType&&(n=function(e){var t=this.rules.forNode(e),n=xb.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}.call(r,t)),Sb(e,n)},"")}function Sb(e,t){var n=(n=t,(n=(n=[e.match(_b)[0],n.match(bb)[0]].sort())[n.length-1]).length<2?n:"\n\n");return(e=e.replace(_b,""))+n+t.replace(bb,"")}Cb.prototype={turndown:function(e){if(null==e||"string"!=typeof e&&(!e.nodeType||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";e=xb.call(this,new vb(e));return function(t){var n=this;return this.rules.forEach(function(e){"function"==typeof e.append&&(t=Sb(t,e.append(n.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}.call(this,e)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return wb.reduce(function(e,t){return e.replace(t[0],t[1])},e)}};function Eb(e){e.addRule("taskListItems",{filter:function(e){return"checkbox"===e.type},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}})}var Tb=Cb,Ab=Array.prototype.indexOf,Pb=Array.prototype.every,Rb=((Sa={}).tableCell={filter:["th","td"],replacement:Ob},Sa.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(Ib(t))for(var i=0;i<t.childNodes.length;i++){var o="---",a=(t.childNodes[i].getAttribute("align")||"").toLowerCase();a&&(o=r[a]||o),n+=Ob(o,t.childNodes[i])}return"\n"+e+(n?"\n"+n:"")}},Sa.table={filter:function(e){return"TABLE"===e.nodeName&&Ib(e.rows[0])},replacement:function(e){return"\n\n"+(e=e.replace("\n\n","\n"))+"\n\n"}},Sa.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}},Sa);function Ib(e){var t,n=e.parentNode;return"THEAD"===n.nodeName||n.firstChild===e&&("TABLE"===n.nodeName||(t=n.previousSibling,"TBODY"===n.nodeName&&(!t||"THEAD"===t.nodeName&&/^\s*$/i.test(t.textContent))))&&Pb.call(e.childNodes,function(e){return"TH"===e.nodeName})}function Ob(e,t){if(!t.parentNode)return"";var n=" ";0===Ab.call(t.parentNode.childNodes,t)&&(n="| ");t=e.trim().replace(/^\s+|\s+$/g,"");return t.startsWith("![")&&(e=t),n+e+" |"}function Mb(e){for(var t in e.keep(function(e){return"TABLE"===e.nodeName&&!Ib(e.rows[0])}),Rb)e.addRule(t,Rb[t])}function Nb(e){e.addRule("mention",{filter:function(e){return"A"===e.tagName&&!(null===(e=e.getAttribute("href"))||void 0===e||!e.startsWith("profile/"))},replacement:function(e,t){t=null===(t=t.getAttribute("href"))||void 0===t?void 0:t.split("profile/")[1];return t?"@"+t:""}})}function Lb(e){e.addRule("strikethrough",{filter:["del","s"],replacement:function(e){return"~~"+e+"~~"}})}var Db,jb,Fb,Vb=(WS(Qb,[{key:"setUp",value:function(e){var r,t,i,o;this.showdownConverter=new Yk.a.Converter({strikethrough:!0,tables:!0,tasklists:!0,literalMidWordUnderscores:!0,simpleLineBreaks:!0,emoji:!0,openLinksInNewWindow:!0,backslashEscapesHTMLTags:!0,ellipsis:!1,simplifiedAutoLink:!0,extensions:[[{type:"lang",regex:/(^|\s)(\\)?(#([a-z\d]+(?:[a-z\d._-]+?[a-z\d]+)*))/gi,replace:function(e,t,n){if("\\"===t)return e;var r=e.indexOf("#"),t=e.slice(0,r),r=e.slice(r).replace("&nbsp;","").replace("#","").replace(/ /g,"");return"".concat(t,"[#").concat(r,"](project/").concat(o,"/t/").concat(r,")")}},{type:"lang",regex:/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d._-]+?[a-z\d]+)*))/gi,replace:function(e,t,n){if("\\"===t)return e;var r=e.indexOf("@"),t=e.slice(0,r),r=e.slice(r).replace("&nbsp;","").replace("@","").replace(/ /g,"");return"".concat(t,"[@").concat(r,"](profile/").concat(r,")")}},{type:"output",filter:function(e){return(e=e.replace(new RegExp('href="project/',"gi"),'class="mention" data-mention="true" href="project/')).replace(new RegExp('href="profile/',"gi"),'class="mention" data-mention="true" href="profile/')}}],(i=o=e,[{type:"lang",regex:/\[\[(.*?)\]\]/g,replace:function(e,t){var n=BS(t.split("|"),2),t=n[0],n=n[1];return"[".concat(n||t,"](project/").concat(i,"/wiki/").concat(t,")")}}]),[{type:"output",regex:"<p>(<a.*?><img.*?</a>)</p>",replace:function(e,t){return t}}]]}),this.turndownService=new Tb({codeBlockStyle:"fenced"}),this.turndownService.use([Mb,Eb,Nb,function(e){e.addRule("references",{filter:function(e){return"A"===e.tagName&&!(null===(e=e.getAttribute("href"))||void 0===e||!e.startsWith("project/".concat(t,"/t/")))},replacement:function(e,t){t=null===(t=t.getAttribute("href"))||void 0===t?void 0:t.split("/t/")[1];return t?"#"+t:""}})},(r=t=e,function(e){e.addRule("references",{filter:function(e){return"A"===e.tagName&&!(null===(e=e.getAttribute("href"))||void 0===e||!e.startsWith("project/".concat(r,"/wiki/")))},replacement:function(e,t){var n=t.getAttribute("href");if(n){t=t.innerHTML;return(n=n.replace("project/".concat(r,"/wiki/"),""))===t?"[[".concat(n,"]]"):"[[".concat(n,"|").concat(t,"]]")}throw new Error("Wiki link must have href")}})}),Lb])}},{key:"toHtml",value:function(e){return this.showdownConverter.makeHtml(e)}},{key:"toMarkdown",value:function(e){return this.turndownService.turndown(e)}},{key:"isReady",value:function(){return this.turndownService&&this.showdownConverter}}]),(Db=Qb).ɵfac=function(e){return new(e||Db)},Db.ɵprov=fe({token:Db,factory:Db.ɵfac}),Db),t=i("2u/s"),zb=i.n(t),Bb=i("7Km7"),Hb=i("USe2"),Ub=(WS(Jb,[{key:"setUploadFunction",value:function(e){this.uploadFunction=e}},{key:"upload",value:function(){var n=this;return this.loader.file.then(function(t){return new Promise(function(e){n.uploadFunction(t,e)})})}},{key:"abort",value:function(){}}]),Jb),qb=["el"],Wb=(WS(Zb,[{key:"getTextPartLanguages",value:function(){var t=this;return[{title:"العربية",languageCode:"ar"},{title:"Deutsch",languageCode:"de"},{title:"English",languageCode:"en"},{title:"Español",languageCode:"es"},{title:"Français",languageCode:"fr"},{title:"日本語",languageCode:"ja"},{title:"한국어",languageCode:"ko"},{title:"Português",languageCode:"pt"},{title:"русский",languageCode:"ru"},{title:"中文",languageCode:"zh"}].filter(function(e){return e.languageCode!==t.lan})}},{key:"getLegacyLoadTranslation",value:function(){var t=this;return new Promise(function(e){window.ljs.load("/".concat(window.TAIGA_VERSION,"/ckeditor-translations/").concat(t.lan,".js"),e)})}},{key:"ngAfterViewInit",value:function(){var e=this;"en"!==this.lan?this.getLegacyLoadTranslation().then(function(){e.initEditor()}).catch(function(){console.error("Error trying to load "+e.lan),e.lan="en",e.initEditor()}):this.initEditor()}},{key:"initEditor",value:function(){var r=this,t=this.uploadFunction;zb.a.create(this.el.nativeElement,{placeholder:this.placeholder,language:{content:this.lan,textPartLanguage:this.getTextPartLanguages()},codeBlock:{languages:US(Hb)},extraPlugins:[function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new Ub(e,t)}}.bind(this)],link:{decorators:{newPage:{mode:"automatic",callback:function(){return!0},attributes:{target:"_blank"}}}},mention:{feeds:[{marker:"@",feed:this.feedUsers,itemRenderer:this.customItemRenderer.bind(this)},{marker:"#",feed:this.feedReferences,minimumCharacters:1,itemRenderer:this.customItemRenderer.bind(this)},{marker:":",feed:this.getEmojis,itemRenderer:this.emojisRenderer}]},typing:{transformations:{include:["symbols","mathematical","quotes"]}}}).then(function(e){r.editor=e,r.editor.setData(r.html),e.ui.focusTracker.on("change:isFocused",function(e,t,n){r.focusChanged.emit(n)}),e.model.document.on("change:data",function(){r.html=r.getHtml(),r.changed.emit(r.html)}),r.hideTableHederRowSwitch()}).catch(function(e){console.error(e)})}},{key:"customItemRenderer",value:function(e){var t=document.createElement("span");return t.classList.add("custom-item"),t.id="mention-list-item-id-"+e.id,t.textContent=""+(e.listRenderText||e.id),t}},{key:"hideTableHederRowSwitch",value:function(){var r=this,i=this.editor.plugins.get("WidgetToolbarRepository");this.editor.plugins.get("ContextualBalloon").on("change:visibleView",function(e,t,n){i._isToolbarVisible(i._toolbarDefinitions.get("tableContent"))&&n&&(r.editor.model.document.selection.focus.getAncestors().find(function(e){return"table"===e.name}).getAttribute("headingRows")||r.editor.execute("setTableRowHeader"),Array.from(document.querySelectorAll(".ck-dropdown .ck-list")).forEach(function(e){e=e.querySelectorAll("li");e.length&&(e[0].style.display="none",e[1].style.display="none")}))})}},{key:"emojisRenderer",value:function(e){var t=document.createElement("span");return t.textContent="".concat(e.text," ").concat(e.id),t}},{key:"getEmojis",value:function(t){return new Promise(function(e){e(Object.entries(Bb).filter(function(e){return BS(e,1)[0].includes(t)}).map(function(e){var t=BS(e,2),e=t[0],t=t[1];return{id:":".concat(e,":"),text:t}}).slice(0,10))})}},{key:"getHtml",value:function(){return this.editor.getData()}},{key:"setHtmlContent",value:function(e){this.html=e,this.editor&&this.editor.setData(this.html)}},{key:"content",set:function(e){this.setHtmlContent(e)}}]),(jb=Zb).ɵfac=function(e){return new(e||jb)},jb.ɵcmp=pt({type:jb,selectors:[["tg-html-editor"]],viewQuery:function(e,t){var n;1&e&&Js(qb,!0,Ta),2&e&&Zs(n=Ys())&&(t.el=n.first)},inputs:{feedUsers:"feedUsers",feedReferences:"feedReferences",lan:"lan",placeholder:"placeholder",uploadFunction:"uploadFunction",content:"content"},outputs:{focusChanged:"focusChanged",changed:"changed"},decls:2,vars:0,consts:[["el",""]],template:function(e,t){1&e&&qo(0,"div",null,0)},encapsulation:2,changeDetection:0}),jb),$b=["textarea"],Kb=(WS(Gb,[{key:"getMarkdown",value:function(){return this.textarea.nativeElement.innerText}},{key:"ngAfterViewInit",value:function(){this.setMarkdownContent(this.markdown)}},{key:"inputChange",value:function(){this.changed.emit(this.getMarkdown())}},{key:"setMarkdownContent",value:function(e){this.markdown=e,this.textarea&&(this.textarea.nativeElement.innerText=e)}},{key:"empty",get:function(){return!!this.markdown.length}},{key:"content",set:function(e){this.setMarkdownContent(e)}}]),(Fb=Gb).ɵfac=function(e){return new(e||Fb)},Fb.ɵcmp=pt({type:Fb,selectors:[["tg-markdown-editor"]],viewQuery:function(e,t){var n;1&e&&Js($b,!0,Ta),2&e&&Zs(n=Ys())&&(t.textarea=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&oa("empty",t.empty)},inputs:{content:"content"},outputs:{changed:"changed",focusChanged:"focusChanged"},decls:2,vars:0,consts:[["contentEditable","",1,"markdown",3,"input","focus","blur"],["textarea",""]],template:function(e,t){1&e&&(Ho(0,"div",0,1),Go("input",function(){return t.inputChange()})("focus",function(){return t.focusChanged.emit(!0)})("blur",function(){return t.focusChanged.emit(!1)}),Uo())},styles:[""],changeDetection:0}),Fb);function Gb(){qS(this,Gb),this.markdown="",this.changed=new Ls,this.focusChanged=new Ls}function Zb(){qS(this,Zb),this.lan="en",this.placeholder="",this.focusChanged=new Ls,this.changed=new Ls,this.html=""}function Jb(e,t){qS(this,Jb),this.loader=e,this.uploadFunction=t}function Qb(){qS(this,Qb)}function Yb(e,t){var n;1&e&&(n=tn(),Ho(0,"tg-html-editor",3),Go("changed",function(e){return rn(n),Xo().changed.emit(e)})("focusChanged",function(e){return rn(n),Xo().focusChanged.emit(e)}),Uo()),2&e&&zo("content",(e=Xo()).contentHtml)("lan",e.lan)("placeholder",e.placeholder)("feedUsers",e.feedUsers.bind(e))("feedReferences",e.feedReferences.bind(e))("uploadFunction",e.uploadFunction)}function Xb(e,t){var n;1&e&&(n=tn(),Ho(0,"tg-markdown-editor",4),Go("changed",function(e){return rn(n),Xo().changed.emit(e)})("focusChanged",function(e){return rn(n),Xo().focusChanged.emit(e)}),Uo()),2&e&&zo("content",Xo().contentMarkdown)}function e_(e,t){var n;1&e&&(n=tn(),Ho(0,"button",5),Go("click",function(){return rn(n),Xo().toMarkdown()}),ha(1,"Markdown"),Uo())}function t_(e,t){var n;1&e&&(n=tn(),Ho(0,"button",5),Go("click",function(){return rn(n),Xo().toHtml()}),ha(1,"Html"),Uo())}var n_,Re=(WS(r_,[{key:"toMarkdown",value:function(){this._mode="markdown";var e=this.htmlEditor.getHtml();this.contentMarkdown=this.dataConversionService.toMarkdown(e),this.modeChanged.emit(this._mode)}},{key:"toHtml",value:function(){this._mode="html";var e=this.markdownEditor.getMarkdown();this.contentHtml=this.dataConversionService.toHtml(e),this.modeChanged.emit(this._mode)}},{key:"feedUsers",value:function(t){return Promise.resolve(this.userMentions.filter(function(e){return e.listRenderText.toLowerCase().includes(t.toLowerCase())}))}},{key:"feedReferences",value:function(e){var n=this;return new Promise(function(t){n.searchApiService.search(n.projectId,e).pipe(I(function(e){if(!e.count||e.count===e.wikipages.length)return[];function t(e){return e.map(function(e){return{id:"#"+e.ref,link:"project/".concat(n.projectSlug,"/t/").concat(e.ref),listRenderText:"#".concat(e.ref," - ").concat(e.subject)}})}return[].concat(US(t(e.userstories)),US(t(e.issues)),US(t(e.tasks))).slice(0,10)})).subscribe(function(e){t(e)})})}},{key:"markdown",set:function(e){this.dataConversionService.isReady()||this.dataConversionService.setUp(this.projectSlug),this.contentMarkdown=e,this.contentHtml=this.dataConversionService.toHtml(e),this.htmlEditor&&(this.htmlEditor.content=this.contentHtml),this.cd.detectChanges()}},{key:"members",set:function(e){this.userMentions=e.map(function(e){return{id:"@"+e.username,link:"profile/"+e.username,listRenderText:"@".concat(e.username," - ").concat(e.fullNameDisplay)}})}},{key:"mode",set:function(e){this._mode!==e&&(this._mode=e,this.cd.detectChanges())},get:function(){return this._mode}}]),(n_=r_).ɵfac=function(e){return new(e||n_)(Fo(Vb),Fo(Qk),Fo(no))},n_.ɵcmp=pt({type:n_,selectors:[["tg-text-editor"]],viewQuery:function(e,t){1&e&&(Js(Wb,!0),Js(Kb,!0)),2&e&&(Zs(e=Ys())&&(t.htmlEditor=e.first),Zs(e=Ys())&&(t.markdownEditor=e.first))},inputs:{projectSlug:"projectSlug",projectId:"projectId",placeholder:"placeholder",lan:"lan",uploadFunction:"uploadFunction",markdown:"markdown",members:"members",mode:"mode"},outputs:{focusChanged:"focusChanged",changed:"changed",modeChanged:"modeChanged"},features:[function(r,e){var i=1<arguments.length&&void 0!==e?e:[];return function(e){e.providersResolver=function(e,t){return n=e,e=t?t(r):r,void((t=nn()).firstCreatePass&&(n=Rt(n),va(i,t.data,t.blueprint,n,!0),va(e,t.data,t.blueprint,n,!1)));var n}}}([Vb])],decls:4,vars:4,consts:[[3,"content","lan","placeholder","feedUsers","feedReferences","uploadFunction","changed","focusChanged",4,"ngIf"],[3,"content","changed","focusChanged",4,"ngIf"],[3,"click",4,"ngIf"],[3,"content","lan","placeholder","feedUsers","feedReferences","uploadFunction","changed","focusChanged"],[3,"content","changed","focusChanged"],[3,"click"]],template:function(e,t){1&e&&(jo(0,Yb,1,6,"tg-html-editor",0),jo(1,Xb,1,1,"tg-markdown-editor",1),jo(2,e_,2,0,"button",2),jo(3,t_,2,0,"button",2)),2&e&&(zo("ngIf","html"===t.mode),Br(1),zo("ngIf","markdown"===t.mode),Br(1),zo("ngIf","html"===t.mode),Br(1),zo("ngIf","markdown"===t.mode))},directives:[Ie,Wb,Kb],styles:["hr[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-black)}"],changeDetection:0}),n_);function r_(e,t,n){qS(this,r_),this.dataConversionService=e,this.searchApiService=t,this.cd=n,this.lan="en",this.focusChanged=new Ls,this.changed=new Ls,this.modeChanged=new Ls,this._mode="html",this.contentHtml="",this.contentMarkdown=""}function i_(e){return e&&(e instanceof _||"function"==typeof e.lift&&"function"==typeof e.subscribe)}function o_(l,c){return new _(function(r){var i=l.length;if(0!==i)for(var o=new Array(i),a=0,s=0,e=0;e<i;e++)!function(t){var e=B(l[t]),n=!1;r.add(e.subscribe({next:function(e){n||(n=!0,s++),o[t]=e},error:function(e){return r.error(e)},complete:function(){++a!==i&&n||(s===i&&r.next(c?c.reduce(function(e,t,n){return e[t]=o[n],e},{}):o),r.complete())}}))}(e);else r.complete()})}function a_(e,t,n){var h=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n};return function(e){return e.lift((e=h.bufferSize,i=void 0===e?Number.POSITIVE_INFINITY:e,e=h.windowTime,o=void 0===e?Number.POSITIVE_INFINITY:e,a=h.refCount,s=h.scheduler,l=0,u=c=!1,function(e){var t;l++,!n||c?(c=!1,n=new Cg(i,o,s),t=n.subscribe(this),r=e.subscribe({next:function(e){n.next(e)},error:function(e){c=!0,n.error(e)},complete:function(){u=!0,r=void 0,n.complete()}})):t=n.subscribe(this),this.add(function(){l--,t.unsubscribe(),r&&!u&&a&&0===l&&(r.unsubscribe(),n=r=void 0)})}));var n,r,i,o,a,s,l,c,u}}function s_(){qS(this,s_)}function l_(){qS(this,l_)}var c_,u_,h_=((c_=function(){$S(t,s_);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"getTranslation",value:function(e){return oh({})}}]),t}()).ɵfac=function(e){return d_(e||c_)},c_.ɵprov=fe({token:c_,factory:c_.ɵfac}),c_),d_=lr(h_),f_=(WS(p_,[{key:"handle",value:function(e){return e.key}}]),(u_=p_).ɵfac=function(e){return new(e||u_)},u_.ɵprov=fe({token:u_,factory:u_.ɵfac}),u_);function p_(){qS(this,p_)}function g_(e,t){if(e===t)return 1;if(null!==e&&null!==t){if(e!=e&&t!=t)return 1;var n,r,i,o=typeof e;if(o==typeof t&&"object"==o){if(!Array.isArray(e)){if(Array.isArray(t))return;for(r in i=Object.create(null),e){if(!g_(e[r],t[r]))return;i[r]=!0}for(r in t)if(!(r in i)&&void 0!==t[r])return;return 1}if(!Array.isArray(t))return;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!g_(e[r],t[r]))return;return 1}}}}function v_(e){return null!=e}function m_(e){return e&&"object"==typeof e&&!Array.isArray(e)}function y_(){qS(this,y_)}function k_(){qS(this,k_)}function b_(){qS(this,b_),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new Ls,this.onLangChange=new Ls,this.onDefaultLangChange=new Ls}function __(){qS(this,__)}var w_,C_,x_,S_,E_,T_,A_=((w_=function(){$S(n,y_);var t=KS(n);function n(){var e;return qS(this,n),(e=t.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}return WS(n,[{key:"interpolate",value:function(e,t){return"string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e}},{key:"getValue",value:function(e,t){var n="string"==typeof t?t.split("."):[t];for(t="";t+=n.shift(),!v_(e)||!v_(e[t])||"object"!=typeof e[t]&&n.length?n.length?t+=".":e=void 0:(e=e[t],t=""),n.length;);return e}},{key:"interpolateFunction",value:function(e,t){return e(t)}},{key:"interpolateString",value:function(e,n){var r=this;return n?e.replace(this.templateMatcher,function(e,t){t=r.getValue(n,t);return v_(t)?t:e}):e}}]),n}()).ɵfac=function(e){return P_(e||w_)},w_.ɵprov=fe({token:w_,factory:w_.ɵfac}),w_),P_=lr(A_),R_=((C_=function(){$S(t,k_);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"compile",value:function(e,t){return e}},{key:"compileTranslations",value:function(e,t){return e}}]),t}()).ɵfac=function(e){return I_(e||C_)},C_.ɵprov=fe({token:C_,factory:C_.ɵfac}),C_),I_=lr(R_),O_=new He("USE_STORE"),M_=new He("USE_DEFAULT_LANG"),N_=new He("DEFAULT_LANGUAGE"),L_=new He("USE_EXTEND"),D_=(WS(z_,[{key:"setDefaultLang",value:function(t){var e,n=this;t!==this.defaultLang&&(void 0!==(e=this.retrieveTranslations(t))?(null==this.defaultLang&&(this.defaultLang=t),e.pipe(Af(1)).subscribe(function(e){n.changeDefaultLang(t)})):this.changeDefaultLang(t))}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(t){var n=this;if(t===this.currentLang)return oh(this.translations[t]);var e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(Af(1)).subscribe(function(e){n.changeLang(t)}),e):(this.changeLang(t),oh(this.translations[t]))}},{key:"retrieveTranslations",value:function(e){var t;return void 0!==this.translations[e]&&!this.extend||(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}},{key:"getTranslation",value:function(t){var n=this;this.pending=!0;var e=this.currentLoader.getTranslation(t).pipe(a_(1),Af(1));return this.loadingTranslations=e.pipe(I(function(e){return n.compiler.compileTranslations(e,t)}),a_(1),Af(1)),this.loadingTranslations.subscribe({next:function(e){n.translations[t]=n.extend&&n.translations[t]?Object.assign(Object.assign({},e),n.translations[t]):e,n.updateLangs(),n.pending=!1},error:function(e){n.pending=!1}}),e}},{key:"setTranslation",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t=this.compiler.compileTranslations(t,e),this.translations[e]=(n||this.extend)&&this.translations[e]?function t(n,r){var i=Object.assign({},n);return m_(n)&&m_(r)&&Object.keys(r).forEach(function(e){m_(r[e])&&e in n?i[e]=t(n[e],r[e]):Object.assign(i,VS({},e,r[e]))}),i}(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(e){var t=this;e.forEach(function(e){-1===t.langs.indexOf(e)&&t.langs.push(e)})}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(e,r,t){var n,i;if(r instanceof Array){var o={},a=!1,s=HS(r);try{for(s.s();!(l=s.n()).done;){var l=l.value;o[l]=this.getParsedResult(e,l,t),i_(o[l])&&(a=!0)}}catch(e){s.e(e)}finally{s.f()}return a?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(h(r))return o_(r,null);if(d(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return o_(i.map(function(e){return r[e]}),i)}}if("function"!=typeof t[t.length-1])return o_(t,null);var o=t.pop();return o_(t=1===t.length&&h(t[0])?t[0]:t,null).pipe(I(function(e){return o.apply(void 0,US(e))}))}(r.map(function(e){return i_(o[e])?o[e]:oh(o[e])})).pipe(I(function(e){var n={};return e.forEach(function(e,t){n[r[t]]=e}),n})):o}return e&&(n=this.parser.interpolate(this.parser.getValue(e,r),t)),void 0===n&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(n=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),t)),void 0===n&&(i={key:r,translateService:this},void 0!==t&&(i.interpolateParams=t),n=this.missingTranslationHandler.handle(i)),void 0!==n?n:r}},{key:"get",value:function(t,n){var r=this;if(!v_(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Of(function(e){return i_(e=r.getParsedResult(e,t,n))?e:oh(e)}));var e=this.getParsedResult(this.translations[this.currentLang],t,n);return i_(e)?e:oh(e)}},{key:"getStreamOnTranslationChange",value:function(t,n){var r=this;if(!v_(t)||!t.length)throw new Error('Parameter "key" required');return Cv(Qd(function(){return r.get(t,n)}),this.onTranslationChange.pipe(fg(function(e){e=r.getParsedResult(e.translations,t,n);return"function"==typeof e.subscribe?e:oh(e)})))}},{key:"stream",value:function(t,n){var r=this;if(!v_(t)||!t.length)throw new Error('Parameter "key" required');return Cv(Qd(function(){return r.get(t,n)}),this.onLangChange.pipe(fg(function(e){e=r.getParsedResult(e.translations,t,n);return i_(e)?e:oh(e)})))}},{key:"instant",value:function(n,e){if(!v_(n)||!n.length)throw new Error('Parameter "key" required');e=this.getParsedResult(this.translations[this.currentLang],n,e);if(i_(e)){if(n instanceof Array){var r={};return n.forEach(function(e,t){r[n[t]]=n[t]}),r}return n}return e}},{key:"set",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][e]=this.compiler.compile(t,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}},{key:"changeDefaultLang",value:function(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}},{key:"reloadLang",value:function(e){return this.resetLang(e),this.getTranslation(e)}},{key:"resetLang",value:function(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return void 0!==(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}},{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(e){this.isolate?this._currentLang=e:this.store.currentLang=e}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(e){this.isolate?this._langs=e:this.store.langs=e}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(e){this.isolate?this._translations=e:this.store.translations=e}}]),(T_=z_).ɵfac=function(e){return new(e||T_)(Qe(b_),Qe(s_),Qe(k_),Qe(y_),Qe(l_),Qe(M_),Qe(O_),Qe(L_),Qe(N_))},T_.ɵprov=fe({token:T_,factory:T_.ɵfac}),T_),cc=(WS(V_,[{key:"updateValue",value:function(t,e,n){function r(e){i.value=void 0!==e?e:t,i.lastKey=t,i._ref.markForCheck()}var i=this;n&&(i_((n=this.translate.getParsedResult(n,t,e)).subscribe)?n.subscribe(r):r(n)),this.translate.get(t,e).subscribe(r)}},{key:"transform",value:function(t){var n,r=this;if(!t||!t.length)return t;for(var e=arguments.length,i=new Array(1<e?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];if(g_(t,this.lastKey)&&g_(i,this.lastParams))return this.value;if(v_(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){var a=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(a)}catch(e){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+i[0])}}else"object"!=typeof i[0]||Array.isArray(i[0])||(n=i[0]);return this.lastKey=t,this.lastParams=i,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(function(e){r.lastKey&&e.lang===r.translate.currentLang&&(r.lastKey=null,r.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(function(e){r.lastKey&&(r.lastKey=null,r.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(function(){r.lastKey&&(r.lastKey=null,r.updateValue(t,n))})),this.value}},{key:"_dispose",value:function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}},{key:"ngOnDestroy",value:function(){this._dispose()}}]),(E_=V_).ɵfac=function(e){return new(e||E_)(Fo(D_),function(e){var t=0<arguments.length&&void 0!==e?e:he.Default,e=to(!0);if(null!=e||t&he.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},E_.ɵpipe=_t({name:"translate",type:E_,pure:!1}),E_.ɵprov=fe({token:E_,factory:E_.ɵfac}),E_),ns=(WS(F_,null,[{key:"forRoot",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:F_,providers:[e.loader||{provide:s_,useClass:h_},e.compiler||{provide:k_,useClass:R_},e.parser||{provide:y_,useClass:A_},e.missingTranslationHandler||{provide:l_,useClass:f_},b_,{provide:O_,useValue:e.isolate},{provide:M_,useValue:e.useDefaultLang},{provide:L_,useValue:e.extend},{provide:N_,useValue:e.defaultLanguage},D_]}}},{key:"forChild",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:F_,providers:[e.loader||{provide:s_,useClass:h_},e.compiler||{provide:k_,useClass:R_},e.parser||{provide:y_,useClass:A_},e.missingTranslationHandler||{provide:l_,useClass:f_},{provide:O_,useValue:e.isolate},{provide:M_,useValue:e.useDefaultLang},{provide:L_,useValue:e.extend},{provide:N_,useValue:e.defaultLanguage},D_]}}}]),(S_=F_).ɵmod=yt({type:S_}),S_.ɵinj=pe({factory:function(e){return new(e||S_)}}),S_),j_=((x_=function e(){qS(this,e)}).ɵmod=yt({type:x_}),x_.ɵinj=pe({factory:function(e){return new(e||x_)},imports:[[]]}),x_);function F_(){qS(this,F_)}function V_(e,t){qS(this,V_),this.translate=e,this._ref=t,this.value=""}function z_(e,t,n,r,i){var o=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],a=6<arguments.length&&void 0!==arguments[6]&&arguments[6],s=7<arguments.length&&void 0!==arguments[7]&&arguments[7],l=8<arguments.length?arguments[8]:void 0;qS(this,z_),this.store=e,this.currentLoader=t,this.compiler=n,this.parser=r,this.missingTranslationHandler=i,this.useDefaultLang=o,this.isolate=a,this.extend=s,this.pending=!1,this._onTranslationChange=new Ls,this._onLangChange=new Ls,this._onDefaultLangChange=new Ls,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}function B_(e,t){return{type:4,styles:1<arguments.length&&void 0!==t?t:null,timings:e}}function H_(e,t){return{type:2,steps:e,options:1<arguments.length&&void 0!==t?t:null}}function U_(e){return{type:6,styles:e,offset:null}}function q_(e,t,n){return{type:1,expr:e,animation:t,options:2<arguments.length&&void 0!==n?n:null}}function W_(e,t,n){return{type:11,selector:e,animation:t,options:2<arguments.length&&void 0!==n?n:null}}function $_(e){Promise.resolve(null).then(e)}var K_=(WS(J_,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;$_(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){e="start"==e?this._onStartFns:this._onDoneFns;e.forEach(function(e){return e()}),e.length=0}}]),J_),G_=(WS(Z_,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var n=e*this.totalTime;this.players.forEach(function(e){var t=e.totalTime?Math.min(1,n/e.totalTime):1;e.setPosition(t)})}},{key:"getPosition",value:function(){var t=0;return this.players.forEach(function(e){e=e.getPosition();t=Math.min(e,t)}),t}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){e="start"==e?this._onStartFns:this._onDoneFns;e.forEach(function(e){return e()}),e.length=0}}]),Z_);function Z_(e){var t=this;qS(this,Z_),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var n=0,r=0,i=0,o=this.players.length;0==o?$_(function(){return t._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++n==o&&t._onFinish()}),e.onDestroy(function(){++r==o&&t._onDestroy()}),e.onStart(function(){++i==o&&t._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}function J_(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;qS(this,J_),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}function Q_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Y_(e){switch(e.length){case 0:return new K_;case 1:return e[0];default:return new G_(e)}}function X_(e,o,t,n,r,i){var a=4<arguments.length&&void 0!==r?r:{},s=5<arguments.length&&void 0!==i?i:{},l=[],c=[],u=-1,h=null;if(n.forEach(function(r){var e=r.offset,t=e==u,i=t&&h||{};Object.keys(r).forEach(function(e){var t=e,n=r[e];if("offset"!==e)switch(t=o.normalizePropertyName(t,l),n){case"!":n=a[e];break;case"*":n=s[e];break;default:n=o.normalizeStyleValue(e,t,n,l)}i[t]=n}),t||c.push(i),h=i,u=e}),l.length)throw new Error("Unable to animate due to the following errors:".concat("\n - ").concat(l.join("\n - ")));return c}function ew(e,t,n,r){switch(t){case"start":e.onStart(function(){return r(n&&tw(n,"start",e))});break;case"done":e.onDone(function(){return r(n&&tw(n,"done",e))});break;case"destroy":e.onDestroy(function(){return r(n&&tw(n,"destroy",e))})}}function tw(e,t,n){var r=n.totalTime,n=nw(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),e=e._data;return null!=e&&(n._data=e),n}function nw(e,t,n,r,i,o,a){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:4<arguments.length&&void 0!==i?i:"",totalTime:5<arguments.length&&void 0!==o?o:0,disabled:!!(6<arguments.length?a:void 0)}}function rw(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function iw(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Sa=function(e,t){return!1},ow=function(e,t){return!1},t=function(e,t,n){return[]},aw=Q_();!aw&&"undefined"==typeof Element||(Sa=function(e,t){return e.contains(t)},ow=function(){if(aw||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,n=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return n?function(e,t){return n.apply(e,[t])}:ow}(),t=function(e,t,n){var r=[];return n?r.push.apply(r,US(e.querySelectorAll(t))):(t=e.querySelector(t))&&r.push(t),r});var sw=null,lw=!1;function cw(e){sw||(sw=("undefined"!=typeof document?document.body:null)||{},lw=!!sw.style&&"WebkitAppearance"in sw.style);var t=!0;return sw.style&&"ebkit"!=e.substring(1,6)&&!(t=e in sw.style)&&lw&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in sw.style),t}var uw=ow,hw=Sa,dw=t;function fw(n){var r={};return Object.keys(n).forEach(function(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2");r[t]=n[e]}),r}var pw,Sa=(WS(mw,[{key:"validateStyleProperty",value:cw},{key:"matchesElement",value:function(e,t){return uw(e,t)}},{key:"containsElement",value:function(e,t){return hw(e,t)}},{key:"query",value:function(e,t,n){return dw(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new K_(n,r)}}]),(pw=mw).ɵfac=function(e){return new(e||pw)},pw.ɵprov=fe({token:pw,factory:pw.ɵfac}),pw),gw=(vw.NOOP=new Sa,vw);function vw(){qS(this,vw)}function mw(){qS(this,mw)}function yw(e){if("number"==typeof e)return e;e=e.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:kw(parseFloat(e[1]),e[2])}function kw(e,t){return"s"!==t?e:1e3*e}function bw(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=kw(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=kw(parseFloat(s),a[4]));var a=a[5];a&&(o=a)}else r=e;return n||(a=!1,n=t.length,r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(n,0,'The provided timing value "'.concat(e,'" is invalid.'))),{duration:r,delay:i,easing:o}}(e,t,n)}function _w(t,e){var n=1<arguments.length&&void 0!==e?e:{};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function ww(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};if(t)for(var i in e)r[i]=e[i];else _w(e,r);return r}function Cw(e,t,n){return n?t+":"+n+";":""}function xw(e){for(var t,n="",r=0;r<e.style.length;r++){var i=e.style.item(r);n+=Cw(0,i,e.style.getPropertyValue(i))}for(t in e.style)e.style.hasOwnProperty(t)&&!t.startsWith("_")&&(n+=Cw(0,t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[t]));e.setAttribute("style",n)}function Sw(n,r,i){n.style&&(Object.keys(r).forEach(function(e){var t=Mw(e);i&&!i.hasOwnProperty(e)&&(i[e]=n.style[t]),n.style[t]=r[e]}),Q_()&&xw(n))}function Ew(t,e){t.style&&(Object.keys(e).forEach(function(e){e=Mw(e);t.style[e]=""}),Q_()&&xw(t))}function Tw(e){return Array.isArray(e)?1==e.length?e[0]:H_(e):e}var Aw=new RegExp("{{\\s*(.+?)\\s*}}","g");function Pw(e){var t,n=[];if("string"==typeof e){for(;t=Aw.exec(e);)n.push(t[1]);Aw.lastIndex=0}return n}function Rw(e,r,i){var t=e.toString(),n=t.replace(Aw,function(e,t){var n=r[t];return r.hasOwnProperty(t)||(i.push("Please provide a value for the animation param "+t),n=""),n.toString()});return n==t?e:n}function Iw(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Ow=/-+([a-z0-9])/g;function Mw(e){return e.replace(Ow,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function Nw(e,t){return 0===e||0===t}function Lw(n,e,t){var r=Object.keys(t);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(e){i.hasOwnProperty(e)||o.push(e),i[e]=t[e]}),o.length)for(var a=1;a<e.length;a++)!function(){var t=e[a];o.forEach(function(e){t[e]=jw(n,e)})}()}return e}function Dw(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function jw(e,t){return window.getComputedStyle(e)[t]}var Fw=new Set(["true","1"]),Vw=new Set(["false","0"]);function zw(i,o){var a=Fw.has(i)||Vw.has(i),s=Fw.has(o)||Vw.has(o);return function(e,t){var n="*"==i||i==e,r="*"==o||o==t;return!n&&a&&"boolean"==typeof e&&(n=(e?Fw:Vw).has(i)),!r&&s&&"boolean"==typeof t&&(r=(t?Fw:Vw).has(o)),n&&r}}var Bw=new RegExp("s*:selfs*,?","g");function Hw(e,t,n){return new Uw(e).build(t,n)}var Uw=(WS(Ww,[{key:"build",value:function(e,t){t=new qw(t);return this._resetContextStyleTimingState(t),Dw(this,Tw(e),t)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,r){var i=this,o=r.queryCount=0,a=r.depCount=0,s=[],l=[];return"@"==e.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){var t,n;i._resetContextStyleTimingState(r),0==e.type?((n=(t=e).name).toString().split(/\s*,\s*/).forEach(function(e){t.name=e,s.push(i.visitState(t,r))}),t.name=n):1==e.type?(e=i.visitTransition(e,r),o+=e.queryCount,a+=e.depCount,l.push(e)):r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:l,queryCount:o,depCount:a,options:null}}},{key:"visitState",value:function(e,t){var n,r,i,o=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;return o.containsDynamicStyles&&(n=new Set,r=a||{},o.styles.forEach(function(e){var t;$w(e)&&(t=e,Object.keys(t).forEach(function(e){Pw(t[e]).forEach(function(e){r.hasOwnProperty(e)||n.add(e)})}))}),n.size&&(i=Iw(n.values()),t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(i.join(", "))))),{type:0,name:e.name,style:o,options:a?{params:a}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=Dw(this,Tw(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;n=r[1],e=r[2],r=r[3];t.push(zw(n,r)),"<"!=e[0]||"*"==n&&"*"==r||t.push(zw(r,n))}(e,i,r)}):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Kw(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return Dw(n,e,t)}),options:Kw(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map(function(e){t.currentTime=r;e=Dw(n,e,t);return i=Math.max(i,t.currentTime),e});return t.currentTime=i,{type:3,steps:o,options:Kw(e.options)}}},{key:"visitAnimate",value:function(e,t){var n=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Gw(bw(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){e=Gw(0,0,"");return e.dynamic=!0,e.strValue=r,e}return Gw((n=n||bw(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;var r,i=e.styles||U_({});return{type:4,timings:n,style:5==i.type?this.visitKeyframes(i,t):(r=!1,(i=e.styles)||(r=!0,e={},n.easing&&(e.easing=n.easing),i=U_(e)),t.currentTime+=n.duration+n.delay,(i=this.visitStyle(i,t)).isEmptyStep=r,i),options:t.currentAnimateTimings=null}}},{key:"visitStyle",value:function(e,t){e=this._makeStyleAst(e,t);return this._validateStyleAst(e,t),e}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"!=typeof e||"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed."))}):n.push(e.styles);var r=!1,i=null;return n.forEach(function(e){if($w(e)){var t=e,e=t.easing;if(e&&(i=e,delete t.easing),!r)for(var n in t)if(0<=t[n].toString().indexOf("{{")){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,s){var l=this,t=s.currentAnimateTimings,c=s.currentTime,u=s.currentTime;t&&0<u&&(u-=t.duration+t.delay),e.styles.forEach(function(a){"string"!=typeof a&&Object.keys(a).forEach(function(e){var t,n,r,i,o;l._driver.validateStyleProperty(e)?(n=!0,(t=(r=s.collectedStyles[s.currentQuerySelector])[e])&&(u!=c&&u>=t.startTime&&c<=t.endTime&&(s.errors.push('The CSS property "'.concat(e,'" that exists between the times of "').concat(t.startTime,'ms" and "').concat(t.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(u,'ms" and "').concat(c,'ms"')),n=!1),u=t.startTime),n&&(r[e]={startTime:u,endTime:c}),s.options&&(n=a[e],r=s.options,i=s.errors,o=r.params||{},(n=Pw(n)).length&&n.forEach(function(e){o.hasOwnProperty(e)||i.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))}))):s.errors.push('The provided animation property "'.concat(e,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,r){var i=this,o={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push("keyframes() must be placed inside of a call to animate()"),o;var a=0,s=[],l=!1,c=!1,u=0,t=e.steps.map(function(e){var t=i._makeStyleAst(e,r),n=null!=t.offset?t.offset:function(e){if("string"==typeof e)return null;var t=null;return Array.isArray(e)?e.forEach(function(e){$w(e)&&e.hasOwnProperty("offset")&&(e=e,t=parseFloat(e.offset),delete e.offset)}):$w(e)&&e.hasOwnProperty("offset")&&(e=e,t=parseFloat(e.offset),delete e.offset),t}(t.styles),e=0;return null!=n&&(a++,e=t.offset=n),c=c||e<0||1<e,l=l||e<u,u=e,s.push(e),t});c&&r.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&r.errors.push("Please ensure that all keyframe offsets are in order");var e=e.steps.length,h=0;0<a&&a<e?r.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(h=1/(e-1));var d=e-1,f=r.currentTime,p=r.currentAnimateTimings,g=p.duration;return t.forEach(function(e,t){var n=0<h?t==d?1:h*t:s[t],t=n*g;r.currentTime=f+p.delay+t,p.duration=t,i._validateStyleAst(e,r),e.offset=n,o.styles.push(e)}),o}},{key:"visitReference",value:function(e,t){return{type:8,animation:Dw(this,Tw(e.animation),t),options:Kw(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Kw(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Kw(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i,o,a=BS((i=e.selector,(o=!!i.split(/\s*,\s*/).find(function(e){return":self"==e}))&&(i=i.replace(Bw,"")),[i=i.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,".ng-animating"),o]),2),i=a[0],o=a[1];t.currentQuerySelector=n.length?n+" "+i:i,rw(t.collectedStyles,t.currentQuerySelector,{});a=Dw(this,Tw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Kw(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:bw(e.timings,t.errors,!0);return{type:12,animation:Dw(this,Tw(e.animation),t),timings:n,options:null}}}]),Ww),qw=function e(t){qS(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Ww(e){qS(this,Ww),this._driver=e}function $w(e){return!Array.isArray(e)&&"object"==typeof e}function Kw(e){var t;return e?(e=_w(e)).params&&(e.params=(t=e.params)?_w(t):null):e={},e}function Gw(e,t,n){return{duration:e,delay:t,easing:n}}function Zw(e,t,n,r,i,o,a,s){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:6<arguments.length&&void 0!==a?a:null,subTimeline:7<arguments.length&&void 0!==s&&s}}var Jw=(WS(Xw,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n=this._map.get(e);n||this._map.set(e,n=[]),n.push.apply(n,US(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),Xw),Qw=new RegExp(":enter","g"),Yw=new RegExp(":leave","g");function Xw(){qS(this,Xw),this._map=new Map}function eC(e,t,n,r,i,o,a,s,l,c){o=5<arguments.length&&void 0!==o?o:{},a=6<arguments.length&&void 0!==a?a:{},s=7<arguments.length?s:void 0,l=8<arguments.length?l:void 0,c=9<arguments.length&&void 0!==c?c:[];return(new tC).buildKeyframes(e,t,n,r,i,o,a,s,l,c)}var tC=(WS(lC,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,l){var c=9<arguments.length&&void 0!==arguments[9]?arguments[9]:[];l=l||new Jw;c=new rC(e,t,l,r,i,c,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),Dw(this,n,c);o=c.timelines.filter(function(e){return e.containsAnimation()});return o.length&&Object.keys(a).length&&((n=o[o.length-1]).allowOnlyTimelineStyles()||n.setStyles([a],null,c.errors,s)),o.length?o.map(function(e){return e.buildKeyframes()}):[Zw(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n,r=t.subInstructions.consume(t.element);r&&(n=t.createSubContext(e.options),t.currentTimeline.currentTime!=(n=this._visitSubInstructions(r,n,n.options))&&t.transformIntoNewTimeline(n)),t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?yw(n.duration):null,o=null!=n.delay?yw(n.delay):null;return 0!==i&&e.forEach(function(e){e=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,e.duration+e.delay)}),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Dw(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)&&(6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=nC),o=yw(o.delay),i.delayNextStep(o)),e.steps.length&&(e.steps.forEach(function(e){return Dw(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(n,r){var i=this,o=[],a=r.currentTimeline.currentTime,s=n.options&&n.options.delay?yw(n.options.delay):0;n.steps.forEach(function(e){var t=r.createSubContext(n.options);s&&t.delayNextStep(s),Dw(i,e,t),a=Math.max(a,t.currentTimeline.currentTime),o.push(t.currentTimeline)}),o.forEach(function(e){return r.currentTimeline.mergeTimelineCollectedStyles(e)}),r.transformIntoNewTimeline(a),r.previousNode=n}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return bw(t.params?Rw(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();r=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(n,r){var i=this,e=r.currentTimeline.currentTime,t=n.options||{},o=t.delay?yw(t.delay):0;o&&(6===r.previousNode.type||0==e&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nC);var a=e,t=r.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!t.optional,r.errors);r.currentQueryTotal=t.length;var s=null;t.forEach(function(e,t){r.currentQueryIndex=t;t=r.createSubContext(n.options,e);o&&t.delayNextStep(o),e===r.element&&(s=t.currentTimeline),Dw(i,n.animation,t),t.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,t.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(a),s&&(r.currentTimeline.mergeTimelineCollectedStyles(s),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=n}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}i=t.currentTimeline;s&&i.delayNextStep(s);i=i.currentTime;Dw(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-i+(r.startTime-n.currentTimeline.startTime)}}]),lC),nC={},rC=(WS(sC,[{key:"updateOptions",value:function(e,t){var n,r,i,o=this;e&&(n=e,e=this.options,null!=n.duration&&(e.duration=yw(n.duration)),null!=n.delay&&(e.delay=yw(n.delay)),(r=n.params)&&(i=(i=e.params)||(this.options.params={}),Object.keys(r).forEach(function(e){t&&i.hasOwnProperty(e)||(i[e]=Rw(r[e],i,o.errors))})))}},{key:"_copyOptions",value:function(){var t,n,e={};return!this.options||(t=this.options.params)&&(n=e.params={},Object.keys(t).forEach(function(e){n[e]=t[e]})),e}},{key:"createSubContext",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,t=t||this.element,n=new sC(this._driver,t,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(t,n||0));return n.previousNode=this.previousNode,n.currentAnimateTimings=this.currentAnimateTimings,n.options=this._copyOptions(),n.updateOptions(e),n.currentQueryIndex=this.currentQueryIndex,n.currentQueryTotal=this.currentQueryTotal,(n.parentContext=this).subContextCount++,n}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=nC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){n={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},e=new oC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(e),n}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){0<e&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];return r&&a.push(this.element),0<e.length&&(e=(e=e.replace(Qw,"."+this._enterClassName)).replace(Yw,"."+this._leaveClassName),e=this._driver.query(this.element,e,1!=n),0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),a.push.apply(a,US(e))),i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),sC),iC=(WS(aC,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return 0<this.getCurrentStyleProperties().length;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(e,t){return this.applyStylesToKeyframe(),new aC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o,a,s,l=r&&r.params||{},c=(o=this._globalTimelineStyles,s={},e.forEach(function(e){"*"===e?(a=a||Object.keys(o)).forEach(function(e){s[e]="*"}):ww(e,!1,s)}),s);Object.keys(c).forEach(function(e){var t=Rw(c[e],l,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(function(e){t._currentKeyframe[e]=n[e]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var n=this;Object.keys(this._localTimelineStyles).forEach(function(e){var t=n._localTimelineStyles[e];n._pendingStyles[e]=t,n._updateStyle(e,t)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(r){var i=this;Object.keys(r._styleSummary).forEach(function(e){var t=i._styleSummary[e],n=r._styleSummary[e];(!t||n.time>t.time)&&i._updateStyle(e,n.value)})}},{key:"buildKeyframes",value:function(){var r=this;this.applyStylesToKeyframe();var i=new Set,o=new Set,a=1===this._keyframes.size&&0===this.duration,s=[];this._keyframes.forEach(function(e,t){var n=ww(e,!0);Object.keys(n).forEach(function(e){var t=n[e];"!"==t?i.add(e):"*"==t&&o.add(e)}),a||(n.offset=t/r.duration),s.push(n)});var e,t,n=i.size?Iw(i.values()):[],l=o.size?Iw(o.values()):[];return a&&(t=_w(e=s[0]),e.offset=0,t.offset=1,s=[e,t]),Zw(this.element,s,n,l,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e,t=[];for(e in this._currentKeyframe)t.push(e);return t}}]),aC),oC=function(){$S(l,iC);var s=KS(l);function l(e,t,n,r,i,o){var a=6<arguments.length&&void 0!==arguments[6]&&arguments[6];return qS(this,l),(e=s.call(this,e,t,o.delay)).element=t,e.keyframes=n,e.preStyleProps=r,e.postStyleProps=i,e._stretchStartingKeyframe=a,e.timings={duration:o.duration,delay:o.delay,easing:o.easing},e}return WS(l,[{key:"containsAnimation",value:function(){return 1<this.keyframes.length}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,t=ww(e[0],!1);t.offset=0,o.push(t);t=ww(e[0],!1);t.offset=cC(s),o.push(t);for(var l=e.length-1,c=1;c<=l;c++){var u=ww(e[c],!1);u.offset=cC((n+u.offset*r)/a),o.push(u)}r=a,n=0,i="",e=o}return Zw(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),l}();function aC(e,t,n,r){qS(this,aC),this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}function sC(e,t,n,r,i,o,a,s){qS(this,sC),this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new iC(this._driver,t,0),a.push(this.currentTimeline)}function lC(){qS(this,lC)}function cC(e,t){t=1<arguments.length&&void 0!==t?t:3,t=Math.pow(10,t-1);return Math.round(e*t)/t}function uC(){qS(this,uC)}var hC,dC=function(){$S(t,uC);var e=KS(t);function t(){return qS(this,t),e.apply(this,arguments)}return WS(t,[{key:"normalizePropertyName",value:Mw},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();return fC[t]&&0!==n&&"0"!==n&&("number"==typeof n?i="px":(t=n.match(/^[+-]?[\d\.]+([a-z]*)$/))&&0==t[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))),o+i}}]),t}(),fC=(t="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),hC={},t.forEach(function(e){return hC[e]=!0}),hC);function pC(e,t,n,r,i,o,a,s,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}var gC={},vC=(WS(_C,[{key:"match",value:function(e,t,n,r){return i=this.ast.matchers,o=e,a=t,s=n,l=r,i.some(function(e){return e(o,a,s,l)});var i,o,a,s,l}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],e=this._stateStyles[e],r=r?r.buildStyles(t,n):{};return e?e.buildStyles(t,n):r}},{key:"build",value:function(e,i,t,n,r,o,a,s,l,c){var u=[],h=this.ast.options&&this.ast.options.params||gC,d=this.buildStyles(t,a&&a.params||gC,u),f=s&&s.params||gC,a=this.buildStyles(n,f,u),p=new Set,g=new Map,v=new Map,s="void"===n,f={params:Object.assign(Object.assign({},h),f)},l=c?[]:eC(e,i,this.ast.animation,r,o,d,a,f,l,u),m=0;if(l.forEach(function(e){m=Math.max(e.duration+e.delay,m)}),u.length)return pC(i,this._triggerName,t,n,s,d,a,[],[],g,v,m,u);l.forEach(function(e){var t=e.element,n=rw(g,t,{});e.preStyleProps.forEach(function(e){return n[e]=!0});var r=rw(v,t,{});e.postStyleProps.forEach(function(e){return r[e]=!0}),t!==i&&p.add(t)});u=Iw(p.values());return pC(i,this._triggerName,t,n,s,d,a,l,u,g,v,m)}}]),_C),mC=(WS(bC,[{key:"buildStyles",value:function(n,r){var i={},o=_w(this.defaultParams);return Object.keys(n).forEach(function(e){var t=n[e];null!=t&&(o[e]=t)}),this.styles.styles.forEach(function(e){var n;"string"!=typeof e&&(n=e,Object.keys(n).forEach(function(e){var t=n[e];1<t.length&&(t=Rw(t,o,r)),i[e]=t}))}),i}}]),bC),yC=(WS(kC,[{key:"matchTransition",value:function(t,n,r,i){return this.transitionFactories.find(function(e){return e.match(t,n,r,i)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return 0<this.ast.queryCount}}]),kC);function kC(t,e){var n=this;qS(this,kC),this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(e){n.states[e.name]=new mC(e.style,e.options&&e.options.params||{})}),wC(this.states,"true","1"),wC(this.states,"false","0"),e.transitions.forEach(function(e){n.transitionFactories.push(new vC(t,e,n.states))}),this.fallbackTransition=new vC(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}function bC(e,t){qS(this,bC),this.styles=e,this.defaultParams=t}function _C(e,t,n){qS(this,_C),this._triggerName=e,this.ast=t,this._stateStyles=n}function wC(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var CC=new Jw,xC=(WS(jC,[{key:"register",value:function(e,t){var n=[],t=Hw(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=t}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,n=X_(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,n,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var r=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=[],o=this._animations[e],a=new Map;if(o?(s=eC(this._driver,t,o,"ng-enter","ng-leave",{},{},n,CC,i)).forEach(function(e){var t=rw(a,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));a.forEach(function(t,n){Object.keys(t).forEach(function(e){t[e]=r._driver.computeStyle(n,e,"*")})});var s=Y_(s.map(function(e){var t=a.get(e.element);return r._buildPlayer(e,{},t)}));return(this._playersById[e]=s).onDestroy(function(){return r.destroy(e)}),this.players.push(s),s}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];t=this.players.indexOf(t);0<=t&&this.players.splice(t,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,r){t=nw(t,"","","");return ew(this._getPlayer(e),n,t,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),jC),SC=[],EC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},TC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},AC=(WS(DC,[{key:"absorbOptions",value:function(e){var t,n=e.params;n&&(t=this.options.params,Object.keys(n).forEach(function(e){null==t[e]&&(t[e]=n[e])}))}},{key:"params",get:function(){return this.options.params}}]),DC),PC=new AC("void"),RC=(WS(LC,[{key:"listen",value:function(e,t,n,r){var i=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=n&&"done"!=n)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=rw(this._elementListeners,e,[]),a={name:t,phase:n,callback:r};o.push(a);var s=rw(this._engine.statesByElement,e,{});return s.hasOwnProperty(t)||(HC(e,"ng-trigger"),HC(e,"ng-trigger-"+t),s[t]=PC),function(){i._engine.afterFlush(function(){var e=o.indexOf(a);0<=e&&o.splice(e,1),i._triggers[t]||delete s[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(n,t,e){var r=this,i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new OC(this.id,t,n),s=this._engine.statesByElement.get(n);s||(HC(n,"ng-trigger"),HC(n,"ng-trigger-"+t),this._engine.statesByElement.set(n,s={}));var l,c,u=s[t],h=new AC(e,this.id);if(e&&e.hasOwnProperty("value")||!u||h.absorbOptions(u.options),s[t]=h,u=u||PC,"void"===h.value||u.value!==h.value){var d=rw(this._engine.playersByElement,n,[]);d.forEach(function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()});e=o.matchTransition(u.value,h.value,n,h.params),s=!1;if(!e){if(!i)return;e=o.fallbackTransition,s=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:e,fromState:u,toState:h,player:a,isFallbackTransition:s}),s||(HC(n,"ng-animate-queued"),a.onStart(function(){UC(n,"ng-animate-queued")})),a.onDone(function(){var e=r.players.indexOf(a);0<=e&&r.players.splice(e,1);var t=r._engine.playersByElement.get(n);!t||0<=(e=t.indexOf(a))&&t.splice(e,1)}),this.players.push(a),d.push(a),a}!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length==r.length){for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return}return 1}}(u.params,h.params)&&(d=[],l=o.matchStyles(u.value,u.params,d),c=o.matchStyles(h.value,h.params,d),d.length?this._engine.reportError(d):this._engine.afterFlush(function(){Ew(n,l),Sw(n,c)}))}},{key:"deregister",value:function(n){var r=this;delete this._triggers[n],this._engine.statesByElement.forEach(function(e,t){delete e[n]}),this._elementListeners.forEach(function(e,t){r._elementListeners.set(t,e.filter(function(e){return e.name!=n}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,n){var r=this,t=this._engine.driver.query(e,".ng-trigger",!0);t.forEach(function(t){var e;t.__ng_removed||((e=r._engine.fetchNamespacesByElement(t)).size?e.forEach(function(e){return e.triggerLeaveAnimation(t,n,!1,!0)}):r.clearElementCache(t))}),this._engine.afterFlushAnimationsDone(function(){return t.forEach(function(e){return r.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){!i._triggers[e]||(e=i.trigger(t,e,"void",r))&&a.push(e)}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Y_(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(o){var a,s=this,e=this._elementListeners.get(o);e&&(a=new Set,e.forEach(function(e){var t,n,r,i=e.name;a.has(i)||(a.add(i),t=s._triggers[i].fallbackTransition,n=s._engine.statesByElement.get(o)[i]||PC,r=new AC("void"),e=new OC(s.id,i,o),s._engine.totalQueuedPlayers++,s._queue.push({element:o,triggerName:i,transition:t,fromState:n,toState:r,player:e,isFallbackTransition:!0}))}))}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(e),i?r.markElementAsRemoved(this.id,e,!1,t):(o=e.__ng_removed)&&o!==EC||(r.afterFlush(function(){return n.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}},{key:"insertNode",value:function(e,t){HC(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(i){var o=this,a=[];return this._queue.forEach(function(n){var r,e,t=n.player;t.destroyed||(r=n.element,(e=o._elementListeners.get(r))&&e.forEach(function(e){var t;e.name==n.triggerName&&((t=nw(r,n.triggerName,n.fromState.value,n.toState.value))._data=i,ew(n.player,e.phase,t,e.callback))}),t.markedForDestroy?o._engine.afterFlush(function(){t.destroy()}):a.push(n))}),this._queue=[],a.sort(function(e,t){var n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:o._engine.driver.containsElement(e.element,t.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(e){return e.element===t})||e}}]),LC),IC=(WS(NC,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new RC(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(0<=n){for(var r=!1,i=n;0<=i;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){return this._namespaceLookup[e]||this.createNamespace(e,t)}},{key:"registerTrigger",value:function(e,t,n){e=this._namespaceLookup[e];e&&e.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n,r=this;t&&(n=this._fetchNamespace(t),this.afterFlush(function(){r.namespacesByHostElement.delete(n.hostElement),delete r._namespaceLookup[t];var e=r._namespaceList.indexOf(n);0<=e&&r._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return n.destroy(e)}))}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;!o||(o=this._fetchNamespace(o))&&t.add(o)}return t}},{key:"trigger",value:function(e,t,n,r){if(FC(t)){e=this._fetchNamespace(e);if(e)return e.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){var i;FC(t)&&((i=t.__ng_removed)&&i.setForRemoval&&(i.setForRemoval=!1,i.setForMove=!0,0<=(i=this.collectedLeaveElements.indexOf(t))&&this.collectedLeaveElements.splice(i,1)),!e||(e=this._fetchNamespace(e))&&e.insertNode(t,n),r&&this.collectEnterElement(t))}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),HC(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),UC(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){var i,o;FC(t)?((i=e?this._fetchNamespace(e):null)?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n&&(o=this.namespacesByHostElement.get(t))&&o.id!==e&&o.removeNode(t,r)):this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return FC(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this;this.driver.query(e,".ng-trigger",!0).forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&this.driver.query(e,".ng-animating",!0).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){e=this.playersByElement.get(e);e&&e.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){e=this.playersByQueriedElement.get(e);e&&e.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return Y_(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(e){var t,n=this,r=e.__ng_removed;r&&r.setForRemoval&&(e.__ng_removed=EC,r.namespaceId&&(this.destroyInnerAnimations(e),(t=this._fetchNamespace(r.namespaceId))&&t.clearElementCache(e)),this._onRemovalComplete(e,r.setForRemoval)),this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(e){n.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e,n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,r=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,t){return n._balanceNamespaceList(e,t)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)HC(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var o=[];try{r=this._flushAnimations(o,t)}finally{for(var a=0;a<o.length;a++)o[a]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length&&(e=this._whenQuietFns,this._whenQuietFns=[],r.length?Y_(r).onDone(function(){e.forEach(function(e){return e()})}):e.forEach(function(e){return e()}))}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var l=this,c=new Jw,u=[],h=new Map,s=[],d=new Map,f=new Map,p=new Map,g=new Set;this.disabledNodes.forEach(function(e){g.add(e);for(var t=l.driver.query(e,".ng-animate-queued",!0),n=0;n<t.length;n++)g.add(t[n])});var v=this.bodyNode,n=Array.from(this.statesByElement.keys()),r=BC(n,this.collectedEnterElements),m=new Map,i=0;r.forEach(function(e,t){var n="ng-enter"+i++;m.set(t,n),e.forEach(function(e){return HC(e,n)})});for(var o=[],a=new Set,y=new Set,k=0;k<this.collectedLeaveElements.length;k++){var b=this.collectedLeaveElements[k],_=b.__ng_removed;_&&_.setForRemoval&&(o.push(b),a.add(b),_.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach(function(e){return a.add(e)}):y.add(b))}var w=new Map,C=BC(n,Array.from(a));C.forEach(function(e,t){var n="ng-leave"+i++;w.set(t,n),e.forEach(function(e){return HC(e,n)})}),e.push(function(){r.forEach(function(e,t){var n=m.get(t);e.forEach(function(e){return UC(e,n)})}),C.forEach(function(e,t){var n=w.get(t);e.forEach(function(e){return UC(e,n)})}),o.forEach(function(e){l.processLeaveNode(e)})});for(var x,S=[],E=[],T=this._namespaceList.length-1;0<=T;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach(function(e){var t=e.player,n=e.element;if(S.push(t),l.collectedEnterElements.length){var r=n.__ng_removed;if(r&&r.setForMove)return void t.destroy()}var i=!v||!l.driver.containsElement(v,n),o=w.get(n),r=m.get(n),a=l._buildInstruction(e,c,r,o,i);if(!a.errors||!a.errors.length)return i||e.isFallbackTransition?(t.onStart(function(){return Ew(n,a.fromStyles)}),t.onDestroy(function(){return Sw(n,a.toStyles)}),void u.push(t)):(a.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),c.append(n,a.timelines),s.push({instruction:a,player:t,element:n}),a.queriedElements.forEach(function(e){return rw(d,e,[]).push(t)}),a.preStyleProps.forEach(function(e,t){var n,e=Object.keys(e);e.length&&((n=f.get(t))||f.set(t,n=new Set),e.forEach(function(e){return n.add(e)}))}),void a.postStyleProps.forEach(function(e,t){var e=Object.keys(e),n=p.get(t);n||p.set(t,n=new Set),e.forEach(function(e){return n.add(e)})}));E.push(a)});E.length&&(x=[],E.forEach(function(e){x.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return x.push("- ".concat(e,"\n"))})}),S.forEach(function(e){return e.destroy()}),this.reportError(x));var A=new Map,P=new Map;s.forEach(function(e){var t=e.element;c.has(t)&&(P.set(t,t),l._beforeAnimationBuild(e.player.namespaceId,e.instruction,A))}),u.forEach(function(e){var t=e.element;l._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){rw(A,t,[]).push(e),e.destroy()})});var R=o.filter(function(e){return qC(e,f,p)}),I=new Map;zC(I,this.driver,y,p,"*").forEach(function(e){qC(e,f,p)&&R.push(e)});var O=new Map;r.forEach(function(e,t){zC(O,l.driver,new Set(e),f,"!")}),R.forEach(function(e){var t=I.get(e),n=O.get(e);I.set(e,Object.assign(Object.assign({},t),n))});var M=[],N=[],L={};s.forEach(function(e){var t=e.element,n=e.player,r=e.instruction;if(c.has(t)){if(g.has(t))return n.onDestroy(function(){return Sw(t,r.toStyles)}),n.disabled=!0,n.overrideTotalTime(r.totalTime),void u.push(n);var i=L;if(1<P.size){for(var o=t,a=[];o=o.parentNode;){var s=P.get(o);if(s){i=s;break}a.push(o)}a.forEach(function(e){return P.set(e,i)})}e=l._buildAnimation(n.namespaceId,r,A,h,O,I);n.setRealPlayer(e),i===L?M.push(n):((e=l.playersByElement.get(i))&&e.length&&(n.parentPlayer=Y_(e)),u.push(n))}else Ew(t,r.fromStyles),n.onDestroy(function(){return Sw(t,r.toStyles)}),N.push(n),g.has(t)&&u.push(n)}),N.forEach(function(e){var t=h.get(e.element);t&&t.length&&(t=Y_(t),e.setRealPlayer(t))}),u.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var D=0;D<o.length;D++){var j=o[D],F=j.__ng_removed;if(UC(j,"ng-leave"),!F||!F.hasAnimation){var V=[];if(d.size){F=d.get(j);F&&F.length&&V.push.apply(V,US(F));for(var z=this.driver.query(j,".ng-animating",!0),B=0;B<z.length;B++){var H=d.get(z[B]);H&&H.length&&V.push.apply(V,US(H))}}var U=V.filter(function(e){return!e.destroyed});U.length?function(e,t){Y_(U).onDone(function(){return e.processLeaveNode(t)})}(this,j):this.processLeaveNode(j)}}return o.length=0,M.forEach(function(t){l.players.push(t),t.onDone(function(){t.destroy();var e=l.players.indexOf(t);l.players.splice(e,1)}),t.play()}),M}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o,a=[];return t?(t=this.playersByQueriedElement.get(e))&&(a=t):(e=this.playersByElement.get(e))&&(o=!i||"void"==i,e.forEach(function(e){e.queued||!o&&e.triggerName!=r||a.push(e)})),(n||r)&&(a=a.filter(function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)})),a}},{key:"_beforeAnimationBuild",value:function(e,r,i){var o,a=this,s=r.element,l=r.isRemovalTransition?void 0:e,c=r.isRemovalTransition?void 0:r.triggerName,t=HS(r.timelines);try{for(t.s();!(o=t.n()).done;)!function(){var e=o.value.element,t=e!==s,n=rw(i,e,[]);a._getPreviousPlayers(e,t,l,c,r.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),n.push(e)})}()}catch(e){t.e(e)}finally{t.f()}Ew(s,r.fromStyles)}},{key:"_buildAnimation",value:function(a,e,s,l,c,u){var h=this,d=e.triggerName,f=e.element,p=[],g=new Set,v=new Set,t=e.timelines.map(function(e){var t=e.element;g.add(t);var n=t.__ng_removed;if(n&&n.removedBeforeQueried)return new K_(e.duration,e.delay);var r=t!==f,i=(function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof G_?e(i.players,n):n.push(i)}}((s.get(t)||SC).map(function(e){return e.getRealPlayer()}),o=[]),o.filter(function(e){return!!e.element&&e.element===t})),n=c.get(t),o=u.get(t),o=X_(0,h._normalizer,0,e.keyframes,n,o),i=h._buildPlayer(e,o,i);return e.subTimeline&&l&&v.add(t),r&&((r=new OC(a,d,t)).setRealPlayer(i),p.push(r)),i});p.forEach(function(o){rw(h.playersByQueriedElement,o.element,[]).push(o),o.onDone(function(){return e=h.playersByQueriedElement,t=o.element,n=o,e instanceof Map?(r=e.get(t))&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length&&e.delete(t)):(r=e[t])&&(r.length&&(n=r.indexOf(n),r.splice(n,1)),0==r.length&&delete e[t]),r;var e,t,n,r,i})}),g.forEach(function(e){return HC(e,"ng-animating")});var n=Y_(t);return n.onDestroy(function(){g.forEach(function(e){return UC(e,"ng-animating")}),Sw(f,e.toStyles)}),v.forEach(function(e){rw(l,e,[]).push(n)}),n}},{key:"_buildPlayer",value:function(e,t,n){return 0<t.length?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new K_(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}}]),NC),OC=(WS(MC,[{key:"setRealPlayer",value:function(n){var e=this;this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(function(t){e._queuedCallbacks[t].forEach(function(e){return ew(n,t,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){rw(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){this.queued||this._player.play()}},{key:"pause",value:function(){this.queued||this._player.pause()}},{key:"restart",value:function(){this.queued||this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){this.queued||this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),MC);function MC(e,t,n){qS(this,MC),this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new K_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}function NC(e,t,n){qS(this,NC),this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}function LC(e,t,n){qS(this,LC),this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,HC(t,this._hostClassName)}function DC(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";qS(this,DC),this.namespaceId=t;var n=e&&e.hasOwnProperty("value");this.value=null!=(t=n?e.value:e)?t:null,n?(delete(e=_w(e)).value,this.options=e):this.options={},this.options.params||(this.options.params={})}function jC(e,t,n){qS(this,jC),this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}function FC(e){return e&&1===e.nodeType}function VC(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function zC(r,i,e,t,o){var n=[];e.forEach(function(e){return n.push(VC(e))});var a=[];t.forEach(function(e,t){var n={};e.forEach(function(e){e=n[e]=i.computeStyle(t,e,o);e&&0!=e.length||(t.__ng_removed=TC,a.push(t))}),r.set(t,n)});var s=0;return e.forEach(function(e){return VC(e,n[s++])}),a}function BC(e,t){var i=new Map;if(e.forEach(function(e){return i.set(e,[])}),0==t.length)return i;var o=new Set(t),a=new Map;return t.forEach(function(e){var t=function e(t){if(!t)return 1;if(r=a.get(t))return r;var n=t.parentNode,r=i.has(n)?n:o.has(n)?1:e(n);return a.set(t,r),r}(e);1!==t&&i.get(t).push(e)}),i}function HC(e,t){e.classList?e.classList.add(t):(e.$$classes||(e.$$classes={}))[t]=!0}function UC(e,t){e.classList?e.classList.remove(t):(e=e.$$classes)&&delete e[t]}function qC(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach(function(e){return i.add(e)}):t.set(e,r),n.delete(e),!0}var WC=(WS($C,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){e=[],i=Hw(this._driver,i,e);if(e.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(e.join("\n - ")));a=new yC(r,i),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){var i,o;"@"==n.charAt(0)?(i=(o=BS(iw(n),2))[0],o=o[1],this._timelineEngine.command(i,t,o,r)):this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"!=n.charAt(0))return this._transitionEngine.listen(e,t,n,r,i);r=BS(iw(n),2),n=r[0],r=r[1];return this._timelineEngine.listen(n,t,r,i)}},{key:"flush",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),$C);function $C(e,t,n){var r=this;qS(this,$C),this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new IC(e,t,n),this._timelineEngine=new xC(e,t,n),this._transitionEngine.onRemovalComplete=function(e,t){return r.onRemovalComplete(e,t)}}function KC(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=JC(t[0]),1<t.length&&(r=JC(t[t.length-1]))):t&&(n=JC(t)),n||r?new GC(e,n,r):null}var GC=(WS(ZC,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Sw(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Sw(this._element,this._initialStyles),this._endStyles&&(Sw(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(ZC.initialStylesByElement.delete(this._element),this._startStyles&&(Ew(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ew(this._element,this._endStyles),this._endStyles=null),Sw(this._element,this._initialStyles),this._state=3)}}]),(Sa=ZC).initialStylesByElement=new WeakMap,Sa);function ZC(e,t,n){qS(this,ZC),this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;n=ZC.initialStylesByElement.get(e);n||ZC.initialStylesByElement.set(e,n={}),this._initialStyles=n}function JC(e){for(var t,n=null,r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];"display"!==(t=o)&&"position"!==t||((n=n||{})[o]=e[o])}return n}var QC=(WS(YC,[{key:"apply",value:function(){var e,t=this._element,n="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name);(e=ix(t,"").trim()).length&&(function(e){for(var t=0;t<e.length;t++)e.charAt(t)}(e),n="".concat(e,", ").concat(n)),rx(t,"",n),nx(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){XC(this._element,this._name,"paused")}},{key:"resume",value:function(){XC(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=ex(this._element,this._name);this._position=e*this._duration,rx(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),nx(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,n=this._name,0<=(n=tx(t=ix(e,"").split(","),n))&&(t.splice(n,1),rx(e,"",t.join(","))))}}]),YC);function YC(e,t,n,r,i,o,a){var s=this;qS(this,YC),this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return s._handleCallback(e)}}function XC(e,t,n){rx(e,"PlayState",n,ex(e,t))}function ex(e,t){e=ix(e,"");return 0<e.indexOf(",")?tx(e.split(","),t):tx([e],t)}function tx(e,t){for(var n=0;n<e.length;n++)if(0<=e[n].indexOf(t))return n;return-1}function nx(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function rx(e,t,n,r){var i="animation"+t;null==r||(t=e.style[i]).length&&((t=t.split(","))[r]=n,n=t.join(",")),e.style[i]=n}function ix(e,t){return e.style["animation"+t]}var ox=(WS(fx,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),4<=this._state||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),3<=this._state||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return 2<=this._state}},{key:"init",value:function(){1<=this._state||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new QC(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){e="start"==e?this._onStartFns:this._onDoneFns;e.forEach(function(e){return e()}),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var n,r={};this.hasStarted()&&(n=3<=this._state,Object.keys(this._finalStyles).forEach(function(e){"offset"!=e&&(r[e]=n?t._finalStyles[e]:jw(t.element,e))})),this.currentSnapshot=r}}]),fx),ax=function(){$S(i,K_);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this)).element=e,n._startingStyles={},n.__initialized=!1,n._styles=fw(t),n}return WS(i,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),zS(YS(i.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),zS(YS(i.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var n=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var t=n._startingStyles[e];t?n.element.style.setProperty(e,t):n.element.style.removeProperty(e)}),this._startingStyles=null,zS(YS(i.prototype),"destroy",this).call(this))}}]),i}(),sx=(WS(dx,[{key:"validateStyleProperty",value:cw},{key:"matchesElement",value:function(e,t){return uw(e,t)}},{key:"containsElement",value:function(e,t){return hw(e,t)}},{key:"query",value:function(e,t,n){return dw(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(fw);var r="@keyframes ".concat(t," {\n");n.forEach(function(n){0;var e=parseFloat(n.offset);r+="".concat(" ").concat(100*e,"% {\n"),Object.keys(n).forEach(function(e){var t=n[e];switch(e){case"offset":return;case"easing":return void(t&&(r+="".concat("  ","animation-timing-function: ").concat(t,";\n")));default:return void(r+="".concat("  ").concat(e,": ").concat(t,";\n"))}}),r+="  }\n"}),r+="}\n";n=document.createElement("style");return n.innerHTML=r,n}},{key:"animate",value:function(e,t,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:[];(6<arguments.length?arguments[6]:void 0)&&this._notifyFaultyScrubber();var a=o.filter(function(e){return e instanceof ox}),s={};Nw(n,r)&&a.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var l,o=(u=t=Lw(e,t,s),l={},u&&(Array.isArray(u)?u:[u]).forEach(function(t){Object.keys(t).forEach(function(e){"offset"!=e&&"easing"!=e&&(l[e]=t[e])})}),l);if(0==n)return new ax(e,o);var a="gen_css_kf_"+this._count++,c=this.buildKeyframeElement(e,a,t);document.querySelector("head").appendChild(c);var u=KC(e,t),u=new ox(e,t,a,n,r,i,o,u);return u.onDestroy(function(){c.parentNode.removeChild(c)}),u}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),dx),lx=(WS(hx,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e,t=this;this._initialized||(this._initialized=!0,e=this.keyframes,this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()}))}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(e){"offset"!=e&&(n[e]=t._finished?t._finalKeyframe[e]:jw(t.element,e))}),this.currentSnapshot=n}},{key:"triggerCallback",value:function(e){e="start"==e?this._onStartFns:this._onDoneFns;e.forEach(function(e){return e()}),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),hx),cx=(WS(ux,[{key:"validateStyleProperty",value:cw},{key:"matchesElement",value:function(e,t){return uw(e,t)}},{key:"containsElement",value:function(e,t){return hw(e,t)}},{key:"query",value:function(e,t,n){return dw(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:[];if(!(6<arguments.length?arguments[6]:void 0)&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var s={},o=o.filter(function(e){return e instanceof lx});Nw(n,r)&&o.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});o=KC(e,t=Lw(e,t=t.map(function(e){return ww(e,!1)}),s));return new lx(e,t,a,o)}}]),ux);function ux(){qS(this,ux),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(px().toString()),this._cssKeyframesDriver=new sx}function hx(e,t,n,r){qS(this,hx),this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}function dx(){qS(this,dx),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}function fx(e,t,n,r,i,o,a,s){qS(this,fx),this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=a,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}function px(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var gx,t=((gx=function(){$S(i,__);var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this))._nextAnimationId=0,n._renderer=e.createRenderer(t.body,{id:"0",encapsulation:ut.None,styles:[],data:{animation:[]}}),n}return WS(i,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;e=Array.isArray(e)?H_(e):e;return kx(this._renderer,null,t,"register",[e]),new vx(t,this._renderer)}}]),i}()).ɵfac=function(e){return new(e||gx)(Qe(xa),Qe(kc))},gx.ɵprov=fe({token:gx,factory:gx.ɵfac}),gx),vx=function(){$S(i,function(){return function e(){qS(this,e)}}());var r=KS(i);function i(e,t){var n;return qS(this,i),(n=r.call(this))._id=e,n._renderer=t,n}return WS(i,[{key:"create",value:function(e,t){return new mx(this._id,e,t||{},this._renderer)}}]),i}(),mx=(WS(yx,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kx(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),yx);function yx(e,t,n,r){qS(this,yx),this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}function kx(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}function bx(e,t){return[e,"project",t,"epics"]}var _x,wx,Cx,xx,Sx,Ex,Tx,Ax,Px,Rx=(WS(Ux,[{key:"createRenderer",value:function(n,e){var r=this,t=this.delegate.createRenderer(n,e);if(!(n&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(t);return i||(i=new Ix("",t,this.engine),this._rendererCache.set(t,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,n),e.data.animation.forEach(function e(t){Array.isArray(t)?t.forEach(e):r.engine.registerTrigger(o,a,n,t.name,t)}),new Ox(this,a,t,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;0<=e&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(e){e=BS(e,2);(0,e[0])(e[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),(_x=Ux).ɵfac=function(e){return new(e||_x)(Qe(xa),Qe(WC),Qe(Al))},_x.ɵprov=fe({token:_x,factory:_x.ɵfac}),_x),Ix=(WS(Hx,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),Hx),Ox=function(){$S(o,Ix);var i=KS(o);function o(e,t,n,r){return qS(this,o),(r=i.call(this,t,n,r)).factory=e,r.namespaceId=t,r}return WS(o,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r=this;if("@"!=t.charAt(0))return this.delegate.listen(e,t,n);var i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),o=t.substr(1),a="";return"@"!=o.charAt(0)&&(t=(e=o).indexOf("."),o=(t=BS([e.substring(0,t),e.substr(t+1)],2))[0],a=t[1]),this.engine.listen(this.namespaceId,i,o,a,function(e){r.factory.scheduleListenerCallback(e._data||-1,n,e)})}}]),o}(),Sa=((wx=function(){$S(i,WC);var r=KS(i);function i(e,t,n){return qS(this,i),r.call(this,e.body,t,n)}return i}()).ɵfac=function(e){return new(e||wx)(Qe(kc),Qe(gw),Qe(uC))},wx.ɵprov=fe({token:wx,factory:wx.ɵfac}),wx),t=[{provide:gw,useFactory:function(){return new("function"==typeof px()?cx:sx)}},{provide:new He("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:__,useClass:t},{provide:uC,useFactory:function(){return new dC}},{provide:WC,useClass:Sa},{provide:xa,useFactory:function(e,t,n){return new Rx(e,t,n)},deps:[Vu,WC,Al]}],Sa=((Tx=function e(){qS(this,e)}).ɵmod=yt({type:Tx}),Tx.ɵinj=pe({factory:function(e){return new(e||Tx)},providers:t,imports:[Gu]}),Tx),Vu=((Ex=function e(){qS(this,e)}).ɵmod=yt({type:Ex}),Ex.ɵinj=pe({factory:function(e){return new(e||Ex)},imports:[[j_,ou,ns,Jp.forChild([]),Gu,Sa,ks]]}),Ex),Mx=(WS(Bx,[{key:"setState",value:function(e){this.state.next(Object.assign(Object.assign({},this.state.value),e))}},{key:"getInjector",value:function(){return this.injector||(this.injector=this.angularBody().injector()),this.injector}},{key:"getTranslationTable",value:function(e){return this.getInjector().get("$translate").getTranslationTable(e)}},{key:"angularBody",value:function(){return window.angular.element("body")}},{key:"whenAngularReady",value:function(){var n=this,r=this.angularBody();return this.ready?Promise.resolve():new Promise(function(t){!function e(){requestAnimationFrame(function(){r.injector()?(n.ready=!0,t()):e()})}()})}}]),(Sx=Bx).ɵfac=function(e){return new(e||Sx)},Sx.ɵprov=fe({token:Sx,factory:Sx.ɵfac}),Sx),t=((xx=function e(){qS(this,e)}).ɵmod=yt({type:xx}),xx.ɵinj=pe({factory:function(e){return new(e||xx)},providers:[Mx],imports:[[ou,Vu]]}),xx),j_=(WS(zx,[{key:"ngOnInit",value:function(){var r=this,e=new Yu({type:"INIT",value:null});e.subscribe(function(e){"SET_DETAIL_OBJ"===e.type&&r.legacyService.setState({detailObj:Zg.objKeysTransformer(e.value,Kg)})});var t=wo.create({providers:[{provide:Vb,deps:[]}]});window.legacyChannel=e,window.angularDataConversion=function(){return t.get(Vb)},this.router.events.pipe(cf(function(e){return e instanceof Ev})).subscribe(function(e){var t=r.legacyService.getInjector().get("$location"),n=r.legacyService.getInjector().get("$rootScope");t.path()!==e.url&&((e=e.url).startsWith(r.baseHref)&&(e=e.replace(r.baseHref,"/")),t.url(e)),n.$applyAsync()}),this.legacyService.whenAngularReady().then(function(){var e=r.legacyService.getInjector().get("$location");r.legacyService.getInjector().get("$rootScope").$on("$routeChangeSuccess",function(){r.router.navigateByUrl(e.path()),r.legacyService.setState({detailObj:void 0})})})}},{key:"baseHref",get:function(){var e;return null!==(e=this.config._config.baseHref)&&void 0!==e?e:"/"}},{key:"translations",set:function(e){this.translate.setTranslation(e.lan,e.translationTable),this.translate.use(e.lan)}}]),(Cx=zx).ɵfac=function(e){return new(e||Cx)(Fo(D_),Fo(ok),Fo(Mx),Fo(tg))},Cx.ɵcmp=pt({type:Cx,selectors:[["tg-legacy"]],inputs:{translations:"translations"},decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Cx),Nx=(WS(Vx,[{key:"call",value:function(e,t){var n=new Lx(e),e=q(this.notifier,new H(n));return e&&!n.seenValue?(n.add(e),t.subscribe(n)):n}}]),Vx),Lx=function(){$S(n,U);var t=KS(n);function n(e){return qS(this,n),(e=t.call(this,e)).seenValue=!1,e}return WS(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(),Sa=((Ax=function e(){qS(this,e)}).ɵfac=function(e){return new(e||Ax)},Ax.ɵcmp=pt({type:Ax,selectors:[["tg-svg-sprite"]],decls:41,vars:0,consts:[[0,"xmlns","dc","http://purl.org/dc/elements/1.1/",0,"xmlns","cc","http://creativecommons.org/ns#",0,"xmlns","rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#",0,"xmlns","svg","http://www.w3.org/2000/svg","xmlns","http://www.w3.org/2000/svg","version","1.1"],["id","loading","viewBox","0 0 106.2 104.3"],["d","M78.6 10.4c-2.8 2.2-9.9 9.4-11.9 12-6.5 8.2-3.5 5.1-3.7-2.9V17c.2-3.8-1-9.7-2.9-14.1-1.6-4.4-4.9-3-6.7-.8a32 32 0 00-5.7 17.4c-.1 3 0 5.4.3 8.3l-1.9-4.4c-4-9-6.7-13-10-14.4-2.6-1-5.6-.8-7.4 2.1-.7 9.6 5.9 18.2 8.9 27.4 0 .3-.7 0-2.7-1-4-2.1-14-6.8-17.4-7.7-3.8-1-14.5-1.9-9 5.7A82 82 0 0029.6 52c0 .1-1.8.6-3.9 1A64.7 64.7 0 008 58.2c-3.4 1.5-11 3-6.8 7.2 1.5 1.6 1.8 1.8 3.6 2.3 7.3 1.8 18.1-2.2 27-3.5-3.3 2.6-8 6.5-14.1 11.7a19.8 19.8 0 00-4.6 6.2c-2.2 4.6-5.4 10.3 2.4 10.8 2.4 0 8.2-2.7 11.3-5.2 2-1.7 4.6-3 6.7-5 2.3-2 2.3-1.8-.2 4.2-2.6 6.1-3 8.4-2.8 12.1.2 3.8 2.7 5.8 6.6 5 1.5-.4 2.1-1.1 5-5.3 2-2.8 4-5.8 5.6-9.2.9-1.4 2.1-3.8 2.8-5.4 1-2.4 1.2-2.8 1.6-2.7.3.1.6.8.7 1.5.5 3.5 4.7 12.7 6.8 15.3 4.6 6.5 11.6 8 13-.4.1-5.8-3.4-13.3-5.4-18.8-1-2.2-1.2-2.6-.5-2 .4.4 2.9 1.6 5.4 2.8 4.3 2 5 2.1 8.4 2.7 4.8.8 7.8.7 10.6-.3 2-.8 2.3-1 2.8-2.2.5-1.1.5-1.5-.3-2.9-1.6-3-4.6-5.4-7.1-7.6a80 80 0 01-3.5-2.3L79.3 65c-.7 0-.7-1 0-.7.6.3 4.7.1 7.8-.2 2.5-.1 5-.7 6.9-1.2 6-1.5 11.7-4 12.1-5.7.7-2.9-2.4-3.3-4.2-4.4a50.7 50.7 0 00-19.5-5.4c-2.9 0-3-.3-.8-1.3 6.3-3 13.2-8 17-12.2 1.9-2.3 2-2.8 1-4-1.5-1.6-3.2-1.9-8.3-1.2-3.7.5-8.8 2.2-12.3 3.9-.4.2-1.3.5-.4-.5 1.6-1.6 3.1-3.5 4-4.6 4-4.7 6.4-11 6-14.8-1.9-6-6.8-4.8-10-2.3zm5.4 1.5c.8.3 1.2 1.4.7 3.2-.8 6.5-8.6 16.4-17.9 22.8-2.3 1.1-4.2 3.8-5.3 5-3.5 4.1 0 8.7 3 4.5 1-1.5 3-3.2 6.7-6 5.7-4.6 6.4-5 11.2-7 4-1.8 9-3.2 12.9-3 1.6.7-8.1 7.7-14.5 11.6-6.3 3.3-9.8 5.2-11 5.6-3.7 1.6-5.1 2.5-5.3 3.6-.3 1.3.6 1.3 3.9 0a46.6 46.6 0 0116.2-2c3-.2 14 3.4 17 6 0 2.2-4.3 3-6.8 3.8A67.5 67.5 0 0164 58.6c-.3-.2-.7-1.2-1-2.5a27 27 0 00-1.5-5.2 12.8 12.8 0 00-4.7-3.9c-1.2-.8-3.4-1.4-5.4-1.4-4.2 0-.7.4-.3-2.3l.5-3.8c.6-4.2-.5-8.8-.5-13.3-.4-7.6 0-11.2 1.8-16.2 1.2-3.3 3.5-8.5 4.9-.9 1.1 4.4 1.3 9.8 1.4 14.4.2 4.7-1.8 9.3-3 13.8-1 2.9-.7 2.5-1.2 4.7.2 2.9 1.6 2 4.3-2.2 1.8-3.7 4.4-7.3 6.7-11 4.2-6 8.6-10.7 15-16.2 1.1-.8 2.2-1 2.9-.7zm-50.3.3c.5.3 1.3 1 2.3 2.1 2 2.2 2.5 3 5.3 9.4 3.4 7.9 4.4 10.4 5.2 14.3.5 2.2.9 3.4 1.7 5.4.7 1.5 1.3 1.6-.6 1.9-3.6.6-6.4 2.3-7.7 5.7l-1 2.5-1-.6c-1.3-.8-3-.7-4.4-.8-.3 0-.7-.4-.8-.8 1-1.3-15.5-12.4-19.1-16.1-2.4-1.4-2-3.2.3-2.5 5 .3 20.3 6.9 24.3 10.5 1 1 .8.5 2.2 1.8 1.8 1.5 3.5 1 2.9-2.3-4-8-7.3-16.5-10-24.4-1-3-1.6-7 .4-6zm21.6 36.2c1.3.6 2.8 2 3.2 3.1.2.5.4 1.8.5 3 .5 4.9-2.7 7.9-8.2 7.9-4.5 0-6.4-1.6-7.3-5.7-.5-2.8 1.5-6.3 4.7-7.8 1.6-.8 5.7-1 7-.5zm2.3 3.3l-1-.2c-1.1-.1-1.7.3-1.4 1 .3.5 1.9 1 2.5.7.5-.3.6-.4.3-1a1 1 0 00-.4-.5zm.6 3.7c-.7-.4-3.2-.2-3.5.3-.2.5 0 1.6.6 2.1.8.6 1.1.7 1.7.5.9-.4 1.8-2.4 1.4-2.8h-.2zm14 8.9c1.7.7 3.6 1.8 6.3 3.4 2 1.3 4.4 2.8 6.4 4.7 2.2 1.8 4.8 5.3 4.7 6.3-.4 2.6-9.7.8-10.7.5-6.7-2-16.4-9-20.7-14.4 1.9-1 2.8-2.1 4.4-3.8l2.2.8c1.2.5 3.2 1.1 4.6 1.5 1 .2 1.9.5 2.9 1zm-24.8-10a3 3 0 00-1.4 0c-1.3.2-1.9 1.5-1.5 3.3.3 1.5.9 1.9 1.8 1.1.9-.8.7-.3 1.2.7.3.7.8 1.3 1 1.4.8.4 1.8-.8 1.8-1.9-.1-1.2-1-1.8-2.1-1.6-1.5.2-1.4 0-.8-1.4.4-1 .4-1.4 0-1.6zm5.9 3.6c-.4-.2-.9-.2-1.5-.2-1.3 0-1.3.3-.6 2 .8 1.7.8 1.7 1.9 1.4 1-.1 1.6-1 1.1-2.2-.2-.5-.5-.8-1-1zm-14.8-2c.3.2.5.6 1.1 2 1.3 3 3.2 5.2 5.6 6.5l2 1c-1.7 1.3-3 2.6-4.2 4.5-4.8 6.9-14.7 11.6-21.4 17.3-1 .8-6.7 4.1-6.7 1.3a30.7 30.7 0 0111.9-16.1c1.2-1 6.4-6.2 7.4-7.1 1.3-1.2 6.8-7 1-5.4-7.3 2.4-21.5 6-29.6 4.7-1.6-.9-1-1.6 3-3.4A82 82 0 0127 55.8c3.3-.7 8.1-.8 9.8-.2 1 .3 1.3.2 1.6.3zm15.6 10.2c4.9 2 9.5 13 11 17a32 32 0 012.6 15.8c-.4 2.4-6-4-6.8-6.4A57.5 57.5 0 0154.3 70c-.3-1.8-1.8-3-3.6-.9-1 1.5.1 3.7-.4 5.6-.5 1.6-5.6 13.7-6.2 14.6-2.1 3.1-3.5 6.1-6.3 9-3.1 3.6-3.3 1-3.1-3.4a63.6 63.6 0 0115.7-27.7c.8-1.1 1.1-1.3 2.8-1.4l1 .3z"],["id","epic","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M12.085 2.00006C12.3896 2.00008 12.6681 2.17217 12.8044 2.44462L19.1189 15.0645C19.1215 15.0696 19.1241 15.0747 19.1266 15.0798L21.9896 20.8017C22.1143 21.0509 22.1012 21.3468 21.9549 21.584C21.8087 21.8212 21.5502 21.9658 21.2715 21.9663L2.88072 22.0001C2.60154 22.0006 2.34205 21.8563 2.19511 21.6189C2.04817 21.3816 2.03479 21.085 2.15975 20.8353L6.07598 13.0116C6.07806 13.0073 6.08017 13.0031 6.08233 12.9989L11.3654 2.44451C11.5018 2.17208 11.7803 2.00004 12.085 2.00006ZM7.13312 14.4947L4.18296 20.3885L19.969 20.3595L17.8052 16.0351L13.4221 13.879L10.0828 15.7644C9.8329 15.9056 9.52669 15.9028 9.27928 15.7573L7.13312 14.4947ZM16.6149 13.6562L12.0847 4.60247L7.85507 13.0524L9.69551 14.1351L13.0007 12.269C13.232 12.1384 13.513 12.1304 13.7514 12.2477L16.6149 13.6562Z"],["id","agile","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.29304 12.4145C1.68357 12.024 2.31673 12.024 2.70726 12.4145L4.19058 13.8978L5.60506 12.4833C5.99558 12.0928 6.62875 12.0928 7.01927 12.4833C7.40979 12.8738 7.40979 13.507 7.01927 13.8975L4.89769 16.0191C4.50716 16.4096 3.874 16.4096 3.48347 16.0191L1.29304 13.8287C0.90252 13.4382 0.90252 12.805 1.29304 12.4145Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.06982 10.6056C3.31806 8.6866 4.18066 6.89887 5.52813 5.51177C6.87565 4.12462 8.63548 3.21293 10.5429 2.91509C12.4505 2.61724 14.4017 2.94956 16.1023 3.86216C17.8028 4.77475 19.1599 6.21771 19.9696 7.97284C20.7793 9.72789 20.998 11.7001 20.5936 13.5925C20.1891 15.4849 19.1832 17.1959 17.7268 18.4675C17.0873 19.0259 16.4256 19.5948 15.589 20.0022C14.7279 20.4215 13.7404 20.645 12.4444 20.645C11.8921 20.645 11.4444 20.1973 11.4444 19.645C11.4444 19.0927 11.8921 18.645 12.4444 18.645C13.4937 18.645 14.1719 18.4678 14.7134 18.2041C15.2794 17.9284 15.7574 17.5319 16.4114 16.961C17.5419 15.9739 18.3234 14.645 18.6377 13.1745C18.952 11.704 18.7819 10.1724 18.1536 8.81069C17.5254 7.44903 16.4733 6.33106 15.1566 5.62445C13.8399 4.91785 12.3291 4.66043 10.8515 4.89115C9.37384 5.12187 8.00885 5.82842 6.96269 6.90535C5.91647 7.98233 5.24618 9.37105 5.05329 10.8622C4.95357 11.6331 4.95125 12.5807 4.97825 13.3631C4.99155 13.7485 5.01151 14.0827 5.0281 14.3199C5.03639 14.4383 5.0438 14.5321 5.04907 14.5956L5.05521 14.6672L5.05677 14.6845L5.05711 14.6883C5.10879 15.2381 4.70507 15.7263 4.15526 15.778C3.60541 15.8298 3.11771 15.426 3.06596 14.8761L4.06155 14.7824C3.06596 14.8761 3.06596 14.8762 3.06596 14.8761L3.06568 14.8732L3.06509 14.8668L3.06305 14.8442L3.05594 14.7612C3.05002 14.6899 3.04192 14.5873 3.03298 14.4594C3.0151 14.2039 2.99371 13.8457 2.97944 13.4321C2.9513 12.6165 2.94897 11.5399 3.06982 10.6056Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.5005 19.657C13.5005 20.2093 13.0528 20.6571 12.5005 20.6571L2.0005 20.6571C1.44822 20.6571 1.0005 20.2094 1.0005 19.6571C1.0005 19.1048 1.44821 18.6571 2.0005 18.6571L12.5005 18.6571C13.0528 18.6571 13.5005 19.1048 13.5005 19.657Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M22.9997 19.6571C22.9997 20.2094 22.5519 20.6571 21.9997 20.6571L19.9995 20.6571C19.4472 20.657 18.9995 20.2093 18.9995 19.657C18.9996 19.1047 19.4473 18.657 19.9996 18.6571L21.9997 18.6571C22.552 18.6571 22.9997 19.1049 22.9997 19.6571Z"],["id","kanban5","viewBox","0 0 23 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M4.77568 4C4.31553 4 3.86523 4.40405 3.86523 5V19C3.86523 19.5959 4.31553 20 4.77568 20H18.1488C18.609 20 19.0593 19.5959 19.0593 19V5C19.0593 4.40405 18.609 4 18.1488 4H4.77568ZM1.86523 5C1.86523 3.38681 3.12561 2 4.77568 2H18.1488C19.7989 2 21.0593 3.38681 21.0593 5V19C21.0593 20.6132 19.7989 22 18.1488 22H4.77568C3.12561 22 1.86523 20.6132 1.86523 19V5Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M8.59668 2C9.14896 2 9.59668 2.44772 9.59668 3V21C9.59668 21.5523 9.14896 22 8.59668 22C8.04439 22 7.59668 21.5523 7.59668 21V3C7.59668 2.44772 8.04439 2 8.59668 2Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M14.3281 2C14.8804 2 15.3281 2.44772 15.3281 3V21C15.3281 21.5523 14.8804 22 14.3281 22C13.7758 22 13.3281 21.5523 13.3281 21V3C13.3281 2.44772 13.7758 2 14.3281 2Z"],["id","issue","viewBox","0 0 23 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.68682 4C6.46052 4 6.23368 4.09369 6.05903 4.27652C5.8829 4.46091 5.77637 4.72038 5.77637 5V19.0036L10.8641 15.1991C11.2192 14.9336 11.7067 14.9336 12.0618 15.1991L17.1495 19.0036V5C17.1495 4.72038 17.043 4.46091 16.8668 4.27652C16.6922 4.09369 16.4654 4 16.2391 4H6.68682ZM4.61281 2.89505C5.15473 2.32774 5.89975 2 6.68682 2H16.2391C17.0261 2 17.7711 2.32774 18.3131 2.89505C18.8535 3.46081 19.1495 4.21875 19.1495 5V21C19.1495 21.3785 18.9358 21.7246 18.5974 21.8941C18.2589 22.0636 17.8538 22.0275 17.5506 21.8009L11.4629 17.2487L5.37522 21.8009C5.07209 22.0275 4.66695 22.0636 4.32851 21.8941C3.99008 21.7246 3.77637 21.3785 3.77637 21V5C3.77637 4.21876 4.07239 3.46081 4.61281 2.89505Z"],["id","search","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M11 4C7.13401 4 4 7.13401 4 11C4 14.866 7.13401 18 11 18C14.866 18 18 14.866 18 11C18 7.13401 14.866 4 11 4ZM2 11C2 6.02944 6.02944 2 11 2C15.9706 2 20 6.02944 20 11C20 15.9706 15.9706 20 11 20C6.02944 20 2 15.9706 2 11Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M15.9433 15.9428C16.3338 15.5523 16.967 15.5523 17.3575 15.9428L21.7075 20.2928C22.098 20.6833 22.098 21.3165 21.7075 21.707C21.317 22.0975 20.6838 22.0975 20.2933 21.707L15.9433 17.357C15.5528 16.9665 15.5528 16.3333 15.9433 15.9428Z"],["id","video","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M23.4792 7.12229C23.8003 7.29758 24 7.63419 24 8V17C24 17.3658 23.8003 17.7024 23.4792 17.8777C23.1581 18.053 22.767 18.039 22.4592 17.8412L15.4592 13.3412C15.173 13.1572 15 12.8403 15 12.5C15 12.1597 15.173 11.8428 15.4592 11.6588L22.4592 7.15882C22.767 6.96101 23.1581 6.947 23.4792 7.12229ZM17.8493 12.5L22 15.1683V9.83167L17.8493 12.5Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M4.73333 7C4.39219 7 4 7.31765 4 7.85714V17.1429C4 17.6823 4.39219 18 4.73333 18H14.2667C14.6078 18 15 17.6823 15 17.1429V7.85714C15 7.31765 14.6078 7 14.2667 7H4.73333ZM2 7.85714C2 6.34529 3.15989 5 4.73333 5H14.2667C15.8401 5 17 6.34529 17 7.85714V17.1429C17 18.6547 15.8401 20 14.2667 20H4.73333C3.15989 20 2 18.6547 2 17.1429V7.85714Z"],["id","book","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.5 18C6.10217 18 5.72064 18.158 5.43934 18.4393C5.15804 18.7206 5 19.1022 5 19.5C5 20.0523 4.55228 20.5 4 20.5C3.44772 20.5 3 20.0523 3 19.5C3 18.5717 3.36875 17.6815 4.02513 17.0251C4.6815 16.3687 5.57174 16 6.5 16H20C20.5523 16 21 16.4477 21 17C21 17.5523 20.5523 18 20 18H6.5Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.5 3C6.10217 3 5.72064 3.15804 5.43934 3.43934C5.15804 3.72064 5 4.10218 5 4.5V19.5C5 19.8978 5.15804 20.2794 5.43934 20.5607C5.72064 20.842 6.10217 21 6.5 21H19V3H6.5ZM6.5 1H20C20.5523 1 21 1.44772 21 2V22C21 22.5523 20.5523 23 20 23H6.5C5.57174 23 4.6815 22.6313 4.02513 21.9749C3.36875 21.3185 3 20.4283 3 19.5V4.5C3 3.57174 3.36875 2.6815 4.02513 2.02513C4.6815 1.36875 5.57174 1 6.5 1Z"],["id","users","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.46447 15.4645C2.40215 14.5268 3.67392 14 5 14H13C14.3261 14 15.5979 14.5268 16.5355 15.4645C17.4732 16.4021 18 17.6739 18 19V21C18 21.5523 17.5523 22 17 22C16.4477 22 16 21.5523 16 21V19C16 18.2044 15.6839 17.4413 15.1213 16.8787C14.5587 16.3161 13.7956 16 13 16H5C4.20435 16 3.44129 16.3161 2.87868 16.8787C2.31607 17.4413 2 18.2044 2 19V21C2 21.5523 1.55228 22 1 22C0.447715 22 0 21.5523 0 21V19C0 17.6739 0.526784 16.4021 1.46447 15.4645Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M9 4C7.34315 4 6 5.34315 6 7C6 8.65685 7.34315 10 9 10C10.6569 10 12 8.65685 12 7C12 5.34315 10.6569 4 9 4ZM4 7C4 4.23858 6.23858 2 9 2C11.7614 2 14 4.23858 14 7C14 9.76142 11.7614 12 9 12C6.23858 12 4 9.76142 4 7Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M19.032 14.8801C19.1701 14.3454 19.7155 14.0238 20.2502 14.1619C21.3229 14.4388 22.2732 15.0642 22.9519 15.9398C23.6307 16.8153 23.9994 17.8915 24.0002 18.9994L24.0002 21.0001C24.0002 21.5524 23.5525 22.0001 23.0002 22.0001C22.448 22.0001 22.0002 21.5524 22.0002 21.0001L22.0002 19.0009C22.0002 19.0008 22.0002 19.001 22.0002 19.0009C21.9997 18.3363 21.7784 17.6904 21.3713 17.1651C20.964 16.6398 20.3938 16.2645 19.7502 16.0984C19.2155 15.9603 18.8939 15.4149 19.032 14.8801Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M15.0315 2.88208C15.1685 2.34706 15.7133 2.02439 16.2483 2.16137C17.3238 2.43675 18.2771 3.06225 18.9578 3.93926C19.6386 4.81627 20.0081 5.89491 20.0081 7.00512C20.0081 8.11534 19.6386 9.19397 18.9578 10.071C18.2771 10.948 17.3238 11.5735 16.2483 11.8489C15.7133 11.9859 15.1685 11.6632 15.0315 11.1282C14.8945 10.5931 15.2172 10.0484 15.7522 9.91137C16.3975 9.74615 16.9695 9.37085 17.3779 8.84464C17.7864 8.31843 18.0081 7.67125 18.0081 7.00512C18.0081 6.339 17.7864 5.69181 17.3779 5.16561C16.9695 4.6394 16.3975 4.2641 15.7522 4.09887C15.2172 3.96189 14.8945 3.41711 15.0315 2.88208Z"],["id","settings","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10ZM8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M12 2C11.7348 2 11.4804 2.10536 11.2929 2.29289C11.1054 2.48043 11 2.73478 11 3V3.17399C10.9979 3.6908 10.8448 4.19572 10.5594 4.62661C10.2741 5.0575 9.86895 5.39555 9.39393 5.59914C9.30937 5.63538 9.22042 5.65969 9.12961 5.67157C8.69797 5.82272 8.23332 5.85997 7.781 5.77796C7.26 5.68349 6.77925 5.43512 6.40073 5.06486L6.39285 5.05715L6.33289 4.99711C6.24002 4.90413 6.12934 4.82998 6.00794 4.77965C5.88654 4.72933 5.75641 4.70343 5.625 4.70343C5.49358 4.70343 5.36346 4.72933 5.24206 4.77965C5.12066 4.82998 5.01037 4.90374 4.9175 4.99671L4.91671 4.9975C4.82374 5.09037 4.74998 5.20066 4.69965 5.32206C4.64933 5.44346 4.62343 5.57358 4.62343 5.705C4.62343 5.83641 4.64933 5.96654 4.69965 6.08794C4.74998 6.20934 4.82374 6.31963 4.91671 6.4125L4.98491 6.48069C5.35516 6.85921 5.60349 7.34 5.69796 7.861C5.79055 8.37163 5.73113 8.89796 5.52745 9.37477C5.34189 9.86133 5.01698 10.2827 4.59305 10.5859C4.16054 10.8952 3.64498 11.0673 3.11338 11.0797L3.09 11.08H3C2.73478 11.08 2.48043 11.1854 2.29289 11.3729C2.10536 11.5604 2 11.8148 2 12.08C2 12.3452 2.10536 12.5996 2.29289 12.7871C2.48043 12.9746 2.73478 13.08 3 13.08H3.17399C3.6908 13.0821 4.19572 13.2352 4.62661 13.5206C5.05602 13.8049 5.39322 14.2083 5.59703 14.6812C5.80908 15.1643 5.87211 15.6998 5.77796 16.219C5.68349 16.74 5.43512 17.2207 5.06486 17.5993L5.05715 17.6072L4.9971 17.6671C4.90413 17.76 4.82998 17.8707 4.77965 17.9921C4.72933 18.1135 4.70343 18.2436 4.70343 18.375C4.70343 18.5064 4.72933 18.6365 4.77965 18.7579C4.82998 18.8793 4.90374 18.9896 4.99671 19.0825L4.9975 19.0833C5.09037 19.1763 5.20066 19.25 5.32206 19.3003C5.44346 19.3507 5.57358 19.3766 5.705 19.3766C5.83641 19.3766 5.96654 19.3507 6.08794 19.3003C6.20934 19.25 6.31963 19.1763 6.4125 19.0833L6.48069 19.0151C6.85921 18.6448 7.34 18.3965 7.861 18.302C8.37162 18.2095 8.89796 18.2689 9.37476 18.4725C9.86132 18.6581 10.2827 18.983 10.5859 19.407C10.8952 19.8395 11.0673 20.355 11.0797 20.8866L11.08 20.91V21C11.08 21.2652 11.1854 21.5196 11.3729 21.7071C11.5604 21.8946 11.8148 22 12.08 22C12.3452 22 12.5996 21.8946 12.7871 21.7071C12.9746 21.5196 13.08 21.2652 13.08 21V20.83L13.08 20.826C13.0821 20.3092 13.2352 19.8043 13.5206 19.3734C13.805 18.9439 14.2083 18.6067 14.6813 18.4029C15.1644 18.1909 15.6998 18.1279 16.219 18.222C16.74 18.3165 17.2207 18.5649 17.5993 18.9351L17.6071 18.9428L17.6671 19.0029C17.76 19.0959 17.8707 19.17 17.9921 19.2203C18.1135 19.2707 18.2436 19.2966 18.375 19.2966C18.5064 19.2966 18.6365 19.2707 18.7579 19.2203C18.8793 19.17 18.9896 19.0963 19.0825 19.0033L19.0833 19.0025C19.1763 18.9096 19.25 18.7993 19.3003 18.6779C19.3507 18.5565 19.3766 18.4264 19.3766 18.295C19.3766 18.1636 19.3507 18.0335 19.3003 17.9121C19.25 17.7907 19.1763 17.6804 19.0833 17.5875L19.0151 17.5193C18.6448 17.1408 18.3965 16.66 18.302 16.139C18.2079 15.6197 18.2709 15.0842 18.483 14.6011C18.6868 14.1282 19.024 13.7249 19.4534 13.4406C19.8843 13.1552 20.3892 13.0021 20.906 13L20.91 13L21 13C21.2652 13 21.5196 12.8946 21.7071 12.7071C21.8946 12.5196 22 12.2652 22 12C22 11.7348 21.8946 11.4804 21.7071 11.2929C21.5196 11.1054 21.2652 11 21 11H20.83L20.826 11C20.3092 10.9979 19.8043 10.8448 19.3734 10.5594C18.9425 10.2741 18.6044 9.86896 18.4009 9.39393C18.3646 9.30938 18.3403 9.22042 18.3284 9.12961C18.1773 8.69798 18.14 8.23333 18.222 7.781C18.3165 7.26 18.5649 6.77925 18.9351 6.40073L18.9428 6.39285L19.0029 6.3329C19.0959 6.24002 19.17 6.12934 19.2203 6.00794C19.2707 5.88654 19.2966 5.75641 19.2966 5.625C19.2966 5.49359 19.2707 5.36346 19.2203 5.24206C19.17 5.12066 19.0963 5.01037 19.0033 4.9175L19.0025 4.91671C18.9096 4.82374 18.7993 4.74998 18.6779 4.69965C18.5565 4.64933 18.4264 4.62343 18.295 4.62343C18.1636 4.62343 18.0335 4.64933 17.9121 4.69965C17.7907 4.74998 17.6804 4.82374 17.5875 4.91671L17.5193 4.98491C17.1408 5.35516 16.66 5.60349 16.139 5.69796C15.6198 5.79211 15.0843 5.72908 14.6012 5.51703C14.1283 5.31323 13.7249 4.97602 13.4406 4.54661C13.1552 4.11572 13.0021 3.6108 13 3.09399L13 3.09V3C13 2.73478 12.8946 2.48043 12.7071 2.29289C12.5196 2.10536 12.2652 2 12 2ZM19.3999 15L20.3149 15.4038C20.2624 15.5226 20.2468 15.6544 20.2699 15.7822C20.2929 15.9086 20.3527 16.0253 20.4419 16.1177L20.4967 16.1725C20.7756 16.4511 20.9969 16.782 21.1479 17.1462C21.2989 17.5104 21.3766 17.9008 21.3766 18.295C21.3766 18.6892 21.2989 19.0796 21.1479 19.4438C20.997 19.8078 20.7758 20.1386 20.4971 20.4171C20.2186 20.6958 19.8878 20.917 19.5238 21.0679C19.1596 21.2189 18.7692 21.2966 18.375 21.2966C17.9807 21.2966 17.5904 21.2189 17.2262 21.0679C16.862 20.9169 16.5311 20.6956 16.2525 20.4167L16.1977 20.3619C16.1053 20.2727 15.9886 20.2129 15.8622 20.19C15.7344 20.1668 15.6026 20.1824 15.4838 20.2349L15.474 20.2392C15.3574 20.2891 15.258 20.372 15.188 20.4777C15.1184 20.5829 15.0808 20.7062 15.08 20.8324V21C15.08 21.7956 14.7639 22.5587 14.2013 23.1213C13.6387 23.6839 12.8756 24 12.08 24C11.2843 24 10.5213 23.6839 9.95868 23.1213C9.39607 22.5587 9.08 21.7956 9.08 21V20.9244C9.07526 20.7972 9.03327 20.6741 8.95914 20.5704C8.88326 20.4644 8.77723 20.3836 8.65482 20.3385C8.63505 20.3313 8.61551 20.3234 8.59623 20.3149C8.47742 20.2624 8.34561 20.2468 8.21782 20.27C8.09144 20.2929 7.97472 20.3527 7.88235 20.4419L7.8275 20.4967C7.82737 20.4968 7.82763 20.4966 7.8275 20.4967C7.54896 20.7755 7.21784 20.997 6.85382 21.1479C6.48963 21.2989 6.09925 21.3766 5.705 21.3766C5.31075 21.3766 4.92037 21.2989 4.55618 21.1479C4.19199 20.9969 3.86112 20.7756 3.5825 20.4967C3.30394 20.2183 3.08294 19.8877 2.93211 19.5238C2.78113 19.1596 2.70343 18.7692 2.70343 18.375C2.70343 17.9808 2.78113 17.5904 2.93211 17.2262C3.08301 16.8622 3.30415 16.5314 3.5829 16.2529C3.58303 16.2528 3.58276 16.253 3.5829 16.2529L3.63811 16.1977C3.72728 16.1053 3.78713 15.9886 3.81005 15.8622C3.83322 15.7344 3.81758 15.6026 3.76514 15.4838L3.76081 15.474C3.71087 15.3574 3.62801 15.258 3.52232 15.1881C3.41704 15.1183 3.29374 15.0808 3.1675 15.08H3C2.20435 15.08 1.44129 14.7639 0.878679 14.2013C0.316071 13.6387 0 12.8756 0 12.08C0 11.2843 0.316071 10.5213 0.878679 9.95868C1.44129 9.39607 2.20435 9.08 3 9.08H3.07564C3.20283 9.07526 3.32591 9.03327 3.42955 8.95914C3.53564 8.88327 3.61644 8.77723 3.66146 8.65482C3.66874 8.63505 3.67663 8.61551 3.68514 8.59623C3.73758 8.47742 3.75322 8.34561 3.73005 8.21782C3.70713 8.09142 3.64727 7.97467 3.55809 7.8823L3.50329 7.8275C3.50315 7.82737 3.50342 7.82763 3.50329 7.8275C3.22454 7.54896 3.00301 7.21784 2.85211 6.85382C2.70113 6.48963 2.62343 6.09925 2.62343 5.705C2.62343 5.31075 2.70113 4.92037 2.85211 4.55618C3.00301 4.19216 3.22415 3.86143 3.50289 3.58289C3.78143 3.30415 4.11216 3.08301 4.47618 2.93211C4.84037 2.78113 5.23075 2.70343 5.625 2.70343C6.01925 2.70343 6.40963 2.78113 6.77382 2.93211C7.13784 3.08301 7.46857 3.30415 7.74711 3.58289C7.74724 3.58302 7.74697 3.58276 7.74711 3.58289L7.8023 3.63809C7.89467 3.72728 8.01142 3.78713 8.13782 3.81005C8.26561 3.83322 8.39742 3.81758 8.51623 3.76514C8.58027 3.73687 8.64692 3.71549 8.71507 3.70122C8.78479 3.6539 8.84498 3.59323 8.89194 3.52232C8.96166 3.41704 8.99921 3.29374 9 3.1675V3C9 2.20435 9.31607 1.44129 9.87868 0.87868C10.4413 0.316071 11.2043 0 12 0C12.7956 0 13.5587 0.316071 14.1213 0.87868C14.6839 1.44129 15 2.20435 15 3V3.08765C15.0008 3.21384 15.0384 3.33708 15.108 3.44232C15.178 3.54801 15.2774 3.63092 15.3939 3.68086L15.4038 3.68508C15.5226 3.73752 15.6544 3.75322 15.7822 3.73005C15.9086 3.70713 16.0253 3.64728 16.1177 3.55811L16.1725 3.50329C16.4511 3.22436 16.782 3.00308 17.1462 2.85211C17.5104 2.70113 17.9007 2.62343 18.295 2.62343C18.6892 2.62343 19.0796 2.70113 19.4438 2.85211C19.8077 3.00294 20.1383 3.22394 20.4167 3.5025C20.6956 3.78112 20.9169 4.11198 21.0679 4.47618C21.2189 4.84037 21.2966 5.23075 21.2966 5.625C21.2966 6.01925 21.2189 6.40963 21.0679 6.77382C20.917 7.13784 20.6958 7.46857 20.4171 7.7471C20.417 7.74724 20.4172 7.74697 20.4171 7.7471L20.3619 7.80231C20.2727 7.89468 20.2129 8.01142 20.1899 8.13782C20.1668 8.26561 20.1824 8.39742 20.2349 8.51623C20.2631 8.58027 20.2845 8.64692 20.2988 8.71507C20.3461 8.78479 20.4068 8.84498 20.4777 8.89195C20.5829 8.96165 20.7062 8.99919 20.8324 9H21C21.7956 9 22.5587 9.31607 23.1213 9.87868C23.6839 10.4413 24 11.2043 24 12C24 12.7956 23.6839 13.5587 23.1213 14.1213C22.5587 14.6839 21.7956 15 21 15H20.9125C20.7863 15.0008 20.663 15.0383 20.5577 15.1081C20.452 15.178 20.3691 15.2774 20.3191 15.3939L19.3999 15Z"],["id","chevrons-left","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.7071 6.29289C12.0976 6.68342 12.0976 7.31658 11.7071 7.70711L7.41421 12L11.7071 16.2929C12.0976 16.6834 12.0976 17.3166 11.7071 17.7071C11.3166 18.0976 10.6834 18.0976 10.2929 17.7071L5.29289 12.7071C4.90237 12.3166 4.90237 11.6834 5.29289 11.2929L10.2929 6.29289C10.6834 5.90237 11.3166 5.90237 11.7071 6.29289Z"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.7071 6.29289C19.0976 6.68342 19.0976 7.31658 18.7071 7.70711L14.4142 12L18.7071 16.2929C19.0976 16.6834 19.0976 17.3166 18.7071 17.7071C18.3166 18.0976 17.6834 18.0976 17.2929 17.7071L12.2929 12.7071C11.9024 12.3166 11.9024 11.6834 12.2929 11.2929L17.2929 6.29289C17.6834 5.90237 18.3166 5.90237 18.7071 6.29289Z"],["id","chevron-left","viewBox","0 0 24 24"],["fill-rule","evenodd","clip-rule","evenodd","d","M8.29289 18.7071C7.90237 18.3166 7.90237 17.6834 8.29289 17.2929L13.5858 12L8.29289 6.70711C7.90237 6.31658 7.90237 5.68342 8.29289 5.29289C8.68342 4.90237 9.31658 4.90237 9.70711 5.29289L15.7071 11.2929C16.0976 11.6834 16.0976 12.3166 15.7071 12.7071L9.70711 18.7071C9.31658 19.0976 8.68342 19.0976 8.29289 18.7071Z"]],template:function(e,t){1&e&&(Tn(),Ho(0,"svg",0),Ho(1,"title"),ha(2,"Taiga SVG sprite"),Uo(),Ho(3,"defs"),Ho(4,"symbol",1),qo(5,"path",2),Uo(),Ho(6,"symbol",3),qo(7,"path",4),Uo(),Ho(8,"symbol",5),qo(9,"path",6),qo(10,"path",7),qo(11,"path",8),qo(12,"path",9),Uo(),Ho(13,"symbol",10),qo(14,"path",11),qo(15,"path",12),qo(16,"path",13),Uo(),Ho(17,"symbol",14),qo(18,"path",15),Uo(),Ho(19,"symbol",16),qo(20,"path",17),qo(21,"path",18),Uo(),Ho(22,"symbol",19),qo(23,"path",20),qo(24,"path",21),Uo(),Ho(25,"symbol",22),qo(26,"path",23),qo(27,"path",24),Uo(),Ho(28,"symbol",25),qo(29,"path",26),qo(30,"path",27),qo(31,"path",28),qo(32,"path",29),Uo(),Ho(33,"symbol",30),qo(34,"path",31),qo(35,"path",32),Uo(),Ho(36,"symbol",33),qo(37,"path",34),qo(38,"path",35),Uo(),Ho(39,"symbol",36),qo(40,"path",37),Uo(),Uo(),Uo())},styles:["[_nghost-%COMP%] { display: none; }"],changeDetection:0}),Ax),Dx=((ou={}).viewEpics="view_epics",ou.addEpic="add_epic",ou.modifyEpic="modify_epic",ou.commentEpic="comment_epic",ou.deleteEpic="delete_epic",ou.viewMilestones="view_milestones",ou.addMilestone="add_milestone",ou.modifyMilestone="modify_milestone",ou.deleteMilestone="delete_milestone",ou.viewUserstory="view_us",ou.addUserstory="add_us",ou.modifyUserstory="modify_us",ou.commentUserstory="comment_us",ou.deleteUserstory="delete_us",ou.viewTasks="view_tasks",ou.addTask="add_task",ou.commentTask="comment_task",ou.modifyTask="modify_task",ou.deleteTask="delete_task",ou.viewIssues="view_issues",ou.addIssue="add_issue",ou.commentIssue="comment_issue",ou.modifyIssue="modify_issue",ou.deleteIsue="delete_issue",ou.viewWikiLinks="view_wiki_links",ou.addWikiLink="add_wiki_link",ou.modifyWikiLink="modify_wiki_link",ou.deleteWikiLink="delete_wiki_link",ou.viewWikiPages="view_wiki_pages",ou.addWikiPage="add_wiki_page",ou.modifyWikiPage="modify_wiki_page",ou.commentWikiPage="comment_wiki_page",ou.deleteWikiPage="delete_wiki_page",ou.viewProject="view_project",ou.modifyProject="modify_project",ou.adminProjectValues="admin_project_values",ou.deleteProject="delete_project",ou.addMember="add_member",ou.removeMember="remove_member",ou.adminRoles="admin_roles",ou),ou=i("zbeE"),jx=i.n(ou),bt=(WS(Fx,[{key:"cartesianProduct",value:function(e,t){var n=[];return t.forEach(function(t){e.forEach(function(e){n.push([e,t])})}),n}},{key:"project",set:function(e){var t=e.logoBigUrl;"small"===this.logo&&(t=e.logoSmallUrl),t?(this.src=t,this.bg=""):(t="".concat(e.slug,"-").concat(e.id),e=jx()(t,42).result()%this.logos.length,t=this.logos[e],e=window._version||"",this.src="".concat(e).concat(t[0]),this.bg=t[1])}}]),(Px=Fx).ɵfac=function(e){return new(e||Px)},Px.ɵdir=bt({type:Px,selectors:[["","tgProjectLogo",""]],hostVars:3,hostBindings:function(e,t){2&e&&(fa("src",t.src,Er),ia("background",t.bg))},inputs:{logo:"logo",project:["tgProjectLogo","project"]}}),Px);function Fx(){qS(this,Fx),this.bg="",this.src="",this.logo="small",this.imgs=["/images/project-logos/project-logo-01.png","/images/project-logos/project-logo-02.png","/images/project-logos/project-logo-03.png","/images/project-logos/project-logo-04.png","/images/project-logos/project-logo-05.png"],this.colors=["rgba(153, 214, 220, 1)","rgba(213, 156, 156, 1)","rgba(214, 161, 212, 1)","rgba(164, 162, 219, 1)","rgba(152, 224, 168, 1)"],this.logos=[],this.logos=this.cartesianProduct(this.imgs,this.colors)}function Vx(e){qS(this,Vx),this.notifier=e}function zx(e,t,n,r){qS(this,zx),this.translate=e,this.router=t,this.legacyService=n,this.config=r}function Bx(){qS(this,Bx),this.ready=!1,this.state=new Yu({}),this.legacyState=this.state.asObservable()}function Hx(e,t,n){qS(this,Hx),this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(e){return t.destroyNode(e)}:null}function Ux(e,t,n){qS(this,Ux),this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}function qx(e,t){var n;1&e&&(n=tn(),Ho(0,"li",10),Go("mouseenter",function(e){return rn(n),Xo().popup(e,"epics")})("mouseleave",function(){return rn(n),Xo().out()}),Ho(1,"a",15),Ms(2,"translate"),Tn(),Ho(3,"svg"),qo(4,"use",26),Uo(),An(),Ho(5,"span",13),ha(6),Ms(7,"translate"),Uo(),Uo(),Uo()),2&e&&(oa("active","epics"===(e=Xo()).section)("active-dialog","epics"===e.dialog.type),Br(1),ea("title",Ns(2,7,"PROJECT.SECTION.EPICS")),zo("routerLink",Is(11,bx,e.baseHref,e.project.slug)),Br(5),da(" ",Ns(7,9,"PROJECT.SECTION.EPICS")," "))}var Wx=function(e,t,n){return[e,"project",t,"taskboard",n]};function $x(e,t){var n,r,i,o,a,s,l,c,u;1&e&&(Ho(0,"li",33),Ho(1,"a",36),Ho(2,"span",13),ha(3),Uo(),Uo(),Uo()),2&e&&(n=t.$implicit,a=Xo().ngrxLet,o=Xo(2),Br(1),oa("active",n.id===a),zo("routerLink",(s=Wx,l=o.baseHref,c=o.project.slug,u=n.slug,r=tn(),i=hn(),e=s,a=t=u,i=No(o=r,u=s=i+5,l=l,c=c),Mo(o,u+2,a)||i?Oo(r,s+3,e(l,c,t)):Os(r,s+3))),Lo("title",n.name),Br(2),da(" ",n.name," "))}var Kx=function(e,t){return[e,"project",t,"backlog"]};function Gx(e,t){1&e&&(Tn(),An(),Ho(0,"ul",32),Ho(1,"li",33),Ho(2,"a",34),Ms(3,"translate"),Ho(4,"span",13),ha(5),Ms(6,"translate"),Uo(),Uo(),Uo(),jo(7,$x,4,9,"li",35),Uo()),2&e&&(e=t.ngrxLet,t=Xo(2),Br(2),oa("active",null===e),ea("title",Ns(3,6,"PROJECT.SECTION.BACKLOG")),zo("routerLink",Is(10,Kx,t.baseHref,t.project.slug)),Br(3),da(" ",Ns(6,8,"PROJECT.SECTION.BACKLOG")," "),Br(2),zo("ngForOf",t.milestones))}function Zx(e,t){var n;1&e&&(n=tn(),Ho(0,"li",27),Go("mouseenter",function(e){return rn(n),Xo().popupScrum(e)})("mouseleave",function(){return rn(n),Xo().out()}),Ho(1,"button",11),Go("click",function(){return rn(n),Xo().toggleScrum()}),Ms(2,"translate"),Tn(),Ho(3,"svg"),qo(4,"use",28),Uo(),An(),Ho(5,"span",13),ha(6),Ms(7,"translate"),Uo(),Tn(),Ho(8,"svg",29),qo(9,"use",30),Uo(),Uo(),jo(10,Gx,8,13,"ul",31),Uo()),2&e&&(oa("active",(e=Xo()).scrumVisible)("active-dialog","scrum"===e.dialog.type||"backlog"===e.section&&e.scrumVisible),Br(1),ea("title",Ns(2,7,"PROJECT.SECTION.SCRUM")),Br(5),da(" ",Ns(7,9,"PROJECT.SECTION.SCRUM")," "),Br(4),zo("ngrxLet",e.milestoneId$))}function Jx(e,t){return[e,"project",t,"kanban"]}function Qx(e,t){var n;1&e&&(n=tn(),Ho(0,"li",10),Go("mouseenter",function(e){return rn(n),Xo().popup(e,"kanban")})("mouseleave",function(){return rn(n),Xo().out()}),Ho(1,"a",15),Ms(2,"translate"),Tn(),Ho(3,"svg"),qo(4,"use",37),Uo(),An(),Ho(5,"span",13),ha(6),Ms(7,"translate"),Uo(),Uo(),Uo()),2&e&&(oa("active","kanban"===(e=Xo()).section)("active-dialog","kanban"===e.dialog.type),Br(1),ea("title",Ns(2,7,"PROJECT.SECTION.KANBAN")),zo("routerLink",Is(11,Jx,e.baseHref,e.project.slug)),Br(5),da(" ",Ns(7,9,"PROJECT.SECTION.KANBAN")," "))}function Yx(e,t){return[e,"project",t,"issues"]}function Xx(e,t){var n;1&e&&(n=tn(),Ho(0,"li",10),Go("mouseenter",function(e){return rn(n),Xo().popup(e,"issues")})("mouseleave",function(){return rn(n),Xo().out()}),Ho(1,"a",15),Ms(2,"translate"),Tn(),Ho(3,"svg"),qo(4,"use",38),Uo(),An(),Ho(5,"span",13),ha(6),Ms(7,"translate"),Uo(),Uo(),Uo()),2&e&&(oa("active","issues"===(e=Xo()).section)("active-dialog","issues"===e.dialog.type),Br(1),ea("title",Ns(2,7,"PROJECT.SECTION.ISSUES")),zo("routerLink",Is(11,Yx,e.baseHref,e.project.slug)),Br(5),da(" ",Ns(7,9,"PROJECT.SECTION.ISSUES")," "))}function eS(e,t){var n;1&e&&(n=tn(),Ho(0,"li",10),Go("mouseenter",function(e){return rn(n),Xo().popup(e,"video")})("mouseleave",function(){return rn(n),Xo().out()}),Ho(1,"a",39),Ms(2,"translate"),Tn(),Ho(3,"svg"),qo(4,"use",40),Uo(),An(),Ho(5,"span",13),ha(6),Ms(7,"translate"),Uo(),Uo(),Uo()),2&e&&(oa("active-dialog","video"===(e=Xo()).dialog.type),Br(1),ea("title",Ns(2,5,"PROJECT.SECTION.MEETUP")),zo("href",e.videoUrl,xr),Br(5),da(" ",Ns(7,7,"PROJECT.SECTION.MEETUP")," "))}function tS(e,t){return[e,"project",t,"wiki"]}function nS(e,t){var n;1&e&&(n=tn(),Ho(0,"li",10),Go("mouseenter",function(e){return rn(n),Xo().popup(e,"wiki")})("mouseleave",function(){return rn(n),Xo().out()}),Ho(1,"a",15),Ms(2,"translate"),Tn(),Ho(3,"svg"),qo(4,"use",41),Uo(),An(),Ho(5,"span",13),ha(6),Ms(7,"translate"),Uo(),Uo(),Uo()),2&e&&(oa("active","wiki"===(e=Xo()).section)("active-dialog","wiki"===e.dialog.type),Br(1),ea("title",Ns(2,7,"PROJECT.SECTION.WIKI")),zo("routerLink",Is(11,tS,e.baseHref,e.project.slug)),Br(5),da(" ",Ns(7,9,"PROJECT.SECTION.WIKI")," "))}function rS(e,t){return[e,"project",t,"admin","project-profile","details"]}function iS(e,t){var n;1&e&&(n=tn(),Ho(0,"li",10),Go("mouseenter",function(e){return rn(n),Xo().popup(e,"settings")})("mouseleave",function(){return rn(n),Xo().out()}),Ho(1,"a",15),Ms(2,"translate"),Tn(),Ho(3,"svg"),qo(4,"use",42),Uo(),An(),Ho(5,"span",13),ha(6),Ms(7,"translate"),Uo(),Uo(),Uo()),2&e&&(oa("active","admin"===(e=Xo()).section)("active-dialog","settings"===e.dialog.type),Br(1),ea("title",Ns(2,7,"PROJECT.SECTION.SETTINGS")),zo("routerLink",Is(11,rS,e.baseHref,e.project.slug)),Br(5),da(" ",Ns(7,9,"PROJECT.SECTION.SETTINGS")," "))}function oS(e,t){1&e&&(Ho(0,"span",43),ha(1),Ms(2,"translate"),Uo()),2&e&&(Br(1),da(" ",Ns(2,1,"PROJECT.SECTION.COLLAPSE_MENU")," "))}function aS(e,t){1&e&&(Ho(0,"a",44),Ho(1,"span",45),ha(2),Uo(),Uo()),2&e&&(ia("height",(e=Xo()).dialog.mainLinkHeight,"px"),zo("href",e.dialog.slug,xr),Br(2),da(" ",e.dialog.text," "))}function sS(e,t){1&e&&(Ho(0,"div",46),Ho(1,"span",45),ha(2),Uo(),Uo()),2&e&&(ia("height",(e=Xo()).dialog.mainLinkHeight,"px"),Br(2),da(" ",e.dialog.text," "))}function lS(e,t){var n;1&e&&(n=tn(),Ho(0,"button",47),Go("click",function(){return rn(n),Xo().search.emit()}),Ms(1,"translate"),ha(2),Ms(3,"translate"),Uo()),2&e&&(ea("title",Ns(1,2,"PROJECT.SECTION.SEARCH")),Br(2),da(" ",Ns(3,4,"PROJECT.SECTION.SEARCH")," "))}function cS(e,t){1&e&&(Ho(0,"li",33),Ho(1,"a",36),Ho(2,"span",48),ha(3),Uo(),Uo(),Uo()),2&e&&(t=t.$implicit,Br(1),zo("routerLink",t.link),Lo("title",t.text),Br(2),da(" ",t.text," "))}function uS(e,t){1&e&&(Ho(0,"ul",32),jo(1,cS,4,3,"li",35),Uo()),2&e&&(e=Xo(),Br(1),zo("ngForOf",e.dialog.children))}function hS(e,t){return[e,"project",t,"timeline"]}function dS(e,t){return[e,"project",t,"team"]}var fS,pS,Me=(WS(vS,[{key:"animationDone",value:function(){this.collapseText=!!this.collapsed}},{key:"ngOnInit",value:function(){this.collapsed="true"===localStorage.getItem("projectnav-collapsed"),this.section=this.getActiveSection(),this.milestoneId$=this.legacyService.legacyState.pipe(xh("detailObj"),I(function(e){return null==e?void 0:e.milestone})),"backlog"===this.section&&(this.scrumVisible="true"===localStorage.getItem("projectnav-scrum"))}},{key:"getActiveSection",value:function(){var e=this.getSection(),t=e.breadcrumb,n=e.sectionName,e=t.lastIndexOf("backlog"),t=t.lastIndexOf("kanban"),e=-1===e&&-1===t?"":-1===t||t<e?"backlog":"kanban";if("backlog-kanban"===n){if(["backlog","kanban"].includes(e))return e;if(this.project.isBacklogActivated&&!this.project.isKanbanActivated)return"backlog";if(!this.project.isBacklogActivated&&this.project.isKanbanActivated)return"kanban"}return n}},{key:"popup",value:function(e,t){this.collapsed&&(this.initDialog(e.target,t),this.dialog.type=t)}},{key:"popupScrum",value:function(e){var t,n=this;this.collapsed&&((t=this.milestones.map(function(e){return{text:e.name,link:[n.baseHref,"project",n.project.slug,"taskboard",e.slug]}})).unshift({text:this.translateService.instant("PROJECT.SECTION.BACKLOG"),link:[this.baseHref,"project",this.project.slug,"backlog"]}),this.initDialog(e.target,"scrum",t))}},{key:"initDialog",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];this.dialogCloseTimeout&&clearTimeout(this.dialogCloseTimeout);var r,i=null===(r=e.querySelector(".menu-option-text"))||void 0===r?void 0:r.innerHTML;i&&(r=null===(r=e.querySelector("a"))||void 0===r?void 0:r.getAttribute("href"),this.dialog.slug=r||"",this.dialog.hover=!1,this.dialog.mainLinkHeight=e.offsetHeight,this.dialog.left=48,this.dialog.top=e.offsetTop,this.dialog.open=!0,this.dialog.text=i,this.dialog.children=n,this.dialog.type=t)}},{key:"out",value:function(){var e=this;this.dialogCloseTimeout=setTimeout(function(){e.dialog.hover||(e.dialog.open=!1,e.dialog.type="",e.cd.markForCheck())},100)}},{key:"enterDialog",value:function(){this.dialog.open=!0,this.dialog.hover=!0}},{key:"outDialog",value:function(){this.dialog.hover=!1,this.out()}},{key:"ngOnChanges",value:function(e){e.project&&(this.videoUrl=this.videoConferenceUrl())}},{key:"toggleScrum",value:function(){this.collapsed?this.router.navigate(["/project",this.project.slug,"backlog"]):(this.scrumVisible=!this.scrumVisible,localStorage.setItem("projectnav-scrum",String(this.scrumVisible)))}},{key:"toggleCollapse",value:function(){this.collapsed=!this.collapsed,localStorage.setItem("projectnav-collapsed",String(this.collapsed)),this.collapsed&&(this.scrumVisible=!1)}},{key:"videoConferenceUrl",value:function(){var e="";if(!this.project.videoconferences)return null;if("whereby-com"===this.project.videoconferences)e="https://whereby.com/";else if("talky"===this.project.videoconferences)e="https://talky.io/";else if("jitsi"===this.project.videoconferences)e="https://meet.jit.si/";else if("custom"===this.project.videoconferences&&this.project.videoconferencesExtraData)return this.project.videoconferencesExtraData;var t="",t=this.project.videoconferencesExtraData?"".concat(this.project.slug,"-").concat(Zg.slugify(this.project.videoconferencesExtraData)):this.project.slug;return"jitsi"===this.project.videoconferences&&(t=t.replace(/-/g,"")),e+t}},{key:"getSection",value:function(){var e=this.legacyService.getInjector().get("tgProjectService");return{breadcrumb:e.sectionsBreadcrumb.toJS(),sectionName:e.section}}},{key:"openCollapseAnimation",get:function(){return this.collapsed?"collapsed":"open"}},{key:"baseHref",get:function(){var e;return null!==(e=this.config._config.baseHref)&&void 0!==e?e:"/"}},{key:"milestones",get:function(){return this.project.milestones.filter(function(e){return!e.closed}).reverse().slice(0,7)}},{key:"isMenuEpicsEnabled",get:function(){return this.project.isEpicsActivated&&this.project.myPermissions.includes(Dx.viewEpics)}},{key:"isMenuScrumEnabled",get:function(){return this.project.isBacklogActivated&&this.project.myPermissions.includes(Dx.viewUserstory)}},{key:"isMenuKanbanEnabled",get:function(){return this.project.isKanbanActivated&&this.project.myPermissions.includes(Dx.viewUserstory)}},{key:"isMenuIssuesEnabled",get:function(){return this.project.isIssuesActivated&&this.project.myPermissions.includes(Dx.viewIssues)}},{key:"isMenuWikiEnabled",get:function(){return this.project.isWikiActivated&&this.project.myPermissions.includes(Dx.viewWikiPages)}}]),(pS=vS).ɵfac=function(e){return new(e||pS)(Fo(D_),Fo(no),Fo(Mx),Fo(ok),Fo(tg))},pS.ɵcmp=pt({type:pS,selectors:[["tg-project-navigation"]],hostVars:3,hostBindings:function(e,t){1&e&&Zo("@openCollapse.done",function(){return t.animationDone()}),2&e&&(pa("@openCollapse",t.openCollapseAnimation),oa("collapsed",t.collapsed))},inputs:{project:"project"},outputs:{search:"search"},features:[Nt],decls:42,vars:50,consts:[[1,"nav-wrapper"],[1,"nav-inner"],[3,"mouseenter","mouseleave"],[1,"project-link",3,"routerLink"],["width","24","logo","small",3,"tgProjectLogo","alt"],["data-animation","text",1,"menu-option-text","project-name"],[1,"main-menu"],["class","menu-option",3,"active","active-dialog","mouseenter","mouseleave",4,"ngIf"],["class","menu-option scrum","routerLinkActive","active",3,"active","active-dialog","mouseenter","mouseleave",4,"ngIf"],[1,"menu-secondary","main-menu"],[1,"menu-option",3,"mouseenter","mouseleave"],["type","button",3,"title","click"],["href","#search"],["data-animation","text",1,"menu-option-text"],["class","menu-option",3,"active-dialog","mouseenter","mouseleave",4,"ngIf"],[3,"routerLink","title"],["href","#users"],["type","button",1,"collapse",3,"click"],["data-animation","text",4,"ngIf"],["href","#chevrons-left"],[1,"dialog",3,"mouseenter","mouseleave"],[1,"dialog-main","menu-option"],["class","main-link",3,"href","height",4,"ngIf"],["class","main-link",3,"height",4,"ngIf"],["class","main-link","type","button",3,"title","click",4,"ngIf"],["class","child-menu",4,"ngIf"],["href","#epic"],["routerLinkActive","active",1,"menu-option","scrum",3,"mouseenter","mouseleave"],["href","#agile"],["data-animation","text",1,"agile-chevron"],["href","#chevron-left"],["class","child-menu",4,"ngrxLet"],[1,"child-menu"],[1,"menu-option"],["routerLinkActive","active",3,"routerLink","title"],["class","menu-option",4,"ngFor","ngForOf"],["routerLinkActive","active",3,"routerLink"],["href","#kanban5"],["href","#issue"],["target","_blank",3,"href","title"],["href","#video"],["href","#book"],["href","#settings"],["data-animation","text"],[1,"main-link",3,"href"],[1,"dialog-text"],[1,"main-link"],["type","button",1,"main-link",3,"title","click"],[1,"menu-option-text"]],template:function(e,t){1&e&&(Ho(0,"div",0),Ho(1,"div",1),Ho(2,"h1",2),Go("mouseenter",function(e){return t.popup(e,"project")})("mouseleave",function(){return t.out()}),Ho(3,"a",3),qo(4,"img",4),Ho(5,"span",5),ha(6),Uo(),Uo(),Uo(),Ho(7,"ul",6),jo(8,qx,8,14,"li",7),jo(9,Zx,11,11,"li",8),jo(10,Qx,8,14,"li",7),jo(11,Xx,8,14,"li",7),Uo(),Ho(12,"ul",9),Ho(13,"li",10),Go("mouseenter",function(e){return t.popup(e,"search")})("mouseleave",function(){return t.out()}),Ho(14,"button",11),Go("click",function(){return t.search.emit()}),Ms(15,"translate"),Tn(),Ho(16,"svg"),qo(17,"use",12),Uo(),An(),Ho(18,"span",13),ha(19),Ms(20,"translate"),Uo(),Uo(),Uo(),jo(21,eS,8,9,"li",14),jo(22,nS,8,14,"li",7),Ho(23,"li",10),Go("mouseenter",function(e){return t.popup(e,"team")})("mouseleave",function(){return t.out()}),Ho(24,"a",15),Ms(25,"translate"),Tn(),Ho(26,"svg"),qo(27,"use",16),Uo(),An(),Ho(28,"span",13),ha(29),Ms(30,"translate"),Uo(),Uo(),Uo(),jo(31,iS,8,14,"li",7),Uo(),Ho(32,"button",17),Go("click",function(){return t.toggleCollapse()}),jo(33,oS,3,3,"span",18),Tn(),Ho(34,"svg"),qo(35,"use",19),Uo(),Uo(),Uo(),Uo(),An(),Ho(36,"div",20),Go("mouseenter",function(){return t.enterDialog()})("mouseleave",function(){return t.outDialog()}),Ho(37,"div",21),jo(38,aS,3,4,"a",22),jo(39,sS,3,3,"div",23),jo(40,lS,4,6,"button",24),Uo(),jo(41,uS,2,1,"ul",25),Uo()),2&e&&(Br(3),zo("routerLink",Is(44,hS,t.baseHref,t.project.slug)),Lo("title",t.project.name),Br(1),zo("tgProjectLogo",t.project)("alt",t.project.name),Br(2),da(" ",t.project.name," "),Br(2),zo("ngIf",t.isMenuEpicsEnabled),Br(1),zo("ngIf",t.isMenuScrumEnabled),Br(1),zo("ngIf",t.isMenuKanbanEnabled),Br(1),zo("ngIf",t.isMenuIssuesEnabled),Br(2),oa("active-dialog","search"===t.dialog.type),Br(1),ea("title",Ns(15,36,"PROJECT.SECTION.SEARCH")),Br(5),da(" ",Ns(20,38,"PROJECT.SECTION.SEARCH")," "),Br(2),zo("ngIf",t.videoUrl),Br(1),zo("ngIf",t.isMenuWikiEnabled),Br(1),oa("active","team"===t.section)("active-dialog","team"===t.dialog.type),Br(1),ea("title",Ns(25,40,"PROJECT.SECTION.TEAM")),zo("routerLink",Is(47,dS,t.baseHref,t.project.slug)),Br(5),da(" ",Ns(30,42,"PROJECT.SECTION.TEAM")," "),Br(2),zo("ngIf",t.project.iAmAdmin),Br(1),oa("collapsed",t.collapseText),Br(1),zo("ngIf",!t.collapseText),Br(3),ia("top",t.dialog.top,"px")("left",t.dialog.left,"px"),oa("open",t.dialog.open),Br(2),zo("ngIf",t.dialog.slug&&"scrum"!==t.dialog.type),Br(1),zo("ngIf","scrum"===t.dialog.type),Br(1),zo("ngIf","search"===t.dialog.type),Br(1),zo("ngIf",t.dialog.children.length))},directives:[sk,bt,Ie,dc,al,Me],pipes:[cc],styles:["[_nghost-%COMP%]{--menu-margin:12px;--menu-margin-text:12px;background-color:var(--color-black800);display:flex;flex-direction:column;height:100%;left:0;position:relative;top:0}.nav-wrapper[_ngcontent-%COMP%]{height:100%;overflow-x:hidden;overflow-y:auto}.nav-inner[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;height:100%;width:200px}.collapsed[_nghost-%COMP%]{width:48px}.collapsed[_nghost-%COMP%]   .scrum[_ngcontent-%COMP%]   .child-menu[_ngcontent-%COMP%]{display:none}h1[_ngcontent-%COMP%]{background-color:var(--color-black900);margin:0;padding:var(--spacing-2);padding-left:var(--menu-margin)}h1[_ngcontent-%COMP%]   .project-link[_ngcontent-%COMP%]{align-items:center;color:var(--color-solid-primary);display:flex;font-size:var(--font-size-medium);text-decoration:none}h1[_ngcontent-%COMP%]   .project-link[_ngcontent-%COMP%]   .project-name[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}h1[_ngcontent-%COMP%]   .project-link[_ngcontent-%COMP%]:hover{color:var(--color-solid-primary)}h1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:2px;height:24px;margin-right:var(--menu-margin-text);width:24px}.main-menu[_ngcontent-%COMP%]{margin:0;padding:0 0 var(--spacing-1) 0}.main-menu[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--color-gray400);height:24px;width:24px}.menu-option[_ngcontent-%COMP%]{list-style:none;margin-bottom:var(--spacing-1)}.menu-option.active-dialog[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .menu-option.active-dialog[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .menu-option.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .menu-option.active[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .menu-option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .menu-option[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:var(--color-black900);color:var(--color-white);font-weight:var(--font-weight-bold)}.menu-option.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .menu-option.active[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{color:var(--color-gray400)}.menu-option[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%], .menu-option[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%]{fill:var(--color-white)}.menu-option[_ngcontent-%COMP%]:last-child{margin-bottom:0}.menu-option[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .menu-option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-items:center;color:var(--color-gray400);display:flex;font-size:var(--font-size-medium);height:40px;padding:0;text-decoration:none;transition:background-color .2s linear}.menu-option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding-right:var(--spacing-1);width:100%}.menu-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-left:var(--menu-margin);margin-right:var(--menu-margin-text)}.menu-option[_ngcontent-%COMP%]   .agile-chevron[_ngcontent-%COMP%]{fill:var(--color-solid-primary);margin:0 0 0 auto;transition:all .2s linear;width:16px}.child-menu[_ngcontent-%COMP%]{background-color:var(--color-black900);display:none;list-style:none;padding:0 0 var(--spacing-1) 0}.child-menu[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]{margin-bottom:0}.child-menu[_ngcontent-%COMP%]   .menu-option-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.child-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-width:0;padding-left:var(--spacing-5)}.child-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .child-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .child-menu[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .child-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--color-solid-primary);font-weight:var(--font-weight-bold)}.scrum.active[_ngcontent-%COMP%]   .agile-chevron[_ngcontent-%COMP%]{transform:rotate(90deg);transition:transform .2s linear}.scrum.active[_ngcontent-%COMP%]   .child-menu[_ngcontent-%COMP%]{display:block}.menu-secondary[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-black900);border-top:1px solid var(--color-black900);margin-top:auto}.collapse[_ngcontent-%COMP%]{align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:0;color:var(--color-gray400);cursor:pointer;display:flex;font-size:var(--font-size-medium);justify-content:flex-end;padding:var(--spacing-1);width:100%}.collapse[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{background:var(--color-black900);border-radius:50%;fill:var(--color-link-primary);height:24px;margin-left:var(--spacing-1);padding:4px;width:24px}.collapse.collapsed[_ngcontent-%COMP%]{justify-content:center;transform:rotate(180deg);width:48px}.collapse.collapsed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0}.collapse[_ngcontent-%COMP%]:hover{color:var(--color-white);font-weight:var(--font-weight-bold)}.collapse[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:var(--color-white)}.dialog[_ngcontent-%COMP%]{background-color:var(--color-black900);display:none;position:absolute;width:170px}.dialog[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]{margin-bottom:0}.dialog[_ngcontent-%COMP%]   .child-menu[_ngcontent-%COMP%]{box-shadow:0 4px 24px rgba(0,0,0,.29);display:block;margin:0;padding:0}.dialog[_ngcontent-%COMP%]   .child-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:var(--spacing-4)}.dialog.open[_ngcontent-%COMP%]{display:block}.dialog[_ngcontent-%COMP%]   .main-link[_ngcontent-%COMP%]{align-items:center;background-color:var(--color-black900);color:var(--color-white);display:flex;padding:0 var(--spacing-2)}.dialog[_ngcontent-%COMP%]   .main-link[_ngcontent-%COMP%]   .dialog-text[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;font-size:var(--font-size-medium);font-weight:var(--font-weight-bold);overflow:hidden;text-decoration:none;text-overflow:ellipsis}.dialog[_ngcontent-%COMP%]   a.main-link[_ngcontent-%COMP%]:hover, .dialog[_ngcontent-%COMP%]   button.main-link[_ngcontent-%COMP%]:hover{color:var(--color-solid-primary)}"],data:{animation:[{type:7,name:"openCollapse",definitions:[q_("open => collapsed",[W_('[data-animation="text"]',U_({opacity:1})),W_(":self",U_({width:"200px"})),W_('[data-animation="text"]',B_(100,U_({opacity:0}))),W_(":self",B_(300,U_({width:"48px"})))]),q_("collapsed => open",[W_(":self",U_({width:"48px"})),W_(":self",B_(300,U_({width:"200px"})))])],options:{}}]},changeDetection:0}),pS),cc=(WS(gS,[{key:"transform",value:function(e){return Zg.objKeysTransformer(e,Kg)}}]),(fS=gS).ɵfac=function(e){return new(e||fS)},fS.ɵpipe=_t({name:"camelCaseTransformer",type:fS,pure:!0}),fS);function gS(){qS(this,gS)}function vS(e,t,n,r,i){qS(this,vS),this.translateService=e,this.cd=t,this.legacyService=n,this.router=r,this.config=i,this.search=new Ls,this.scrumVisible=!1,this.collapseText=!0,this.dialog={open:!1,hover:!1,mainLinkHeight:0,isSearch:!1,type:"",slug:"",top:0,left:0,text:"",height:0,children:[]},this.collapsed=!1}function mS(e,t){var n;1&e&&(n=tn(),Ho(0,"tg-project-navigation",4),Go("search",function(){return rn(n),Xo(2).events.search()}),Ms(1,"camelCaseTransformer"),Uo()),2&e&&zo("project",Ns(1,1,Xo(2).params.project))}function yS(e,t){1&e&&(Wo(0),jo(1,mS,2,3,"tg-project-navigation",3),$o()),2&e&&(e=Xo(),Br(1),zo("ngIf",null==e.params?null:e.params.project))}function kS(e,t){1&e&&(Ho(0,"p"),ha(1,"Invalid component"),Uo())}var bS,_S,wS,CS,Sa=(WS(OS,[{key:"ngOnInit",value:function(){var t,e=this;this.translate.onLangChange.pipe((t=this.destroy$,function(e){return e.lift(new Nx(t))})).subscribe(function(){requestAnimationFrame(function(){e.cd.detectChanges()})})}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),(bS=OS).ɵfac=function(e){return new(e||bS)(Fo(D_),Fo(no))},bS.ɵcmp=pt({type:bS,selectors:[["tg-legacy-loader"]],inputs:{component:"component",params:"params",events:"events"},decls:4,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"project","search",4,"ngIf"],[3,"project","search"]],template:function(e,t){1&e&&(Wo(0,0),jo(1,yS,2,1,"ng-container",1),jo(2,kS,2,0,"p",2),$o(),qo(3,"tg-svg-sprite")),2&e&&(zo("ngSwitch",t.component),Br(1),zo("ngSwitchCase","tg-project-navigation"))},directives:[ru,Oe,iu,Sa,Ie,Me],pipes:[cc],styles:["\n/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}:host,:root{--color-solid-primary:#83eede;--color-link-primary:#008aa8;--color-link-tertiary:#70728f;--color-gray100:#f9f9fb;--color-gray200:#eceff4;--color-gray300:#e5e9f0;--color-gray400:#d8dee9;--color-black600:#4c566a;--color-black700:#434c5e;--color-black800:#3b4252;--color-black900:#2e3440;--color-black:#000;--color-white:#fff;--color-solid-red:rgba(228,64,87,0.5);--color-link-red:#e44057;--color-solid-orange:rgba(234,123,75,0.55);--color-link-orange:#ea7b4b;--color-solid-yellow:rgba(246,201,92,0.55);--color-link-yellow:#f6c95c;--color-solid-green:rgba(147,196,93,0.55);--color-link-green:#93c45d;--color-solid-purple:rgba(202,129,190,0.55);--color-link-purple:#ca81be;--font-size-heading-1:2.136rem;--font-size-heading-2:1.709rem;--font-size-heading-3:1.367rem;--font-size-heading-4:1.094rem;--font-size-medium:.875rem;--font-size-small:.7rem;--font-weight-light:200;--font-weight-medium:400;--font-weight-bold:700;--spacing-1:.5rem;--spacing-2:calc(var(--spacing-1) * 2);--spacing-3:calc(var(--spacing-1) * 3);--spacing-4:calc(var(--spacing-1) * 4);--spacing-5:calc(var(--spacing-1) * 5);--spacing-6:calc(var(--spacing-1) * 6);--spacing-7:calc(var(--spacing-1) * 7);--spacing-8:calc(var(--spacing-1) * 8);--spacing-9:calc(var(--spacing-1) * 9);--spacing-10:calc(var(--spacing-1) * 10);--none:0;--common:1;--slider:5;--modal:10;--overlay:90}@font-face{font-family:Ubuntu;font-style:normal;font-weight:200;src:url(Ubuntu-L.ttf)}@font-face{font-family:Ubuntu;font-style:italic;font-weight:200;src:url(Ubuntu-LI.ttf)}@font-face{font-family:Ubuntu;font-style:normal;font-weight:400;src:url(Ubuntu-R.ttf)}@font-face{font-family:Ubuntu;font-style:italic;font-weight:400;src:url(Ubuntu-RI.ttf)}@font-face{font-family:Ubuntu;font-style:normal;font-weight:700;src:url(Ubuntu-M.ttf)}@font-face{font-family:Ubuntu;font-style:italic;font-weight:700;src:url(Ubuntu-MI.ttf)}*,:after,:before{box-sizing:border-box}body{font-family:Ubuntu,sans-serif;font-size:var(--font-size-medium);font-weight:400;letter-spacing:normal;line-height:1.5}h1,h2,h3,h4,li,p{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;word-break:break-word}"],encapsulation:3}),bS),xS=(WS(IS,[{key:"connect",value:function(e){var t=this;this.runInZone(function(){t.strategy.connect(e)}),this.events||(this.events=this.strategy.events)}},{key:"disconnect",value:function(){var e=this;this.runInZone(function(){e.strategy.disconnect()})}},{key:"getInputValue",value:function(e){var t=this;return this.runInZone(function(){return t.strategy.getInputValue(e)})}},{key:"setInputValue",value:function(e,t){var n=this;this.runInZone(function(){n.strategy.setInputValue(e,t)})}},{key:"runInZone",value:function(e){return this.ngZone.run(e)}}]),IS),SS=(WS(RS,[{key:"string4",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generateName",value:function(){var e="dummy-name-n"+RS.counter+"-"+this.string4()+this.string4()+this.string4()+"-"+this.string4()+this.string4()+"-"+this.string4();return RS.counter++,e}},{key:"create",value:function(e){var t=new this.ngElement(this.injector).ngElementStrategy;return new xS(t,this.injector)}}]),RS.counter=1,RS),Ie=(WS(PS,[{key:"setInitialPath",value:function(e){this._history[this._historyIndex].path=e}},{key:"setBaseHref",value:function(e){this._baseHref=e}},{key:"path",value:function(){return this._history[this._historyIndex].path}},{key:"getState",value:function(){return this._history[this._historyIndex].state}},{key:"isCurrentPathEqualTo",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=e.endsWith("/")?e.substring(0,e.length-1):e;return(this.path().endsWith("/")?this.path().substring(0,this.path().length-1):this.path())==e+(0<t.length?"?"+t:"")}},{key:"simulateUrlPop",value:function(e){this._subject.emit({url:e,pop:!0,type:"popstate"})}},{key:"simulateHashChange",value:function(e){this.setInitialPath(e),this.urlChanges.push("hash: "+e),this._subject.emit({url:e,pop:!0,type:"hashchange"})}},{key:"prepareExternalUrl",value:function(e){return 0<e.length&&!e.startsWith("/")&&(e="/"+e),this._baseHref+e}},{key:"go",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;e=this.prepareExternalUrl(e),0<this._historyIndex&&this._history.splice(this._historyIndex+1),this._history.push(new ES(e,t,n)),this._historyIndex=this._history.length-1;n=this._history[this._historyIndex-1];n.path==e&&n.query==t||(t=e+(0<t.length?"?"+t:""),this.urlChanges.push(t),this._subject.emit({url:t,pop:!1}))}},{key:"replaceState",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;e=this.prepareExternalUrl(e);var r=this._history[this._historyIndex];r.path==e&&r.query==t||(r.path=e,r.query=t,r.state=n,this.urlChanges.push("replace: "+e+(0<t.length?"?"+t:"")))}},{key:"forward",value:function(){this._historyIndex<this._history.length-1&&(this._historyIndex++,this._subject.emit({url:this.path(),state:this.getState(),pop:!0}))}},{key:"back",value:function(){0<this._historyIndex&&(this._historyIndex--,this._subject.emit({url:this.path(),state:this.getState(),pop:!0}))}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length?arguments[1]:void 0;this._urlChangeListeners.forEach(function(e){return e(t,n)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}},{key:"normalize",value:function(e){return null}}]),(_S=PS).ɵfac=function(e){return new(e||_S)},_S.ɵprov=fe({token:_S,factory:_S.ɵfac}),_S),ES=function e(t,n,r){qS(this,e),this.path=t,this.query=n,this.state=r},Me=((wS=function(){$S(n,Pc);var t=KS(n);function n(){var e;return qS(this,n),(e=t.call(this)).internalBaseHref="/",e.internalPath="/",e.internalTitle="",e.urlChanges=[],e._subject=new Ls,e.stateChanges=[],e}return WS(n,[{key:"simulatePopState",value:function(e){this.internalPath=e,this._subject.emit(new TS(this.path()))}},{key:"path",value:function(){return this.internalPath}},{key:"prepareExternalUrl",value:function(e){return e.startsWith("/")&&this.internalBaseHref.endsWith("/")?this.internalBaseHref+e.substring(1):this.internalBaseHref+e}},{key:"pushState",value:function(e,t,n,r){this.stateChanges.push(e),this.internalTitle=t;r=n+(0<r.length?"?"+r:"");this.internalPath=r;r=this.prepareExternalUrl(r);this.urlChanges.push(r)}},{key:"replaceState",value:function(e,t,n,r){this.stateChanges[(this.stateChanges.length||1)-1]=e,this.internalTitle=t;r=n+(0<r.length?"?"+r:"");this.internalPath=r;r=this.prepareExternalUrl(r);this.urlChanges.push("replace: "+r)}},{key:"onPopState",value:function(e){this._subject.subscribe({next:e})}},{key:"getBaseHref",value:function(){return this.internalBaseHref}},{key:"back",value:function(){0<this.urlChanges.length&&(this.urlChanges.pop(),this.stateChanges.pop(),this.simulatePopState(0<this.urlChanges.length?this.urlChanges[this.urlChanges.length-1]:""))}},{key:"forward",value:function(){throw"not implemented"}},{key:"getState",value:function(){return this.stateChanges[(this.stateChanges.length||1)-1]}}]),n}()).ɵfac=function(e){return new(e||wS)},wS.ɵprov=fe({token:wS,factory:wS.ɵfac}),wS),TS=function e(t){qS(this,e),this.newUrl=t,this.pop=!0,this.type="popstate"},cc=(WS(AS,[{key:"load",value:function(e){return this._stubbedModules[e]||Promise.reject(new Error("Cannot find module "+e))}},{key:"stubbedModules",set:function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=this.compiler.compileModuleAsync(e[i])}this._stubbedModules=t},get:function(){return this._stubbedModules}}]),(CS=AS).ɵfac=function(e){return new(e||CS)(Qe(Cl))},CS.ɵprov=fe({token:CS,factory:CS.ɵfac}),CS);function AS(e){qS(this,AS),this.compiler=e,this._stubbedModules={}}function PS(){qS(this,PS),this.urlChanges=[],this._history=[new ES("","",null)],this._historyIndex=0,this._subject=new Ls,this._baseHref="",this._platformStrategy=null,this._platformLocation=null,this._urlChangeListeners=[]}function RS(e,t){qS(this,RS),this.component=e,this.injector=t,this.ngElement=Ng(this.component,{injector:this.injector}),customElements.define(this.generateName(),this.ngElement)}function IS(e,t){qS(this,IS),this.strategy=e,this.injector=t,this.ngZone=this.injector.get(Al),this.strategy.events&&(this.events=this.strategy.events)}function OS(e,t){qS(this,OS),this.translate=e,this.cd=t,this.destroy$=new T}var MS,Ku=(WS(NS,null,[{key:"withRoutes",value:function(e,t){return{ngModule:NS,providers:[Fk(e),{provide:wk,useValue:t||{}}]}}}]),(MS=NS).ɵmod=yt({type:MS}),MS.ɵinj=pe({factory:function(e){return new(e||MS)},providers:[xk,{provide:Dc,useClass:Ie},{provide:Pc,useClass:Me},{provide:oc,useClass:cc},{provide:ok,useFactory:function(e,t,n,r,i,o,a,s,l){return a=new ok(null,e,t,n,o,r,i,tm(a)),s&&("shouldProcessUrl"in s?a.urlHandlingStrategy=s:(s.malformedUriErrorHandler&&(a.malformedUriErrorHandler=s.malformedUriErrorHandler),s.paramsInheritanceStrategy&&(a.paramsInheritanceStrategy=s.paramsInheritanceStrategy))),l&&(a.urlHandlingStrategy=l),a},deps:[pm,Gy,Dc,oc,Cl,wo,$y,wk,[Ku,new le]]},{provide:dk,useExisting:kk},Fk([])],imports:[Jp]}),MS);function NS(){qS(this,NS)}cx.prototype.containsElement=function(e,t){for(var n=t;n&&n!==document.documentElement;){if(n===e)return!0;n=n.parentNode||n.host}return!1};var LS,DS,Jp=((LS=function e(){qS(this,e)}).ɵfac=function(e){return new(e||LS)},LS.ɵcmp=pt({type:LS,selectors:[["tg-empty"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),LS),jS=[["tg-text-editor",Re],["tg-legacy",j_],["tg-legacy-loader",Sa]],Jp=(WS(FS,[{key:"ngDoBootstrap",value:function(){var t=HS(jS);try{for(t.s();!(n=t.n()).done;){var e=n.value,n=new SS(e[1],this.injector),n=Ng(e[1],{injector:this.injector,strategyFactory:n});customElements.define(e[0],n)}}catch(e){t.e(e)}finally{t.f()}}}]),(DS=FS).ɵmod=yt({type:DS}),DS.ɵinj=pe({factory:function(e){return new(e||DS)(Qe(wo))},providers:[{provide:Mc,useFactory:function(){return window.taigaConfig.baseHref||"/"}},{provide:rl,multi:!0,deps:[tg,D_],useFactory:function(e,t){return function(){return e.fetch().then(function(e){return t.setDefaultLang(e.defaultLanguage),t.use(e.defaultLanguage),e})}}}],imports:[[t,pc,Gu,fc.forRoot({},{runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0,strictStateSerializability:!0,strictActionSerializability:!0,strictActionTypeUniqueness:!0}}),[],ap.forRoot([]),ks,ws,Vu,ns.forRoot(),Ku.withRoutes([{path:"**",component:Jp}])]]}),DS);function FS(e){qS(this,FS),this.injector=e}gc.production&&function(){if(kr)throw new Error("Cannot enable prod mode after platform setup.");yr=!1}(),rs().bootstrapModule(Jp).catch(function(e){return console.error(e)})},M55E:function(e,t,k){var b;(function(){function r(e){"use strict";var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n].defaultValue);return r}var y={},n={},h={},d=r(!0),f="vanilla",p={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:r(!0),allOn:function(){"use strict";var e,t=r(!0),n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=!0);return n}()};function g(e,t){"use strict";var n=t?"Error in "+t+" extension->":"Error in unnamed extension",r={valid:!0,error:""};y.helper.isArray(e)||(e=[e]);for(var i=0;i<e.length;++i){var o=n+" sub-extension "+i+": ",a=e[i];if("object"!=typeof a)return r.valid=!1,r.error=o+"must be an object, but "+typeof a+" given",r;if(!y.helper.isString(a.type))return r.valid=!1,r.error=o+'property "type" must be a string, but '+typeof a.type+" given",r;var s=a.type=a.type.toLowerCase();if("language"===s&&(s=a.type="lang"),"html"===s&&(s=a.type="output"),"lang"!==s&&"output"!==s&&"listener"!==s)return r.valid=!1,r.error=o+"type "+s+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',r;if("listener"===s){if(y.helper.isUndefined(a.listeners))return r.valid=!1,r.error=o+'. Extensions of type "listener" must have a property called "listeners"',r}else if(y.helper.isUndefined(a.filter)&&y.helper.isUndefined(a.regex))return r.valid=!1,r.error=o+s+' extensions must define either a "regex" property or a "filter" method',r;if(a.listeners){if("object"!=typeof a.listeners)return r.valid=!1,r.error=o+'"listeners" property must be an object but '+typeof a.listeners+" given",r;for(var l in a.listeners)if(a.listeners.hasOwnProperty(l)&&"function"!=typeof a.listeners[l])return r.valid=!1,r.error=o+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+l+" must be a function but "+typeof a.listeners[l]+" given",r}if(a.filter){if("function"!=typeof a.filter)return r.valid=!1,r.error=o+'"filter" must be a function, but '+typeof a.filter+" given",r}else if(a.regex){if(y.helper.isString(a.regex)&&(a.regex=new RegExp(a.regex,"g")),!(a.regex instanceof RegExp))return r.valid=!1,r.error=o+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given",r;if(y.helper.isUndefined(a.replace))return r.valid=!1,r.error=o+'"regex" extensions must implement a replace string or function',r}}return r}function i(e,t){"use strict";return"¨E"+t.charCodeAt(0)+"E"}y.helper={},y.extensions={},y.setOption=function(e,t){"use strict";return d[e]=t,this},y.getOption=function(e){"use strict";return d[e]},y.getOptions=function(){"use strict";return d},y.resetOptions=function(){"use strict";d=r(!0)},y.setFlavor=function(e){"use strict";if(!p.hasOwnProperty(e))throw Error(e+" flavor was not found");y.resetOptions();var t,n=p[e];for(t in f=e,n)n.hasOwnProperty(t)&&(d[t]=n[t])},y.getFlavor=function(){"use strict";return f},y.getFlavorOptions=function(e){"use strict";if(p.hasOwnProperty(e))return p[e]},y.getDefaultOptions=r,y.subParser=function(e,t){"use strict";if(y.helper.isString(e)){if(void 0===t){if(n.hasOwnProperty(e))return n[e];throw Error("SubParser named "+e+" not registered!")}n[e]=t}},y.extension=function(e,t){"use strict";if(!y.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=y.helper.stdExtName(e),y.helper.isUndefined(t)){if(!h.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return h[e]}"function"==typeof t&&(t=t()),y.helper.isArray(t)||(t=[t]);var n=g(t,e);if(!n.valid)throw Error(n.error);h[e]=t},y.getAllExtensions=function(){"use strict";return h},y.removeExtension=function(e){"use strict";delete h[e]},y.resetExtensions=function(){"use strict";h={}},y.validateExtension=function(e){"use strict";e=g(e,null);return!!e.valid||(console.warn(e.error),!1)},y.hasOwnProperty("helper")||(y.helper={}),y.helper.isString=function(e){"use strict";return"string"==typeof e||e instanceof String},y.helper.isFunction=function(e){"use strict";return e&&"[object Function]"==={}.toString.call(e)},y.helper.isArray=function(e){"use strict";return Array.isArray(e)},y.helper.isUndefined=function(e){"use strict";return void 0===e},y.helper.forEach=function(e,t){"use strict";if(y.helper.isUndefined(e))throw new Error("obj param is required");if(y.helper.isUndefined(t))throw new Error("callback param is required");if(!y.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(y.helper.isArray(e))for(var n=0;n<e.length;n++)t(e[n],n,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var r in e)e.hasOwnProperty(r)&&t(e[r],r,e)}},y.helper.stdExtName=function(e){"use strict";return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},y.helper.escapeCharactersCallback=i,y.helper.escapeCharacters=function(e,t,n){"use strict";t="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(t="\\\\"+t);t=new RegExp(t,"g");return e.replace(t,i)},y.helper.unescapeHTMLEntities=function(e){"use strict";return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};function u(e,t,n,r){"use strict";var i,o,a,s,l=-1<(r=r||"").indexOf("g"),c=new RegExp(t+"|"+n,"g"+r.replace(/g/g,"")),u=new RegExp(t,r.replace(/g/g,"")),h=[];do{for(i=0;s=c.exec(e);)if(u.test(s[0]))i++||(a=(o=c.lastIndex)-s[0].length);else if(i&&!--i&&(h.push({left:{start:a,end:o},match:{start:o,end:s.index},right:{start:s.index,end:s=s.index+s[0].length},wholeMatch:{start:a,end:s}}),!l))return h}while(i&&(c.lastIndex=o));return h}y.helper.matchRecursiveRegExp=function(e,t,n,r){"use strict";for(var i=u(e,t,n,r),o=[],a=0;a<i.length;++a)o.push([e.slice(i[a].wholeMatch.start,i[a].wholeMatch.end),e.slice(i[a].match.start,i[a].match.end),e.slice(i[a].left.start,i[a].left.end),e.slice(i[a].right.start,i[a].right.end)]);return o},y.helper.replaceRecursiveRegExp=function(e,t,n,r,i){"use strict";var o;y.helper.isFunction(t)||(o=t,t=function(){return o});var a=u(e,n,r,i),i=e,s=a.length;if(0<s){var l=[];0!==a[0].wholeMatch.start&&l.push(e.slice(0,a[0].wholeMatch.start));for(var c=0;c<s;++c)l.push(t(e.slice(a[c].wholeMatch.start,a[c].wholeMatch.end),e.slice(a[c].match.start,a[c].match.end),e.slice(a[c].left.start,a[c].left.end),e.slice(a[c].right.start,a[c].right.end))),c<s-1&&l.push(e.slice(a[c].wholeMatch.end,a[c+1].wholeMatch.start));a[s-1].wholeMatch.end<e.length&&l.push(e.slice(a[s-1].wholeMatch.end)),i=l.join("")}return i},y.helper.regexIndexOf=function(e,t,n){"use strict";if(!y.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==0)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";t=e.substring(n||0).search(t);return 0<=t?t+(n||0):t},y.helper.splitAtIndex=function(e,t){"use strict";if(!y.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,t),e.substring(t)]},y.helper.encodeEmailAddress=function(e){"use strict";var n=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e.replace(/./g,function(e){var t;return e="@"===e?n[Math.floor(2*Math.random())](e):.9<(t=Math.random())?n[2](e):.45<t?n[1](e):n[0](e)})},y.helper.padEnd=function(e,t,n){"use strict";return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){"use strict";alert(e)},log:function(e){"use strict";alert(e)},error:function(e){"use strict";throw e}}),y.helper.regexes={asteriskDashAndColon:/([*_:~])/g},y.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},y.Converter=function(n){"use strict";var i={},o=[],a=[],s={},r=f,l={parsed:{},raw:"",format:""};function c(e,t){if(t=t||null,y.helper.isString(e)){if(t=e=y.helper.stdExtName(e),y.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,t){"function"==typeof e&&(e=e(new y.Converter)),y.helper.isArray(e)||(e=[e]);t=g(e,t);if(!t.valid)throw Error(t.error);for(var n=0;n<e.length;++n)switch(e[n].type){case"lang":o.push(e[n]);break;case"output":a.push(e[n]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(y.extensions[e],e);if(y.helper.isUndefined(h[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=h[e]}"function"==typeof e&&(e=e()),y.helper.isArray(e)||(e=[e]);t=g(e,t);if(!t.valid)throw Error(t.error);for(var n=0;n<e.length;++n){switch(e[n].type){case"lang":o.push(e[n]);break;case"output":a.push(e[n])}if(e[n].hasOwnProperty("listeners"))for(var r in e[n].listeners)e[n].listeners.hasOwnProperty(r)&&u(r,e[n].listeners[r])}}function u(e,t){if(!y.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");s.hasOwnProperty(e)||(s[e]=[]),s[e].push(t)}!function(){for(var e in n=n||{},d)d.hasOwnProperty(e)&&(i[e]=d[e]);if("object"!=typeof n)throw Error("Converter expects the passed parameter to be an object, but "+typeof n+" was passed instead.");for(var t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);i.extensions&&y.helper.forEach(i.extensions,c)}(),this._dispatch=function(e,t,n,r){if(s.hasOwnProperty(e))for(var i=0;i<s[e].length;++i){var o=s[e][i](e,t,this,n,r);o&&void 0!==o&&(t=o)}return t},this.listen=function(e,t){return u(e,t),this},this.makeHtml=function(t){if(!t)return t;var e,n,r={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:o,outputModifiers:a,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return t=(t=(t=(t=(t=t.replace(/\xa8/g,"¨T")).replace(/\$/g,"¨D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),i.smartIndentationFix&&(n=(e=t).match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+n+"}","gm"),t=e.replace(n,"")),t="\n\n"+t+"\n\n",t=(t=y.subParser("detab")(t,i,r)).replace(/^[ \t]+$/gm,""),y.helper.forEach(o,function(e){t=y.subParser("runExtension")(e,t,i,r)}),t=y.subParser("metadata")(t,i,r),t=y.subParser("hashPreCodeTags")(t,i,r),t=y.subParser("githubCodeBlocks")(t,i,r),t=y.subParser("hashHTMLBlocks")(t,i,r),t=y.subParser("hashCodeTags")(t,i,r),t=y.subParser("stripLinkDefinitions")(t,i,r),t=y.subParser("blockGamut")(t,i,r),t=y.subParser("unhashHTMLSpans")(t,i,r),t=(t=(t=y.subParser("unescapeSpecialChars")(t,i,r)).replace(/\xa8D/g,"$$")).replace(/\xa8T/g,"¨"),t=y.subParser("completeHTMLDocument")(t,i,r),y.helper.forEach(a,function(e){t=y.subParser("runExtension")(e,t,i,r)}),l=r.metadata,t},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">¨NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}var l=t.createElement("div");l.innerHTML=e;var n={preList:function(){for(var e=l.querySelectorAll("pre"),t=[],n=0;n<e.length;++n)if(1===e[n].childElementCount&&"code"===e[n].firstChild.tagName.toLowerCase()){var r=e[n].firstChild.innerHTML.trim(),i=e[n].firstChild.getAttribute("data-language")||"";if(""===i)for(var o=e[n].firstChild.className.split(" "),a=0;a<o.length;++a){var s=o[a].match(/^language-(.+)$/);if(null!==s){i=s[1];break}}r=y.helper.unescapeHTMLEntities(r),t.push(r),e[n].outerHTML='<precode language="'+i+'" precodenum="'+n.toString()+'"></precode>'}else t.push(e[n].innerHTML),e[n].innerHTML="",e[n].setAttribute("prenum",n.toString());return t}()};!function e(t){for(var n=0;n<t.childNodes.length;++n){var r=t.childNodes[n];3===r.nodeType?/\S/.test(r.nodeValue)||/^[ ]+$/.test(r.nodeValue)?(r.nodeValue=r.nodeValue.split("\n").join(" "),r.nodeValue=r.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(r),--n):1===r.nodeType&&e(r)}}(l);for(var r=l.childNodes,i="",o=0;o<r.length;o++)i+=y.subParser("makeMarkdown.node")(r[o],n);return i},this.setOption=function(e,t){i[e]=t},this.getOption=function(e){return i[e]},this.getOptions=function(){return i},this.addExtension=function(e,t){c(e,t=t||null)},this.useExtension=function(e){c(e)},this.setFlavor=function(e){if(!p.hasOwnProperty(e))throw Error(e+" flavor was not found");var t,n=p[e];for(t in r=e,n)n.hasOwnProperty(t)&&(i[t]=n[t])},this.getFlavor=function(){return r},this.removeExtension=function(e){y.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var n=e[t],r=0;r<o.length;++r)o[r]===n&&o.splice(r,1);for(var i=0;i<a.length;++i)a[i]===n&&a.splice(i,1)}},this.getAllExtensions=function(){return{language:o,output:a}},this.getMetadata=function(e){return e?l.raw:l.parsed},this.getMetadataFormat=function(){return l.format},this._setMetadataPair=function(e,t){l.parsed[e]=t},this._setMetadataFormat=function(e){l.format=e},this._setMetadataRaw=function(e){l.raw=e}},y.subParser("anchors",function(e,s,l){"use strict";function t(e,t,n,r,i,o,a){if(y.helper.isUndefined(a)&&(a=""),n=n.toLowerCase(),-1<e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))r="";else if(!r){if(r="#"+(n=n||t.toLowerCase().replace(/ ?\n/g," ")),y.helper.isUndefined(l.gUrls[n]))return e;r=l.gUrls[n],y.helper.isUndefined(l.gTitles[n])||(a=l.gTitles[n])}return n='<a href="'+(r=r.replace(y.helper.regexes.asteriskDashAndColon,y.helper.escapeCharactersCallback))+'"',""!==a&&null!==a&&(n+=' title="'+(a=(a=a.replace(/"/g,"&quot;")).replace(y.helper.regexes.asteriskDashAndColon,y.helper.escapeCharactersCallback))+'"'),s.openLinksInNewWindow&&!/^#/.test(r)&&(n+=' rel="noopener noreferrer" target="¨E95Eblank"'),n+">"+t+"</a>"}return e=(e=(e=(e=(e=l.converter._dispatch("anchors.before",e,s,l)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,t)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,t)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,t)).replace(/\[([^\[\]]+)]()()()()()/g,t),s.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(e,t,n,r,i){if("\\"===n)return t+r;if(!y.helper.isString(s.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");n=s.ghMentionsLink.replace(/\{u}/g,i),i="";return s.openLinksInNewWindow&&(i=' rel="noopener noreferrer" target="¨E95Eblank"'),t+'<a href="'+n+'"'+i+">"+r+"</a>"})),l.converter._dispatch("anchors.after",e,s,l)});function o(u){"use strict";return function(e,t,n,r,i,o,a){var s=n=n.replace(y.helper.regexes.asteriskDashAndColon,y.helper.escapeCharactersCallback),l="",c="",t=t||"",a=a||"";return/^www\./i.test(n)&&(n=n.replace(/^www\./i,"http://www.")),u.excludeTrailingPunctuationFromURLs&&o&&(l=o),u.openLinksInNewWindow&&(c=' rel="noopener noreferrer" target="¨E95Eblank"'),t+'<a href="'+n+'"'+c+">"+s+"</a>"+l+a}}function a(i,o){"use strict";return function(e,t,n){var r="mailto:";return t=t||"",n=y.subParser("unescapeSpecialChars")(n,i,o),i.encodeEmails?(r=y.helper.encodeEmailAddress(r+n),n=y.helper.encodeEmailAddress(n)):r+=n,t+'<a href="'+r+'">'+n+"</a>"}}var s=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,l=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,c=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,v=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,m=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;y.subParser("autoLinks",function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(c,o(t))).replace(m,a(t,n)),n.converter._dispatch("autoLinks.after",e,t,n)}),y.subParser("simplifiedAutoLinks",function(e,t,n){"use strict";return t.simplifiedAutoLink?(e=(e=(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n)).replace(t.excludeTrailingPunctuationFromURLs?l:s,o(t))).replace(v,a(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e}),y.subParser("blockGamut",function(e,t,n){"use strict";return e=n.converter._dispatch("blockGamut.before",e,t,n),e=y.subParser("blockQuotes")(e,t,n),e=y.subParser("headers")(e,t,n),e=y.subParser("horizontalRule")(e,t,n),e=y.subParser("lists")(e,t,n),e=y.subParser("codeBlocks")(e,t,n),e=y.subParser("tables")(e,t,n),e=y.subParser("hashHTMLBlocks")(e,t,n),e=y.subParser("paragraphs")(e,t,n),n.converter._dispatch("blockGamut.after",e,t,n)}),y.subParser("blockQuotes",function(e,t,n){"use strict";e=n.converter._dispatch("blockQuotes.before",e,t,n);var r=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(r=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=(e+="\n\n").replace(r,function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/\xa80/g,"")).replace(/^[ \t]+$/gm,""),e=y.subParser("githubCodeBlocks")(e,t,n),e=(e=(e=y.subParser("blockGamut")(e,t,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){return t.replace(/^  /gm,"¨0").replace(/\xa80/g,"")}),y.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,n)}),n.converter._dispatch("blockQuotes.after",e,t,n)}),y.subParser("codeBlocks",function(e,i,o){"use strict";return e=o.converter._dispatch("codeBlocks.before",e,i,o),e=(e=(e+="¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=\xa80))/g,function(e,t,n){var r=t,t=n,n="\n",r=y.subParser("outdent")(r,i,o);return r=y.subParser("encodeCode")(r,i,o),r=(r=(r=y.subParser("detab")(r,i,o)).replace(/^\n+/g,"")).replace(/\n+$/g,""),i.omitExtraWLInCodeBlocks&&(n=""),r="<pre><code>"+r+n+"</code></pre>",y.subParser("hashBlock")(r,i,o)+t})).replace(/\xa80/,""),o.converter._dispatch("codeBlocks.after",e,i,o)}),y.subParser("codeSpans",function(e,i,o){"use strict";return void 0===(e=o.converter._dispatch("codeSpans.before",e,i,o))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r){r=(r=(r=r).replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,"");return r=t+"<code>"+(r=y.subParser("encodeCode")(r,i,o))+"</code>",y.subParser("hashHTMLSpans")(r,i,o)}),o.converter._dispatch("codeSpans.after",e,i,o)}),y.subParser("completeHTMLDocument",function(e,t,n){"use strict";if(!t.completeHTMLDocument)return e;e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var r,i="html",o="<!DOCTYPE HTML>\n",a="",s='<meta charset="utf-8">\n',l="",c="";for(r in void 0!==n.metadata.parsed.doctype&&(o="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(i=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==i||(s='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(r))switch(r.toLowerCase()){case"doctype":break;case"title":a="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":s="html"===i||"html5"===i?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":l=' lang="'+n.metadata.parsed[r]+'"',c+='<meta name="'+r+'" content="'+n.metadata.parsed[r]+'">\n';break;default:c+='<meta name="'+r+'" content="'+n.metadata.parsed[r]+'">\n'}return e=o+"<html"+l+">\n<head>\n"+a+s+c+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",n.converter._dispatch("completeHTMLDocument.after",e,t,n)}),y.subParser("detab",function(e,t,n){"use strict";return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"¨A¨B")).replace(/\xa8B(.+?)\xa8A/g,function(e,t){for(var n=t,r=4-n.length%4,i=0;i<r;i++)n+=" ";return n})).replace(/\xa8A/g,"    ")).replace(/\xa8B/g,""),n.converter._dispatch("detab.after",e,t,n)}),y.subParser("ellipsis",function(e,t,n){"use strict";return t.ellipsis?(e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,"…"),e=n.converter._dispatch("ellipsis.after",e,t,n)):e}),y.subParser("emoji",function(e,t,n){"use strict";return t.emoji?(e=(e=n.converter._dispatch("emoji.before",e,t,n)).replace(/:([\S]+?):/g,function(e,t){return y.helper.emojis.hasOwnProperty(t)?y.helper.emojis[t]:e}),n.converter._dispatch("emoji.after",e,t,n)):e}),y.subParser("encodeAmpsAndAngles",function(e,t,n){"use strict";return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)}),y.subParser("encodeBackslashEscapes",function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("encodeBackslashEscapes.before",e,t,n)).replace(/\\(\\)/g,y.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,y.helper.escapeCharactersCallback),n.converter._dispatch("encodeBackslashEscapes.after",e,t,n)}),y.subParser("encodeCode",function(e,t,n){"use strict";return e=(e=n.converter._dispatch("encodeCode.before",e,t,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,y.helper.escapeCharactersCallback),n.converter._dispatch("encodeCode.after",e,t,n)}),y.subParser("escapeSpecialCharsWithinTagAttributes",function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,n)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,y.helper.escapeCharactersCallback)})).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(e){return e.replace(/([\\`*_~=|])/g,y.helper.escapeCharactersCallback)}),n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,n)}),y.subParser("githubCodeBlocks",function(e,o,a){"use strict";return o.ghCodeBlocks?(e=a.converter._dispatch("githubCodeBlocks.before",e,o,a),e=(e=(e+="¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(e,t,n,r){var i=o.omitExtraWLInCodeBlocks?"":"\n";return r=y.subParser("encodeCode")(r,o,a),r="<pre><code"+(n?' class="'+n+" language-"+n+'"':"")+">"+(r=(r=(r=y.subParser("detab")(r,o,a)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+i+"</code></pre>",r=y.subParser("hashBlock")(r,o,a),"\n\n¨G"+(a.ghCodeBlocks.push({text:e,codeblock:r})-1)+"G\n\n"})).replace(/\xa80/,""),a.converter._dispatch("githubCodeBlocks.after",e,o,a)):e}),y.subParser("hashBlock",function(e,t,n){"use strict";return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\n¨K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",n.converter._dispatch("hashBlock.after",e,t,n)}),y.subParser("hashCodeTags",function(e,i,o){"use strict";return e=o.converter._dispatch("hashCodeTags.before",e,i,o),e=y.helper.replaceRecursiveRegExp(e,function(e,t,n,r){r=n+y.subParser("encodeCode")(t,i,o)+r;return"¨C"+(o.gHtmlSpans.push(r)-1)+"C"},"<code\\b[^>]*>","</code>","gim"),o.converter._dispatch("hashCodeTags.after",e,i,o)}),y.subParser("hashElement",function(e,t,n){"use strict";return function(e,t){t=(t=(t=(t=t).replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,"");return"\n\n¨K"+(n.gHtmlBlocks.push(t)-1)+"K\n\n"}}),y.subParser("hashHTMLBlocks",function(e,t,i){"use strict";e=i.converter._dispatch("hashHTMLBlocks.before",e,t,i);function n(e,t,n,r){return-1!==n.search(/\bmarkdown\b/)&&(e=n+i.converter.makeHtml(t)+r),"\n\n¨K"+(i.gHtmlBlocks.push(e)-1)+"K\n\n"}var r=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"];t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,function(e,t){return"&lt;"+t+"&gt;"}));for(var o=0;o<r.length;++o)for(var a=new RegExp("^ {0,3}(<"+r[o]+"\\b[^>]*>)","im"),s="<"+r[o]+"\\b[^>]*>",l="</"+r[o]+">";-1!==(u=y.helper.regexIndexOf(e,a));){var c=y.helper.splitAtIndex(e,u),u=y.helper.replaceRecursiveRegExp(c[1],n,s,l,"im");if(u===c[1])break;e=c[0].concat(u)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,y.subParser("hashElement")(e,t,i)),e=(e=y.helper.replaceRecursiveRegExp(e,function(e){return"\n\n¨K"+(i.gHtmlBlocks.push(e)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,y.subParser("hashElement")(e,t,i)),i.converter._dispatch("hashHTMLBlocks.after",e,t,i)}),y.subParser("hashHTMLSpans",function(e,t,n){"use strict";function r(e){return"¨C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,r)).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,r)).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,r)).replace(/<[^>]+?>/gi,r),n.converter._dispatch("hashHTMLSpans.after",e,t,n)}),y.subParser("unhashHTMLSpans",function(e,t,n){"use strict";e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var r=0;r<n.gHtmlSpans.length;++r){for(var i=n.gHtmlSpans[r],o=0;/\xa8C(\d+)C/.test(i);){var a=RegExp.$1,i=i.replace("¨C"+a+"C",n.gHtmlSpans[a]);if(10===o){console.error("maximum nesting of 10 spans reached!!!");break}++o}e=e.replace("¨C"+r+"C",i)}return n.converter._dispatch("unhashHTMLSpans.after",e,t,n)}),y.subParser("hashPreCodeTags",function(e,i,o){"use strict";return e=o.converter._dispatch("hashPreCodeTags.before",e,i,o),e=y.helper.replaceRecursiveRegExp(e,function(e,t,n,r){r=n+y.subParser("encodeCode")(t,i,o)+r;return"\n\n¨G"+(o.ghCodeBlocks.push({text:e,codeblock:r})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),o.converter._dispatch("hashPreCodeTags.after",e,i,o)}),y.subParser("headers",function(e,i,o){"use strict";e=o.converter._dispatch("headers.before",e,i,o);var a=isNaN(parseInt(i.headerLevelStart))?1:parseInt(i.headerLevelStart),t=i.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;function s(e){var t;return!i.customizedHeaderId||(t=e.match(/\{([^{]+?)}\s*$/))&&t[1]&&(e=t[1]),t=e,e=y.helper.isString(i.prefixHeaderId)?i.prefixHeaderId:!0===i.prefixHeaderId?"section-":"",i.rawPrefixHeaderId||(t=e+t),t=(i.ghCompatibleHeaderId?t.replace(/ /g,"-").replace(/&amp;/g,"").replace(/\xa8T/g,"").replace(/\xa8D/g,"").replace(/[&+$,\/:;=?@"#{}|^\xa8~\[\]`\\*)(%.!'<>]/g,""):i.rawHeaderId?t.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/\xa8T/g,"¨").replace(/\xa8D/g,"$").replace(/["']/g,"-"):t.replace(/[^\w]/g,"")).toLowerCase(),i.rawPrefixHeaderId&&(t=e+t),o.hashLinkCounts[t]?t=t+"-"+o.hashLinkCounts[t]++:o.hashLinkCounts[t]=1,t}return e=(e=(e=e.replace(i.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){var n=y.subParser("spanGamut")(t,i,o),t=i.noHeaderId?"":' id="'+s(t)+'"',n="<h"+a+t+">"+n+"</h"+a+">";return y.subParser("hashBlock")(n,i,o)})).replace(t,function(e,t){var n=y.subParser("spanGamut")(t,i,o),r=i.noHeaderId?"":' id="'+s(t)+'"',t=a+1,t="<h"+t+r+">"+n+"</h"+t+">";return y.subParser("hashBlock")(t,i,o)})).replace(i.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(e,t,n){var r=n;i.customizedHeaderId&&(r=n.replace(/\s?\{([^{]+?)}\s*$/,""));r=y.subParser("spanGamut")(r,i,o),n=i.noHeaderId?"":' id="'+s(n)+'"',t=a-1+t.length,t="<h"+t+n+">"+r+"</h"+t+">";return y.subParser("hashBlock")(t,i,o)}),o.converter._dispatch("headers.after",e,i,o)}),y.subParser("horizontalRule",function(e,t,n){"use strict";e=n.converter._dispatch("horizontalRule.before",e,t,n);var r=y.subParser("hashBlock")("<hr />",t,n);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,r),n.converter._dispatch("horizontalRule.after",e,t,n)}),y.subParser("images",function(e,t,h){"use strict";function l(e,t,n,r,i,o,a,s){var l=h.gUrls,c=h.gTitles,u=h.gDimensions;if(n=n.toLowerCase(),s=s||"",-1<e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))r="";else if(""===r||null===r){if(""!==n&&null!==n||(n=t.toLowerCase().replace(/ ?\n/g," ")),r="#"+n,y.helper.isUndefined(l[n]))return e;r=l[n],y.helper.isUndefined(c[n])||(s=c[n]),y.helper.isUndefined(u[n])||(i=u[n].width,o=u[n].height)}t=t.replace(/"/g,"&quot;").replace(y.helper.regexes.asteriskDashAndColon,y.helper.escapeCharactersCallback);t='<img src="'+(r=r.replace(y.helper.regexes.asteriskDashAndColon,y.helper.escapeCharactersCallback))+'" alt="'+t+'"';return s&&y.helper.isString(s)&&(t+=' title="'+(s=s.replace(/"/g,"&quot;").replace(y.helper.regexes.asteriskDashAndColon,y.helper.escapeCharactersCallback))+'"'),i&&o&&(t+=' width="'+(i="*"===i?"auto":i)+'"',t+=' height="'+(o="*"===o?"auto":o)+'"'),t+" />"}return e=(e=(e=(e=(e=(e=h.converter._dispatch("images.before",e,t,h)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,l)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function(e,t,n,r,i,o,a,s){return l(e,t,n,r=r.replace(/\s/g,""),i,o,0,s)})).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,l)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,l)).replace(/!\[([^\[\]]+)]()()()()()/g,l),h.converter._dispatch("images.after",e,t,h)}),y.subParser("italicsAndBold",function(e,t,n){"use strict";return e=n.converter._dispatch("italicsAndBold.before",e,t,n),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,function(e,t){return"<strong><em>"+t+"</em></strong>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(e,t){return"<strong>"+t+"</strong>"})).replace(/\b_(\S[\s\S]*?)_\b/g,function(e,t){return"<em>"+t+"</em>"}):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,function(e,t){return/\S$/.test(t)?"<strong><em>"+t+"</em></strong>":e})).replace(/__(\S[\s\S]*?)__/g,function(e,t){return/\S$/.test(t)?"<strong>"+t+"</strong>":e})).replace(/_([^\s_][\s\S]*?)_/g,function(e,t){return/\S$/.test(t)?"<em>"+t+"</em>":e}),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(e,t,n){return t+"<strong><em>"+n+"</em></strong>"})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(e,t,n){return t+"<strong>"+n+"</strong>"})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(e,t,n){return t+"<em>"+n+"</em>"}):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(e,t){return/\S$/.test(t)?"<strong><em>"+t+"</em></strong>":e})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(e,t){return/\S$/.test(t)?"<strong>"+t+"</strong>":e})).replace(/\*([^\s*][\s\S]*?)\*/g,function(e,t){return/\S$/.test(t)?"<em>"+t+"</em>":e}),n.converter._dispatch("italicsAndBold.after",e,t,n)}),y.subParser("lists",function(e,h,c){"use strict";function d(e,t){c.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80| {0,3}([*+-]|\d+[.])[ \t]+))/gm,l=/\n[ \t]*\n(?!\xa80)/.test(e+="¨0");return h.disableForced4SpacesIndentedSublists&&(n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(n,function(e,t,n,r,i,o,a){a=a&&""!==a.trim();var s=y.subParser("outdent")(i,h,c),i="";return o&&h.tasklists&&(i=' class="task-list-item" style="list-style-type: none;"',s=s.replace(/^[ \t]*\[(x|X| )?]/m,function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return a&&(e+=" checked"),e+">"})),s=s.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(e){return"¨A"+e}),"<li"+i+">"+(s=(s=t||-1<s.search(/\n{2,}/)?(s=y.subParser("githubCodeBlocks")(s,h,c),y.subParser("blockGamut")(s,h,c)):(s=(s=y.subParser("lists")(s,h,c)).replace(/\n$/,""),s=(s=y.subParser("hashHTMLBlocks")(s,h,c)).replace(/\n\n+/g,"\n\n"),(l?y.subParser("paragraphs"):y.subParser("spanGamut"))(s,h,c))).replace("¨A",""))+"</li>\n"})).replace(/\xa80/g,""),c.gListLevel--,t&&(e=e.replace(/\s+$/,"")),e}function f(e,t){if("ol"===t){e=e.match(/^ *(\d+)\./);if(e&&"1"!==e[1])return' start="'+e[1]+'"'}return""}function i(i,o,a){var e,s=h.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,l=h.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,c="ul"===o?s:l,u="";return-1!==i.search(c)?function e(t){var n=t.search(c),r=f(i,o);-1!==n?(u+="\n\n<"+o+r+">\n"+d(t.slice(0,n),!!a)+"</"+o+">\n",c="ul"==(o="ul"===o?"ol":"ul")?s:l,e(t.slice(n))):u+="\n\n<"+o+r+">\n"+d(t,!!a)+"</"+o+">\n"}(i):(e=f(i,o),u="\n\n<"+o+e+">\n"+d(i,!!a)+"</"+o+">\n"),u}return e=c.converter._dispatch("lists.before",e,h,c),e+="¨0",e=(e=c.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n){return i(t,-1<n.search(/[*+-]/g)?"ul":"ol",!0)}):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n,r){return i(n,-1<r.search(/[*+-]/g)?"ul":"ol",!1)})).replace(/\xa80/,""),c.converter._dispatch("lists.after",e,h,c)}),y.subParser("metadata",function(e,t,r){"use strict";return t.metadata?(e=(e=(e=(e=r.converter._dispatch("metadata.before",e,t,r)).replace(/^\s*\xab\xab\xab+(\S*?)\n([\s\S]+?)\n\xbb\xbb\xbb+\n/,function(e,t,n){return i(n),"¨M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(e,t,n){return t&&(r.metadata.format=t),i(n),"¨M"})).replace(/\xa8M/g,""),r.converter._dispatch("metadata.after",e,t,r)):e;function i(e){(e=(e=(r.metadata.raw=e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(e,t,n){return r.metadata.parsed[t]=n,""})}}),y.subParser("outdent",function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"¨0")).replace(/\xa80/g,""),n.converter._dispatch("outdent.after",e,t,n)}),y.subParser("paragraphs",function(e,t,n){"use strict";for(var r=(e=(e=(e=n.converter._dispatch("paragraphs.before",e,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),i=[],o=r.length,a=0;a<o;a++){var s=r[a];0<=s.search(/\xa8(K|G)(\d+)\1/g)?i.push(s):0<=s.search(/\S/)&&(s=(s=y.subParser("spanGamut")(s,t,n)).replace(/^([ \t]*)/g,"<p>"),i.push(s+="</p>"))}for(o=i.length,a=0;a<o;a++){for(var l="",c=i[a],u=!1;/\xa8(K|G)(\d+)\1/.test(c);){var h=RegExp.$1,d=RegExp.$2,l=(l="K"===h?n.gHtmlBlocks[d]:u?y.subParser("encodeCode")(n.ghCodeBlocks[d].text,t,n):n.ghCodeBlocks[d].codeblock).replace(/\$/g,"$$$$"),c=c.replace(/(\n\n)?\xa8(K|G)\d+\2(\n\n)?/,l);/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(c)&&(u=!0)}i[a]=c}return e=(e=(e=i.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",e,t,n)}),y.subParser("runExtension",function(e,t,n,r){"use strict";return e.filter?t=e.filter(t,r.converter,n):e.regex&&((n=e.regex)instanceof RegExp||(n=new RegExp(n,"g")),t=t.replace(n,e.replace)),t}),y.subParser("spanGamut",function(e,t,n){"use strict";return e=n.converter._dispatch("spanGamut.before",e,t,n),e=y.subParser("codeSpans")(e,t,n),e=y.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=y.subParser("encodeBackslashEscapes")(e,t,n),e=y.subParser("images")(e,t,n),e=y.subParser("anchors")(e,t,n),e=y.subParser("autoLinks")(e,t,n),e=y.subParser("simplifiedAutoLinks")(e,t,n),e=y.subParser("emoji")(e,t,n),e=y.subParser("underline")(e,t,n),e=y.subParser("italicsAndBold")(e,t,n),e=y.subParser("strikethrough")(e,t,n),e=y.subParser("ellipsis")(e,t,n),e=y.subParser("hashHTMLSpans")(e,t,n),e=y.subParser("encodeAmpsAndAngles")(e,t,n),t.simpleLineBreaks?/\n\n\xa8K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),n.converter._dispatch("spanGamut.after",e,t,n)}),y.subParser("strikethrough",function(e,n,r){"use strict";return n.strikethrough&&(e=(e=r.converter._dispatch("strikethrough.before",e,n,r)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(e,t){return t=t,n.simplifiedAutoLink&&(t=y.subParser("simplifiedAutoLinks")(t,n,r)),"<del>"+t+"</del>"}),e=r.converter._dispatch("strikethrough.after",e,n,r)),e}),y.subParser("stripLinkDefinitions",function(s,l,c){"use strict";function e(e,t,n,r,i,o,a){return t=t.toLowerCase(),s.toLowerCase().split(t).length-1<2?e:(c.gUrls[t]=n.match(/^data:.+?\/.+?;base64,/)?n.replace(/\s/g,""):y.subParser("encodeAmpsAndAngles")(n,l,c),o?o+a:(a&&(c.gTitles[t]=a.replace(/"|'/g,"&quot;")),l.parseImgDimensions&&r&&i&&(c.gDimensions[t]={width:r,height:i}),""))}return s=(s=(s=(s+="¨0").replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=\xa80)|(?=\n\[))/gm,e)).replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=\xa80))/gm,e)).replace(/\xa80/,"")}),y.subParser("tables",function(e,v,m){"use strict";return v.tables?(e=(e=(e=(e=m.converter._dispatch("tables.before",e,v,m)).replace(/\\(\|)/g,y.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|\xa80)/gm,t)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|\xa80)/gm,t),m.converter._dispatch("tables.after",e,v,m)):e;function t(e){for(var t=e.split("\n"),n=0;n<t.length;++n)/^ {0,3}\|/.test(t[n])&&(t[n]=t[n].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(t[n])&&(t[n]=t[n].replace(/\|[ \t]*$/,"")),t[n]=y.subParser("codeSpans")(t[n],v,m);var r,i,o,a,s,l=t[0].split("|").map(function(e){return e.trim()}),c=t[1].split("|").map(function(e){return e.trim()}),u=[],h=[],d=[],f=[];for(t.shift(),t.shift(),n=0;n<t.length;++n)""!==t[n].trim()&&u.push(t[n].split("|").map(function(e){return e.trim()}));if(l.length<c.length)return e;for(n=0;n<c.length;++n)d.push(/^:[ \t]*--*$/.test(r=c[n])?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(r)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(r)?' style="text-align:center;"':"");for(n=0;n<l.length;++n)y.helper.isUndefined(d[n])&&(d[n]=""),h.push((o=d[n],a=void 0,a="",i=(i=l[n]).trim(),(v.tablesHeaderId||v.tableHeaderId)&&(a=' id="'+i.replace(/ /g,"_").toLowerCase()+'"'),"<th"+a+o+">"+(i=y.subParser("spanGamut")(i,v,m))+"</th>\n"));for(n=0;n<u.length;++n){for(var p=[],g=0;g<h.length;++g)y.helper.isUndefined(u[n][g]),p.push((s=u[n][g],"<td"+d[g]+">"+y.subParser("spanGamut")(s,v,m)+"</td>\n"));f.push(p)}return function(e,t){for(var n="<table>\n<thead>\n<tr>\n",r=e.length,i=0;i<r;++i)n+=e[i];for(n+="</tr>\n</thead>\n<tbody>\n",i=0;i<t.length;++i){n+="<tr>\n";for(var o=0;o<r;++o)n+=t[i][o];n+="</tr>\n"}return n+"</tbody>\n</table>\n"}(h,f)}}),y.subParser("underline",function(e,t,n){"use strict";return t.underline?(e=n.converter._dispatch("underline.before",e,t,n),e=(e=t.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,function(e,t){return"<u>"+t+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(e,t){return"<u>"+t+"</u>"}):(e=e.replace(/___(\S[\s\S]*?)___/g,function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e})).replace(/__(\S[\s\S]*?)__/g,function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e})).replace(/(_)/g,y.helper.escapeCharactersCallback),e=n.converter._dispatch("underline.after",e,t,n)):e}),y.subParser("unescapeSpecialChars",function(e,t,n){"use strict";return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/\xa8E(\d+)E/g,function(e,t){t=parseInt(t);return String.fromCharCode(t)}),n.converter._dispatch("unescapeSpecialChars.after",e,t,n)}),y.subParser("makeMarkdown.blockquote",function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,i=r.length,o=0;o<i;++o){var a=y.subParser("makeMarkdown.node")(r[o],t);""!==a&&(n+=a)}return"> "+(n=n.trim()).split("\n").join("\n> ")}),y.subParser("makeMarkdown.codeBlock",function(e,t){"use strict";var n=e.getAttribute("language"),e=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[e]+"\n```"}),y.subParser("makeMarkdown.codeSpan",function(e){"use strict";return"`"+e.innerHTML+"`"}),y.subParser("makeMarkdown.emphasis",function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="*";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=y.subParser("makeMarkdown.node")(r[o],t);n+="*"}return n}),y.subParser("makeMarkdown.header",function(e,t,n){"use strict";var n=new Array(n+1).join("#"),r="";if(e.hasChildNodes()){r=n+" ";for(var i=e.childNodes,o=i.length,a=0;a<o;++a)r+=y.subParser("makeMarkdown.node")(i[a],t)}return r}),y.subParser("makeMarkdown.hr",function(){"use strict";return"---"}),y.subParser("makeMarkdown.image",function(e){"use strict";var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t}),y.subParser("makeMarkdown.links",function(e,t){"use strict";var n="";if(e.hasChildNodes()&&e.hasAttribute("href")){for(var r=e.childNodes,i=r.length,n="[",o=0;o<i;++o)n+=y.subParser("makeMarkdown.node")(r[o],t);n+="](",n+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(n+=' "'+e.getAttribute("title")+'"'),n+=")"}return n}),y.subParser("makeMarkdown.list",function(e,t,n){"use strict";var r="";if(!e.hasChildNodes())return"";for(var i=e.childNodes,o=i.length,a=e.getAttribute("start")||1,s=0;s<o;++s)void 0!==i[s].tagName&&"li"===i[s].tagName.toLowerCase()&&(r+=("ol"===n?a.toString()+". ":"- ")+y.subParser("makeMarkdown.listItem")(i[s],t),++a);return(r+="\n\x3c!-- --\x3e\n").trim()}),y.subParser("makeMarkdown.listItem",function(e,t){"use strict";for(var n="",r=e.childNodes,i=r.length,o=0;o<i;++o)n+=y.subParser("makeMarkdown.node")(r[o],t);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n}),y.subParser("makeMarkdown.node",function(e,t,n){"use strict";n=n||!1;var r="";if(3===e.nodeType)return y.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":n||(r=y.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":n||(r=y.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":n||(r=y.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":n||(r=y.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":n||(r=y.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":n||(r=y.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":n||(r=y.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":n||(r=y.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":n||(r=y.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":n||(r=y.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":n||(r=y.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":n||(r=y.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":n||(r=y.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":n||(r=y.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":r=y.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":r=y.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":r=y.subParser("makeMarkdown.strong")(e,t);break;case"del":r=y.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":r=y.subParser("makeMarkdown.links")(e,t);break;case"img":r=y.subParser("makeMarkdown.image")(e,t);break;default:r=e.outerHTML+"\n\n"}return r}),y.subParser("makeMarkdown.paragraph",function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=y.subParser("makeMarkdown.node")(r[o],t);return n.trim()}),y.subParser("makeMarkdown.pre",function(e,t){"use strict";e=e.getAttribute("prenum");return"<pre>"+t.preList[e]+"</pre>"}),y.subParser("makeMarkdown.strikethrough",function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="~~";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=y.subParser("makeMarkdown.node")(r[o],t);n+="~~"}return n}),y.subParser("makeMarkdown.strong",function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="**";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=y.subParser("makeMarkdown.node")(r[o],t);n+="**"}return n}),y.subParser("makeMarkdown.table",function(e,t){"use strict";for(var n="",r=[[],[]],i=e.querySelectorAll("thead>tr>th"),o=e.querySelectorAll("tbody>tr"),a=0;a<i.length;++a){var s=y.subParser("makeMarkdown.tableCell")(i[a],t),l="---";if(i[a].hasAttribute("style"))switch(i[a].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":l=":---";break;case"text-align:right;":l="---:";break;case"text-align:center;":l=":---:"}r[0][a]=s.trim(),r[1][a]=l}for(a=0;a<o.length;++a)for(var c=r.push([])-1,u=o[a].getElementsByTagName("td"),h=0;h<i.length;++h){var d=" ";void 0!==u[h]&&(d=y.subParser("makeMarkdown.tableCell")(u[h],t)),r[c].push(d)}var f=3;for(a=0;a<r.length;++a)for(h=0;h<r[a].length;++h){var p=r[a][h].length;f<p&&(f=p)}for(a=0;a<r.length;++a){for(h=0;h<r[a].length;++h)r[a][h]=1===a?":"===r[a][h].slice(-1)?y.helper.padEnd(r[a][h].slice(-1),f-1,"-")+":":y.helper.padEnd(r[a][h],f,"-"):y.helper.padEnd(r[a][h],f);n+="| "+r[a].join(" | ")+" |\n"}return n.trim()}),y.subParser("makeMarkdown.tableCell",function(e,t){"use strict";var n="";if(!e.hasChildNodes())return"";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=y.subParser("makeMarkdown.node")(r[o],t,!0);return n.trim()}),y.subParser("makeMarkdown.txt",function(e){"use strict";e=(e=(e=e.nodeValue).replace(/ +/g," ")).replace(/\xa8NBSP;/g," ");return(e=(e=(e=(e=(e=(e=(e=(e=y.helper.unescapeHTMLEntities(e)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}),void 0===(b=function(){"use strict";return y}.call(t,k,t,e))||(e.exports=b)}).call(this)},USe2:function(e){e.exports=JSON.parse('[{"language":"plaintext","label":"Plaintext"},{"language":"1c","label":"1C"},{"language":"abnf","label":"ABNF"},{"language":"armasm","label":"ARM assembler"},{"language":"avrasm","label":"AVR assembler"},{"language":"accesslog","label":"Access logs"},{"language":"actionscript","label":"ActionScript"},{"language":"ada","label":"Ada"},{"language":"angelscript","label":"AngelScript"},{"language":"apache","label":"Apache"},{"language":"applescript","label":"AppleScript"},{"language":"arcade","label":"Arcade"},{"language":"arduino","label":"Arduino (C++ w/Arduino libs)"},{"language":"asciidoc","label":"AsciiDoc"},{"language":"aspectj","label":"AspectJ"},{"language":"autohotkey","label":"AutoHotkey"},{"language":"autoit","label":"AutoIt"},{"language":"awk","label":"Awk"},{"language":"bnf","label":"BNF"},{"language":"bash","label":"Bash"},{"language":"basic","label":"Basic"},{"language":"brainfuck","label":"Brainfuck"},{"language":"c","label":"C"},{"language":"csharp","label":"C#"},{"language":"cpp","label":"C++"},{"language":"cal","label":"C/AL"},{"language":"cmake","label":"CMake"},{"language":"csp","label":"CSP"},{"language":"css","label":"CSS"},{"language":"cos","label":"Cache Object Script"},{"language":"capnproto","label":"Cap’n Proto"},{"language":"clojure","label":"Clojure"},{"language":"coffeescript","label":"CoffeeScript"},{"language":"coq","label":"Coq"},{"language":"crmsh","label":"Crmsh"},{"language":"crystal","label":"Crystal"},{"language":"d","label":"D"},{"language":"dns","label":"DNS Zone file"},{"language":"dos","label":"DOS"},{"language":"dts","label":"DTS (Device Tree)"},{"language":"dart","label":"Dart"},{"language":"delphi","label":"Delphi"},{"language":"diff","label":"Diff"},{"language":"django","label":"Django"},{"language":"dockerfile","label":"Dockerfile"},{"language":"dust","label":"Dust"},{"language":"ebnf","label":"EBNF"},{"language":"elixir","label":"Elixir"},{"language":"elm","label":"Elm"},{"language":"erlang","label":"Erlang"},{"language":"excel","label":"Excel"},{"language":"fsharp","label":"F#"},{"language":"fix","label":"FIX"},{"language":"fortran","label":"Fortran"},{"language":"gcode","label":"G-Code"},{"language":"gauss","label":"GAUSS"},{"language":"gams","label":"Gams"},{"language":"gherkin","label":"Gherkin"},{"language":"go","label":"Go"},{"language":"golo","label":"Golo"},{"language":"gradle","label":"Gradle"},{"language":"groovy","label":"Groovy"},{"language":"xml","label":"HTML, XML"},{"language":"http","label":"HTTP"},{"language":"haml","label":"Haml"},{"language":"handlebars","label":"Handlebars"},{"language":"haskell","label":"Haskell"},{"language":"haxe","label":"Haxe"},{"language":"hy","label":"Hy"},{"language":"irpf90","label":"IRPF90"},{"language":"inform7","label":"Inform7"},{"language":"ini","label":"Ini, TOML"},{"language":"json","label":"JSON"},{"language":"java","label":"Java"},{"language":"javascript","label":"JavaScript"},{"language":"julia","label":"Julia"},{"language":"kotlin","label":"Kotlin"},{"language":"ldif","label":"LDIF"},{"language":"tex","label":"LaTeX"},{"language":"lasso","label":"Lasso"},{"language":"leaf","label":"Leaf"},{"language":"less","label":"Less"},{"language":"lisp","label":"Lisp"},{"language":"livecodeserver","label":"LiveCode Server"},{"language":"livescript","label":"LiveScript"},{"language":"lua","label":"Lua"},{"language":"makefile","label":"Makefile"},{"language":"markdown","label":"Markdown"},{"language":"mathematica","label":"Mathematica"},{"language":"matlab","label":"Matlab"},{"language":"maxima","label":"Maxima"},{"language":"mel","label":"Maya Embedded Language"},{"language":"mercury","label":"Mercury"},{"language":"mizar","label":"Mizar"},{"language":"mojolicious","label":"Mojolicious"},{"language":"monkey","label":"Monkey"},{"language":"moonscript","label":"Moonscript"},{"language":"n1ql","label":"N1QL"},{"language":"nsis","label":"NSIS"},{"language":"nginx","label":"Nginx"},{"language":"nim","label":"Nim"},{"language":"nix","label":"Nix"},{"language":"ocaml","label":"OCaml"},{"language":"objectivec","label":"Objective C"},{"language":"glsl","label":"OpenGL Shading Language"},{"language":"openscad","label":"OpenSCAD"},{"language":"ruleslanguage","label":"Oracle Rules Language"},{"language":"oxygene","label":"Oxygene"},{"language":"pf","label":"PF"},{"language":"php","label":"PHP"},{"language":"parser3","label":"Parser3"},{"language":"perl","label":"Perl"},{"language":"pony","label":"Pony"},{"language":"pgsql","label":"PostgreSQL & PL/pgSQL"},{"language":"powershell","label":"PowerShell"},{"language":"processing","label":"Processing"},{"language":"prolog","label":"Prolog"},{"language":"properties","label":"Properties"},{"language":"protobuf","label":"Protocol Buffers"},{"language":"puppet","label":"Puppet"},{"language":"python","label":"Python"},{"language":"python-repl","label":"Python REPL"},{"language":"profile","label":"Python profiler results"},{"language":"k","label":"Q"},{"language":"qml","label":"QML"},{"language":"r","label":"R"},{"language":"reasonml","label":"ReasonML"},{"language":"rib","label":"RenderMan RIB"},{"language":"rsl","label":"RenderMan RSL"},{"language":"graph","label":"Roboconf"},{"language":"ruby","label":"Ruby"},{"language":"rust","label":"Rust"},{"language":"SAS","label":"SAS"},{"language":"scss","label":"SCSS"},{"language":"sml","label":"SML"},{"language":"sql","label":"SQL"},{"language":"p21","label":"STEP Part 21"},{"language":"scala","label":"Scala"},{"language":"scheme","label":"Scheme"},{"language":"scilab","label":"Scilab"},{"language":"shell","label":"Shell"},{"language":"smali","label":"Smali"},{"language":"smalltalk","label":"Smalltalk"},{"language":"stan","label":"Stan"},{"language":"stata","label":"Stata"},{"language":"stylus","label":"Stylus"},{"language":"subunit","label":"SubUnit"},{"language":"swift","label":"Swift"},{"language":"tp","label":"TP"},{"language":"tcl","label":"Tcl"},{"language":"tap","label":"Test Anything Protocol"},{"language":"thrift","label":"Thrift"},{"language":"twig","label":"Twig"},{"language":"typescript","label":"TypeScript"},{"language":"vbnet","label":"VB.Net"},{"language":"vbscript","label":"VBScript"},{"language":"vhdl","label":"VHDL"},{"language":"vala","label":"Vala"},{"language":"verilog","label":"Verilog"},{"language":"vim","label":"Vim Script"},{"language":"axapta","label":"X++"},{"language":"xl","label":"XL"},{"language":"xquery","label":"XQuery"},{"language":"yml","label":"YAML"},{"language":"zephir","label":"Zephir"},{"language":"dsconfig","label":"dsconfig"},{"language":"x86asm","label":"x86 Assembly"}]')},ek6d:function(e){e.exports=JSON.parse('{"api":"https://api.taiga.io/api/v1/","defaultLanguage":"en"}')},zbeE:function(e,t,n){function r(e,t){var n=this instanceof r?this:i;if(n.reset(t),"string"==typeof e&&0<e.length&&n.hash(e),n!==this)return n}var i;r.prototype.hash=function(e){var t,n,r,i,o;switch(this.len+=o=e.length,n=this.k1,r=0,this.rem){case 0:n^=r<o?65535&e.charCodeAt(r++):0;case 1:n^=r<o?(65535&e.charCodeAt(r++))<<8:0;case 2:n^=r<o?(65535&e.charCodeAt(r++))<<16:0;case 3:n^=r<o?(255&e.charCodeAt(r))<<24:0,n^=r<o?(65280&e.charCodeAt(r++))>>8:0}if(this.rem=o+this.rem&3,0<(o-=this.rem)){for(t=this.h1;t=5*(t=(t^=n=13715*(n=(n=11601*n+3432906752*(65535&n)&4294967295)<<15|n>>>17)+461832192*(65535&n)&4294967295)<<13|t>>>19)+3864292196&4294967295,!(o<=r);)n=65535&e.charCodeAt(r++)^(65535&e.charCodeAt(r++))<<8^(65535&e.charCodeAt(r++))<<16,n^=(255&(i=e.charCodeAt(r++)))<<24^(65280&i)>>8;switch(n=0,this.rem){case 3:n^=(65535&e.charCodeAt(r+2))<<16;case 2:n^=(65535&e.charCodeAt(r+1))<<8;case 1:n^=65535&e.charCodeAt(r)}this.h1=t}return this.k1=n,this},r.prototype.result=function(){var e,t=this.h1;return 0<(e=this.k1)&&(t^=13715*(e=(e=11601*e+3432906752*(65535&e)&4294967295)<<15|e>>>17)+461832192*(65535&e)&4294967295),t^=this.len,t=51819*(t^=t>>>16)+2246770688*(65535&t)&4294967295,t=44597*(t^=t>>>13)+3266445312*(65535&t)&4294967295,(t^=t>>>16)>>>0},r.prototype.reset=function(e){return this.h1="number"==typeof e?e:0,this.rem=this.k1=this.len=0,this},i=new r,e.exports=r},zn8P:function(e,t){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,(e.exports=n).id="zn8P"}},[[0,0]]])}();